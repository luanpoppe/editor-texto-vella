var TM=Object.defineProperty;var AM=(t,e,n)=>e in t?TM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ah=(t,e,n)=>AM(t,typeof e!="symbol"?e+"":e,n);function _M(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function qA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var yy={exports:{}},lc={},wy={exports:{}},ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZS;function RM(){if(ZS)return ot;ZS=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;function p(U){return U===null||typeof U!="object"?null:(U=h&&U[h]||U["@@iterator"],typeof U=="function"?U:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,y={};function x(U,O,ee){this.props=U,this.context=O,this.refs=y,this.updater=ee||m}x.prototype.isReactComponent={},x.prototype.setState=function(U,O){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,O,"setState")},x.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function v(){}v.prototype=x.prototype;function S(U,O,ee){this.props=U,this.context=O,this.refs=y,this.updater=ee||m}var k=S.prototype=new v;k.constructor=S,w(k,x.prototype),k.isPureReactComponent=!0;var E=Array.isArray,R=Object.prototype.hasOwnProperty,B={current:null},$={key:!0,ref:!0,__self:!0,__source:!0};function K(U,O,ee){var oe,ae={},re=null,P=null;if(O!=null)for(oe in O.ref!==void 0&&(P=O.ref),O.key!==void 0&&(re=""+O.key),O)R.call(O,oe)&&!$.hasOwnProperty(oe)&&(ae[oe]=O[oe]);var L=arguments.length-2;if(L===1)ae.children=ee;else if(1<L){for(var se=Array(L),te=0;te<L;te++)se[te]=arguments[te+2];ae.children=se}if(U&&U.defaultProps)for(oe in L=U.defaultProps,L)ae[oe]===void 0&&(ae[oe]=L[oe]);return{$$typeof:t,type:U,key:re,ref:P,props:ae,_owner:B.current}}function F(U,O){return{$$typeof:t,type:U.type,key:O,ref:U.ref,props:U.props,_owner:U._owner}}function ie(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function me(U){var O={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ee){return O[ee]})}var H=/\/+/g;function X(U,O){return typeof U=="object"&&U!==null&&U.key!=null?me(""+U.key):O.toString(36)}function N(U,O,ee,oe,ae){var re=typeof U;(re==="undefined"||re==="boolean")&&(U=null);var P=!1;if(U===null)P=!0;else switch(re){case"string":case"number":P=!0;break;case"object":switch(U.$$typeof){case t:case e:P=!0}}if(P)return P=U,ae=ae(P),U=oe===""?"."+X(P,0):oe,E(ae)?(ee="",U!=null&&(ee=U.replace(H,"$&/")+"/"),N(ae,O,ee,"",function(te){return te})):ae!=null&&(ie(ae)&&(ae=F(ae,ee+(!ae.key||P&&P.key===ae.key?"":(""+ae.key).replace(H,"$&/")+"/")+U)),O.push(ae)),1;if(P=0,oe=oe===""?".":oe+":",E(U))for(var L=0;L<U.length;L++){re=U[L];var se=oe+X(re,L);P+=N(re,O,ee,se,ae)}else if(se=p(U),typeof se=="function")for(U=se.call(U),L=0;!(re=U.next()).done;)re=re.value,se=oe+X(re,L++),P+=N(re,O,ee,se,ae);else if(re==="object")throw O=String(U),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.");return P}function Z(U,O,ee){if(U==null)return U;var oe=[],ae=0;return N(U,oe,"","",function(re){return O.call(ee,re,ae++)}),oe}function le(U){if(U._status===-1){var O=U._result;O=O(),O.then(function(ee){(U._status===0||U._status===-1)&&(U._status=1,U._result=ee)},function(ee){(U._status===0||U._status===-1)&&(U._status=2,U._result=ee)}),U._status===-1&&(U._status=0,U._result=O)}if(U._status===1)return U._result.default;throw U._result}var G={current:null},Y={transition:null},Q={ReactCurrentDispatcher:G,ReactCurrentBatchConfig:Y,ReactCurrentOwner:B};function fe(){throw Error("act(...) is not supported in production builds of React.")}return ot.Children={map:Z,forEach:function(U,O,ee){Z(U,function(){O.apply(this,arguments)},ee)},count:function(U){var O=0;return Z(U,function(){O++}),O},toArray:function(U){return Z(U,function(O){return O})||[]},only:function(U){if(!ie(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},ot.Component=x,ot.Fragment=n,ot.Profiler=i,ot.PureComponent=S,ot.StrictMode=r,ot.Suspense=u,ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q,ot.act=fe,ot.cloneElement=function(U,O,ee){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var oe=w({},U.props),ae=U.key,re=U.ref,P=U._owner;if(O!=null){if(O.ref!==void 0&&(re=O.ref,P=B.current),O.key!==void 0&&(ae=""+O.key),U.type&&U.type.defaultProps)var L=U.type.defaultProps;for(se in O)R.call(O,se)&&!$.hasOwnProperty(se)&&(oe[se]=O[se]===void 0&&L!==void 0?L[se]:O[se])}var se=arguments.length-2;if(se===1)oe.children=ee;else if(1<se){L=Array(se);for(var te=0;te<se;te++)L[te]=arguments[te+2];oe.children=L}return{$$typeof:t,type:U.type,key:ae,ref:re,props:oe,_owner:P}},ot.createContext=function(U){return U={$$typeof:o,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:s,_context:U},U.Consumer=U},ot.createElement=K,ot.createFactory=function(U){var O=K.bind(null,U);return O.type=U,O},ot.createRef=function(){return{current:null}},ot.forwardRef=function(U){return{$$typeof:a,render:U}},ot.isValidElement=ie,ot.lazy=function(U){return{$$typeof:d,_payload:{_status:-1,_result:U},_init:le}},ot.memo=function(U,O){return{$$typeof:c,type:U,compare:O===void 0?null:O}},ot.startTransition=function(U){var O=Y.transition;Y.transition={};try{U()}finally{Y.transition=O}},ot.unstable_act=fe,ot.useCallback=function(U,O){return G.current.useCallback(U,O)},ot.useContext=function(U){return G.current.useContext(U)},ot.useDebugValue=function(){},ot.useDeferredValue=function(U){return G.current.useDeferredValue(U)},ot.useEffect=function(U,O){return G.current.useEffect(U,O)},ot.useId=function(){return G.current.useId()},ot.useImperativeHandle=function(U,O,ee){return G.current.useImperativeHandle(U,O,ee)},ot.useInsertionEffect=function(U,O){return G.current.useInsertionEffect(U,O)},ot.useLayoutEffect=function(U,O){return G.current.useLayoutEffect(U,O)},ot.useMemo=function(U,O){return G.current.useMemo(U,O)},ot.useReducer=function(U,O,ee){return G.current.useReducer(U,O,ee)},ot.useRef=function(U){return G.current.useRef(U)},ot.useState=function(U){return G.current.useState(U)},ot.useSyncExternalStore=function(U,O,ee){return G.current.useSyncExternalStore(U,O,ee)},ot.useTransition=function(){return G.current.useTransition()},ot.version="18.3.1",ot}var JS;function c2(){return JS||(JS=1,wy.exports=RM()),wy.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QS;function NM(){if(QS)return lc;QS=1;var t=c2(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,u,c){var d,h={},p=null,m=null;c!==void 0&&(p=""+c),u.key!==void 0&&(p=""+u.key),u.ref!==void 0&&(m=u.ref);for(d in u)r.call(u,d)&&!s.hasOwnProperty(d)&&(h[d]=u[d]);if(a&&a.defaultProps)for(d in u=a.defaultProps,u)h[d]===void 0&&(h[d]=u[d]);return{$$typeof:e,type:a,key:p,ref:m,props:h,_owner:i.current}}return lc.Fragment=n,lc.jsx=o,lc.jsxs=o,lc}var ek;function OM(){return ek||(ek=1,yy.exports=NM()),yy.exports}var z=OM(),lh={},vy={exports:{}},or={},by={exports:{}},xy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tk;function IM(){return tk||(tk=1,function(t){function e(Y,Q){var fe=Y.length;Y.push(Q);e:for(;0<fe;){var U=fe-1>>>1,O=Y[U];if(0<i(O,Q))Y[U]=Q,Y[fe]=O,fe=U;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var Q=Y[0],fe=Y.pop();if(fe!==Q){Y[0]=fe;e:for(var U=0,O=Y.length,ee=O>>>1;U<ee;){var oe=2*(U+1)-1,ae=Y[oe],re=oe+1,P=Y[re];if(0>i(ae,fe))re<O&&0>i(P,ae)?(Y[U]=P,Y[re]=fe,U=re):(Y[U]=ae,Y[oe]=fe,U=oe);else if(re<O&&0>i(P,fe))Y[U]=P,Y[re]=fe,U=re;else break e}}return Q}function i(Y,Q){var fe=Y.sortIndex-Q.sortIndex;return fe!==0?fe:Y.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],d=1,h=null,p=3,m=!1,w=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(Y){for(var Q=n(c);Q!==null;){if(Q.callback===null)r(c);else if(Q.startTime<=Y)r(c),Q.sortIndex=Q.expirationTime,e(u,Q);else break;Q=n(c)}}function E(Y){if(y=!1,k(Y),!w)if(n(u)!==null)w=!0,le(R);else{var Q=n(c);Q!==null&&G(E,Q.startTime-Y)}}function R(Y,Q){w=!1,y&&(y=!1,v(K),K=-1),m=!0;var fe=p;try{for(k(Q),h=n(u);h!==null&&(!(h.expirationTime>Q)||Y&&!me());){var U=h.callback;if(typeof U=="function"){h.callback=null,p=h.priorityLevel;var O=U(h.expirationTime<=Q);Q=t.unstable_now(),typeof O=="function"?h.callback=O:h===n(u)&&r(u),k(Q)}else r(u);h=n(u)}if(h!==null)var ee=!0;else{var oe=n(c);oe!==null&&G(E,oe.startTime-Q),ee=!1}return ee}finally{h=null,p=fe,m=!1}}var B=!1,$=null,K=-1,F=5,ie=-1;function me(){return!(t.unstable_now()-ie<F)}function H(){if($!==null){var Y=t.unstable_now();ie=Y;var Q=!0;try{Q=$(!0,Y)}finally{Q?X():(B=!1,$=null)}}else B=!1}var X;if(typeof S=="function")X=function(){S(H)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Z=N.port2;N.port1.onmessage=H,X=function(){Z.postMessage(null)}}else X=function(){x(H,0)};function le(Y){$=Y,B||(B=!0,X())}function G(Y,Q){K=x(function(){Y(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){w||m||(w=!0,le(R))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(Y){switch(p){case 1:case 2:case 3:var Q=3;break;default:Q=p}var fe=p;p=Q;try{return Y()}finally{p=fe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,Q){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var fe=p;p=Y;try{return Q()}finally{p=fe}},t.unstable_scheduleCallback=function(Y,Q,fe){var U=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?U+fe:U):fe=U,Y){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=fe+O,Y={id:d++,callback:Q,priorityLevel:Y,startTime:fe,expirationTime:O,sortIndex:-1},fe>U?(Y.sortIndex=fe,e(c,Y),n(u)===null&&Y===n(c)&&(y?(v(K),K=-1):y=!0,G(E,fe-U))):(Y.sortIndex=O,e(u,Y),w||m||(w=!0,le(R))),Y},t.unstable_shouldYield=me,t.unstable_wrapCallback=function(Y){var Q=p;return function(){var fe=p;p=Q;try{return Y.apply(this,arguments)}finally{p=fe}}}}(xy)),xy}var nk;function MM(){return nk||(nk=1,by.exports=IM()),by.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rk;function DM(){if(rk)return or;rk=1;var t=c2(),e=MM();function n(l){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+l,g=1;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+l+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(l,f){o(l,f),o(l+"Capture",f)}function o(l,f){for(i[l]=f,l=0;l<f.length;l++)r.add(f[l])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},h={};function p(l){return u.call(h,l)?!0:u.call(d,l)?!1:c.test(l)?h[l]=!0:(d[l]=!0,!1)}function m(l,f,g,b){if(g!==null&&g.type===0)return!1;switch(typeof f){case"function":case"symbol":return!0;case"boolean":return b?!1:g!==null?!g.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function w(l,f,g,b){if(f===null||typeof f>"u"||m(l,f,g,b))return!0;if(b)return!1;if(g!==null)switch(g.type){case 3:return!f;case 4:return f===!1;case 5:return isNaN(f);case 6:return isNaN(f)||1>f}return!1}function y(l,f,g,b,_,I,W){this.acceptsBooleans=f===2||f===3||f===4,this.attributeName=b,this.attributeNamespace=_,this.mustUseProperty=g,this.propertyName=l,this.type=f,this.sanitizeURL=I,this.removeEmptyString=W}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){x[l]=new y(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var f=l[0];x[f]=new y(f,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){x[l]=new y(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){x[l]=new y(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){x[l]=new y(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){x[l]=new y(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){x[l]=new y(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){x[l]=new y(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){x[l]=new y(l,5,!1,l.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function S(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var f=l.replace(v,S);x[f]=new y(f,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var f=l.replace(v,S);x[f]=new y(f,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var f=l.replace(v,S);x[f]=new y(f,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){x[l]=new y(l,1,!1,l.toLowerCase(),null,!1,!1)}),x.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){x[l]=new y(l,1,!1,l.toLowerCase(),null,!0,!0)});function k(l,f,g,b){var _=x.hasOwnProperty(f)?x[f]:null;(_!==null?_.type!==0:b||!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(w(f,g,_,b)&&(g=null),b||_===null?p(f)&&(g===null?l.removeAttribute(f):l.setAttribute(f,""+g)):_.mustUseProperty?l[_.propertyName]=g===null?_.type===3?!1:"":g:(f=_.attributeName,b=_.attributeNamespace,g===null?l.removeAttribute(f):(_=_.type,g=_===3||_===4&&g===!0?"":""+g,b?l.setAttributeNS(b,f,g):l.setAttribute(f,g))))}var E=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),B=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),ie=Symbol.for("react.provider"),me=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),le=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),Y=Symbol.iterator;function Q(l){return l===null||typeof l!="object"?null:(l=Y&&l[Y]||l["@@iterator"],typeof l=="function"?l:null)}var fe=Object.assign,U;function O(l){if(U===void 0)try{throw Error()}catch(g){var f=g.stack.trim().match(/\n( *(at )?)/);U=f&&f[1]||""}return`
`+U+l}var ee=!1;function oe(l,f){if(!l||ee)return"";ee=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(Ee){var b=Ee}Reflect.construct(l,[],f)}else{try{f.call()}catch(Ee){b=Ee}l.call(f.prototype)}else{try{throw Error()}catch(Ee){b=Ee}l()}}catch(Ee){if(Ee&&b&&typeof Ee.stack=="string"){for(var _=Ee.stack.split(`
`),I=b.stack.split(`
`),W=_.length-1,ue=I.length-1;1<=W&&0<=ue&&_[W]!==I[ue];)ue--;for(;1<=W&&0<=ue;W--,ue--)if(_[W]!==I[ue]){if(W!==1||ue!==1)do if(W--,ue--,0>ue||_[W]!==I[ue]){var he=`
`+_[W].replace(" at new "," at ");return l.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",l.displayName)),he}while(1<=W&&0<=ue);break}}}finally{ee=!1,Error.prepareStackTrace=g}return(l=l?l.displayName||l.name:"")?O(l):""}function ae(l){switch(l.tag){case 5:return O(l.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return l=oe(l.type,!1),l;case 11:return l=oe(l.type.render,!1),l;case 1:return l=oe(l.type,!0),l;default:return""}}function re(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case $:return"Fragment";case B:return"Portal";case F:return"Profiler";case K:return"StrictMode";case X:return"Suspense";case N:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case me:return(l.displayName||"Context")+".Consumer";case ie:return(l._context.displayName||"Context")+".Provider";case H:var f=l.render;return l=l.displayName,l||(l=f.displayName||f.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case Z:return f=l.displayName||null,f!==null?f:re(l.type)||"Memo";case le:f=l._payload,l=l._init;try{return re(l(f))}catch{}}return null}function P(l){var f=l.type;switch(l.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=f.render,l=l.displayName||l.name||"",f.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return re(f);case 8:return f===K?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function L(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function se(l){var f=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function te(l){var f=se(l)?"checked":"value",g=Object.getOwnPropertyDescriptor(l.constructor.prototype,f),b=""+l[f];if(!l.hasOwnProperty(f)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var _=g.get,I=g.set;return Object.defineProperty(l,f,{configurable:!0,get:function(){return _.call(this)},set:function(W){b=""+W,I.call(this,W)}}),Object.defineProperty(l,f,{enumerable:g.enumerable}),{getValue:function(){return b},setValue:function(W){b=""+W},stopTracking:function(){l._valueTracker=null,delete l[f]}}}}function V(l){l._valueTracker||(l._valueTracker=te(l))}function q(l){if(!l)return!1;var f=l._valueTracker;if(!f)return!0;var g=f.getValue(),b="";return l&&(b=se(l)?l.checked?"true":"false":l.value),l=b,l!==g?(f.setValue(l),!0):!1}function de(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function M(l,f){var g=f.checked;return fe({},f,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??l._wrapperState.initialChecked})}function pe(l,f){var g=f.defaultValue==null?"":f.defaultValue,b=f.checked!=null?f.checked:f.defaultChecked;g=L(f.value!=null?f.value:g),l._wrapperState={initialChecked:b,initialValue:g,controlled:f.type==="checkbox"||f.type==="radio"?f.checked!=null:f.value!=null}}function j(l,f){f=f.checked,f!=null&&k(l,"checked",f,!1)}function C(l,f){j(l,f);var g=L(f.value),b=f.type;if(g!=null)b==="number"?(g===0&&l.value===""||l.value!=g)&&(l.value=""+g):l.value!==""+g&&(l.value=""+g);else if(b==="submit"||b==="reset"){l.removeAttribute("value");return}f.hasOwnProperty("value")?D(l,f.type,g):f.hasOwnProperty("defaultValue")&&D(l,f.type,L(f.defaultValue)),f.checked==null&&f.defaultChecked!=null&&(l.defaultChecked=!!f.defaultChecked)}function T(l,f,g){if(f.hasOwnProperty("value")||f.hasOwnProperty("defaultValue")){var b=f.type;if(!(b!=="submit"&&b!=="reset"||f.value!==void 0&&f.value!==null))return;f=""+l._wrapperState.initialValue,g||f===l.value||(l.value=f),l.defaultValue=f}g=l.name,g!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,g!==""&&(l.name=g)}function D(l,f,g){(f!=="number"||de(l.ownerDocument)!==l)&&(g==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+g&&(l.defaultValue=""+g))}var J=Array.isArray;function ce(l,f,g,b){if(l=l.options,f){f={};for(var _=0;_<g.length;_++)f["$"+g[_]]=!0;for(g=0;g<l.length;g++)_=f.hasOwnProperty("$"+l[g].value),l[g].selected!==_&&(l[g].selected=_),_&&b&&(l[g].defaultSelected=!0)}else{for(g=""+L(g),f=null,_=0;_<l.length;_++){if(l[_].value===g){l[_].selected=!0,b&&(l[_].defaultSelected=!0);return}f!==null||l[_].disabled||(f=l[_])}f!==null&&(f.selected=!0)}}function ne(l,f){if(f.dangerouslySetInnerHTML!=null)throw Error(n(91));return fe({},f,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function ye(l,f){var g=f.value;if(g==null){if(g=f.children,f=f.defaultValue,g!=null){if(f!=null)throw Error(n(92));if(J(g)){if(1<g.length)throw Error(n(93));g=g[0]}f=g}f==null&&(f=""),g=f}l._wrapperState={initialValue:L(g)}}function we(l,f){var g=L(f.value),b=L(f.defaultValue);g!=null&&(g=""+g,g!==l.value&&(l.value=g),f.defaultValue==null&&l.defaultValue!==g&&(l.defaultValue=g)),b!=null&&(l.defaultValue=""+b)}function xe(l){var f=l.textContent;f===l._wrapperState.initialValue&&f!==""&&f!==null&&(l.value=f)}function Te(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Me(l,f){return l==null||l==="http://www.w3.org/1999/xhtml"?Te(f):l==="http://www.w3.org/2000/svg"&&f==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var Ue,Tt=function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(f,g,b,_){MSApp.execUnsafeLocalFunction(function(){return l(f,g,b,_)})}:l}(function(l,f){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=f;else{for(Ue=Ue||document.createElement("div"),Ue.innerHTML="<svg>"+f.valueOf().toString()+"</svg>",f=Ue.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;f.firstChild;)l.appendChild(f.firstChild)}});function Bt(l,f){if(f){var g=l.firstChild;if(g&&g===l.lastChild&&g.nodeType===3){g.nodeValue=f;return}}l.textContent=f}var ct={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vn=["Webkit","ms","Moz","O"];Object.keys(ct).forEach(function(l){vn.forEach(function(f){f=f+l.charAt(0).toUpperCase()+l.substring(1),ct[f]=ct[l]})});function ft(l,f,g){return f==null||typeof f=="boolean"||f===""?"":g||typeof f!="number"||f===0||ct.hasOwnProperty(l)&&ct[l]?(""+f).trim():f+"px"}function ke(l,f){l=l.style;for(var g in f)if(f.hasOwnProperty(g)){var b=g.indexOf("--")===0,_=ft(g,f[g],b);g==="float"&&(g="cssFloat"),b?l.setProperty(g,_):l[g]=_}}var Fe=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function He(l,f){if(f){if(Fe[l]&&(f.children!=null||f.dangerouslySetInnerHTML!=null))throw Error(n(137,l));if(f.dangerouslySetInnerHTML!=null){if(f.children!=null)throw Error(n(60));if(typeof f.dangerouslySetInnerHTML!="object"||!("__html"in f.dangerouslySetInnerHTML))throw Error(n(61))}if(f.style!=null&&typeof f.style!="object")throw Error(n(62))}}function Ze(l,f){if(l.indexOf("-")===-1)return typeof f.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Je=null;function Lt(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Gt=null,sn=null,Vn=null;function Wn(l){if(l=qu(l)){if(typeof Gt!="function")throw Error(n(280));var f=l.stateNode;f&&(f=Ed(f),Gt(l.stateNode,l.type,f))}}function Ga(l){sn?Vn?Vn.push(l):Vn=[l]:sn=l}function Oo(){if(sn){var l=sn,f=Vn;if(Vn=sn=null,Wn(l),f)for(l=0;l<f.length;l++)Wn(f[l])}}function Bi(l,f){return l(f)}function Qf(){}var Io=!1;function Mo(l,f,g){if(Io)return l(f,g);Io=!0;try{return Bi(l,f,g)}finally{Io=!1,(sn!==null||Vn!==null)&&(Qf(),Oo())}}function Tu(l,f){var g=l.stateNode;if(g===null)return null;var b=Ed(g);if(b===null)return null;g=b[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(l=l.type,b=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!b;break e;default:l=!1}if(l)return null;if(g&&typeof g!="function")throw Error(n(231,f,typeof g));return g}var Lg=!1;if(a)try{var Au={};Object.defineProperty(Au,"passive",{get:function(){Lg=!0}}),window.addEventListener("test",Au,Au),window.removeEventListener("test",Au,Au)}catch{Lg=!1}function M9(l,f,g,b,_,I,W,ue,he){var Ee=Array.prototype.slice.call(arguments,3);try{f.apply(g,Ee)}catch(Ne){this.onError(Ne)}}var _u=!1,ed=null,td=!1,Pg=null,D9={onError:function(l){_u=!0,ed=l}};function L9(l,f,g,b,_,I,W,ue,he){_u=!1,ed=null,M9.apply(D9,arguments)}function P9(l,f,g,b,_,I,W,ue,he){if(L9.apply(this,arguments),_u){if(_u){var Ee=ed;_u=!1,ed=null}else throw Error(n(198));td||(td=!0,Pg=Ee)}}function Do(l){var f=l,g=l;if(l.alternate)for(;f.return;)f=f.return;else{l=f;do f=l,f.flags&4098&&(g=f.return),l=f.return;while(l)}return f.tag===3?g:null}function bE(l){if(l.tag===13){var f=l.memoizedState;if(f===null&&(l=l.alternate,l!==null&&(f=l.memoizedState)),f!==null)return f.dehydrated}return null}function xE(l){if(Do(l)!==l)throw Error(n(188))}function F9(l){var f=l.alternate;if(!f){if(f=Do(l),f===null)throw Error(n(188));return f!==l?null:l}for(var g=l,b=f;;){var _=g.return;if(_===null)break;var I=_.alternate;if(I===null){if(b=_.return,b!==null){g=b;continue}break}if(_.child===I.child){for(I=_.child;I;){if(I===g)return xE(_),l;if(I===b)return xE(_),f;I=I.sibling}throw Error(n(188))}if(g.return!==b.return)g=_,b=I;else{for(var W=!1,ue=_.child;ue;){if(ue===g){W=!0,g=_,b=I;break}if(ue===b){W=!0,b=_,g=I;break}ue=ue.sibling}if(!W){for(ue=I.child;ue;){if(ue===g){W=!0,g=I,b=_;break}if(ue===b){W=!0,b=I,g=_;break}ue=ue.sibling}if(!W)throw Error(n(189))}}if(g.alternate!==b)throw Error(n(190))}if(g.tag!==3)throw Error(n(188));return g.stateNode.current===g?l:f}function EE(l){return l=F9(l),l!==null?CE(l):null}function CE(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var f=CE(l);if(f!==null)return f;l=l.sibling}return null}var SE=e.unstable_scheduleCallback,kE=e.unstable_cancelCallback,B9=e.unstable_shouldYield,j9=e.unstable_requestPaint,Xt=e.unstable_now,H9=e.unstable_getCurrentPriorityLevel,Fg=e.unstable_ImmediatePriority,TE=e.unstable_UserBlockingPriority,nd=e.unstable_NormalPriority,$9=e.unstable_LowPriority,AE=e.unstable_IdlePriority,rd=null,mi=null;function z9(l){if(mi&&typeof mi.onCommitFiberRoot=="function")try{mi.onCommitFiberRoot(rd,l,void 0,(l.current.flags&128)===128)}catch{}}var Yr=Math.clz32?Math.clz32:W9,U9=Math.log,V9=Math.LN2;function W9(l){return l>>>=0,l===0?32:31-(U9(l)/V9|0)|0}var id=64,sd=4194304;function Ru(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function od(l,f){var g=l.pendingLanes;if(g===0)return 0;var b=0,_=l.suspendedLanes,I=l.pingedLanes,W=g&268435455;if(W!==0){var ue=W&~_;ue!==0?b=Ru(ue):(I&=W,I!==0&&(b=Ru(I)))}else W=g&~_,W!==0?b=Ru(W):I!==0&&(b=Ru(I));if(b===0)return 0;if(f!==0&&f!==b&&!(f&_)&&(_=b&-b,I=f&-f,_>=I||_===16&&(I&4194240)!==0))return f;if(b&4&&(b|=g&16),f=l.entangledLanes,f!==0)for(l=l.entanglements,f&=b;0<f;)g=31-Yr(f),_=1<<g,b|=l[g],f&=~_;return b}function K9(l,f){switch(l){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function q9(l,f){for(var g=l.suspendedLanes,b=l.pingedLanes,_=l.expirationTimes,I=l.pendingLanes;0<I;){var W=31-Yr(I),ue=1<<W,he=_[W];he===-1?(!(ue&g)||ue&b)&&(_[W]=K9(ue,f)):he<=f&&(l.expiredLanes|=ue),I&=~ue}}function Bg(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function _E(){var l=id;return id<<=1,!(id&4194240)&&(id=64),l}function jg(l){for(var f=[],g=0;31>g;g++)f.push(l);return f}function Nu(l,f,g){l.pendingLanes|=f,f!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,f=31-Yr(f),l[f]=g}function G9(l,f){var g=l.pendingLanes&~f;l.pendingLanes=f,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=f,l.mutableReadLanes&=f,l.entangledLanes&=f,f=l.entanglements;var b=l.eventTimes;for(l=l.expirationTimes;0<g;){var _=31-Yr(g),I=1<<_;f[_]=0,b[_]=-1,l[_]=-1,g&=~I}}function Hg(l,f){var g=l.entangledLanes|=f;for(l=l.entanglements;g;){var b=31-Yr(g),_=1<<b;_&f|l[b]&f&&(l[b]|=f),g&=~_}}var pt=0;function RE(l){return l&=-l,1<l?4<l?l&268435455?16:536870912:4:1}var NE,$g,OE,IE,ME,zg=!1,ad=[],Cs=null,Ss=null,ks=null,Ou=new Map,Iu=new Map,Ts=[],X9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function DE(l,f){switch(l){case"focusin":case"focusout":Cs=null;break;case"dragenter":case"dragleave":Ss=null;break;case"mouseover":case"mouseout":ks=null;break;case"pointerover":case"pointerout":Ou.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":Iu.delete(f.pointerId)}}function Mu(l,f,g,b,_,I){return l===null||l.nativeEvent!==I?(l={blockedOn:f,domEventName:g,eventSystemFlags:b,nativeEvent:I,targetContainers:[_]},f!==null&&(f=qu(f),f!==null&&$g(f)),l):(l.eventSystemFlags|=b,f=l.targetContainers,_!==null&&f.indexOf(_)===-1&&f.push(_),l)}function Y9(l,f,g,b,_){switch(f){case"focusin":return Cs=Mu(Cs,l,f,g,b,_),!0;case"dragenter":return Ss=Mu(Ss,l,f,g,b,_),!0;case"mouseover":return ks=Mu(ks,l,f,g,b,_),!0;case"pointerover":var I=_.pointerId;return Ou.set(I,Mu(Ou.get(I)||null,l,f,g,b,_)),!0;case"gotpointercapture":return I=_.pointerId,Iu.set(I,Mu(Iu.get(I)||null,l,f,g,b,_)),!0}return!1}function LE(l){var f=Lo(l.target);if(f!==null){var g=Do(f);if(g!==null){if(f=g.tag,f===13){if(f=bE(g),f!==null){l.blockedOn=f,ME(l.priority,function(){OE(g)});return}}else if(f===3&&g.stateNode.current.memoizedState.isDehydrated){l.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}l.blockedOn=null}function ld(l){if(l.blockedOn!==null)return!1;for(var f=l.targetContainers;0<f.length;){var g=Vg(l.domEventName,l.eventSystemFlags,f[0],l.nativeEvent);if(g===null){g=l.nativeEvent;var b=new g.constructor(g.type,g);Je=b,g.target.dispatchEvent(b),Je=null}else return f=qu(g),f!==null&&$g(f),l.blockedOn=g,!1;f.shift()}return!0}function PE(l,f,g){ld(l)&&g.delete(f)}function Z9(){zg=!1,Cs!==null&&ld(Cs)&&(Cs=null),Ss!==null&&ld(Ss)&&(Ss=null),ks!==null&&ld(ks)&&(ks=null),Ou.forEach(PE),Iu.forEach(PE)}function Du(l,f){l.blockedOn===f&&(l.blockedOn=null,zg||(zg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Z9)))}function Lu(l){function f(_){return Du(_,l)}if(0<ad.length){Du(ad[0],l);for(var g=1;g<ad.length;g++){var b=ad[g];b.blockedOn===l&&(b.blockedOn=null)}}for(Cs!==null&&Du(Cs,l),Ss!==null&&Du(Ss,l),ks!==null&&Du(ks,l),Ou.forEach(f),Iu.forEach(f),g=0;g<Ts.length;g++)b=Ts[g],b.blockedOn===l&&(b.blockedOn=null);for(;0<Ts.length&&(g=Ts[0],g.blockedOn===null);)LE(g),g.blockedOn===null&&Ts.shift()}var Xa=E.ReactCurrentBatchConfig,ud=!0;function J9(l,f,g,b){var _=pt,I=Xa.transition;Xa.transition=null;try{pt=1,Ug(l,f,g,b)}finally{pt=_,Xa.transition=I}}function Q9(l,f,g,b){var _=pt,I=Xa.transition;Xa.transition=null;try{pt=4,Ug(l,f,g,b)}finally{pt=_,Xa.transition=I}}function Ug(l,f,g,b){if(ud){var _=Vg(l,f,g,b);if(_===null)a1(l,f,b,cd,g),DE(l,b);else if(Y9(_,l,f,g,b))b.stopPropagation();else if(DE(l,b),f&4&&-1<X9.indexOf(l)){for(;_!==null;){var I=qu(_);if(I!==null&&NE(I),I=Vg(l,f,g,b),I===null&&a1(l,f,b,cd,g),I===_)break;_=I}_!==null&&b.stopPropagation()}else a1(l,f,b,null,g)}}var cd=null;function Vg(l,f,g,b){if(cd=null,l=Lt(b),l=Lo(l),l!==null)if(f=Do(l),f===null)l=null;else if(g=f.tag,g===13){if(l=bE(f),l!==null)return l;l=null}else if(g===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;l=null}else f!==l&&(l=null);return cd=l,null}function FE(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(H9()){case Fg:return 1;case TE:return 4;case nd:case $9:return 16;case AE:return 536870912;default:return 16}default:return 16}}var As=null,Wg=null,fd=null;function BE(){if(fd)return fd;var l,f=Wg,g=f.length,b,_="value"in As?As.value:As.textContent,I=_.length;for(l=0;l<g&&f[l]===_[l];l++);var W=g-l;for(b=1;b<=W&&f[g-b]===_[I-b];b++);return fd=_.slice(l,1<b?1-b:void 0)}function dd(l){var f=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&f===13&&(l=13)):l=f,l===10&&(l=13),32<=l||l===13?l:0}function hd(){return!0}function jE(){return!1}function br(l){function f(g,b,_,I,W){this._reactName=g,this._targetInst=_,this.type=b,this.nativeEvent=I,this.target=W,this.currentTarget=null;for(var ue in l)l.hasOwnProperty(ue)&&(g=l[ue],this[ue]=g?g(I):I[ue]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?hd:jE,this.isPropagationStopped=jE,this}return fe(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=hd)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=hd)},persist:function(){},isPersistent:hd}),f}var Ya={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kg=br(Ya),Pu=fe({},Ya,{view:0,detail:0}),eI=br(Pu),qg,Gg,Fu,pd=fe({},Pu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yg,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Fu&&(Fu&&l.type==="mousemove"?(qg=l.screenX-Fu.screenX,Gg=l.screenY-Fu.screenY):Gg=qg=0,Fu=l),qg)},movementY:function(l){return"movementY"in l?l.movementY:Gg}}),HE=br(pd),tI=fe({},pd,{dataTransfer:0}),nI=br(tI),rI=fe({},Pu,{relatedTarget:0}),Xg=br(rI),iI=fe({},Ya,{animationName:0,elapsedTime:0,pseudoElement:0}),sI=br(iI),oI=fe({},Ya,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),aI=br(oI),lI=fe({},Ya,{data:0}),$E=br(lI),uI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dI(l){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(l):(l=fI[l])?!!f[l]:!1}function Yg(){return dI}var hI=fe({},Pu,{key:function(l){if(l.key){var f=uI[l.key]||l.key;if(f!=="Unidentified")return f}return l.type==="keypress"?(l=dd(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?cI[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yg,charCode:function(l){return l.type==="keypress"?dd(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?dd(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),pI=br(hI),mI=fe({},pd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zE=br(mI),gI=fe({},Pu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yg}),yI=br(gI),wI=fe({},Ya,{propertyName:0,elapsedTime:0,pseudoElement:0}),vI=br(wI),bI=fe({},pd,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),xI=br(bI),EI=[9,13,27,32],Zg=a&&"CompositionEvent"in window,Bu=null;a&&"documentMode"in document&&(Bu=document.documentMode);var CI=a&&"TextEvent"in window&&!Bu,UE=a&&(!Zg||Bu&&8<Bu&&11>=Bu),VE=" ",WE=!1;function KE(l,f){switch(l){case"keyup":return EI.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qE(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Za=!1;function SI(l,f){switch(l){case"compositionend":return qE(f);case"keypress":return f.which!==32?null:(WE=!0,VE);case"textInput":return l=f.data,l===VE&&WE?null:l;default:return null}}function kI(l,f){if(Za)return l==="compositionend"||!Zg&&KE(l,f)?(l=BE(),fd=Wg=As=null,Za=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return UE&&f.locale!=="ko"?null:f.data;default:return null}}var TI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function GE(l){var f=l&&l.nodeName&&l.nodeName.toLowerCase();return f==="input"?!!TI[l.type]:f==="textarea"}function XE(l,f,g,b){Ga(b),f=vd(f,"onChange"),0<f.length&&(g=new Kg("onChange","change",null,g,b),l.push({event:g,listeners:f}))}var ju=null,Hu=null;function AI(l){hC(l,0)}function md(l){var f=nl(l);if(q(f))return l}function _I(l,f){if(l==="change")return f}var YE=!1;if(a){var Jg;if(a){var Qg="oninput"in document;if(!Qg){var ZE=document.createElement("div");ZE.setAttribute("oninput","return;"),Qg=typeof ZE.oninput=="function"}Jg=Qg}else Jg=!1;YE=Jg&&(!document.documentMode||9<document.documentMode)}function JE(){ju&&(ju.detachEvent("onpropertychange",QE),Hu=ju=null)}function QE(l){if(l.propertyName==="value"&&md(Hu)){var f=[];XE(f,Hu,l,Lt(l)),Mo(AI,f)}}function RI(l,f,g){l==="focusin"?(JE(),ju=f,Hu=g,ju.attachEvent("onpropertychange",QE)):l==="focusout"&&JE()}function NI(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return md(Hu)}function OI(l,f){if(l==="click")return md(f)}function II(l,f){if(l==="input"||l==="change")return md(f)}function MI(l,f){return l===f&&(l!==0||1/l===1/f)||l!==l&&f!==f}var Zr=typeof Object.is=="function"?Object.is:MI;function $u(l,f){if(Zr(l,f))return!0;if(typeof l!="object"||l===null||typeof f!="object"||f===null)return!1;var g=Object.keys(l),b=Object.keys(f);if(g.length!==b.length)return!1;for(b=0;b<g.length;b++){var _=g[b];if(!u.call(f,_)||!Zr(l[_],f[_]))return!1}return!0}function eC(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function tC(l,f){var g=eC(l);l=0;for(var b;g;){if(g.nodeType===3){if(b=l+g.textContent.length,l<=f&&b>=f)return{node:g,offset:f-l};l=b}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=eC(g)}}function nC(l,f){return l&&f?l===f?!0:l&&l.nodeType===3?!1:f&&f.nodeType===3?nC(l,f.parentNode):"contains"in l?l.contains(f):l.compareDocumentPosition?!!(l.compareDocumentPosition(f)&16):!1:!1}function rC(){for(var l=window,f=de();f instanceof l.HTMLIFrameElement;){try{var g=typeof f.contentWindow.location.href=="string"}catch{g=!1}if(g)l=f.contentWindow;else break;f=de(l.document)}return f}function e1(l){var f=l&&l.nodeName&&l.nodeName.toLowerCase();return f&&(f==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||f==="textarea"||l.contentEditable==="true")}function DI(l){var f=rC(),g=l.focusedElem,b=l.selectionRange;if(f!==g&&g&&g.ownerDocument&&nC(g.ownerDocument.documentElement,g)){if(b!==null&&e1(g)){if(f=b.start,l=b.end,l===void 0&&(l=f),"selectionStart"in g)g.selectionStart=f,g.selectionEnd=Math.min(l,g.value.length);else if(l=(f=g.ownerDocument||document)&&f.defaultView||window,l.getSelection){l=l.getSelection();var _=g.textContent.length,I=Math.min(b.start,_);b=b.end===void 0?I:Math.min(b.end,_),!l.extend&&I>b&&(_=b,b=I,I=_),_=tC(g,I);var W=tC(g,b);_&&W&&(l.rangeCount!==1||l.anchorNode!==_.node||l.anchorOffset!==_.offset||l.focusNode!==W.node||l.focusOffset!==W.offset)&&(f=f.createRange(),f.setStart(_.node,_.offset),l.removeAllRanges(),I>b?(l.addRange(f),l.extend(W.node,W.offset)):(f.setEnd(W.node,W.offset),l.addRange(f)))}}for(f=[],l=g;l=l.parentNode;)l.nodeType===1&&f.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<f.length;g++)l=f[g],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var LI=a&&"documentMode"in document&&11>=document.documentMode,Ja=null,t1=null,zu=null,n1=!1;function iC(l,f,g){var b=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;n1||Ja==null||Ja!==de(b)||(b=Ja,"selectionStart"in b&&e1(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),zu&&$u(zu,b)||(zu=b,b=vd(t1,"onSelect"),0<b.length&&(f=new Kg("onSelect","select",null,f,g),l.push({event:f,listeners:b}),f.target=Ja)))}function gd(l,f){var g={};return g[l.toLowerCase()]=f.toLowerCase(),g["Webkit"+l]="webkit"+f,g["Moz"+l]="moz"+f,g}var Qa={animationend:gd("Animation","AnimationEnd"),animationiteration:gd("Animation","AnimationIteration"),animationstart:gd("Animation","AnimationStart"),transitionend:gd("Transition","TransitionEnd")},r1={},sC={};a&&(sC=document.createElement("div").style,"AnimationEvent"in window||(delete Qa.animationend.animation,delete Qa.animationiteration.animation,delete Qa.animationstart.animation),"TransitionEvent"in window||delete Qa.transitionend.transition);function yd(l){if(r1[l])return r1[l];if(!Qa[l])return l;var f=Qa[l],g;for(g in f)if(f.hasOwnProperty(g)&&g in sC)return r1[l]=f[g];return l}var oC=yd("animationend"),aC=yd("animationiteration"),lC=yd("animationstart"),uC=yd("transitionend"),cC=new Map,fC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _s(l,f){cC.set(l,f),s(f,[l])}for(var i1=0;i1<fC.length;i1++){var s1=fC[i1],PI=s1.toLowerCase(),FI=s1[0].toUpperCase()+s1.slice(1);_s(PI,"on"+FI)}_s(oC,"onAnimationEnd"),_s(aC,"onAnimationIteration"),_s(lC,"onAnimationStart"),_s("dblclick","onDoubleClick"),_s("focusin","onFocus"),_s("focusout","onBlur"),_s(uC,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Uu));function dC(l,f,g){var b=l.type||"unknown-event";l.currentTarget=g,P9(b,f,void 0,l),l.currentTarget=null}function hC(l,f){f=(f&4)!==0;for(var g=0;g<l.length;g++){var b=l[g],_=b.event;b=b.listeners;e:{var I=void 0;if(f)for(var W=b.length-1;0<=W;W--){var ue=b[W],he=ue.instance,Ee=ue.currentTarget;if(ue=ue.listener,he!==I&&_.isPropagationStopped())break e;dC(_,ue,Ee),I=he}else for(W=0;W<b.length;W++){if(ue=b[W],he=ue.instance,Ee=ue.currentTarget,ue=ue.listener,he!==I&&_.isPropagationStopped())break e;dC(_,ue,Ee),I=he}}}if(td)throw l=Pg,td=!1,Pg=null,l}function At(l,f){var g=f[h1];g===void 0&&(g=f[h1]=new Set);var b=l+"__bubble";g.has(b)||(pC(f,l,2,!1),g.add(b))}function o1(l,f,g){var b=0;f&&(b|=4),pC(g,l,b,f)}var wd="_reactListening"+Math.random().toString(36).slice(2);function Vu(l){if(!l[wd]){l[wd]=!0,r.forEach(function(g){g!=="selectionchange"&&(BI.has(g)||o1(g,!1,l),o1(g,!0,l))});var f=l.nodeType===9?l:l.ownerDocument;f===null||f[wd]||(f[wd]=!0,o1("selectionchange",!1,f))}}function pC(l,f,g,b){switch(FE(f)){case 1:var _=J9;break;case 4:_=Q9;break;default:_=Ug}g=_.bind(null,f,g,l),_=void 0,!Lg||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(_=!0),b?_!==void 0?l.addEventListener(f,g,{capture:!0,passive:_}):l.addEventListener(f,g,!0):_!==void 0?l.addEventListener(f,g,{passive:_}):l.addEventListener(f,g,!1)}function a1(l,f,g,b,_){var I=b;if(!(f&1)&&!(f&2)&&b!==null)e:for(;;){if(b===null)return;var W=b.tag;if(W===3||W===4){var ue=b.stateNode.containerInfo;if(ue===_||ue.nodeType===8&&ue.parentNode===_)break;if(W===4)for(W=b.return;W!==null;){var he=W.tag;if((he===3||he===4)&&(he=W.stateNode.containerInfo,he===_||he.nodeType===8&&he.parentNode===_))return;W=W.return}for(;ue!==null;){if(W=Lo(ue),W===null)return;if(he=W.tag,he===5||he===6){b=I=W;continue e}ue=ue.parentNode}}b=b.return}Mo(function(){var Ee=I,Ne=Lt(g),Oe=[];e:{var Re=cC.get(l);if(Re!==void 0){var Pe=Kg,$e=l;switch(l){case"keypress":if(dd(g)===0)break e;case"keydown":case"keyup":Pe=pI;break;case"focusin":$e="focus",Pe=Xg;break;case"focusout":$e="blur",Pe=Xg;break;case"beforeblur":case"afterblur":Pe=Xg;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=HE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=nI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=yI;break;case oC:case aC:case lC:Pe=sI;break;case uC:Pe=vI;break;case"scroll":Pe=eI;break;case"wheel":Pe=xI;break;case"copy":case"cut":case"paste":Pe=aI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=zE}var Ve=(f&4)!==0,Yt=!Ve&&l==="scroll",ve=Ve?Re!==null?Re+"Capture":null:Re;Ve=[];for(var ge=Ee,be;ge!==null;){be=ge;var De=be.stateNode;if(be.tag===5&&De!==null&&(be=De,ve!==null&&(De=Tu(ge,ve),De!=null&&Ve.push(Wu(ge,De,be)))),Yt)break;ge=ge.return}0<Ve.length&&(Re=new Pe(Re,$e,null,g,Ne),Oe.push({event:Re,listeners:Ve}))}}if(!(f&7)){e:{if(Re=l==="mouseover"||l==="pointerover",Pe=l==="mouseout"||l==="pointerout",Re&&g!==Je&&($e=g.relatedTarget||g.fromElement)&&(Lo($e)||$e[ji]))break e;if((Pe||Re)&&(Re=Ne.window===Ne?Ne:(Re=Ne.ownerDocument)?Re.defaultView||Re.parentWindow:window,Pe?($e=g.relatedTarget||g.toElement,Pe=Ee,$e=$e?Lo($e):null,$e!==null&&(Yt=Do($e),$e!==Yt||$e.tag!==5&&$e.tag!==6)&&($e=null)):(Pe=null,$e=Ee),Pe!==$e)){if(Ve=HE,De="onMouseLeave",ve="onMouseEnter",ge="mouse",(l==="pointerout"||l==="pointerover")&&(Ve=zE,De="onPointerLeave",ve="onPointerEnter",ge="pointer"),Yt=Pe==null?Re:nl(Pe),be=$e==null?Re:nl($e),Re=new Ve(De,ge+"leave",Pe,g,Ne),Re.target=Yt,Re.relatedTarget=be,De=null,Lo(Ne)===Ee&&(Ve=new Ve(ve,ge+"enter",$e,g,Ne),Ve.target=be,Ve.relatedTarget=Yt,De=Ve),Yt=De,Pe&&$e)t:{for(Ve=Pe,ve=$e,ge=0,be=Ve;be;be=el(be))ge++;for(be=0,De=ve;De;De=el(De))be++;for(;0<ge-be;)Ve=el(Ve),ge--;for(;0<be-ge;)ve=el(ve),be--;for(;ge--;){if(Ve===ve||ve!==null&&Ve===ve.alternate)break t;Ve=el(Ve),ve=el(ve)}Ve=null}else Ve=null;Pe!==null&&mC(Oe,Re,Pe,Ve,!1),$e!==null&&Yt!==null&&mC(Oe,Yt,$e,Ve,!0)}}e:{if(Re=Ee?nl(Ee):window,Pe=Re.nodeName&&Re.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&Re.type==="file")var We=_I;else if(GE(Re))if(YE)We=II;else{We=NI;var qe=RI}else(Pe=Re.nodeName)&&Pe.toLowerCase()==="input"&&(Re.type==="checkbox"||Re.type==="radio")&&(We=OI);if(We&&(We=We(l,Ee))){XE(Oe,We,g,Ne);break e}qe&&qe(l,Re,Ee),l==="focusout"&&(qe=Re._wrapperState)&&qe.controlled&&Re.type==="number"&&D(Re,"number",Re.value)}switch(qe=Ee?nl(Ee):window,l){case"focusin":(GE(qe)||qe.contentEditable==="true")&&(Ja=qe,t1=Ee,zu=null);break;case"focusout":zu=t1=Ja=null;break;case"mousedown":n1=!0;break;case"contextmenu":case"mouseup":case"dragend":n1=!1,iC(Oe,g,Ne);break;case"selectionchange":if(LI)break;case"keydown":case"keyup":iC(Oe,g,Ne)}var Ge;if(Zg)e:{switch(l){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else Za?KE(l,g)&&(Xe="onCompositionEnd"):l==="keydown"&&g.keyCode===229&&(Xe="onCompositionStart");Xe&&(UE&&g.locale!=="ko"&&(Za||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&Za&&(Ge=BE()):(As=Ne,Wg="value"in As?As.value:As.textContent,Za=!0)),qe=vd(Ee,Xe),0<qe.length&&(Xe=new $E(Xe,l,null,g,Ne),Oe.push({event:Xe,listeners:qe}),Ge?Xe.data=Ge:(Ge=qE(g),Ge!==null&&(Xe.data=Ge)))),(Ge=CI?SI(l,g):kI(l,g))&&(Ee=vd(Ee,"onBeforeInput"),0<Ee.length&&(Ne=new $E("onBeforeInput","beforeinput",null,g,Ne),Oe.push({event:Ne,listeners:Ee}),Ne.data=Ge))}hC(Oe,f)})}function Wu(l,f,g){return{instance:l,listener:f,currentTarget:g}}function vd(l,f){for(var g=f+"Capture",b=[];l!==null;){var _=l,I=_.stateNode;_.tag===5&&I!==null&&(_=I,I=Tu(l,g),I!=null&&b.unshift(Wu(l,I,_)),I=Tu(l,f),I!=null&&b.push(Wu(l,I,_))),l=l.return}return b}function el(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function mC(l,f,g,b,_){for(var I=f._reactName,W=[];g!==null&&g!==b;){var ue=g,he=ue.alternate,Ee=ue.stateNode;if(he!==null&&he===b)break;ue.tag===5&&Ee!==null&&(ue=Ee,_?(he=Tu(g,I),he!=null&&W.unshift(Wu(g,he,ue))):_||(he=Tu(g,I),he!=null&&W.push(Wu(g,he,ue)))),g=g.return}W.length!==0&&l.push({event:f,listeners:W})}var jI=/\r\n?/g,HI=/\u0000|\uFFFD/g;function gC(l){return(typeof l=="string"?l:""+l).replace(jI,`
`).replace(HI,"")}function bd(l,f,g){if(f=gC(f),gC(l)!==f&&g)throw Error(n(425))}function xd(){}var l1=null,u1=null;function c1(l,f){return l==="textarea"||l==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var f1=typeof setTimeout=="function"?setTimeout:void 0,$I=typeof clearTimeout=="function"?clearTimeout:void 0,yC=typeof Promise=="function"?Promise:void 0,zI=typeof queueMicrotask=="function"?queueMicrotask:typeof yC<"u"?function(l){return yC.resolve(null).then(l).catch(UI)}:f1;function UI(l){setTimeout(function(){throw l})}function d1(l,f){var g=f,b=0;do{var _=g.nextSibling;if(l.removeChild(g),_&&_.nodeType===8)if(g=_.data,g==="/$"){if(b===0){l.removeChild(_),Lu(f);return}b--}else g!=="$"&&g!=="$?"&&g!=="$!"||b++;g=_}while(g);Lu(f)}function Rs(l){for(;l!=null;l=l.nextSibling){var f=l.nodeType;if(f===1||f===3)break;if(f===8){if(f=l.data,f==="$"||f==="$!"||f==="$?")break;if(f==="/$")return null}}return l}function wC(l){l=l.previousSibling;for(var f=0;l;){if(l.nodeType===8){var g=l.data;if(g==="$"||g==="$!"||g==="$?"){if(f===0)return l;f--}else g==="/$"&&f++}l=l.previousSibling}return null}var tl=Math.random().toString(36).slice(2),gi="__reactFiber$"+tl,Ku="__reactProps$"+tl,ji="__reactContainer$"+tl,h1="__reactEvents$"+tl,VI="__reactListeners$"+tl,WI="__reactHandles$"+tl;function Lo(l){var f=l[gi];if(f)return f;for(var g=l.parentNode;g;){if(f=g[ji]||g[gi]){if(g=f.alternate,f.child!==null||g!==null&&g.child!==null)for(l=wC(l);l!==null;){if(g=l[gi])return g;l=wC(l)}return f}l=g,g=l.parentNode}return null}function qu(l){return l=l[gi]||l[ji],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function nl(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(n(33))}function Ed(l){return l[Ku]||null}var p1=[],rl=-1;function Ns(l){return{current:l}}function _t(l){0>rl||(l.current=p1[rl],p1[rl]=null,rl--)}function Et(l,f){rl++,p1[rl]=l.current,l.current=f}var Os={},On=Ns(Os),tr=Ns(!1),Po=Os;function il(l,f){var g=l.type.contextTypes;if(!g)return Os;var b=l.stateNode;if(b&&b.__reactInternalMemoizedUnmaskedChildContext===f)return b.__reactInternalMemoizedMaskedChildContext;var _={},I;for(I in g)_[I]=f[I];return b&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=f,l.__reactInternalMemoizedMaskedChildContext=_),_}function nr(l){return l=l.childContextTypes,l!=null}function Cd(){_t(tr),_t(On)}function vC(l,f,g){if(On.current!==Os)throw Error(n(168));Et(On,f),Et(tr,g)}function bC(l,f,g){var b=l.stateNode;if(f=f.childContextTypes,typeof b.getChildContext!="function")return g;b=b.getChildContext();for(var _ in b)if(!(_ in f))throw Error(n(108,P(l)||"Unknown",_));return fe({},g,b)}function Sd(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||Os,Po=On.current,Et(On,l),Et(tr,tr.current),!0}function xC(l,f,g){var b=l.stateNode;if(!b)throw Error(n(169));g?(l=bC(l,f,Po),b.__reactInternalMemoizedMergedChildContext=l,_t(tr),_t(On),Et(On,l)):_t(tr),Et(tr,g)}var Hi=null,kd=!1,m1=!1;function EC(l){Hi===null?Hi=[l]:Hi.push(l)}function KI(l){kd=!0,EC(l)}function Is(){if(!m1&&Hi!==null){m1=!0;var l=0,f=pt;try{var g=Hi;for(pt=1;l<g.length;l++){var b=g[l];do b=b(!0);while(b!==null)}Hi=null,kd=!1}catch(_){throw Hi!==null&&(Hi=Hi.slice(l+1)),SE(Fg,Is),_}finally{pt=f,m1=!1}}return null}var sl=[],ol=0,Td=null,Ad=0,Nr=[],Or=0,Fo=null,$i=1,zi="";function Bo(l,f){sl[ol++]=Ad,sl[ol++]=Td,Td=l,Ad=f}function CC(l,f,g){Nr[Or++]=$i,Nr[Or++]=zi,Nr[Or++]=Fo,Fo=l;var b=$i;l=zi;var _=32-Yr(b)-1;b&=~(1<<_),g+=1;var I=32-Yr(f)+_;if(30<I){var W=_-_%5;I=(b&(1<<W)-1).toString(32),b>>=W,_-=W,$i=1<<32-Yr(f)+_|g<<_|b,zi=I+l}else $i=1<<I|g<<_|b,zi=l}function g1(l){l.return!==null&&(Bo(l,1),CC(l,1,0))}function y1(l){for(;l===Td;)Td=sl[--ol],sl[ol]=null,Ad=sl[--ol],sl[ol]=null;for(;l===Fo;)Fo=Nr[--Or],Nr[Or]=null,zi=Nr[--Or],Nr[Or]=null,$i=Nr[--Or],Nr[Or]=null}var xr=null,Er=null,It=!1,Jr=null;function SC(l,f){var g=Lr(5,null,null,0);g.elementType="DELETED",g.stateNode=f,g.return=l,f=l.deletions,f===null?(l.deletions=[g],l.flags|=16):f.push(g)}function kC(l,f){switch(l.tag){case 5:var g=l.type;return f=f.nodeType!==1||g.toLowerCase()!==f.nodeName.toLowerCase()?null:f,f!==null?(l.stateNode=f,xr=l,Er=Rs(f.firstChild),!0):!1;case 6:return f=l.pendingProps===""||f.nodeType!==3?null:f,f!==null?(l.stateNode=f,xr=l,Er=null,!0):!1;case 13:return f=f.nodeType!==8?null:f,f!==null?(g=Fo!==null?{id:$i,overflow:zi}:null,l.memoizedState={dehydrated:f,treeContext:g,retryLane:1073741824},g=Lr(18,null,null,0),g.stateNode=f,g.return=l,l.child=g,xr=l,Er=null,!0):!1;default:return!1}}function w1(l){return(l.mode&1)!==0&&(l.flags&128)===0}function v1(l){if(It){var f=Er;if(f){var g=f;if(!kC(l,f)){if(w1(l))throw Error(n(418));f=Rs(g.nextSibling);var b=xr;f&&kC(l,f)?SC(b,g):(l.flags=l.flags&-4097|2,It=!1,xr=l)}}else{if(w1(l))throw Error(n(418));l.flags=l.flags&-4097|2,It=!1,xr=l}}}function TC(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;xr=l}function _d(l){if(l!==xr)return!1;if(!It)return TC(l),It=!0,!1;var f;if((f=l.tag!==3)&&!(f=l.tag!==5)&&(f=l.type,f=f!=="head"&&f!=="body"&&!c1(l.type,l.memoizedProps)),f&&(f=Er)){if(w1(l))throw AC(),Error(n(418));for(;f;)SC(l,f),f=Rs(f.nextSibling)}if(TC(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));e:{for(l=l.nextSibling,f=0;l;){if(l.nodeType===8){var g=l.data;if(g==="/$"){if(f===0){Er=Rs(l.nextSibling);break e}f--}else g!=="$"&&g!=="$!"&&g!=="$?"||f++}l=l.nextSibling}Er=null}}else Er=xr?Rs(l.stateNode.nextSibling):null;return!0}function AC(){for(var l=Er;l;)l=Rs(l.nextSibling)}function al(){Er=xr=null,It=!1}function b1(l){Jr===null?Jr=[l]:Jr.push(l)}var qI=E.ReactCurrentBatchConfig;function Gu(l,f,g){if(l=g.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(n(309));var b=g.stateNode}if(!b)throw Error(n(147,l));var _=b,I=""+l;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===I?f.ref:(f=function(W){var ue=_.refs;W===null?delete ue[I]:ue[I]=W},f._stringRef=I,f)}if(typeof l!="string")throw Error(n(284));if(!g._owner)throw Error(n(290,l))}return l}function Rd(l,f){throw l=Object.prototype.toString.call(f),Error(n(31,l==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":l))}function _C(l){var f=l._init;return f(l._payload)}function RC(l){function f(ve,ge){if(l){var be=ve.deletions;be===null?(ve.deletions=[ge],ve.flags|=16):be.push(ge)}}function g(ve,ge){if(!l)return null;for(;ge!==null;)f(ve,ge),ge=ge.sibling;return null}function b(ve,ge){for(ve=new Map;ge!==null;)ge.key!==null?ve.set(ge.key,ge):ve.set(ge.index,ge),ge=ge.sibling;return ve}function _(ve,ge){return ve=Hs(ve,ge),ve.index=0,ve.sibling=null,ve}function I(ve,ge,be){return ve.index=be,l?(be=ve.alternate,be!==null?(be=be.index,be<ge?(ve.flags|=2,ge):be):(ve.flags|=2,ge)):(ve.flags|=1048576,ge)}function W(ve){return l&&ve.alternate===null&&(ve.flags|=2),ve}function ue(ve,ge,be,De){return ge===null||ge.tag!==6?(ge=fy(be,ve.mode,De),ge.return=ve,ge):(ge=_(ge,be),ge.return=ve,ge)}function he(ve,ge,be,De){var We=be.type;return We===$?Ne(ve,ge,be.props.children,De,be.key):ge!==null&&(ge.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===le&&_C(We)===ge.type)?(De=_(ge,be.props),De.ref=Gu(ve,ge,be),De.return=ve,De):(De=Qd(be.type,be.key,be.props,null,ve.mode,De),De.ref=Gu(ve,ge,be),De.return=ve,De)}function Ee(ve,ge,be,De){return ge===null||ge.tag!==4||ge.stateNode.containerInfo!==be.containerInfo||ge.stateNode.implementation!==be.implementation?(ge=dy(be,ve.mode,De),ge.return=ve,ge):(ge=_(ge,be.children||[]),ge.return=ve,ge)}function Ne(ve,ge,be,De,We){return ge===null||ge.tag!==7?(ge=Ko(be,ve.mode,De,We),ge.return=ve,ge):(ge=_(ge,be),ge.return=ve,ge)}function Oe(ve,ge,be){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return ge=fy(""+ge,ve.mode,be),ge.return=ve,ge;if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case R:return be=Qd(ge.type,ge.key,ge.props,null,ve.mode,be),be.ref=Gu(ve,null,ge),be.return=ve,be;case B:return ge=dy(ge,ve.mode,be),ge.return=ve,ge;case le:var De=ge._init;return Oe(ve,De(ge._payload),be)}if(J(ge)||Q(ge))return ge=Ko(ge,ve.mode,be,null),ge.return=ve,ge;Rd(ve,ge)}return null}function Re(ve,ge,be,De){var We=ge!==null?ge.key:null;if(typeof be=="string"&&be!==""||typeof be=="number")return We!==null?null:ue(ve,ge,""+be,De);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case R:return be.key===We?he(ve,ge,be,De):null;case B:return be.key===We?Ee(ve,ge,be,De):null;case le:return We=be._init,Re(ve,ge,We(be._payload),De)}if(J(be)||Q(be))return We!==null?null:Ne(ve,ge,be,De,null);Rd(ve,be)}return null}function Pe(ve,ge,be,De,We){if(typeof De=="string"&&De!==""||typeof De=="number")return ve=ve.get(be)||null,ue(ge,ve,""+De,We);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case R:return ve=ve.get(De.key===null?be:De.key)||null,he(ge,ve,De,We);case B:return ve=ve.get(De.key===null?be:De.key)||null,Ee(ge,ve,De,We);case le:var qe=De._init;return Pe(ve,ge,be,qe(De._payload),We)}if(J(De)||Q(De))return ve=ve.get(be)||null,Ne(ge,ve,De,We,null);Rd(ge,De)}return null}function $e(ve,ge,be,De){for(var We=null,qe=null,Ge=ge,Xe=ge=0,cn=null;Ge!==null&&Xe<be.length;Xe++){Ge.index>Xe?(cn=Ge,Ge=null):cn=Ge.sibling;var ut=Re(ve,Ge,be[Xe],De);if(ut===null){Ge===null&&(Ge=cn);break}l&&Ge&&ut.alternate===null&&f(ve,Ge),ge=I(ut,ge,Xe),qe===null?We=ut:qe.sibling=ut,qe=ut,Ge=cn}if(Xe===be.length)return g(ve,Ge),It&&Bo(ve,Xe),We;if(Ge===null){for(;Xe<be.length;Xe++)Ge=Oe(ve,be[Xe],De),Ge!==null&&(ge=I(Ge,ge,Xe),qe===null?We=Ge:qe.sibling=Ge,qe=Ge);return It&&Bo(ve,Xe),We}for(Ge=b(ve,Ge);Xe<be.length;Xe++)cn=Pe(Ge,ve,Xe,be[Xe],De),cn!==null&&(l&&cn.alternate!==null&&Ge.delete(cn.key===null?Xe:cn.key),ge=I(cn,ge,Xe),qe===null?We=cn:qe.sibling=cn,qe=cn);return l&&Ge.forEach(function($s){return f(ve,$s)}),It&&Bo(ve,Xe),We}function Ve(ve,ge,be,De){var We=Q(be);if(typeof We!="function")throw Error(n(150));if(be=We.call(be),be==null)throw Error(n(151));for(var qe=We=null,Ge=ge,Xe=ge=0,cn=null,ut=be.next();Ge!==null&&!ut.done;Xe++,ut=be.next()){Ge.index>Xe?(cn=Ge,Ge=null):cn=Ge.sibling;var $s=Re(ve,Ge,ut.value,De);if($s===null){Ge===null&&(Ge=cn);break}l&&Ge&&$s.alternate===null&&f(ve,Ge),ge=I($s,ge,Xe),qe===null?We=$s:qe.sibling=$s,qe=$s,Ge=cn}if(ut.done)return g(ve,Ge),It&&Bo(ve,Xe),We;if(Ge===null){for(;!ut.done;Xe++,ut=be.next())ut=Oe(ve,ut.value,De),ut!==null&&(ge=I(ut,ge,Xe),qe===null?We=ut:qe.sibling=ut,qe=ut);return It&&Bo(ve,Xe),We}for(Ge=b(ve,Ge);!ut.done;Xe++,ut=be.next())ut=Pe(Ge,ve,Xe,ut.value,De),ut!==null&&(l&&ut.alternate!==null&&Ge.delete(ut.key===null?Xe:ut.key),ge=I(ut,ge,Xe),qe===null?We=ut:qe.sibling=ut,qe=ut);return l&&Ge.forEach(function(kM){return f(ve,kM)}),It&&Bo(ve,Xe),We}function Yt(ve,ge,be,De){if(typeof be=="object"&&be!==null&&be.type===$&&be.key===null&&(be=be.props.children),typeof be=="object"&&be!==null){switch(be.$$typeof){case R:e:{for(var We=be.key,qe=ge;qe!==null;){if(qe.key===We){if(We=be.type,We===$){if(qe.tag===7){g(ve,qe.sibling),ge=_(qe,be.props.children),ge.return=ve,ve=ge;break e}}else if(qe.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===le&&_C(We)===qe.type){g(ve,qe.sibling),ge=_(qe,be.props),ge.ref=Gu(ve,qe,be),ge.return=ve,ve=ge;break e}g(ve,qe);break}else f(ve,qe);qe=qe.sibling}be.type===$?(ge=Ko(be.props.children,ve.mode,De,be.key),ge.return=ve,ve=ge):(De=Qd(be.type,be.key,be.props,null,ve.mode,De),De.ref=Gu(ve,ge,be),De.return=ve,ve=De)}return W(ve);case B:e:{for(qe=be.key;ge!==null;){if(ge.key===qe)if(ge.tag===4&&ge.stateNode.containerInfo===be.containerInfo&&ge.stateNode.implementation===be.implementation){g(ve,ge.sibling),ge=_(ge,be.children||[]),ge.return=ve,ve=ge;break e}else{g(ve,ge);break}else f(ve,ge);ge=ge.sibling}ge=dy(be,ve.mode,De),ge.return=ve,ve=ge}return W(ve);case le:return qe=be._init,Yt(ve,ge,qe(be._payload),De)}if(J(be))return $e(ve,ge,be,De);if(Q(be))return Ve(ve,ge,be,De);Rd(ve,be)}return typeof be=="string"&&be!==""||typeof be=="number"?(be=""+be,ge!==null&&ge.tag===6?(g(ve,ge.sibling),ge=_(ge,be),ge.return=ve,ve=ge):(g(ve,ge),ge=fy(be,ve.mode,De),ge.return=ve,ve=ge),W(ve)):g(ve,ge)}return Yt}var ll=RC(!0),NC=RC(!1),Nd=Ns(null),Od=null,ul=null,x1=null;function E1(){x1=ul=Od=null}function C1(l){var f=Nd.current;_t(Nd),l._currentValue=f}function S1(l,f,g){for(;l!==null;){var b=l.alternate;if((l.childLanes&f)!==f?(l.childLanes|=f,b!==null&&(b.childLanes|=f)):b!==null&&(b.childLanes&f)!==f&&(b.childLanes|=f),l===g)break;l=l.return}}function cl(l,f){Od=l,x1=ul=null,l=l.dependencies,l!==null&&l.firstContext!==null&&(l.lanes&f&&(rr=!0),l.firstContext=null)}function Ir(l){var f=l._currentValue;if(x1!==l)if(l={context:l,memoizedValue:f,next:null},ul===null){if(Od===null)throw Error(n(308));ul=l,Od.dependencies={lanes:0,firstContext:l}}else ul=ul.next=l;return f}var jo=null;function k1(l){jo===null?jo=[l]:jo.push(l)}function OC(l,f,g,b){var _=f.interleaved;return _===null?(g.next=g,k1(f)):(g.next=_.next,_.next=g),f.interleaved=g,Ui(l,b)}function Ui(l,f){l.lanes|=f;var g=l.alternate;for(g!==null&&(g.lanes|=f),g=l,l=l.return;l!==null;)l.childLanes|=f,g=l.alternate,g!==null&&(g.childLanes|=f),g=l,l=l.return;return g.tag===3?g.stateNode:null}var Ms=!1;function T1(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function IC(l,f){l=l.updateQueue,f.updateQueue===l&&(f.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function Vi(l,f){return{eventTime:l,lane:f,tag:0,payload:null,callback:null,next:null}}function Ds(l,f,g){var b=l.updateQueue;if(b===null)return null;if(b=b.shared,at&2){var _=b.pending;return _===null?f.next=f:(f.next=_.next,_.next=f),b.pending=f,Ui(l,g)}return _=b.interleaved,_===null?(f.next=f,k1(b)):(f.next=_.next,_.next=f),b.interleaved=f,Ui(l,g)}function Id(l,f,g){if(f=f.updateQueue,f!==null&&(f=f.shared,(g&4194240)!==0)){var b=f.lanes;b&=l.pendingLanes,g|=b,f.lanes=g,Hg(l,g)}}function MC(l,f){var g=l.updateQueue,b=l.alternate;if(b!==null&&(b=b.updateQueue,g===b)){var _=null,I=null;if(g=g.firstBaseUpdate,g!==null){do{var W={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};I===null?_=I=W:I=I.next=W,g=g.next}while(g!==null);I===null?_=I=f:I=I.next=f}else _=I=f;g={baseState:b.baseState,firstBaseUpdate:_,lastBaseUpdate:I,shared:b.shared,effects:b.effects},l.updateQueue=g;return}l=g.lastBaseUpdate,l===null?g.firstBaseUpdate=f:l.next=f,g.lastBaseUpdate=f}function Md(l,f,g,b){var _=l.updateQueue;Ms=!1;var I=_.firstBaseUpdate,W=_.lastBaseUpdate,ue=_.shared.pending;if(ue!==null){_.shared.pending=null;var he=ue,Ee=he.next;he.next=null,W===null?I=Ee:W.next=Ee,W=he;var Ne=l.alternate;Ne!==null&&(Ne=Ne.updateQueue,ue=Ne.lastBaseUpdate,ue!==W&&(ue===null?Ne.firstBaseUpdate=Ee:ue.next=Ee,Ne.lastBaseUpdate=he))}if(I!==null){var Oe=_.baseState;W=0,Ne=Ee=he=null,ue=I;do{var Re=ue.lane,Pe=ue.eventTime;if((b&Re)===Re){Ne!==null&&(Ne=Ne.next={eventTime:Pe,lane:0,tag:ue.tag,payload:ue.payload,callback:ue.callback,next:null});e:{var $e=l,Ve=ue;switch(Re=f,Pe=g,Ve.tag){case 1:if($e=Ve.payload,typeof $e=="function"){Oe=$e.call(Pe,Oe,Re);break e}Oe=$e;break e;case 3:$e.flags=$e.flags&-65537|128;case 0:if($e=Ve.payload,Re=typeof $e=="function"?$e.call(Pe,Oe,Re):$e,Re==null)break e;Oe=fe({},Oe,Re);break e;case 2:Ms=!0}}ue.callback!==null&&ue.lane!==0&&(l.flags|=64,Re=_.effects,Re===null?_.effects=[ue]:Re.push(ue))}else Pe={eventTime:Pe,lane:Re,tag:ue.tag,payload:ue.payload,callback:ue.callback,next:null},Ne===null?(Ee=Ne=Pe,he=Oe):Ne=Ne.next=Pe,W|=Re;if(ue=ue.next,ue===null){if(ue=_.shared.pending,ue===null)break;Re=ue,ue=Re.next,Re.next=null,_.lastBaseUpdate=Re,_.shared.pending=null}}while(!0);if(Ne===null&&(he=Oe),_.baseState=he,_.firstBaseUpdate=Ee,_.lastBaseUpdate=Ne,f=_.shared.interleaved,f!==null){_=f;do W|=_.lane,_=_.next;while(_!==f)}else I===null&&(_.shared.lanes=0);zo|=W,l.lanes=W,l.memoizedState=Oe}}function DC(l,f,g){if(l=f.effects,f.effects=null,l!==null)for(f=0;f<l.length;f++){var b=l[f],_=b.callback;if(_!==null){if(b.callback=null,b=g,typeof _!="function")throw Error(n(191,_));_.call(b)}}}var Xu={},yi=Ns(Xu),Yu=Ns(Xu),Zu=Ns(Xu);function Ho(l){if(l===Xu)throw Error(n(174));return l}function A1(l,f){switch(Et(Zu,f),Et(Yu,l),Et(yi,Xu),l=f.nodeType,l){case 9:case 11:f=(f=f.documentElement)?f.namespaceURI:Me(null,"");break;default:l=l===8?f.parentNode:f,f=l.namespaceURI||null,l=l.tagName,f=Me(f,l)}_t(yi),Et(yi,f)}function fl(){_t(yi),_t(Yu),_t(Zu)}function LC(l){Ho(Zu.current);var f=Ho(yi.current),g=Me(f,l.type);f!==g&&(Et(Yu,l),Et(yi,g))}function _1(l){Yu.current===l&&(_t(yi),_t(Yu))}var Pt=Ns(0);function Dd(l){for(var f=l;f!==null;){if(f.tag===13){var g=f.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if(f.flags&128)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var R1=[];function N1(){for(var l=0;l<R1.length;l++)R1[l]._workInProgressVersionPrimary=null;R1.length=0}var Ld=E.ReactCurrentDispatcher,O1=E.ReactCurrentBatchConfig,$o=0,Ft=null,on=null,ln=null,Pd=!1,Ju=!1,Qu=0,GI=0;function In(){throw Error(n(321))}function I1(l,f){if(f===null)return!1;for(var g=0;g<f.length&&g<l.length;g++)if(!Zr(l[g],f[g]))return!1;return!0}function M1(l,f,g,b,_,I){if($o=I,Ft=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,Ld.current=l===null||l.memoizedState===null?JI:QI,l=g(b,_),Ju){I=0;do{if(Ju=!1,Qu=0,25<=I)throw Error(n(301));I+=1,ln=on=null,f.updateQueue=null,Ld.current=eM,l=g(b,_)}while(Ju)}if(Ld.current=jd,f=on!==null&&on.next!==null,$o=0,ln=on=Ft=null,Pd=!1,f)throw Error(n(300));return l}function D1(){var l=Qu!==0;return Qu=0,l}function wi(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?Ft.memoizedState=ln=l:ln=ln.next=l,ln}function Mr(){if(on===null){var l=Ft.alternate;l=l!==null?l.memoizedState:null}else l=on.next;var f=ln===null?Ft.memoizedState:ln.next;if(f!==null)ln=f,on=l;else{if(l===null)throw Error(n(310));on=l,l={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},ln===null?Ft.memoizedState=ln=l:ln=ln.next=l}return ln}function ec(l,f){return typeof f=="function"?f(l):f}function L1(l){var f=Mr(),g=f.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=l;var b=on,_=b.baseQueue,I=g.pending;if(I!==null){if(_!==null){var W=_.next;_.next=I.next,I.next=W}b.baseQueue=_=I,g.pending=null}if(_!==null){I=_.next,b=b.baseState;var ue=W=null,he=null,Ee=I;do{var Ne=Ee.lane;if(($o&Ne)===Ne)he!==null&&(he=he.next={lane:0,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),b=Ee.hasEagerState?Ee.eagerState:l(b,Ee.action);else{var Oe={lane:Ne,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null};he===null?(ue=he=Oe,W=b):he=he.next=Oe,Ft.lanes|=Ne,zo|=Ne}Ee=Ee.next}while(Ee!==null&&Ee!==I);he===null?W=b:he.next=ue,Zr(b,f.memoizedState)||(rr=!0),f.memoizedState=b,f.baseState=W,f.baseQueue=he,g.lastRenderedState=b}if(l=g.interleaved,l!==null){_=l;do I=_.lane,Ft.lanes|=I,zo|=I,_=_.next;while(_!==l)}else _===null&&(g.lanes=0);return[f.memoizedState,g.dispatch]}function P1(l){var f=Mr(),g=f.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=l;var b=g.dispatch,_=g.pending,I=f.memoizedState;if(_!==null){g.pending=null;var W=_=_.next;do I=l(I,W.action),W=W.next;while(W!==_);Zr(I,f.memoizedState)||(rr=!0),f.memoizedState=I,f.baseQueue===null&&(f.baseState=I),g.lastRenderedState=I}return[I,b]}function PC(){}function FC(l,f){var g=Ft,b=Mr(),_=f(),I=!Zr(b.memoizedState,_);if(I&&(b.memoizedState=_,rr=!0),b=b.queue,F1(HC.bind(null,g,b,l),[l]),b.getSnapshot!==f||I||ln!==null&&ln.memoizedState.tag&1){if(g.flags|=2048,tc(9,jC.bind(null,g,b,_,f),void 0,null),un===null)throw Error(n(349));$o&30||BC(g,f,_)}return _}function BC(l,f,g){l.flags|=16384,l={getSnapshot:f,value:g},f=Ft.updateQueue,f===null?(f={lastEffect:null,stores:null},Ft.updateQueue=f,f.stores=[l]):(g=f.stores,g===null?f.stores=[l]:g.push(l))}function jC(l,f,g,b){f.value=g,f.getSnapshot=b,$C(f)&&zC(l)}function HC(l,f,g){return g(function(){$C(f)&&zC(l)})}function $C(l){var f=l.getSnapshot;l=l.value;try{var g=f();return!Zr(l,g)}catch{return!0}}function zC(l){var f=Ui(l,1);f!==null&&ni(f,l,1,-1)}function UC(l){var f=wi();return typeof l=="function"&&(l=l()),f.memoizedState=f.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ec,lastRenderedState:l},f.queue=l,l=l.dispatch=ZI.bind(null,Ft,l),[f.memoizedState,l]}function tc(l,f,g,b){return l={tag:l,create:f,destroy:g,deps:b,next:null},f=Ft.updateQueue,f===null?(f={lastEffect:null,stores:null},Ft.updateQueue=f,f.lastEffect=l.next=l):(g=f.lastEffect,g===null?f.lastEffect=l.next=l:(b=g.next,g.next=l,l.next=b,f.lastEffect=l)),l}function VC(){return Mr().memoizedState}function Fd(l,f,g,b){var _=wi();Ft.flags|=l,_.memoizedState=tc(1|f,g,void 0,b===void 0?null:b)}function Bd(l,f,g,b){var _=Mr();b=b===void 0?null:b;var I=void 0;if(on!==null){var W=on.memoizedState;if(I=W.destroy,b!==null&&I1(b,W.deps)){_.memoizedState=tc(f,g,I,b);return}}Ft.flags|=l,_.memoizedState=tc(1|f,g,I,b)}function WC(l,f){return Fd(8390656,8,l,f)}function F1(l,f){return Bd(2048,8,l,f)}function KC(l,f){return Bd(4,2,l,f)}function qC(l,f){return Bd(4,4,l,f)}function GC(l,f){if(typeof f=="function")return l=l(),f(l),function(){f(null)};if(f!=null)return l=l(),f.current=l,function(){f.current=null}}function XC(l,f,g){return g=g!=null?g.concat([l]):null,Bd(4,4,GC.bind(null,f,l),g)}function B1(){}function YC(l,f){var g=Mr();f=f===void 0?null:f;var b=g.memoizedState;return b!==null&&f!==null&&I1(f,b[1])?b[0]:(g.memoizedState=[l,f],l)}function ZC(l,f){var g=Mr();f=f===void 0?null:f;var b=g.memoizedState;return b!==null&&f!==null&&I1(f,b[1])?b[0]:(l=l(),g.memoizedState=[l,f],l)}function JC(l,f,g){return $o&21?(Zr(g,f)||(g=_E(),Ft.lanes|=g,zo|=g,l.baseState=!0),f):(l.baseState&&(l.baseState=!1,rr=!0),l.memoizedState=g)}function XI(l,f){var g=pt;pt=g!==0&&4>g?g:4,l(!0);var b=O1.transition;O1.transition={};try{l(!1),f()}finally{pt=g,O1.transition=b}}function QC(){return Mr().memoizedState}function YI(l,f,g){var b=Bs(l);if(g={lane:b,action:g,hasEagerState:!1,eagerState:null,next:null},eS(l))tS(f,g);else if(g=OC(l,f,g,b),g!==null){var _=qn();ni(g,l,b,_),nS(g,f,b)}}function ZI(l,f,g){var b=Bs(l),_={lane:b,action:g,hasEagerState:!1,eagerState:null,next:null};if(eS(l))tS(f,_);else{var I=l.alternate;if(l.lanes===0&&(I===null||I.lanes===0)&&(I=f.lastRenderedReducer,I!==null))try{var W=f.lastRenderedState,ue=I(W,g);if(_.hasEagerState=!0,_.eagerState=ue,Zr(ue,W)){var he=f.interleaved;he===null?(_.next=_,k1(f)):(_.next=he.next,he.next=_),f.interleaved=_;return}}catch{}finally{}g=OC(l,f,_,b),g!==null&&(_=qn(),ni(g,l,b,_),nS(g,f,b))}}function eS(l){var f=l.alternate;return l===Ft||f!==null&&f===Ft}function tS(l,f){Ju=Pd=!0;var g=l.pending;g===null?f.next=f:(f.next=g.next,g.next=f),l.pending=f}function nS(l,f,g){if(g&4194240){var b=f.lanes;b&=l.pendingLanes,g|=b,f.lanes=g,Hg(l,g)}}var jd={readContext:Ir,useCallback:In,useContext:In,useEffect:In,useImperativeHandle:In,useInsertionEffect:In,useLayoutEffect:In,useMemo:In,useReducer:In,useRef:In,useState:In,useDebugValue:In,useDeferredValue:In,useTransition:In,useMutableSource:In,useSyncExternalStore:In,useId:In,unstable_isNewReconciler:!1},JI={readContext:Ir,useCallback:function(l,f){return wi().memoizedState=[l,f===void 0?null:f],l},useContext:Ir,useEffect:WC,useImperativeHandle:function(l,f,g){return g=g!=null?g.concat([l]):null,Fd(4194308,4,GC.bind(null,f,l),g)},useLayoutEffect:function(l,f){return Fd(4194308,4,l,f)},useInsertionEffect:function(l,f){return Fd(4,2,l,f)},useMemo:function(l,f){var g=wi();return f=f===void 0?null:f,l=l(),g.memoizedState=[l,f],l},useReducer:function(l,f,g){var b=wi();return f=g!==void 0?g(f):f,b.memoizedState=b.baseState=f,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:f},b.queue=l,l=l.dispatch=YI.bind(null,Ft,l),[b.memoizedState,l]},useRef:function(l){var f=wi();return l={current:l},f.memoizedState=l},useState:UC,useDebugValue:B1,useDeferredValue:function(l){return wi().memoizedState=l},useTransition:function(){var l=UC(!1),f=l[0];return l=XI.bind(null,l[1]),wi().memoizedState=l,[f,l]},useMutableSource:function(){},useSyncExternalStore:function(l,f,g){var b=Ft,_=wi();if(It){if(g===void 0)throw Error(n(407));g=g()}else{if(g=f(),un===null)throw Error(n(349));$o&30||BC(b,f,g)}_.memoizedState=g;var I={value:g,getSnapshot:f};return _.queue=I,WC(HC.bind(null,b,I,l),[l]),b.flags|=2048,tc(9,jC.bind(null,b,I,g,f),void 0,null),g},useId:function(){var l=wi(),f=un.identifierPrefix;if(It){var g=zi,b=$i;g=(b&~(1<<32-Yr(b)-1)).toString(32)+g,f=":"+f+"R"+g,g=Qu++,0<g&&(f+="H"+g.toString(32)),f+=":"}else g=GI++,f=":"+f+"r"+g.toString(32)+":";return l.memoizedState=f},unstable_isNewReconciler:!1},QI={readContext:Ir,useCallback:YC,useContext:Ir,useEffect:F1,useImperativeHandle:XC,useInsertionEffect:KC,useLayoutEffect:qC,useMemo:ZC,useReducer:L1,useRef:VC,useState:function(){return L1(ec)},useDebugValue:B1,useDeferredValue:function(l){var f=Mr();return JC(f,on.memoizedState,l)},useTransition:function(){var l=L1(ec)[0],f=Mr().memoizedState;return[l,f]},useMutableSource:PC,useSyncExternalStore:FC,useId:QC,unstable_isNewReconciler:!1},eM={readContext:Ir,useCallback:YC,useContext:Ir,useEffect:F1,useImperativeHandle:XC,useInsertionEffect:KC,useLayoutEffect:qC,useMemo:ZC,useReducer:P1,useRef:VC,useState:function(){return P1(ec)},useDebugValue:B1,useDeferredValue:function(l){var f=Mr();return on===null?f.memoizedState=l:JC(f,on.memoizedState,l)},useTransition:function(){var l=P1(ec)[0],f=Mr().memoizedState;return[l,f]},useMutableSource:PC,useSyncExternalStore:FC,useId:QC,unstable_isNewReconciler:!1};function Qr(l,f){if(l&&l.defaultProps){f=fe({},f),l=l.defaultProps;for(var g in l)f[g]===void 0&&(f[g]=l[g]);return f}return f}function j1(l,f,g,b){f=l.memoizedState,g=g(b,f),g=g==null?f:fe({},f,g),l.memoizedState=g,l.lanes===0&&(l.updateQueue.baseState=g)}var Hd={isMounted:function(l){return(l=l._reactInternals)?Do(l)===l:!1},enqueueSetState:function(l,f,g){l=l._reactInternals;var b=qn(),_=Bs(l),I=Vi(b,_);I.payload=f,g!=null&&(I.callback=g),f=Ds(l,I,_),f!==null&&(ni(f,l,_,b),Id(f,l,_))},enqueueReplaceState:function(l,f,g){l=l._reactInternals;var b=qn(),_=Bs(l),I=Vi(b,_);I.tag=1,I.payload=f,g!=null&&(I.callback=g),f=Ds(l,I,_),f!==null&&(ni(f,l,_,b),Id(f,l,_))},enqueueForceUpdate:function(l,f){l=l._reactInternals;var g=qn(),b=Bs(l),_=Vi(g,b);_.tag=2,f!=null&&(_.callback=f),f=Ds(l,_,b),f!==null&&(ni(f,l,b,g),Id(f,l,b))}};function rS(l,f,g,b,_,I,W){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(b,I,W):f.prototype&&f.prototype.isPureReactComponent?!$u(g,b)||!$u(_,I):!0}function iS(l,f,g){var b=!1,_=Os,I=f.contextType;return typeof I=="object"&&I!==null?I=Ir(I):(_=nr(f)?Po:On.current,b=f.contextTypes,I=(b=b!=null)?il(l,_):Os),f=new f(g,I),l.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Hd,l.stateNode=f,f._reactInternals=l,b&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=_,l.__reactInternalMemoizedMaskedChildContext=I),f}function sS(l,f,g,b){l=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(g,b),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(g,b),f.state!==l&&Hd.enqueueReplaceState(f,f.state,null)}function H1(l,f,g,b){var _=l.stateNode;_.props=g,_.state=l.memoizedState,_.refs={},T1(l);var I=f.contextType;typeof I=="object"&&I!==null?_.context=Ir(I):(I=nr(f)?Po:On.current,_.context=il(l,I)),_.state=l.memoizedState,I=f.getDerivedStateFromProps,typeof I=="function"&&(j1(l,f,I,g),_.state=l.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(f=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),f!==_.state&&Hd.enqueueReplaceState(_,_.state,null),Md(l,g,_,b),_.state=l.memoizedState),typeof _.componentDidMount=="function"&&(l.flags|=4194308)}function dl(l,f){try{var g="",b=f;do g+=ae(b),b=b.return;while(b);var _=g}catch(I){_=`
Error generating stack: `+I.message+`
`+I.stack}return{value:l,source:f,stack:_,digest:null}}function $1(l,f,g){return{value:l,source:null,stack:g??null,digest:f??null}}function z1(l,f){try{console.error(f.value)}catch(g){setTimeout(function(){throw g})}}var tM=typeof WeakMap=="function"?WeakMap:Map;function oS(l,f,g){g=Vi(-1,g),g.tag=3,g.payload={element:null};var b=f.value;return g.callback=function(){qd||(qd=!0,ry=b),z1(l,f)},g}function aS(l,f,g){g=Vi(-1,g),g.tag=3;var b=l.type.getDerivedStateFromError;if(typeof b=="function"){var _=f.value;g.payload=function(){return b(_)},g.callback=function(){z1(l,f)}}var I=l.stateNode;return I!==null&&typeof I.componentDidCatch=="function"&&(g.callback=function(){z1(l,f),typeof b!="function"&&(Ps===null?Ps=new Set([this]):Ps.add(this));var W=f.stack;this.componentDidCatch(f.value,{componentStack:W!==null?W:""})}),g}function lS(l,f,g){var b=l.pingCache;if(b===null){b=l.pingCache=new tM;var _=new Set;b.set(f,_)}else _=b.get(f),_===void 0&&(_=new Set,b.set(f,_));_.has(g)||(_.add(g),l=mM.bind(null,l,f,g),f.then(l,l))}function uS(l){do{var f;if((f=l.tag===13)&&(f=l.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return l;l=l.return}while(l!==null);return null}function cS(l,f,g,b,_){return l.mode&1?(l.flags|=65536,l.lanes=_,l):(l===f?l.flags|=65536:(l.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(f=Vi(-1,1),f.tag=2,Ds(g,f,1))),g.lanes|=1),l)}var nM=E.ReactCurrentOwner,rr=!1;function Kn(l,f,g,b){f.child=l===null?NC(f,null,g,b):ll(f,l.child,g,b)}function fS(l,f,g,b,_){g=g.render;var I=f.ref;return cl(f,_),b=M1(l,f,g,b,I,_),g=D1(),l!==null&&!rr?(f.updateQueue=l.updateQueue,f.flags&=-2053,l.lanes&=~_,Wi(l,f,_)):(It&&g&&g1(f),f.flags|=1,Kn(l,f,b,_),f.child)}function dS(l,f,g,b,_){if(l===null){var I=g.type;return typeof I=="function"&&!cy(I)&&I.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(f.tag=15,f.type=I,hS(l,f,I,b,_)):(l=Qd(g.type,null,b,f,f.mode,_),l.ref=f.ref,l.return=f,f.child=l)}if(I=l.child,!(l.lanes&_)){var W=I.memoizedProps;if(g=g.compare,g=g!==null?g:$u,g(W,b)&&l.ref===f.ref)return Wi(l,f,_)}return f.flags|=1,l=Hs(I,b),l.ref=f.ref,l.return=f,f.child=l}function hS(l,f,g,b,_){if(l!==null){var I=l.memoizedProps;if($u(I,b)&&l.ref===f.ref)if(rr=!1,f.pendingProps=b=I,(l.lanes&_)!==0)l.flags&131072&&(rr=!0);else return f.lanes=l.lanes,Wi(l,f,_)}return U1(l,f,g,b,_)}function pS(l,f,g){var b=f.pendingProps,_=b.children,I=l!==null?l.memoizedState:null;if(b.mode==="hidden")if(!(f.mode&1))f.memoizedState={baseLanes:0,cachePool:null,transitions:null},Et(pl,Cr),Cr|=g;else{if(!(g&1073741824))return l=I!==null?I.baseLanes|g:g,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:l,cachePool:null,transitions:null},f.updateQueue=null,Et(pl,Cr),Cr|=l,null;f.memoizedState={baseLanes:0,cachePool:null,transitions:null},b=I!==null?I.baseLanes:g,Et(pl,Cr),Cr|=b}else I!==null?(b=I.baseLanes|g,f.memoizedState=null):b=g,Et(pl,Cr),Cr|=b;return Kn(l,f,_,g),f.child}function mS(l,f){var g=f.ref;(l===null&&g!==null||l!==null&&l.ref!==g)&&(f.flags|=512,f.flags|=2097152)}function U1(l,f,g,b,_){var I=nr(g)?Po:On.current;return I=il(f,I),cl(f,_),g=M1(l,f,g,b,I,_),b=D1(),l!==null&&!rr?(f.updateQueue=l.updateQueue,f.flags&=-2053,l.lanes&=~_,Wi(l,f,_)):(It&&b&&g1(f),f.flags|=1,Kn(l,f,g,_),f.child)}function gS(l,f,g,b,_){if(nr(g)){var I=!0;Sd(f)}else I=!1;if(cl(f,_),f.stateNode===null)zd(l,f),iS(f,g,b),H1(f,g,b,_),b=!0;else if(l===null){var W=f.stateNode,ue=f.memoizedProps;W.props=ue;var he=W.context,Ee=g.contextType;typeof Ee=="object"&&Ee!==null?Ee=Ir(Ee):(Ee=nr(g)?Po:On.current,Ee=il(f,Ee));var Ne=g.getDerivedStateFromProps,Oe=typeof Ne=="function"||typeof W.getSnapshotBeforeUpdate=="function";Oe||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(ue!==b||he!==Ee)&&sS(f,W,b,Ee),Ms=!1;var Re=f.memoizedState;W.state=Re,Md(f,b,W,_),he=f.memoizedState,ue!==b||Re!==he||tr.current||Ms?(typeof Ne=="function"&&(j1(f,g,Ne,b),he=f.memoizedState),(ue=Ms||rS(f,g,ue,b,Re,he,Ee))?(Oe||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount()),typeof W.componentDidMount=="function"&&(f.flags|=4194308)):(typeof W.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=b,f.memoizedState=he),W.props=b,W.state=he,W.context=Ee,b=ue):(typeof W.componentDidMount=="function"&&(f.flags|=4194308),b=!1)}else{W=f.stateNode,IC(l,f),ue=f.memoizedProps,Ee=f.type===f.elementType?ue:Qr(f.type,ue),W.props=Ee,Oe=f.pendingProps,Re=W.context,he=g.contextType,typeof he=="object"&&he!==null?he=Ir(he):(he=nr(g)?Po:On.current,he=il(f,he));var Pe=g.getDerivedStateFromProps;(Ne=typeof Pe=="function"||typeof W.getSnapshotBeforeUpdate=="function")||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(ue!==Oe||Re!==he)&&sS(f,W,b,he),Ms=!1,Re=f.memoizedState,W.state=Re,Md(f,b,W,_);var $e=f.memoizedState;ue!==Oe||Re!==$e||tr.current||Ms?(typeof Pe=="function"&&(j1(f,g,Pe,b),$e=f.memoizedState),(Ee=Ms||rS(f,g,Ee,b,Re,$e,he)||!1)?(Ne||typeof W.UNSAFE_componentWillUpdate!="function"&&typeof W.componentWillUpdate!="function"||(typeof W.componentWillUpdate=="function"&&W.componentWillUpdate(b,$e,he),typeof W.UNSAFE_componentWillUpdate=="function"&&W.UNSAFE_componentWillUpdate(b,$e,he)),typeof W.componentDidUpdate=="function"&&(f.flags|=4),typeof W.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof W.componentDidUpdate!="function"||ue===l.memoizedProps&&Re===l.memoizedState||(f.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||ue===l.memoizedProps&&Re===l.memoizedState||(f.flags|=1024),f.memoizedProps=b,f.memoizedState=$e),W.props=b,W.state=$e,W.context=he,b=Ee):(typeof W.componentDidUpdate!="function"||ue===l.memoizedProps&&Re===l.memoizedState||(f.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||ue===l.memoizedProps&&Re===l.memoizedState||(f.flags|=1024),b=!1)}return V1(l,f,g,b,I,_)}function V1(l,f,g,b,_,I){mS(l,f);var W=(f.flags&128)!==0;if(!b&&!W)return _&&xC(f,g,!1),Wi(l,f,I);b=f.stateNode,nM.current=f;var ue=W&&typeof g.getDerivedStateFromError!="function"?null:b.render();return f.flags|=1,l!==null&&W?(f.child=ll(f,l.child,null,I),f.child=ll(f,null,ue,I)):Kn(l,f,ue,I),f.memoizedState=b.state,_&&xC(f,g,!0),f.child}function yS(l){var f=l.stateNode;f.pendingContext?vC(l,f.pendingContext,f.pendingContext!==f.context):f.context&&vC(l,f.context,!1),A1(l,f.containerInfo)}function wS(l,f,g,b,_){return al(),b1(_),f.flags|=256,Kn(l,f,g,b),f.child}var W1={dehydrated:null,treeContext:null,retryLane:0};function K1(l){return{baseLanes:l,cachePool:null,transitions:null}}function vS(l,f,g){var b=f.pendingProps,_=Pt.current,I=!1,W=(f.flags&128)!==0,ue;if((ue=W)||(ue=l!==null&&l.memoizedState===null?!1:(_&2)!==0),ue?(I=!0,f.flags&=-129):(l===null||l.memoizedState!==null)&&(_|=1),Et(Pt,_&1),l===null)return v1(f),l=f.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?(f.mode&1?l.data==="$!"?f.lanes=8:f.lanes=1073741824:f.lanes=1,null):(W=b.children,l=b.fallback,I?(b=f.mode,I=f.child,W={mode:"hidden",children:W},!(b&1)&&I!==null?(I.childLanes=0,I.pendingProps=W):I=eh(W,b,0,null),l=Ko(l,b,g,null),I.return=f,l.return=f,I.sibling=l,f.child=I,f.child.memoizedState=K1(g),f.memoizedState=W1,l):q1(f,W));if(_=l.memoizedState,_!==null&&(ue=_.dehydrated,ue!==null))return rM(l,f,W,b,ue,_,g);if(I){I=b.fallback,W=f.mode,_=l.child,ue=_.sibling;var he={mode:"hidden",children:b.children};return!(W&1)&&f.child!==_?(b=f.child,b.childLanes=0,b.pendingProps=he,f.deletions=null):(b=Hs(_,he),b.subtreeFlags=_.subtreeFlags&14680064),ue!==null?I=Hs(ue,I):(I=Ko(I,W,g,null),I.flags|=2),I.return=f,b.return=f,b.sibling=I,f.child=b,b=I,I=f.child,W=l.child.memoizedState,W=W===null?K1(g):{baseLanes:W.baseLanes|g,cachePool:null,transitions:W.transitions},I.memoizedState=W,I.childLanes=l.childLanes&~g,f.memoizedState=W1,b}return I=l.child,l=I.sibling,b=Hs(I,{mode:"visible",children:b.children}),!(f.mode&1)&&(b.lanes=g),b.return=f,b.sibling=null,l!==null&&(g=f.deletions,g===null?(f.deletions=[l],f.flags|=16):g.push(l)),f.child=b,f.memoizedState=null,b}function q1(l,f){return f=eh({mode:"visible",children:f},l.mode,0,null),f.return=l,l.child=f}function $d(l,f,g,b){return b!==null&&b1(b),ll(f,l.child,null,g),l=q1(f,f.pendingProps.children),l.flags|=2,f.memoizedState=null,l}function rM(l,f,g,b,_,I,W){if(g)return f.flags&256?(f.flags&=-257,b=$1(Error(n(422))),$d(l,f,W,b)):f.memoizedState!==null?(f.child=l.child,f.flags|=128,null):(I=b.fallback,_=f.mode,b=eh({mode:"visible",children:b.children},_,0,null),I=Ko(I,_,W,null),I.flags|=2,b.return=f,I.return=f,b.sibling=I,f.child=b,f.mode&1&&ll(f,l.child,null,W),f.child.memoizedState=K1(W),f.memoizedState=W1,I);if(!(f.mode&1))return $d(l,f,W,null);if(_.data==="$!"){if(b=_.nextSibling&&_.nextSibling.dataset,b)var ue=b.dgst;return b=ue,I=Error(n(419)),b=$1(I,b,void 0),$d(l,f,W,b)}if(ue=(W&l.childLanes)!==0,rr||ue){if(b=un,b!==null){switch(W&-W){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=_&(b.suspendedLanes|W)?0:_,_!==0&&_!==I.retryLane&&(I.retryLane=_,Ui(l,_),ni(b,l,_,-1))}return uy(),b=$1(Error(n(421))),$d(l,f,W,b)}return _.data==="$?"?(f.flags|=128,f.child=l.child,f=gM.bind(null,l),_._reactRetry=f,null):(l=I.treeContext,Er=Rs(_.nextSibling),xr=f,It=!0,Jr=null,l!==null&&(Nr[Or++]=$i,Nr[Or++]=zi,Nr[Or++]=Fo,$i=l.id,zi=l.overflow,Fo=f),f=q1(f,b.children),f.flags|=4096,f)}function bS(l,f,g){l.lanes|=f;var b=l.alternate;b!==null&&(b.lanes|=f),S1(l.return,f,g)}function G1(l,f,g,b,_){var I=l.memoizedState;I===null?l.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:b,tail:g,tailMode:_}:(I.isBackwards=f,I.rendering=null,I.renderingStartTime=0,I.last=b,I.tail=g,I.tailMode=_)}function xS(l,f,g){var b=f.pendingProps,_=b.revealOrder,I=b.tail;if(Kn(l,f,b.children,g),b=Pt.current,b&2)b=b&1|2,f.flags|=128;else{if(l!==null&&l.flags&128)e:for(l=f.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&bS(l,g,f);else if(l.tag===19)bS(l,g,f);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===f)break e;for(;l.sibling===null;){if(l.return===null||l.return===f)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}b&=1}if(Et(Pt,b),!(f.mode&1))f.memoizedState=null;else switch(_){case"forwards":for(g=f.child,_=null;g!==null;)l=g.alternate,l!==null&&Dd(l)===null&&(_=g),g=g.sibling;g=_,g===null?(_=f.child,f.child=null):(_=g.sibling,g.sibling=null),G1(f,!1,_,g,I);break;case"backwards":for(g=null,_=f.child,f.child=null;_!==null;){if(l=_.alternate,l!==null&&Dd(l)===null){f.child=_;break}l=_.sibling,_.sibling=g,g=_,_=l}G1(f,!0,g,null,I);break;case"together":G1(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function zd(l,f){!(f.mode&1)&&l!==null&&(l.alternate=null,f.alternate=null,f.flags|=2)}function Wi(l,f,g){if(l!==null&&(f.dependencies=l.dependencies),zo|=f.lanes,!(g&f.childLanes))return null;if(l!==null&&f.child!==l.child)throw Error(n(153));if(f.child!==null){for(l=f.child,g=Hs(l,l.pendingProps),f.child=g,g.return=f;l.sibling!==null;)l=l.sibling,g=g.sibling=Hs(l,l.pendingProps),g.return=f;g.sibling=null}return f.child}function iM(l,f,g){switch(f.tag){case 3:yS(f),al();break;case 5:LC(f);break;case 1:nr(f.type)&&Sd(f);break;case 4:A1(f,f.stateNode.containerInfo);break;case 10:var b=f.type._context,_=f.memoizedProps.value;Et(Nd,b._currentValue),b._currentValue=_;break;case 13:if(b=f.memoizedState,b!==null)return b.dehydrated!==null?(Et(Pt,Pt.current&1),f.flags|=128,null):g&f.child.childLanes?vS(l,f,g):(Et(Pt,Pt.current&1),l=Wi(l,f,g),l!==null?l.sibling:null);Et(Pt,Pt.current&1);break;case 19:if(b=(g&f.childLanes)!==0,l.flags&128){if(b)return xS(l,f,g);f.flags|=128}if(_=f.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),Et(Pt,Pt.current),b)break;return null;case 22:case 23:return f.lanes=0,pS(l,f,g)}return Wi(l,f,g)}var ES,X1,CS,SS;ES=function(l,f){for(var g=f.child;g!==null;){if(g.tag===5||g.tag===6)l.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===f)break;for(;g.sibling===null;){if(g.return===null||g.return===f)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},X1=function(){},CS=function(l,f,g,b){var _=l.memoizedProps;if(_!==b){l=f.stateNode,Ho(yi.current);var I=null;switch(g){case"input":_=M(l,_),b=M(l,b),I=[];break;case"select":_=fe({},_,{value:void 0}),b=fe({},b,{value:void 0}),I=[];break;case"textarea":_=ne(l,_),b=ne(l,b),I=[];break;default:typeof _.onClick!="function"&&typeof b.onClick=="function"&&(l.onclick=xd)}He(g,b);var W;g=null;for(Ee in _)if(!b.hasOwnProperty(Ee)&&_.hasOwnProperty(Ee)&&_[Ee]!=null)if(Ee==="style"){var ue=_[Ee];for(W in ue)ue.hasOwnProperty(W)&&(g||(g={}),g[W]="")}else Ee!=="dangerouslySetInnerHTML"&&Ee!=="children"&&Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&Ee!=="autoFocus"&&(i.hasOwnProperty(Ee)?I||(I=[]):(I=I||[]).push(Ee,null));for(Ee in b){var he=b[Ee];if(ue=_!=null?_[Ee]:void 0,b.hasOwnProperty(Ee)&&he!==ue&&(he!=null||ue!=null))if(Ee==="style")if(ue){for(W in ue)!ue.hasOwnProperty(W)||he&&he.hasOwnProperty(W)||(g||(g={}),g[W]="");for(W in he)he.hasOwnProperty(W)&&ue[W]!==he[W]&&(g||(g={}),g[W]=he[W])}else g||(I||(I=[]),I.push(Ee,g)),g=he;else Ee==="dangerouslySetInnerHTML"?(he=he?he.__html:void 0,ue=ue?ue.__html:void 0,he!=null&&ue!==he&&(I=I||[]).push(Ee,he)):Ee==="children"?typeof he!="string"&&typeof he!="number"||(I=I||[]).push(Ee,""+he):Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&(i.hasOwnProperty(Ee)?(he!=null&&Ee==="onScroll"&&At("scroll",l),I||ue===he||(I=[])):(I=I||[]).push(Ee,he))}g&&(I=I||[]).push("style",g);var Ee=I;(f.updateQueue=Ee)&&(f.flags|=4)}},SS=function(l,f,g,b){g!==b&&(f.flags|=4)};function nc(l,f){if(!It)switch(l.tailMode){case"hidden":f=l.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?l.tail=null:g.sibling=null;break;case"collapsed":g=l.tail;for(var b=null;g!==null;)g.alternate!==null&&(b=g),g=g.sibling;b===null?f||l.tail===null?l.tail=null:l.tail.sibling=null:b.sibling=null}}function Mn(l){var f=l.alternate!==null&&l.alternate.child===l.child,g=0,b=0;if(f)for(var _=l.child;_!==null;)g|=_.lanes|_.childLanes,b|=_.subtreeFlags&14680064,b|=_.flags&14680064,_.return=l,_=_.sibling;else for(_=l.child;_!==null;)g|=_.lanes|_.childLanes,b|=_.subtreeFlags,b|=_.flags,_.return=l,_=_.sibling;return l.subtreeFlags|=b,l.childLanes=g,f}function sM(l,f,g){var b=f.pendingProps;switch(y1(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mn(f),null;case 1:return nr(f.type)&&Cd(),Mn(f),null;case 3:return b=f.stateNode,fl(),_t(tr),_t(On),N1(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(l===null||l.child===null)&&(_d(f)?f.flags|=4:l===null||l.memoizedState.isDehydrated&&!(f.flags&256)||(f.flags|=1024,Jr!==null&&(oy(Jr),Jr=null))),X1(l,f),Mn(f),null;case 5:_1(f);var _=Ho(Zu.current);if(g=f.type,l!==null&&f.stateNode!=null)CS(l,f,g,b,_),l.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!b){if(f.stateNode===null)throw Error(n(166));return Mn(f),null}if(l=Ho(yi.current),_d(f)){b=f.stateNode,g=f.type;var I=f.memoizedProps;switch(b[gi]=f,b[Ku]=I,l=(f.mode&1)!==0,g){case"dialog":At("cancel",b),At("close",b);break;case"iframe":case"object":case"embed":At("load",b);break;case"video":case"audio":for(_=0;_<Uu.length;_++)At(Uu[_],b);break;case"source":At("error",b);break;case"img":case"image":case"link":At("error",b),At("load",b);break;case"details":At("toggle",b);break;case"input":pe(b,I),At("invalid",b);break;case"select":b._wrapperState={wasMultiple:!!I.multiple},At("invalid",b);break;case"textarea":ye(b,I),At("invalid",b)}He(g,I),_=null;for(var W in I)if(I.hasOwnProperty(W)){var ue=I[W];W==="children"?typeof ue=="string"?b.textContent!==ue&&(I.suppressHydrationWarning!==!0&&bd(b.textContent,ue,l),_=["children",ue]):typeof ue=="number"&&b.textContent!==""+ue&&(I.suppressHydrationWarning!==!0&&bd(b.textContent,ue,l),_=["children",""+ue]):i.hasOwnProperty(W)&&ue!=null&&W==="onScroll"&&At("scroll",b)}switch(g){case"input":V(b),T(b,I,!0);break;case"textarea":V(b),xe(b);break;case"select":case"option":break;default:typeof I.onClick=="function"&&(b.onclick=xd)}b=_,f.updateQueue=b,b!==null&&(f.flags|=4)}else{W=_.nodeType===9?_:_.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=Te(g)),l==="http://www.w3.org/1999/xhtml"?g==="script"?(l=W.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof b.is=="string"?l=W.createElement(g,{is:b.is}):(l=W.createElement(g),g==="select"&&(W=l,b.multiple?W.multiple=!0:b.size&&(W.size=b.size))):l=W.createElementNS(l,g),l[gi]=f,l[Ku]=b,ES(l,f,!1,!1),f.stateNode=l;e:{switch(W=Ze(g,b),g){case"dialog":At("cancel",l),At("close",l),_=b;break;case"iframe":case"object":case"embed":At("load",l),_=b;break;case"video":case"audio":for(_=0;_<Uu.length;_++)At(Uu[_],l);_=b;break;case"source":At("error",l),_=b;break;case"img":case"image":case"link":At("error",l),At("load",l),_=b;break;case"details":At("toggle",l),_=b;break;case"input":pe(l,b),_=M(l,b),At("invalid",l);break;case"option":_=b;break;case"select":l._wrapperState={wasMultiple:!!b.multiple},_=fe({},b,{value:void 0}),At("invalid",l);break;case"textarea":ye(l,b),_=ne(l,b),At("invalid",l);break;default:_=b}He(g,_),ue=_;for(I in ue)if(ue.hasOwnProperty(I)){var he=ue[I];I==="style"?ke(l,he):I==="dangerouslySetInnerHTML"?(he=he?he.__html:void 0,he!=null&&Tt(l,he)):I==="children"?typeof he=="string"?(g!=="textarea"||he!=="")&&Bt(l,he):typeof he=="number"&&Bt(l,""+he):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(i.hasOwnProperty(I)?he!=null&&I==="onScroll"&&At("scroll",l):he!=null&&k(l,I,he,W))}switch(g){case"input":V(l),T(l,b,!1);break;case"textarea":V(l),xe(l);break;case"option":b.value!=null&&l.setAttribute("value",""+L(b.value));break;case"select":l.multiple=!!b.multiple,I=b.value,I!=null?ce(l,!!b.multiple,I,!1):b.defaultValue!=null&&ce(l,!!b.multiple,b.defaultValue,!0);break;default:typeof _.onClick=="function"&&(l.onclick=xd)}switch(g){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}}b&&(f.flags|=4)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return Mn(f),null;case 6:if(l&&f.stateNode!=null)SS(l,f,l.memoizedProps,b);else{if(typeof b!="string"&&f.stateNode===null)throw Error(n(166));if(g=Ho(Zu.current),Ho(yi.current),_d(f)){if(b=f.stateNode,g=f.memoizedProps,b[gi]=f,(I=b.nodeValue!==g)&&(l=xr,l!==null))switch(l.tag){case 3:bd(b.nodeValue,g,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&bd(b.nodeValue,g,(l.mode&1)!==0)}I&&(f.flags|=4)}else b=(g.nodeType===9?g:g.ownerDocument).createTextNode(b),b[gi]=f,f.stateNode=b}return Mn(f),null;case 13:if(_t(Pt),b=f.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(It&&Er!==null&&f.mode&1&&!(f.flags&128))AC(),al(),f.flags|=98560,I=!1;else if(I=_d(f),b!==null&&b.dehydrated!==null){if(l===null){if(!I)throw Error(n(318));if(I=f.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(n(317));I[gi]=f}else al(),!(f.flags&128)&&(f.memoizedState=null),f.flags|=4;Mn(f),I=!1}else Jr!==null&&(oy(Jr),Jr=null),I=!0;if(!I)return f.flags&65536?f:null}return f.flags&128?(f.lanes=g,f):(b=b!==null,b!==(l!==null&&l.memoizedState!==null)&&b&&(f.child.flags|=8192,f.mode&1&&(l===null||Pt.current&1?an===0&&(an=3):uy())),f.updateQueue!==null&&(f.flags|=4),Mn(f),null);case 4:return fl(),X1(l,f),l===null&&Vu(f.stateNode.containerInfo),Mn(f),null;case 10:return C1(f.type._context),Mn(f),null;case 17:return nr(f.type)&&Cd(),Mn(f),null;case 19:if(_t(Pt),I=f.memoizedState,I===null)return Mn(f),null;if(b=(f.flags&128)!==0,W=I.rendering,W===null)if(b)nc(I,!1);else{if(an!==0||l!==null&&l.flags&128)for(l=f.child;l!==null;){if(W=Dd(l),W!==null){for(f.flags|=128,nc(I,!1),b=W.updateQueue,b!==null&&(f.updateQueue=b,f.flags|=4),f.subtreeFlags=0,b=g,g=f.child;g!==null;)I=g,l=b,I.flags&=14680066,W=I.alternate,W===null?(I.childLanes=0,I.lanes=l,I.child=null,I.subtreeFlags=0,I.memoizedProps=null,I.memoizedState=null,I.updateQueue=null,I.dependencies=null,I.stateNode=null):(I.childLanes=W.childLanes,I.lanes=W.lanes,I.child=W.child,I.subtreeFlags=0,I.deletions=null,I.memoizedProps=W.memoizedProps,I.memoizedState=W.memoizedState,I.updateQueue=W.updateQueue,I.type=W.type,l=W.dependencies,I.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),g=g.sibling;return Et(Pt,Pt.current&1|2),f.child}l=l.sibling}I.tail!==null&&Xt()>ml&&(f.flags|=128,b=!0,nc(I,!1),f.lanes=4194304)}else{if(!b)if(l=Dd(W),l!==null){if(f.flags|=128,b=!0,g=l.updateQueue,g!==null&&(f.updateQueue=g,f.flags|=4),nc(I,!0),I.tail===null&&I.tailMode==="hidden"&&!W.alternate&&!It)return Mn(f),null}else 2*Xt()-I.renderingStartTime>ml&&g!==1073741824&&(f.flags|=128,b=!0,nc(I,!1),f.lanes=4194304);I.isBackwards?(W.sibling=f.child,f.child=W):(g=I.last,g!==null?g.sibling=W:f.child=W,I.last=W)}return I.tail!==null?(f=I.tail,I.rendering=f,I.tail=f.sibling,I.renderingStartTime=Xt(),f.sibling=null,g=Pt.current,Et(Pt,b?g&1|2:g&1),f):(Mn(f),null);case 22:case 23:return ly(),b=f.memoizedState!==null,l!==null&&l.memoizedState!==null!==b&&(f.flags|=8192),b&&f.mode&1?Cr&1073741824&&(Mn(f),f.subtreeFlags&6&&(f.flags|=8192)):Mn(f),null;case 24:return null;case 25:return null}throw Error(n(156,f.tag))}function oM(l,f){switch(y1(f),f.tag){case 1:return nr(f.type)&&Cd(),l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 3:return fl(),_t(tr),_t(On),N1(),l=f.flags,l&65536&&!(l&128)?(f.flags=l&-65537|128,f):null;case 5:return _1(f),null;case 13:if(_t(Pt),l=f.memoizedState,l!==null&&l.dehydrated!==null){if(f.alternate===null)throw Error(n(340));al()}return l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 19:return _t(Pt),null;case 4:return fl(),null;case 10:return C1(f.type._context),null;case 22:case 23:return ly(),null;case 24:return null;default:return null}}var Ud=!1,Dn=!1,aM=typeof WeakSet=="function"?WeakSet:Set,je=null;function hl(l,f){var g=l.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(b){jt(l,f,b)}else g.current=null}function Y1(l,f,g){try{g()}catch(b){jt(l,f,b)}}var kS=!1;function lM(l,f){if(l1=ud,l=rC(),e1(l)){if("selectionStart"in l)var g={start:l.selectionStart,end:l.selectionEnd};else e:{g=(g=l.ownerDocument)&&g.defaultView||window;var b=g.getSelection&&g.getSelection();if(b&&b.rangeCount!==0){g=b.anchorNode;var _=b.anchorOffset,I=b.focusNode;b=b.focusOffset;try{g.nodeType,I.nodeType}catch{g=null;break e}var W=0,ue=-1,he=-1,Ee=0,Ne=0,Oe=l,Re=null;t:for(;;){for(var Pe;Oe!==g||_!==0&&Oe.nodeType!==3||(ue=W+_),Oe!==I||b!==0&&Oe.nodeType!==3||(he=W+b),Oe.nodeType===3&&(W+=Oe.nodeValue.length),(Pe=Oe.firstChild)!==null;)Re=Oe,Oe=Pe;for(;;){if(Oe===l)break t;if(Re===g&&++Ee===_&&(ue=W),Re===I&&++Ne===b&&(he=W),(Pe=Oe.nextSibling)!==null)break;Oe=Re,Re=Oe.parentNode}Oe=Pe}g=ue===-1||he===-1?null:{start:ue,end:he}}else g=null}g=g||{start:0,end:0}}else g=null;for(u1={focusedElem:l,selectionRange:g},ud=!1,je=f;je!==null;)if(f=je,l=f.child,(f.subtreeFlags&1028)!==0&&l!==null)l.return=f,je=l;else for(;je!==null;){f=je;try{var $e=f.alternate;if(f.flags&1024)switch(f.tag){case 0:case 11:case 15:break;case 1:if($e!==null){var Ve=$e.memoizedProps,Yt=$e.memoizedState,ve=f.stateNode,ge=ve.getSnapshotBeforeUpdate(f.elementType===f.type?Ve:Qr(f.type,Ve),Yt);ve.__reactInternalSnapshotBeforeUpdate=ge}break;case 3:var be=f.stateNode.containerInfo;be.nodeType===1?be.textContent="":be.nodeType===9&&be.documentElement&&be.removeChild(be.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(De){jt(f,f.return,De)}if(l=f.sibling,l!==null){l.return=f.return,je=l;break}je=f.return}return $e=kS,kS=!1,$e}function rc(l,f,g){var b=f.updateQueue;if(b=b!==null?b.lastEffect:null,b!==null){var _=b=b.next;do{if((_.tag&l)===l){var I=_.destroy;_.destroy=void 0,I!==void 0&&Y1(f,g,I)}_=_.next}while(_!==b)}}function Vd(l,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&l)===l){var b=g.create;g.destroy=b()}g=g.next}while(g!==f)}}function Z1(l){var f=l.ref;if(f!==null){var g=l.stateNode;switch(l.tag){case 5:l=g;break;default:l=g}typeof f=="function"?f(l):f.current=l}}function TS(l){var f=l.alternate;f!==null&&(l.alternate=null,TS(f)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(f=l.stateNode,f!==null&&(delete f[gi],delete f[Ku],delete f[h1],delete f[VI],delete f[WI])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function AS(l){return l.tag===5||l.tag===3||l.tag===4}function _S(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||AS(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function J1(l,f,g){var b=l.tag;if(b===5||b===6)l=l.stateNode,f?g.nodeType===8?g.parentNode.insertBefore(l,f):g.insertBefore(l,f):(g.nodeType===8?(f=g.parentNode,f.insertBefore(l,g)):(f=g,f.appendChild(l)),g=g._reactRootContainer,g!=null||f.onclick!==null||(f.onclick=xd));else if(b!==4&&(l=l.child,l!==null))for(J1(l,f,g),l=l.sibling;l!==null;)J1(l,f,g),l=l.sibling}function Q1(l,f,g){var b=l.tag;if(b===5||b===6)l=l.stateNode,f?g.insertBefore(l,f):g.appendChild(l);else if(b!==4&&(l=l.child,l!==null))for(Q1(l,f,g),l=l.sibling;l!==null;)Q1(l,f,g),l=l.sibling}var bn=null,ei=!1;function Ls(l,f,g){for(g=g.child;g!==null;)RS(l,f,g),g=g.sibling}function RS(l,f,g){if(mi&&typeof mi.onCommitFiberUnmount=="function")try{mi.onCommitFiberUnmount(rd,g)}catch{}switch(g.tag){case 5:Dn||hl(g,f);case 6:var b=bn,_=ei;bn=null,Ls(l,f,g),bn=b,ei=_,bn!==null&&(ei?(l=bn,g=g.stateNode,l.nodeType===8?l.parentNode.removeChild(g):l.removeChild(g)):bn.removeChild(g.stateNode));break;case 18:bn!==null&&(ei?(l=bn,g=g.stateNode,l.nodeType===8?d1(l.parentNode,g):l.nodeType===1&&d1(l,g),Lu(l)):d1(bn,g.stateNode));break;case 4:b=bn,_=ei,bn=g.stateNode.containerInfo,ei=!0,Ls(l,f,g),bn=b,ei=_;break;case 0:case 11:case 14:case 15:if(!Dn&&(b=g.updateQueue,b!==null&&(b=b.lastEffect,b!==null))){_=b=b.next;do{var I=_,W=I.destroy;I=I.tag,W!==void 0&&(I&2||I&4)&&Y1(g,f,W),_=_.next}while(_!==b)}Ls(l,f,g);break;case 1:if(!Dn&&(hl(g,f),b=g.stateNode,typeof b.componentWillUnmount=="function"))try{b.props=g.memoizedProps,b.state=g.memoizedState,b.componentWillUnmount()}catch(ue){jt(g,f,ue)}Ls(l,f,g);break;case 21:Ls(l,f,g);break;case 22:g.mode&1?(Dn=(b=Dn)||g.memoizedState!==null,Ls(l,f,g),Dn=b):Ls(l,f,g);break;default:Ls(l,f,g)}}function NS(l){var f=l.updateQueue;if(f!==null){l.updateQueue=null;var g=l.stateNode;g===null&&(g=l.stateNode=new aM),f.forEach(function(b){var _=yM.bind(null,l,b);g.has(b)||(g.add(b),b.then(_,_))})}}function ti(l,f){var g=f.deletions;if(g!==null)for(var b=0;b<g.length;b++){var _=g[b];try{var I=l,W=f,ue=W;e:for(;ue!==null;){switch(ue.tag){case 5:bn=ue.stateNode,ei=!1;break e;case 3:bn=ue.stateNode.containerInfo,ei=!0;break e;case 4:bn=ue.stateNode.containerInfo,ei=!0;break e}ue=ue.return}if(bn===null)throw Error(n(160));RS(I,W,_),bn=null,ei=!1;var he=_.alternate;he!==null&&(he.return=null),_.return=null}catch(Ee){jt(_,f,Ee)}}if(f.subtreeFlags&12854)for(f=f.child;f!==null;)OS(f,l),f=f.sibling}function OS(l,f){var g=l.alternate,b=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(ti(f,l),vi(l),b&4){try{rc(3,l,l.return),Vd(3,l)}catch(Ve){jt(l,l.return,Ve)}try{rc(5,l,l.return)}catch(Ve){jt(l,l.return,Ve)}}break;case 1:ti(f,l),vi(l),b&512&&g!==null&&hl(g,g.return);break;case 5:if(ti(f,l),vi(l),b&512&&g!==null&&hl(g,g.return),l.flags&32){var _=l.stateNode;try{Bt(_,"")}catch(Ve){jt(l,l.return,Ve)}}if(b&4&&(_=l.stateNode,_!=null)){var I=l.memoizedProps,W=g!==null?g.memoizedProps:I,ue=l.type,he=l.updateQueue;if(l.updateQueue=null,he!==null)try{ue==="input"&&I.type==="radio"&&I.name!=null&&j(_,I),Ze(ue,W);var Ee=Ze(ue,I);for(W=0;W<he.length;W+=2){var Ne=he[W],Oe=he[W+1];Ne==="style"?ke(_,Oe):Ne==="dangerouslySetInnerHTML"?Tt(_,Oe):Ne==="children"?Bt(_,Oe):k(_,Ne,Oe,Ee)}switch(ue){case"input":C(_,I);break;case"textarea":we(_,I);break;case"select":var Re=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!I.multiple;var Pe=I.value;Pe!=null?ce(_,!!I.multiple,Pe,!1):Re!==!!I.multiple&&(I.defaultValue!=null?ce(_,!!I.multiple,I.defaultValue,!0):ce(_,!!I.multiple,I.multiple?[]:"",!1))}_[Ku]=I}catch(Ve){jt(l,l.return,Ve)}}break;case 6:if(ti(f,l),vi(l),b&4){if(l.stateNode===null)throw Error(n(162));_=l.stateNode,I=l.memoizedProps;try{_.nodeValue=I}catch(Ve){jt(l,l.return,Ve)}}break;case 3:if(ti(f,l),vi(l),b&4&&g!==null&&g.memoizedState.isDehydrated)try{Lu(f.containerInfo)}catch(Ve){jt(l,l.return,Ve)}break;case 4:ti(f,l),vi(l);break;case 13:ti(f,l),vi(l),_=l.child,_.flags&8192&&(I=_.memoizedState!==null,_.stateNode.isHidden=I,!I||_.alternate!==null&&_.alternate.memoizedState!==null||(ny=Xt())),b&4&&NS(l);break;case 22:if(Ne=g!==null&&g.memoizedState!==null,l.mode&1?(Dn=(Ee=Dn)||Ne,ti(f,l),Dn=Ee):ti(f,l),vi(l),b&8192){if(Ee=l.memoizedState!==null,(l.stateNode.isHidden=Ee)&&!Ne&&l.mode&1)for(je=l,Ne=l.child;Ne!==null;){for(Oe=je=Ne;je!==null;){switch(Re=je,Pe=Re.child,Re.tag){case 0:case 11:case 14:case 15:rc(4,Re,Re.return);break;case 1:hl(Re,Re.return);var $e=Re.stateNode;if(typeof $e.componentWillUnmount=="function"){b=Re,g=Re.return;try{f=b,$e.props=f.memoizedProps,$e.state=f.memoizedState,$e.componentWillUnmount()}catch(Ve){jt(b,g,Ve)}}break;case 5:hl(Re,Re.return);break;case 22:if(Re.memoizedState!==null){DS(Oe);continue}}Pe!==null?(Pe.return=Re,je=Pe):DS(Oe)}Ne=Ne.sibling}e:for(Ne=null,Oe=l;;){if(Oe.tag===5){if(Ne===null){Ne=Oe;try{_=Oe.stateNode,Ee?(I=_.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none"):(ue=Oe.stateNode,he=Oe.memoizedProps.style,W=he!=null&&he.hasOwnProperty("display")?he.display:null,ue.style.display=ft("display",W))}catch(Ve){jt(l,l.return,Ve)}}}else if(Oe.tag===6){if(Ne===null)try{Oe.stateNode.nodeValue=Ee?"":Oe.memoizedProps}catch(Ve){jt(l,l.return,Ve)}}else if((Oe.tag!==22&&Oe.tag!==23||Oe.memoizedState===null||Oe===l)&&Oe.child!==null){Oe.child.return=Oe,Oe=Oe.child;continue}if(Oe===l)break e;for(;Oe.sibling===null;){if(Oe.return===null||Oe.return===l)break e;Ne===Oe&&(Ne=null),Oe=Oe.return}Ne===Oe&&(Ne=null),Oe.sibling.return=Oe.return,Oe=Oe.sibling}}break;case 19:ti(f,l),vi(l),b&4&&NS(l);break;case 21:break;default:ti(f,l),vi(l)}}function vi(l){var f=l.flags;if(f&2){try{e:{for(var g=l.return;g!==null;){if(AS(g)){var b=g;break e}g=g.return}throw Error(n(160))}switch(b.tag){case 5:var _=b.stateNode;b.flags&32&&(Bt(_,""),b.flags&=-33);var I=_S(l);Q1(l,I,_);break;case 3:case 4:var W=b.stateNode.containerInfo,ue=_S(l);J1(l,ue,W);break;default:throw Error(n(161))}}catch(he){jt(l,l.return,he)}l.flags&=-3}f&4096&&(l.flags&=-4097)}function uM(l,f,g){je=l,IS(l)}function IS(l,f,g){for(var b=(l.mode&1)!==0;je!==null;){var _=je,I=_.child;if(_.tag===22&&b){var W=_.memoizedState!==null||Ud;if(!W){var ue=_.alternate,he=ue!==null&&ue.memoizedState!==null||Dn;ue=Ud;var Ee=Dn;if(Ud=W,(Dn=he)&&!Ee)for(je=_;je!==null;)W=je,he=W.child,W.tag===22&&W.memoizedState!==null?LS(_):he!==null?(he.return=W,je=he):LS(_);for(;I!==null;)je=I,IS(I),I=I.sibling;je=_,Ud=ue,Dn=Ee}MS(l)}else _.subtreeFlags&8772&&I!==null?(I.return=_,je=I):MS(l)}}function MS(l){for(;je!==null;){var f=je;if(f.flags&8772){var g=f.alternate;try{if(f.flags&8772)switch(f.tag){case 0:case 11:case 15:Dn||Vd(5,f);break;case 1:var b=f.stateNode;if(f.flags&4&&!Dn)if(g===null)b.componentDidMount();else{var _=f.elementType===f.type?g.memoizedProps:Qr(f.type,g.memoizedProps);b.componentDidUpdate(_,g.memoizedState,b.__reactInternalSnapshotBeforeUpdate)}var I=f.updateQueue;I!==null&&DC(f,I,b);break;case 3:var W=f.updateQueue;if(W!==null){if(g=null,f.child!==null)switch(f.child.tag){case 5:g=f.child.stateNode;break;case 1:g=f.child.stateNode}DC(f,W,g)}break;case 5:var ue=f.stateNode;if(g===null&&f.flags&4){g=ue;var he=f.memoizedProps;switch(f.type){case"button":case"input":case"select":case"textarea":he.autoFocus&&g.focus();break;case"img":he.src&&(g.src=he.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(f.memoizedState===null){var Ee=f.alternate;if(Ee!==null){var Ne=Ee.memoizedState;if(Ne!==null){var Oe=Ne.dehydrated;Oe!==null&&Lu(Oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Dn||f.flags&512&&Z1(f)}catch(Re){jt(f,f.return,Re)}}if(f===l){je=null;break}if(g=f.sibling,g!==null){g.return=f.return,je=g;break}je=f.return}}function DS(l){for(;je!==null;){var f=je;if(f===l){je=null;break}var g=f.sibling;if(g!==null){g.return=f.return,je=g;break}je=f.return}}function LS(l){for(;je!==null;){var f=je;try{switch(f.tag){case 0:case 11:case 15:var g=f.return;try{Vd(4,f)}catch(he){jt(f,g,he)}break;case 1:var b=f.stateNode;if(typeof b.componentDidMount=="function"){var _=f.return;try{b.componentDidMount()}catch(he){jt(f,_,he)}}var I=f.return;try{Z1(f)}catch(he){jt(f,I,he)}break;case 5:var W=f.return;try{Z1(f)}catch(he){jt(f,W,he)}}}catch(he){jt(f,f.return,he)}if(f===l){je=null;break}var ue=f.sibling;if(ue!==null){ue.return=f.return,je=ue;break}je=f.return}}var cM=Math.ceil,Wd=E.ReactCurrentDispatcher,ey=E.ReactCurrentOwner,Dr=E.ReactCurrentBatchConfig,at=0,un=null,en=null,xn=0,Cr=0,pl=Ns(0),an=0,ic=null,zo=0,Kd=0,ty=0,sc=null,ir=null,ny=0,ml=1/0,Ki=null,qd=!1,ry=null,Ps=null,Gd=!1,Fs=null,Xd=0,oc=0,iy=null,Yd=-1,Zd=0;function qn(){return at&6?Xt():Yd!==-1?Yd:Yd=Xt()}function Bs(l){return l.mode&1?at&2&&xn!==0?xn&-xn:qI.transition!==null?(Zd===0&&(Zd=_E()),Zd):(l=pt,l!==0||(l=window.event,l=l===void 0?16:FE(l.type)),l):1}function ni(l,f,g,b){if(50<oc)throw oc=0,iy=null,Error(n(185));Nu(l,g,b),(!(at&2)||l!==un)&&(l===un&&(!(at&2)&&(Kd|=g),an===4&&js(l,xn)),sr(l,b),g===1&&at===0&&!(f.mode&1)&&(ml=Xt()+500,kd&&Is()))}function sr(l,f){var g=l.callbackNode;q9(l,f);var b=od(l,l===un?xn:0);if(b===0)g!==null&&kE(g),l.callbackNode=null,l.callbackPriority=0;else if(f=b&-b,l.callbackPriority!==f){if(g!=null&&kE(g),f===1)l.tag===0?KI(FS.bind(null,l)):EC(FS.bind(null,l)),zI(function(){!(at&6)&&Is()}),g=null;else{switch(RE(b)){case 1:g=Fg;break;case 4:g=TE;break;case 16:g=nd;break;case 536870912:g=AE;break;default:g=nd}g=WS(g,PS.bind(null,l))}l.callbackPriority=f,l.callbackNode=g}}function PS(l,f){if(Yd=-1,Zd=0,at&6)throw Error(n(327));var g=l.callbackNode;if(gl()&&l.callbackNode!==g)return null;var b=od(l,l===un?xn:0);if(b===0)return null;if(b&30||b&l.expiredLanes||f)f=Jd(l,b);else{f=b;var _=at;at|=2;var I=jS();(un!==l||xn!==f)&&(Ki=null,ml=Xt()+500,Vo(l,f));do try{hM();break}catch(ue){BS(l,ue)}while(!0);E1(),Wd.current=I,at=_,en!==null?f=0:(un=null,xn=0,f=an)}if(f!==0){if(f===2&&(_=Bg(l),_!==0&&(b=_,f=sy(l,_))),f===1)throw g=ic,Vo(l,0),js(l,b),sr(l,Xt()),g;if(f===6)js(l,b);else{if(_=l.current.alternate,!(b&30)&&!fM(_)&&(f=Jd(l,b),f===2&&(I=Bg(l),I!==0&&(b=I,f=sy(l,I))),f===1))throw g=ic,Vo(l,0),js(l,b),sr(l,Xt()),g;switch(l.finishedWork=_,l.finishedLanes=b,f){case 0:case 1:throw Error(n(345));case 2:Wo(l,ir,Ki);break;case 3:if(js(l,b),(b&130023424)===b&&(f=ny+500-Xt(),10<f)){if(od(l,0)!==0)break;if(_=l.suspendedLanes,(_&b)!==b){qn(),l.pingedLanes|=l.suspendedLanes&_;break}l.timeoutHandle=f1(Wo.bind(null,l,ir,Ki),f);break}Wo(l,ir,Ki);break;case 4:if(js(l,b),(b&4194240)===b)break;for(f=l.eventTimes,_=-1;0<b;){var W=31-Yr(b);I=1<<W,W=f[W],W>_&&(_=W),b&=~I}if(b=_,b=Xt()-b,b=(120>b?120:480>b?480:1080>b?1080:1920>b?1920:3e3>b?3e3:4320>b?4320:1960*cM(b/1960))-b,10<b){l.timeoutHandle=f1(Wo.bind(null,l,ir,Ki),b);break}Wo(l,ir,Ki);break;case 5:Wo(l,ir,Ki);break;default:throw Error(n(329))}}}return sr(l,Xt()),l.callbackNode===g?PS.bind(null,l):null}function sy(l,f){var g=sc;return l.current.memoizedState.isDehydrated&&(Vo(l,f).flags|=256),l=Jd(l,f),l!==2&&(f=ir,ir=g,f!==null&&oy(f)),l}function oy(l){ir===null?ir=l:ir.push.apply(ir,l)}function fM(l){for(var f=l;;){if(f.flags&16384){var g=f.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var b=0;b<g.length;b++){var _=g[b],I=_.getSnapshot;_=_.value;try{if(!Zr(I(),_))return!1}catch{return!1}}}if(g=f.child,f.subtreeFlags&16384&&g!==null)g.return=f,f=g;else{if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function js(l,f){for(f&=~ty,f&=~Kd,l.suspendedLanes|=f,l.pingedLanes&=~f,l=l.expirationTimes;0<f;){var g=31-Yr(f),b=1<<g;l[g]=-1,f&=~b}}function FS(l){if(at&6)throw Error(n(327));gl();var f=od(l,0);if(!(f&1))return sr(l,Xt()),null;var g=Jd(l,f);if(l.tag!==0&&g===2){var b=Bg(l);b!==0&&(f=b,g=sy(l,b))}if(g===1)throw g=ic,Vo(l,0),js(l,f),sr(l,Xt()),g;if(g===6)throw Error(n(345));return l.finishedWork=l.current.alternate,l.finishedLanes=f,Wo(l,ir,Ki),sr(l,Xt()),null}function ay(l,f){var g=at;at|=1;try{return l(f)}finally{at=g,at===0&&(ml=Xt()+500,kd&&Is())}}function Uo(l){Fs!==null&&Fs.tag===0&&!(at&6)&&gl();var f=at;at|=1;var g=Dr.transition,b=pt;try{if(Dr.transition=null,pt=1,l)return l()}finally{pt=b,Dr.transition=g,at=f,!(at&6)&&Is()}}function ly(){Cr=pl.current,_t(pl)}function Vo(l,f){l.finishedWork=null,l.finishedLanes=0;var g=l.timeoutHandle;if(g!==-1&&(l.timeoutHandle=-1,$I(g)),en!==null)for(g=en.return;g!==null;){var b=g;switch(y1(b),b.tag){case 1:b=b.type.childContextTypes,b!=null&&Cd();break;case 3:fl(),_t(tr),_t(On),N1();break;case 5:_1(b);break;case 4:fl();break;case 13:_t(Pt);break;case 19:_t(Pt);break;case 10:C1(b.type._context);break;case 22:case 23:ly()}g=g.return}if(un=l,en=l=Hs(l.current,null),xn=Cr=f,an=0,ic=null,ty=Kd=zo=0,ir=sc=null,jo!==null){for(f=0;f<jo.length;f++)if(g=jo[f],b=g.interleaved,b!==null){g.interleaved=null;var _=b.next,I=g.pending;if(I!==null){var W=I.next;I.next=_,b.next=W}g.pending=b}jo=null}return l}function BS(l,f){do{var g=en;try{if(E1(),Ld.current=jd,Pd){for(var b=Ft.memoizedState;b!==null;){var _=b.queue;_!==null&&(_.pending=null),b=b.next}Pd=!1}if($o=0,ln=on=Ft=null,Ju=!1,Qu=0,ey.current=null,g===null||g.return===null){an=1,ic=f,en=null;break}e:{var I=l,W=g.return,ue=g,he=f;if(f=xn,ue.flags|=32768,he!==null&&typeof he=="object"&&typeof he.then=="function"){var Ee=he,Ne=ue,Oe=Ne.tag;if(!(Ne.mode&1)&&(Oe===0||Oe===11||Oe===15)){var Re=Ne.alternate;Re?(Ne.updateQueue=Re.updateQueue,Ne.memoizedState=Re.memoizedState,Ne.lanes=Re.lanes):(Ne.updateQueue=null,Ne.memoizedState=null)}var Pe=uS(W);if(Pe!==null){Pe.flags&=-257,cS(Pe,W,ue,I,f),Pe.mode&1&&lS(I,Ee,f),f=Pe,he=Ee;var $e=f.updateQueue;if($e===null){var Ve=new Set;Ve.add(he),f.updateQueue=Ve}else $e.add(he);break e}else{if(!(f&1)){lS(I,Ee,f),uy();break e}he=Error(n(426))}}else if(It&&ue.mode&1){var Yt=uS(W);if(Yt!==null){!(Yt.flags&65536)&&(Yt.flags|=256),cS(Yt,W,ue,I,f),b1(dl(he,ue));break e}}I=he=dl(he,ue),an!==4&&(an=2),sc===null?sc=[I]:sc.push(I),I=W;do{switch(I.tag){case 3:I.flags|=65536,f&=-f,I.lanes|=f;var ve=oS(I,he,f);MC(I,ve);break e;case 1:ue=he;var ge=I.type,be=I.stateNode;if(!(I.flags&128)&&(typeof ge.getDerivedStateFromError=="function"||be!==null&&typeof be.componentDidCatch=="function"&&(Ps===null||!Ps.has(be)))){I.flags|=65536,f&=-f,I.lanes|=f;var De=aS(I,ue,f);MC(I,De);break e}}I=I.return}while(I!==null)}$S(g)}catch(We){f=We,en===g&&g!==null&&(en=g=g.return);continue}break}while(!0)}function jS(){var l=Wd.current;return Wd.current=jd,l===null?jd:l}function uy(){(an===0||an===3||an===2)&&(an=4),un===null||!(zo&268435455)&&!(Kd&268435455)||js(un,xn)}function Jd(l,f){var g=at;at|=2;var b=jS();(un!==l||xn!==f)&&(Ki=null,Vo(l,f));do try{dM();break}catch(_){BS(l,_)}while(!0);if(E1(),at=g,Wd.current=b,en!==null)throw Error(n(261));return un=null,xn=0,an}function dM(){for(;en!==null;)HS(en)}function hM(){for(;en!==null&&!B9();)HS(en)}function HS(l){var f=VS(l.alternate,l,Cr);l.memoizedProps=l.pendingProps,f===null?$S(l):en=f,ey.current=null}function $S(l){var f=l;do{var g=f.alternate;if(l=f.return,f.flags&32768){if(g=oM(g,f),g!==null){g.flags&=32767,en=g;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{an=6,en=null;return}}else if(g=sM(g,f,Cr),g!==null){en=g;return}if(f=f.sibling,f!==null){en=f;return}en=f=l}while(f!==null);an===0&&(an=5)}function Wo(l,f,g){var b=pt,_=Dr.transition;try{Dr.transition=null,pt=1,pM(l,f,g,b)}finally{Dr.transition=_,pt=b}return null}function pM(l,f,g,b){do gl();while(Fs!==null);if(at&6)throw Error(n(327));g=l.finishedWork;var _=l.finishedLanes;if(g===null)return null;if(l.finishedWork=null,l.finishedLanes=0,g===l.current)throw Error(n(177));l.callbackNode=null,l.callbackPriority=0;var I=g.lanes|g.childLanes;if(G9(l,I),l===un&&(en=un=null,xn=0),!(g.subtreeFlags&2064)&&!(g.flags&2064)||Gd||(Gd=!0,WS(nd,function(){return gl(),null})),I=(g.flags&15990)!==0,g.subtreeFlags&15990||I){I=Dr.transition,Dr.transition=null;var W=pt;pt=1;var ue=at;at|=4,ey.current=null,lM(l,g),OS(g,l),DI(u1),ud=!!l1,u1=l1=null,l.current=g,uM(g),j9(),at=ue,pt=W,Dr.transition=I}else l.current=g;if(Gd&&(Gd=!1,Fs=l,Xd=_),I=l.pendingLanes,I===0&&(Ps=null),z9(g.stateNode),sr(l,Xt()),f!==null)for(b=l.onRecoverableError,g=0;g<f.length;g++)_=f[g],b(_.value,{componentStack:_.stack,digest:_.digest});if(qd)throw qd=!1,l=ry,ry=null,l;return Xd&1&&l.tag!==0&&gl(),I=l.pendingLanes,I&1?l===iy?oc++:(oc=0,iy=l):oc=0,Is(),null}function gl(){if(Fs!==null){var l=RE(Xd),f=Dr.transition,g=pt;try{if(Dr.transition=null,pt=16>l?16:l,Fs===null)var b=!1;else{if(l=Fs,Fs=null,Xd=0,at&6)throw Error(n(331));var _=at;for(at|=4,je=l.current;je!==null;){var I=je,W=I.child;if(je.flags&16){var ue=I.deletions;if(ue!==null){for(var he=0;he<ue.length;he++){var Ee=ue[he];for(je=Ee;je!==null;){var Ne=je;switch(Ne.tag){case 0:case 11:case 15:rc(8,Ne,I)}var Oe=Ne.child;if(Oe!==null)Oe.return=Ne,je=Oe;else for(;je!==null;){Ne=je;var Re=Ne.sibling,Pe=Ne.return;if(TS(Ne),Ne===Ee){je=null;break}if(Re!==null){Re.return=Pe,je=Re;break}je=Pe}}}var $e=I.alternate;if($e!==null){var Ve=$e.child;if(Ve!==null){$e.child=null;do{var Yt=Ve.sibling;Ve.sibling=null,Ve=Yt}while(Ve!==null)}}je=I}}if(I.subtreeFlags&2064&&W!==null)W.return=I,je=W;else e:for(;je!==null;){if(I=je,I.flags&2048)switch(I.tag){case 0:case 11:case 15:rc(9,I,I.return)}var ve=I.sibling;if(ve!==null){ve.return=I.return,je=ve;break e}je=I.return}}var ge=l.current;for(je=ge;je!==null;){W=je;var be=W.child;if(W.subtreeFlags&2064&&be!==null)be.return=W,je=be;else e:for(W=ge;je!==null;){if(ue=je,ue.flags&2048)try{switch(ue.tag){case 0:case 11:case 15:Vd(9,ue)}}catch(We){jt(ue,ue.return,We)}if(ue===W){je=null;break e}var De=ue.sibling;if(De!==null){De.return=ue.return,je=De;break e}je=ue.return}}if(at=_,Is(),mi&&typeof mi.onPostCommitFiberRoot=="function")try{mi.onPostCommitFiberRoot(rd,l)}catch{}b=!0}return b}finally{pt=g,Dr.transition=f}}return!1}function zS(l,f,g){f=dl(g,f),f=oS(l,f,1),l=Ds(l,f,1),f=qn(),l!==null&&(Nu(l,1,f),sr(l,f))}function jt(l,f,g){if(l.tag===3)zS(l,l,g);else for(;f!==null;){if(f.tag===3){zS(f,l,g);break}else if(f.tag===1){var b=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Ps===null||!Ps.has(b))){l=dl(g,l),l=aS(f,l,1),f=Ds(f,l,1),l=qn(),f!==null&&(Nu(f,1,l),sr(f,l));break}}f=f.return}}function mM(l,f,g){var b=l.pingCache;b!==null&&b.delete(f),f=qn(),l.pingedLanes|=l.suspendedLanes&g,un===l&&(xn&g)===g&&(an===4||an===3&&(xn&130023424)===xn&&500>Xt()-ny?Vo(l,0):ty|=g),sr(l,f)}function US(l,f){f===0&&(l.mode&1?(f=sd,sd<<=1,!(sd&130023424)&&(sd=4194304)):f=1);var g=qn();l=Ui(l,f),l!==null&&(Nu(l,f,g),sr(l,g))}function gM(l){var f=l.memoizedState,g=0;f!==null&&(g=f.retryLane),US(l,g)}function yM(l,f){var g=0;switch(l.tag){case 13:var b=l.stateNode,_=l.memoizedState;_!==null&&(g=_.retryLane);break;case 19:b=l.stateNode;break;default:throw Error(n(314))}b!==null&&b.delete(f),US(l,g)}var VS;VS=function(l,f,g){if(l!==null)if(l.memoizedProps!==f.pendingProps||tr.current)rr=!0;else{if(!(l.lanes&g)&&!(f.flags&128))return rr=!1,iM(l,f,g);rr=!!(l.flags&131072)}else rr=!1,It&&f.flags&1048576&&CC(f,Ad,f.index);switch(f.lanes=0,f.tag){case 2:var b=f.type;zd(l,f),l=f.pendingProps;var _=il(f,On.current);cl(f,g),_=M1(null,f,b,l,_,g);var I=D1();return f.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,nr(b)?(I=!0,Sd(f)):I=!1,f.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,T1(f),_.updater=Hd,f.stateNode=_,_._reactInternals=f,H1(f,b,l,g),f=V1(null,f,b,!0,I,g)):(f.tag=0,It&&I&&g1(f),Kn(null,f,_,g),f=f.child),f;case 16:b=f.elementType;e:{switch(zd(l,f),l=f.pendingProps,_=b._init,b=_(b._payload),f.type=b,_=f.tag=vM(b),l=Qr(b,l),_){case 0:f=U1(null,f,b,l,g);break e;case 1:f=gS(null,f,b,l,g);break e;case 11:f=fS(null,f,b,l,g);break e;case 14:f=dS(null,f,b,Qr(b.type,l),g);break e}throw Error(n(306,b,""))}return f;case 0:return b=f.type,_=f.pendingProps,_=f.elementType===b?_:Qr(b,_),U1(l,f,b,_,g);case 1:return b=f.type,_=f.pendingProps,_=f.elementType===b?_:Qr(b,_),gS(l,f,b,_,g);case 3:e:{if(yS(f),l===null)throw Error(n(387));b=f.pendingProps,I=f.memoizedState,_=I.element,IC(l,f),Md(f,b,null,g);var W=f.memoizedState;if(b=W.element,I.isDehydrated)if(I={element:b,isDehydrated:!1,cache:W.cache,pendingSuspenseBoundaries:W.pendingSuspenseBoundaries,transitions:W.transitions},f.updateQueue.baseState=I,f.memoizedState=I,f.flags&256){_=dl(Error(n(423)),f),f=wS(l,f,b,g,_);break e}else if(b!==_){_=dl(Error(n(424)),f),f=wS(l,f,b,g,_);break e}else for(Er=Rs(f.stateNode.containerInfo.firstChild),xr=f,It=!0,Jr=null,g=NC(f,null,b,g),f.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(al(),b===_){f=Wi(l,f,g);break e}Kn(l,f,b,g)}f=f.child}return f;case 5:return LC(f),l===null&&v1(f),b=f.type,_=f.pendingProps,I=l!==null?l.memoizedProps:null,W=_.children,c1(b,_)?W=null:I!==null&&c1(b,I)&&(f.flags|=32),mS(l,f),Kn(l,f,W,g),f.child;case 6:return l===null&&v1(f),null;case 13:return vS(l,f,g);case 4:return A1(f,f.stateNode.containerInfo),b=f.pendingProps,l===null?f.child=ll(f,null,b,g):Kn(l,f,b,g),f.child;case 11:return b=f.type,_=f.pendingProps,_=f.elementType===b?_:Qr(b,_),fS(l,f,b,_,g);case 7:return Kn(l,f,f.pendingProps,g),f.child;case 8:return Kn(l,f,f.pendingProps.children,g),f.child;case 12:return Kn(l,f,f.pendingProps.children,g),f.child;case 10:e:{if(b=f.type._context,_=f.pendingProps,I=f.memoizedProps,W=_.value,Et(Nd,b._currentValue),b._currentValue=W,I!==null)if(Zr(I.value,W)){if(I.children===_.children&&!tr.current){f=Wi(l,f,g);break e}}else for(I=f.child,I!==null&&(I.return=f);I!==null;){var ue=I.dependencies;if(ue!==null){W=I.child;for(var he=ue.firstContext;he!==null;){if(he.context===b){if(I.tag===1){he=Vi(-1,g&-g),he.tag=2;var Ee=I.updateQueue;if(Ee!==null){Ee=Ee.shared;var Ne=Ee.pending;Ne===null?he.next=he:(he.next=Ne.next,Ne.next=he),Ee.pending=he}}I.lanes|=g,he=I.alternate,he!==null&&(he.lanes|=g),S1(I.return,g,f),ue.lanes|=g;break}he=he.next}}else if(I.tag===10)W=I.type===f.type?null:I.child;else if(I.tag===18){if(W=I.return,W===null)throw Error(n(341));W.lanes|=g,ue=W.alternate,ue!==null&&(ue.lanes|=g),S1(W,g,f),W=I.sibling}else W=I.child;if(W!==null)W.return=I;else for(W=I;W!==null;){if(W===f){W=null;break}if(I=W.sibling,I!==null){I.return=W.return,W=I;break}W=W.return}I=W}Kn(l,f,_.children,g),f=f.child}return f;case 9:return _=f.type,b=f.pendingProps.children,cl(f,g),_=Ir(_),b=b(_),f.flags|=1,Kn(l,f,b,g),f.child;case 14:return b=f.type,_=Qr(b,f.pendingProps),_=Qr(b.type,_),dS(l,f,b,_,g);case 15:return hS(l,f,f.type,f.pendingProps,g);case 17:return b=f.type,_=f.pendingProps,_=f.elementType===b?_:Qr(b,_),zd(l,f),f.tag=1,nr(b)?(l=!0,Sd(f)):l=!1,cl(f,g),iS(f,b,_),H1(f,b,_,g),V1(null,f,b,!0,l,g);case 19:return xS(l,f,g);case 22:return pS(l,f,g)}throw Error(n(156,f.tag))};function WS(l,f){return SE(l,f)}function wM(l,f,g,b){this.tag=l,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(l,f,g,b){return new wM(l,f,g,b)}function cy(l){return l=l.prototype,!(!l||!l.isReactComponent)}function vM(l){if(typeof l=="function")return cy(l)?1:0;if(l!=null){if(l=l.$$typeof,l===H)return 11;if(l===Z)return 14}return 2}function Hs(l,f){var g=l.alternate;return g===null?(g=Lr(l.tag,f,l.key,l.mode),g.elementType=l.elementType,g.type=l.type,g.stateNode=l.stateNode,g.alternate=l,l.alternate=g):(g.pendingProps=f,g.type=l.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=l.flags&14680064,g.childLanes=l.childLanes,g.lanes=l.lanes,g.child=l.child,g.memoizedProps=l.memoizedProps,g.memoizedState=l.memoizedState,g.updateQueue=l.updateQueue,f=l.dependencies,g.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},g.sibling=l.sibling,g.index=l.index,g.ref=l.ref,g}function Qd(l,f,g,b,_,I){var W=2;if(b=l,typeof l=="function")cy(l)&&(W=1);else if(typeof l=="string")W=5;else e:switch(l){case $:return Ko(g.children,_,I,f);case K:W=8,_|=8;break;case F:return l=Lr(12,g,f,_|2),l.elementType=F,l.lanes=I,l;case X:return l=Lr(13,g,f,_),l.elementType=X,l.lanes=I,l;case N:return l=Lr(19,g,f,_),l.elementType=N,l.lanes=I,l;case G:return eh(g,_,I,f);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case ie:W=10;break e;case me:W=9;break e;case H:W=11;break e;case Z:W=14;break e;case le:W=16,b=null;break e}throw Error(n(130,l==null?l:typeof l,""))}return f=Lr(W,g,f,_),f.elementType=l,f.type=b,f.lanes=I,f}function Ko(l,f,g,b){return l=Lr(7,l,b,f),l.lanes=g,l}function eh(l,f,g,b){return l=Lr(22,l,b,f),l.elementType=G,l.lanes=g,l.stateNode={isHidden:!1},l}function fy(l,f,g){return l=Lr(6,l,null,f),l.lanes=g,l}function dy(l,f,g){return f=Lr(4,l.children!==null?l.children:[],l.key,f),f.lanes=g,f.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},f}function bM(l,f,g,b,_){this.tag=f,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jg(0),this.expirationTimes=jg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jg(0),this.identifierPrefix=b,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function hy(l,f,g,b,_,I,W,ue,he){return l=new bM(l,f,g,ue,he),f===1?(f=1,I===!0&&(f|=8)):f=0,I=Lr(3,null,null,f),l.current=I,I.stateNode=l,I.memoizedState={element:b,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},T1(I),l}function xM(l,f,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:b==null?null:""+b,children:l,containerInfo:f,implementation:g}}function KS(l){if(!l)return Os;l=l._reactInternals;e:{if(Do(l)!==l||l.tag!==1)throw Error(n(170));var f=l;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(nr(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(n(171))}if(l.tag===1){var g=l.type;if(nr(g))return bC(l,g,f)}return f}function qS(l,f,g,b,_,I,W,ue,he){return l=hy(g,b,!0,l,_,I,W,ue,he),l.context=KS(null),g=l.current,b=qn(),_=Bs(g),I=Vi(b,_),I.callback=f??null,Ds(g,I,_),l.current.lanes=_,Nu(l,_,b),sr(l,b),l}function th(l,f,g,b){var _=f.current,I=qn(),W=Bs(_);return g=KS(g),f.context===null?f.context=g:f.pendingContext=g,f=Vi(I,W),f.payload={element:l},b=b===void 0?null:b,b!==null&&(f.callback=b),l=Ds(_,f,W),l!==null&&(ni(l,_,W,I),Id(l,_,W)),W}function nh(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function GS(l,f){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var g=l.retryLane;l.retryLane=g!==0&&g<f?g:f}}function py(l,f){GS(l,f),(l=l.alternate)&&GS(l,f)}var XS=typeof reportError=="function"?reportError:function(l){console.error(l)};function my(l){this._internalRoot=l}rh.prototype.render=my.prototype.render=function(l){var f=this._internalRoot;if(f===null)throw Error(n(409));th(l,f,null,null)},rh.prototype.unmount=my.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var f=l.containerInfo;Uo(function(){th(null,l,null,null)}),f[ji]=null}};function rh(l){this._internalRoot=l}rh.prototype.unstable_scheduleHydration=function(l){if(l){var f=IE();l={blockedOn:null,target:l,priority:f};for(var g=0;g<Ts.length&&f!==0&&f<Ts[g].priority;g++);Ts.splice(g,0,l),g===0&&LE(l)}};function gy(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function ih(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function YS(){}function EM(l,f,g,b,_){if(_){if(typeof b=="function"){var I=b;b=function(){var Ee=nh(W);I.call(Ee)}}var W=qS(f,b,l,0,null,!1,!1,"",YS);return l._reactRootContainer=W,l[ji]=W.current,Vu(l.nodeType===8?l.parentNode:l),Uo(),W}for(;_=l.lastChild;)l.removeChild(_);if(typeof b=="function"){var ue=b;b=function(){var Ee=nh(he);ue.call(Ee)}}var he=hy(l,0,!1,null,null,!1,!1,"",YS);return l._reactRootContainer=he,l[ji]=he.current,Vu(l.nodeType===8?l.parentNode:l),Uo(function(){th(f,he,g,b)}),he}function sh(l,f,g,b,_){var I=g._reactRootContainer;if(I){var W=I;if(typeof _=="function"){var ue=_;_=function(){var he=nh(W);ue.call(he)}}th(f,W,l,_)}else W=EM(g,f,l,_,b);return nh(W)}NE=function(l){switch(l.tag){case 3:var f=l.stateNode;if(f.current.memoizedState.isDehydrated){var g=Ru(f.pendingLanes);g!==0&&(Hg(f,g|1),sr(f,Xt()),!(at&6)&&(ml=Xt()+500,Is()))}break;case 13:Uo(function(){var b=Ui(l,1);if(b!==null){var _=qn();ni(b,l,1,_)}}),py(l,1)}},$g=function(l){if(l.tag===13){var f=Ui(l,134217728);if(f!==null){var g=qn();ni(f,l,134217728,g)}py(l,134217728)}},OE=function(l){if(l.tag===13){var f=Bs(l),g=Ui(l,f);if(g!==null){var b=qn();ni(g,l,f,b)}py(l,f)}},IE=function(){return pt},ME=function(l,f){var g=pt;try{return pt=l,f()}finally{pt=g}},Gt=function(l,f,g){switch(f){case"input":if(C(l,g),f=g.name,g.type==="radio"&&f!=null){for(g=l;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+f)+'][type="radio"]'),f=0;f<g.length;f++){var b=g[f];if(b!==l&&b.form===l.form){var _=Ed(b);if(!_)throw Error(n(90));q(b),C(b,_)}}}break;case"textarea":we(l,g);break;case"select":f=g.value,f!=null&&ce(l,!!g.multiple,f,!1)}},Bi=ay,Qf=Uo;var CM={usingClientEntryPoint:!1,Events:[qu,nl,Ed,Ga,Oo,ay]},ac={findFiberByHostInstance:Lo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SM={bundleType:ac.bundleType,version:ac.version,rendererPackageName:ac.rendererPackageName,rendererConfig:ac.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=EE(l),l===null?null:l.stateNode},findFiberByHostInstance:ac.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oh.isDisabled&&oh.supportsFiber)try{rd=oh.inject(SM),mi=oh}catch{}}return or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CM,or.createPortal=function(l,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gy(f))throw Error(n(200));return xM(l,f,null,g)},or.createRoot=function(l,f){if(!gy(l))throw Error(n(299));var g=!1,b="",_=XS;return f!=null&&(f.unstable_strictMode===!0&&(g=!0),f.identifierPrefix!==void 0&&(b=f.identifierPrefix),f.onRecoverableError!==void 0&&(_=f.onRecoverableError)),f=hy(l,1,!1,null,null,g,!1,b,_),l[ji]=f.current,Vu(l.nodeType===8?l.parentNode:l),new my(f)},or.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var f=l._reactInternals;if(f===void 0)throw typeof l.render=="function"?Error(n(188)):(l=Object.keys(l).join(","),Error(n(268,l)));return l=EE(f),l=l===null?null:l.stateNode,l},or.flushSync=function(l){return Uo(l)},or.hydrate=function(l,f,g){if(!ih(f))throw Error(n(200));return sh(null,l,f,!0,g)},or.hydrateRoot=function(l,f,g){if(!gy(l))throw Error(n(405));var b=g!=null&&g.hydratedSources||null,_=!1,I="",W=XS;if(g!=null&&(g.unstable_strictMode===!0&&(_=!0),g.identifierPrefix!==void 0&&(I=g.identifierPrefix),g.onRecoverableError!==void 0&&(W=g.onRecoverableError)),f=qS(f,null,l,1,g??null,_,!1,I,W),l[ji]=f.current,Vu(l),b)for(l=0;l<b.length;l++)g=b[l],_=g._getVersion,_=_(g._source),f.mutableSourceEagerHydrationData==null?f.mutableSourceEagerHydrationData=[g,_]:f.mutableSourceEagerHydrationData.push(g,_);return new rh(f)},or.render=function(l,f,g){if(!ih(f))throw Error(n(200));return sh(null,l,f,!1,g)},or.unmountComponentAtNode=function(l){if(!ih(l))throw Error(n(40));return l._reactRootContainer?(Uo(function(){sh(null,null,l,!1,function(){l._reactRootContainer=null,l[ji]=null})}),!0):!1},or.unstable_batchedUpdates=ay,or.unstable_renderSubtreeIntoContainer=function(l,f,g,b){if(!ih(g))throw Error(n(200));if(l==null||l._reactInternals===void 0)throw Error(n(38));return sh(l,f,g,!1,b)},or.version="18.3.1-next-f1338f8080-20240426",or}var ik;function GA(){if(ik)return vy.exports;ik=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),vy.exports=DM(),vy.exports}var sk;function LM(){if(sk)return lh;sk=1;var t=GA();return lh.createRoot=t.createRoot,lh.hydrateRoot=t.hydrateRoot,lh}var PM=LM(),A=c2();const Wt=qA(A),f2=_M({__proto__:null,default:Wt},[A]),FM=A.createContext({});function BM({children:t}){const[e,n]=A.useState(""),r={exemplo:e,setExemplo:n};return z.jsx(FM.Provider,{value:r,children:t})}function Cn(t){this.content=t}Cn.prototype={constructor:Cn,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),s=r.content.slice();return i==-1?s.push(n||t,e):(s[i+1]=e,n&&(s[i]=n)),new Cn(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Cn(n)},addToStart:function(t,e){return new Cn([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Cn(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),s=r.find(t);return i.splice(s==-1?i.length:s,0,e,n),new Cn(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Cn.from(t),t.size?new Cn(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Cn.from(t),t.size?new Cn(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Cn.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Cn.from=function(t){if(t instanceof Cn)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Cn(e)};function XA(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),s=e.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let o=0;i.text[o]==s.text[o];o++)n++;return n}if(i.content.size||s.content.size){let o=XA(i.content,s.content,n+1);if(o!=null)return o}n+=i.nodeSize}}function YA(t,e,n,r){for(let i=t.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let o=t.child(--i),a=e.child(--s),u=o.nodeSize;if(o==a){n-=u,r-=u;continue}if(!o.sameMarkup(a))return{a:n,b:r};if(o.isText&&o.text!=a.text){let c=0,d=Math.min(o.text.length,a.text.length);for(;c<d&&o.text[o.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(o.content.size||a.content.size){let c=YA(o.content,a.content,n-1,r-1);if(c)return c}n-=u,r-=u}}class Ae{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,s){for(let o=0,a=0;a<n;o++){let u=this.content[o],c=a+u.nodeSize;if(c>e&&r(u,i+a,s||null,o)!==!1&&u.content.size){let d=a+1;u.nodesBetween(Math.max(0,e-d),Math.min(u.content.size,n-d),r,i+d)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let s="",o=!0;return this.nodesBetween(e,n,(a,u)=>{let c=a.isText?a.text.slice(Math.max(e,u)-u,n-u):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&r&&(o?o=!1:s+=r),s+=c},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new Ae(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let s=0,o=0;o<n;s++){let a=this.content[s],u=o+a.nodeSize;u>e&&((o<e||u>n)&&(a.isText?a=a.cut(Math.max(0,e-o),Math.min(a.text.length,n-o)):a=a.cut(Math.max(0,e-o-1),Math.min(a.content.size,n-o-1))),r.push(a),i+=a.nodeSize),o=u}return new Ae(r,i)}cutByIndex(e,n){return e==n?Ae.empty:e==0&&n==this.content.length?this:new Ae(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new Ae(i,s)}addToStart(e){return new Ae([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Ae(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return XA(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return YA(this,e,n,r)}findIndex(e,n=-1){if(e==0)return uh(0,e);if(e==this.size)return uh(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let s=this.child(r),o=i+s.nodeSize;if(o>=e)return o==e||n>0?uh(r+1,o):uh(r,i);i=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return Ae.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new Ae(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Ae.empty;let n,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(n||(n=e.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new Ae(n||e,r)}static from(e){if(!e)return Ae.empty;if(e instanceof Ae)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Ae([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Ae.empty=new Ae([],0);const Ey={index:0,offset:0};function uh(t,e){return Ey.index=t,Ey.offset=e,Ey}function yp(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!yp(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!yp(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let bt=class Nv{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&yp(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Nv.none;if(e instanceof Nv)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};bt.none=[];class wp extends Error{}class Le{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=JA(this.content,e+this.openStart,n);return r&&new Le(r,this.openStart,this.openEnd)}removeBetween(e,n){return new Le(ZA(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return Le.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Le(Ae.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new Le(e,r,i)}}Le.empty=new Le(Ae.empty,0,0);function ZA(t,e,n){let{index:r,offset:i}=t.findIndex(e),s=t.maybeChild(r),{index:o,offset:a}=t.findIndex(n);if(i==e||s.isText){if(a!=n&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(r,s.copy(ZA(s.content,e-i-1,n-i-1)))}function JA(t,e,n,r){let{index:i,offset:s}=t.findIndex(e),o=t.maybeChild(i);if(s==e||o.isText)return t.cut(0,e).append(n).append(t.cut(e));let a=JA(o.content,e-s-1,n);return a&&t.replaceChild(i,o.copy(a))}function jM(t,e,n){if(n.openStart>t.depth)throw new wp("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new wp("Inconsistent open depths");return QA(t,e,n,0)}function QA(t,e,n,r){let i=t.index(r),s=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let o=QA(t,e,n,r+1);return s.copy(s.content.replaceChild(i,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let o=t.parent,a=o.content;return ha(o,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:o,end:a}=HM(n,t);return ha(s,t6(t,o,a,e,r))}else return ha(s,vp(t,e,r))}function e6(t,e){if(!e.type.compatibleContent(t.type))throw new wp("Cannot join "+e.type.name+" onto "+t.type.name)}function Ov(t,e,n){let r=t.node(n);return e6(r,e.node(n)),r}function da(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function _c(t,e,n,r){let i=(e||t).node(n),s=0,o=e?e.index(n):i.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(da(t.nodeAfter,r),s++));for(let a=s;a<o;a++)da(i.child(a),r);e&&e.depth==n&&e.textOffset&&da(e.nodeBefore,r)}function ha(t,e){return t.type.checkContent(e),t.copy(e)}function t6(t,e,n,r,i){let s=t.depth>i&&Ov(t,e,i+1),o=r.depth>i&&Ov(n,r,i+1),a=[];return _c(null,t,i,a),s&&o&&e.index(i)==n.index(i)?(e6(s,o),da(ha(s,t6(t,e,n,r,i+1)),a)):(s&&da(ha(s,vp(t,e,i+1)),a),_c(e,n,i,a),o&&da(ha(o,vp(n,r,i+1)),a)),_c(r,null,i,a),new Ae(a)}function vp(t,e,n){let r=[];if(_c(null,t,n,r),t.depth>n){let i=Ov(t,e,n+1);da(ha(i,vp(t,e,n+1)),r)}return _c(e,null,n,r),new Ae(r)}function HM(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)i=e.node(s).copy(Ae.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class Gc{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return bt.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let a=r;r=i,i=a}let s=r.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!i||!s[o].isInSet(i.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new Xc(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let o=e;;){let{index:a,offset:u}=o.content.findIndex(s),c=s-u;if(r.push(o,a,i+u),!c||(o=o.child(a),o.isText))break;s=c-1,i+=u+1}return new Gc(n,r,s)}static resolveCached(e,n){let r=ok.get(e);if(r)for(let s=0;s<r.elts.length;s++){let o=r.elts[s];if(o.pos==n)return o}else ok.set(e,r=new $M);let i=r.elts[r.i]=Gc.resolve(e,n);return r.i=(r.i+1)%zM,i}}class $M{constructor(){this.elts=[],this.i=0}}const zM=12,ok=new WeakMap;class Xc{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const UM=Object.create(null);let uo=class Iv{constructor(e,n,r,i=bt.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||Ae.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&yp(this.attrs,n||e.defaultAttrs||UM)&&bt.sameSet(this.marks,r||bt.none)}copy(e=null){return e==this.content?this:new Iv(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Iv(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return Le.empty;let i=this.resolve(e),s=this.resolve(n),o=r?0:i.sharedDepth(n),a=i.start(o),c=i.node(o).content.cut(i.pos-a,s.pos-a);return new Le(c,i.depth-o,s.depth-o)}replace(e,n,r){return jM(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return Gc.resolveCached(this,e)}resolveNoCache(e){return Gc.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),n6(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=Ae.empty,i=0,s=r.childCount){let o=this.contentMatchAt(e).matchFragment(r,i,s),a=o&&o.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let u=i;u<s;u++)if(!this.type.allowsMarks(r.child(u).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),o=s&&s.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=bt.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!bt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=Ae.fromJSON(e,n.content),s=e.nodeType(n.type).create(n.attrs,i,r);return s.type.checkAttrs(s.attrs),s}};uo.prototype.text=void 0;class bp extends uo{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):n6(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new bp(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new bp(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function n6(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class xa{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new VM(e,n);if(r.next==null)return xa.empty;let i=r6(r);r.next&&r.err("Unexpected trailing text");let s=ZM(YM(i));return JM(s,r),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function s(o,a){let u=o.matchFragment(e,r);if(u&&(!n||u.validEnd))return Ae.from(a.map(c=>c.createAndFill()));for(let c=0;c<o.next.length;c++){let{type:d,next:h}=o.next[c];if(!(d.isText||d.hasRequiredAttrs())&&i.indexOf(h)==-1){i.push(h);let p=s(h,a.concat(d));if(p)return p}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let o=[];for(let a=i;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:a,next:u}=s.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!i.type||u.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)s+=(o?", ":"")+r.next[o].type.name+"->"+e.indexOf(r.next[o].next);return s}).join(`
`)}}xa.empty=new xa(!0);class VM{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function r6(t){let e=[];do e.push(WM(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function WM(t){let e=[];do e.push(KM(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function KM(t){let e=XM(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=qM(t,e);else break;return e}function ak(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function qM(t,e){let n=ak(t),r=n;return t.eat(",")&&(t.next!="}"?r=ak(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function GM(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let s in n){let o=n[s];o.isInGroup(e)&&i.push(o)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function XM(t){if(t.eat("(")){let e=r6(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=GM(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function YM(t){let e=[[]];return i(s(t,0),n()),e;function n(){return e.push([])-1}function r(o,a,u){let c={term:u,to:a};return e[o].push(c),c}function i(o,a){o.forEach(u=>u.to=a)}function s(o,a){if(o.type=="choice")return o.exprs.reduce((u,c)=>u.concat(s(c,a)),[]);if(o.type=="seq")for(let u=0;;u++){let c=s(o.exprs[u],a);if(u==o.exprs.length-1)return c;i(c,a=n())}else if(o.type=="star"){let u=n();return r(a,u),i(s(o.expr,u),u),[r(u)]}else if(o.type=="plus"){let u=n();return i(s(o.expr,a),u),i(s(o.expr,u),u),[r(u)]}else{if(o.type=="opt")return[r(a)].concat(s(o.expr,a));if(o.type=="range"){let u=a;for(let c=0;c<o.min;c++){let d=n();i(s(o.expr,u),d),u=d}if(o.max==-1)i(s(o.expr,u),u);else for(let c=o.min;c<o.max;c++){let d=n();r(u,d),i(s(o.expr,u),d),u=d}return[r(u)]}else{if(o.type=="name")return[r(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function i6(t,e){return e-t}function lk(t,e){let n=[];return r(e),n.sort(i6);function r(i){let s=t[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let o=0;o<s.length;o++){let{term:a,to:u}=s[o];!a&&n.indexOf(u)==-1&&r(u)}}}function ZM(t){let e=Object.create(null);return n(lk(t,0));function n(r){let i=[];r.forEach(o=>{t[o].forEach(({term:a,to:u})=>{if(!a)return;let c;for(let d=0;d<i.length;d++)i[d][0]==a&&(c=i[d][1]);lk(t,u).forEach(d=>{c||i.push([a,c=[]]),c.indexOf(d)==-1&&c.push(d)})})});let s=e[r.join(",")]=new xa(r.indexOf(t.length-1)>-1);for(let o=0;o<i.length;o++){let a=i[o][1].sort(i6);s.next.push({type:i[o][0],next:e[a.join(",")]||n(a)})}return s}}function JM(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],s=!i.validEnd,o=[];for(let a=0;a<i.next.length;a++){let{type:u,next:c}=i.next[a];o.push(u.name),s&&!(u.isText||u.hasRequiredAttrs())&&(s=!1),r.indexOf(c)==-1&&r.push(c)}s&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function s6(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function o6(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let s=t[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function a6(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let s=t[i];s.validate&&s.validate(e[i])}}function l6(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new eD(t,r,e[r]);return n}let uk=class u6{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=l6(e,r.attrs),this.defaultAttrs=s6(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==xa.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:o6(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new uo(this,this.computeAttrs(e),Ae.from(n),bt.setFrom(r))}createChecked(e=null,n,r){return n=Ae.from(n),this.checkContent(n),new uo(this,this.computeAttrs(e),n,bt.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=Ae.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(Ae.empty,!0);return s?new uo(this,e,n.append(s),bt.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){a6(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:bt.none:e}static compile(e,n){let r=Object.create(null);e.forEach((s,o)=>r[s]=new u6(s,n,o));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function QM(t,e,n){let r=n.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${s}`)}}class eD{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?QM(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Om{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=l6(e,i.attrs),this.excluded=null;let s=s6(this.attrs);this.instance=s?new bt(this,s):null}create(e=null){return!e&&this.instance?this.instance:new bt(this,o6(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((s,o)=>r[s]=new Om(s,i++,n,o)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){a6(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class c6{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=Cn.from(e.nodes),n.marks=Cn.from(e.marks||{}),this.nodes=uk.compile(this.spec.nodes,this),this.marks=Om.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],o=s.spec.content||"",a=s.spec.marks;if(s.contentMatch=r[o]||(r[o]=xa.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=a=="_"?null:a?ck(this,a.split(" ")):a==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:ck(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof uk){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new bp(r,r.defaultAttrs,e,bt.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return uo.fromJSON(this,e)}markFromJSON(e){return bt.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function ck(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],s=t.marks[i],o=s;if(s)n.push(s);else for(let a in t.marks){let u=t.marks[a];(i=="_"||u.spec.group&&u.spec.group.split(" ").indexOf(i)>-1)&&n.push(o=u)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function tD(t){return t.tag!=null}function nD(t){return t.style!=null}let Rc=class Mv{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(tD(i))this.tags.push(i);else if(nD(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let r=new dk(this,n,!1);return r.addAll(e,bt.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new dk(this,n,!0);return r.addAll(e,bt.none,n.from,n.to),Le.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(sD(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(e);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(e,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let o=this.styles[s],a=o.style;if(!(a.indexOf(e)!=0||o.context&&!r.matchesContext(o.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(o.getAttrs){let u=o.getAttrs(n);if(u===!1)continue;o.attrs=u||void 0}return o}}}static schemaRules(e){let n=[];function r(i){let s=i.priority==null?50:i.priority,o=0;for(;o<n.length;o++){let a=n[o];if((a.priority==null?50:a.priority)<s)break}n.splice(o,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(o=>{r(o=hk(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(o=>{r(o=hk(o)),o.node||o.ignore||o.mark||(o.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Mv(e,Mv.schemaRules(e)))}};const f6={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},rD={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},d6={ol:!0,ul:!0},Yc=1,Dv=2,ep=4;function fk(t,e,n){return e!=null?(e?Yc:0)|(e==="full"?Dv:0):t&&t.whitespace=="pre"?Yc|Dv:n&-5}class ch{constructor(e,n,r,i,s,o){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=o,this.content=[],this.activeMarks=bt.none,this.match=s||(o&ep?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(Ae.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Yc)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=Ae.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(Ae.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!f6.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class dk{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,s,o=fk(null,n.preserveWhitespace,0)|(r?ep:0);i?s=new ch(i.type,i.attrs,bt.none,!0,n.topMatch||i.type.contentMatch,o):r?s=new ch(null,null,bt.none,!0,null,o):s=new ch(e.schema.topNodeType,null,bt.none,!0,null,o),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top,s=i.options&Dv?"full":this.localPreserveWS||(i.options&Yc)>0;if(s==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(s)s!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let o=i.content[i.content.length-1],a=e.previousSibling;(!o||a&&a.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),a;d6.hasOwnProperty(o)&&this.parser.normalizeLists&&iD(e);let u=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(a=this.parser.matchTag(e,this,r));e:if(u?u.ignore:rD.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,n);else if(!u||u.skip||u.closeParent){u&&u.closeParent?this.open=Math.max(0,this.open-1):u&&u.skip.nodeType&&(e=u.skip);let c,d=this.needsBlock;if(f6.hasOwnProperty(o))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),c=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let h=u&&u.skip?n:this.readStyles(e,n);h&&this.addAll(e,h),c&&this.sync(s),this.needsBlock=d}else{let c=this.readStyles(e,n);c&&this.addElementByRule(e,u,c,u.consuming===!1?a:void 0)}this.localPreserveWS=i}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],o=r.getPropertyValue(s);if(o)for(let a=void 0;;){let u=this.parser.matchStyle(s,o,this,a);if(!u)break;if(u.ignore)return null;if(u.clearMark?n=n.filter(c=>!u.clearMark(c)):n=n.concat(this.parser.schema.marks[u.mark].create(u.attrs)),u.consuming===!1)a=u;else break}}return n}addElementByRule(e,n,r,i){let s,o;if(n.node)if(o=this.parser.schema.nodes[n.node],o.isLeaf)this.insertNode(o.create(n.attrs),r)||this.leafFallback(e,r);else{let u=this.enter(o,n.attrs||null,r,n.preserveWhitespace);u&&(s=!0,r=u)}else{let u=this.parser.schema.marks[n.mark];r=r.concat(u.create(n.attrs))}let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(u=>this.insertNode(u,r));else{let u=e;typeof n.contentElement=="string"?u=e.querySelector(n.contentElement):typeof n.contentElement=="function"?u=n.contentElement(e):n.contentElement&&(u=n.contentElement),this.findAround(e,u,!0),this.addAll(u,r),this.findAround(e,u,!1)}s&&this.sync(a)&&this.open--}addAll(e,n,r,i){let s=r||0;for(let o=r?e.childNodes[r]:e.firstChild,a=i==null?null:e.childNodes[i];o!=a;o=o.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(o,n);this.findAtPoint(e,s)}findPlace(e,n){let r,i;for(let s=this.open;s>=0;s--){let o=this.nodes[s],a=o.findWrapping(e);if(a&&(!r||r.length>a.length)&&(r=a,i=o,!a.length)||o.solid)break}if(!r)return null;this.sync(i);for(let s=0;s<r.length;s++)n=this.enterInner(r[s],null,n,!1);return n}insertNode(e,n){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(n=this.enterInner(i,null,n))}let r=this.findPlace(e,n);if(r){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let s=bt.none;for(let o of r.concat(e.marks))(i.type?i.type.allowsMarkType(o.type):pk(o.type,e.type))&&(s=o.addToSet(s));return i.content.push(e.mark(s)),!0}return!1}enter(e,n,r,i){let s=this.findPlace(e.create(n),r);return s&&(s=this.enterInner(e,n,r,!0,i)),s}enterInner(e,n,r,i=!1,s){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let a=fk(e,s,o.options);o.options&ep&&o.content.length==0&&(a|=ep);let u=bt.none;return r=r.filter(c=>(o.type?o.type.allowsMarkType(c.type):pk(c.type,e))?(u=c.addToSet(u),!1):!0),this.nodes.push(new ch(e,n,u,i,null,a)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Yc)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),o=(a,u)=>{for(;a>=0;a--){let c=n[a];if(c==""){if(a==n.length-1||a==0)continue;for(;u>=s;u--)if(o(a-1,u))return!0;return!1}else{let d=u>0||u==0&&i?this.nodes[u].type:r&&u>=s?r.node(u-s).type:null;if(!d||d.name!=c&&!d.isInGroup(c))return!1;u--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function iD(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&d6.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function sD(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function hk(t){let e={};for(let n in t)e[n]=t[n];return e}function pk(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let s=[],o=a=>{s.push(a);for(let u=0;u<a.edgeCount;u++){let{type:c,next:d}=a.edge(u);if(c==e||s.indexOf(d)<0&&o(d))return!0}};if(o(i.contentMatch))return!0}}class Pa{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=Cy(n).createDocumentFragment());let i=r,s=[];return e.forEach(o=>{if(s.length||o.marks.length){let a=0,u=0;for(;a<s.length&&u<o.marks.length;){let c=o.marks[u];if(!this.marks[c.type.name]){u++;continue}if(!c.eq(s[a][0])||c.type.spec.spanning===!1)break;a++,u++}for(;a<s.length;)i=s.pop()[1];for(;u<o.marks.length;){let c=o.marks[u++],d=this.serializeMark(c,o.isInline,n);d&&(s.push([c,i]),i.appendChild(d.dom),i=d.contentDOM||d.dom)}}i.appendChild(this.serializeNodeInner(o,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=tp(Cy(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&tp(Cy(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return tp(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Pa(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=mk(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return mk(e.marks)}}function mk(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function Cy(t){return t.document||window.document}const gk=new WeakMap;function oD(t){let e=gk.get(t);return e===void 0&&gk.set(t,e=aD(t)),e}function aD(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function tp(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=oD(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=i.indexOf(" ");o>0&&(n=i.slice(0,o),i=i.slice(o+1));let a,u=n?t.createElementNS(n,i):t.createElement(i),c=e[1],d=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){d=2;for(let h in c)if(c[h]!=null){let p=h.indexOf(" ");p>0?u.setAttributeNS(h.slice(0,p),h.slice(p+1),c[h]):u.setAttribute(h,c[h])}}for(let h=d;h<e.length;h++){let p=e[h];if(p===0){if(h<e.length-1||h>d)throw new RangeError("Content hole must be the only child of its parent node");return{dom:u,contentDOM:u}}else{let{dom:m,contentDOM:w}=tp(t,p,n,r);if(u.appendChild(m),w){if(a)throw new RangeError("Multiple content holes");a=w}}}return{dom:u,contentDOM:a}}const h6=65535,p6=Math.pow(2,16);function lD(t,e){return t+e*p6}function yk(t){return t&h6}function uD(t){return(t-(t&h6))/p6}const m6=1,g6=2,np=4,y6=8;class Lv{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&y6)>0}get deletedBefore(){return(this.delInfo&(m6|np))>0}get deletedAfter(){return(this.delInfo&(g6|np))>0}get deletedAcross(){return(this.delInfo&np)>0}}class Tr{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Tr.empty)return Tr.empty}recover(e){let n=0,r=yk(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+uD(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let u=this.ranges[a]-(this.inverted?i:0);if(u>e)break;let c=this.ranges[a+s],d=this.ranges[a+o],h=u+c;if(e<=h){let p=c?e==u?-1:e==h?1:n:n,m=u+i+(p<0?0:d);if(r)return m;let w=e==(n<0?u:h)?null:lD(a/3,e-u),y=e==u?g6:e==h?m6:np;return(n<0?e!=u:e!=h)&&(y|=y6),new Lv(m,y,w)}i+=d-c}return r?e+i:new Lv(e+i,0,null)}touches(e,n){let r=0,i=yk(n),s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let u=this.ranges[a]-(this.inverted?r:0);if(u>e)break;let c=this.ranges[a+s],d=u+c;if(e<=d&&a==i*3)return!0;r+=this.ranges[a+o]-c}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let o=this.ranges[i],a=o-(this.inverted?s:0),u=o+(this.inverted?0:s),c=this.ranges[i+n],d=this.ranges[i+r];e(a,a+c,u,u+d),s+=d-c}}invert(){return new Tr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Tr.empty:new Tr(e<0?[0,-e,0]:[0,0,e])}}Tr.empty=new Tr([]);class Zc{constructor(e,n,r=0,i=e?e.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new Zc(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let i=e.getMirror(n);this.appendMap(e._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new Zc;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let s=this.from;s<this.to;s++){let o=this._maps[s],a=o.mapResult(e,n);if(a.recover!=null){let u=this.getMirror(s);if(u!=null&&u>s&&u<this.to){s=u,e=this._maps[u].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return r?e:new Lv(e,i,null)}}const Sy=Object.create(null);class Un{getMap(){return Tr.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Sy[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Sy)throw new RangeError("Duplicate use of step JSON ID "+e);return Sy[e]=n,n.prototype.jsonID=e,n}}class nn{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new nn(e,null)}static fail(e){return new nn(null,e)}static fromReplace(e,n,r,i){try{return nn.ok(e.replace(n,r,i))}catch(s){if(s instanceof wp)return nn.fail(s.message);throw s}}}function d2(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let s=t.child(i);s.content.size&&(s=s.copy(d2(s.content,e,s))),s.isInline&&(s=e(s,n,i)),r.push(s)}return Ae.fromArray(r)}class io extends Un{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new Le(d2(n.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),n.openStart,n.openEnd);return nn.fromReplace(e,this.from,this.to,s)}invert(){return new _i(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new io(n.pos,r.pos,this.mark)}merge(e){return e instanceof io&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new io(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new io(n.from,n.to,e.markFromJSON(n.mark))}}Un.jsonID("addMark",io);class _i extends Un{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new Le(d2(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return nn.fromReplace(e,this.from,this.to,r)}invert(){return new io(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new _i(n.pos,r.pos,this.mark)}merge(e){return e instanceof _i&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new _i(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new _i(n.from,n.to,e.markFromJSON(n.mark))}}Un.jsonID("removeMark",_i);class so extends Un{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return nn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return nn.fromReplace(e,this.pos,this.pos+1,new Le(Ae.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new so(this.pos,n.marks[i]);return new so(this.pos,this.mark)}}return new Yl(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new so(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new so(n.pos,e.markFromJSON(n.mark))}}Un.jsonID("addNodeMark",so);class Yl extends Un{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return nn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return nn.fromReplace(e,this.pos,this.pos+1,new Le(Ae.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new so(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Yl(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Yl(n.pos,e.markFromJSON(n.mark))}}Un.jsonID("removeNodeMark",Yl);class hn extends Un{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&Pv(e,this.from,this.to)?nn.fail("Structure replace would overwrite content"):nn.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Tr([this.from,this.to-this.from,this.slice.size])}invert(e){return new hn(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new hn(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof hn)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?Le.empty:new Le(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new hn(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?Le.empty:new Le(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new hn(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new hn(n.from,n.to,Le.fromJSON(e,n.slice),!!n.structure)}}Un.jsonID("replace",hn);class pn extends Un{constructor(e,n,r,i,s,o,a=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=o,this.structure=a}apply(e){if(this.structure&&(Pv(e,this.from,this.gapFrom)||Pv(e,this.gapTo,this.to)))return nn.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return nn.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?nn.fromReplace(e,this.from,this.to,r):nn.fail("Content does not fit in gap")}getMap(){return new Tr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new pn(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new pn(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new pn(n.from,n.to,n.gapFrom,n.gapTo,Le.fromJSON(e,n.slice),n.insert,!!n.structure)}}Un.jsonID("replaceAround",pn);function Pv(t,e,n){let r=t.resolve(e),i=n-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let o=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function cD(t,e,n,r){let i=[],s=[],o,a;t.doc.nodesBetween(e,n,(u,c,d)=>{if(!u.isInline)return;let h=u.marks;if(!r.isInSet(h)&&d.type.allowsMarkType(r.type)){let p=Math.max(c,e),m=Math.min(c+u.nodeSize,n),w=r.addToSet(h);for(let y=0;y<h.length;y++)h[y].isInSet(w)||(o&&o.to==p&&o.mark.eq(h[y])?o.to=m:i.push(o=new _i(p,m,h[y])));a&&a.to==p?a.to=m:s.push(a=new io(p,m,r))}}),i.forEach(u=>t.step(u)),s.forEach(u=>t.step(u))}function fD(t,e,n,r){let i=[],s=0;t.doc.nodesBetween(e,n,(o,a)=>{if(!o.isInline)return;s++;let u=null;if(r instanceof Om){let c=o.marks,d;for(;d=r.isInSet(c);)(u||(u=[])).push(d),c=d.removeFromSet(c)}else r?r.isInSet(o.marks)&&(u=[r]):u=o.marks;if(u&&u.length){let c=Math.min(a+o.nodeSize,n);for(let d=0;d<u.length;d++){let h=u[d],p;for(let m=0;m<i.length;m++){let w=i[m];w.step==s-1&&h.eq(i[m].style)&&(p=w)}p?(p.to=c,p.step=s):i.push({style:h,from:Math.max(a,e),to:c,step:s})}}}),i.forEach(o=>t.step(new _i(o.from,o.to,o.style)))}function h2(t,e,n,r=n.contentMatch,i=!0){let s=t.doc.nodeAt(e),o=[],a=e+1;for(let u=0;u<s.childCount;u++){let c=s.child(u),d=a+c.nodeSize,h=r.matchType(c.type);if(!h)o.push(new hn(a,d,Le.empty));else{r=h;for(let p=0;p<c.marks.length;p++)n.allowsMarkType(c.marks[p].type)||t.step(new _i(a,d,c.marks[p]));if(i&&c.isText&&n.whitespace!="pre"){let p,m=/\r?\n|\r/g,w;for(;p=m.exec(c.text);)w||(w=new Le(Ae.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),o.push(new hn(a+p.index,a+p.index+p[0].length,w))}}a=d}if(!r.validEnd){let u=r.fillBefore(Ae.empty,!0);t.replace(a,a,new Le(u,0,0))}for(let u=o.length-1;u>=0;u--)t.step(o[u])}function dD(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function wu(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),s=t.$from.index(r),o=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(s,o,n))return r;if(r==0||i.type.spec.isolating||!dD(i,s,o))break}return null}function hD(t,e,n){let{$from:r,$to:i,depth:s}=e,o=r.before(s+1),a=i.after(s+1),u=o,c=a,d=Ae.empty,h=0;for(let w=s,y=!1;w>n;w--)y||r.index(w)>0?(y=!0,d=Ae.from(r.node(w).copy(d)),h++):u--;let p=Ae.empty,m=0;for(let w=s,y=!1;w>n;w--)y||i.after(w+1)<i.end(w)?(y=!0,p=Ae.from(i.node(w).copy(p)),m++):c++;t.step(new pn(u,c,o,a,new Le(d.append(p),h,m),d.size-h,!0))}function p2(t,e,n=null,r=t){let i=pD(t,e),s=i&&mD(r,e);return s?i.map(wk).concat({type:e,attrs:n}).concat(s.map(wk)):null}function wk(t){return{type:t,attrs:null}}function pD(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.contentMatchAt(r).findWrapping(e);if(!s)return null;let o=s.length?s[0]:e;return n.canReplaceWith(r,i,o)?s:null}function mD(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.child(r),o=e.contentMatch.findWrapping(s.type);if(!o)return null;let u=(o.length?o[o.length-1]:e).contentMatch;for(let c=r;u&&c<i;c++)u=u.matchType(n.child(c).type);return!u||!u.validEnd?null:o}function gD(t,e,n){let r=Ae.empty;for(let o=n.length-1;o>=0;o--){if(r.size){let a=n[o].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=Ae.from(n[o].type.create(n[o].attrs,r))}let i=e.start,s=e.end;t.step(new pn(i,s,i,s,new Le(r,0,0),n.length,!0))}function yD(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(o,a)=>{let u=typeof i=="function"?i(o):i;if(o.isTextblock&&!o.hasMarkup(r,u)&&wD(t.doc,t.mapping.slice(s).map(a),r)){let c=null;if(r.schema.linebreakReplacement){let m=r.whitespace=="pre",w=!!r.contentMatch.matchType(r.schema.linebreakReplacement);m&&!w?c=!1:!m&&w&&(c=!0)}c===!1&&v6(t,o,a,s),h2(t,t.mapping.slice(s).map(a,1),r,void 0,c===null);let d=t.mapping.slice(s),h=d.map(a,1),p=d.map(a+o.nodeSize,1);return t.step(new pn(h,p,h+1,p-1,new Le(Ae.from(r.create(u,null,o.marks)),0,0),1,!0)),c===!0&&w6(t,o,a,s),!1}})}function w6(t,e,n,r){e.forEach((i,s)=>{if(i.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(i.text);){let u=t.mapping.slice(r).map(n+1+s+o.index);t.replaceWith(u,u+1,e.type.schema.linebreakReplacement.create())}}})}function v6(t,e,n,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let o=t.mapping.slice(r).map(n+1+s);t.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function wD(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function vD(t,e,n,r,i){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let o=n.create(r,null,i||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,o);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new pn(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new Le(Ae.from(o),0,0),1,!0))}function Pl(t,e,n=1,r){let i=t.resolve(e),s=i.depth-n,o=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,d=n-2;c>s;c--,d--){let h=i.node(c),p=i.index(c);if(h.type.spec.isolating)return!1;let m=h.content.cutByIndex(p,h.childCount),w=r&&r[d+1];w&&(m=m.replaceChild(0,w.type.create(w.attrs)));let y=r&&r[d]||h;if(!h.canReplace(p+1,h.childCount)||!y.type.validContent(m))return!1}let a=i.indexAfter(s),u=r&&r[0];return i.node(s).canReplaceWith(a,a,u?u.type:i.node(s+1).type)}function bD(t,e,n=1,r){let i=t.doc.resolve(e),s=Ae.empty,o=Ae.empty;for(let a=i.depth,u=i.depth-n,c=n-1;a>u;a--,c--){s=Ae.from(i.node(a).copy(s));let d=r&&r[c];o=Ae.from(d?d.type.create(d.attrs,o):i.node(a).copy(o))}t.step(new hn(e,e,new Le(s.append(o),n,n),!0))}function Co(t,e){let n=t.resolve(e),r=n.index();return b6(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function xD(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),o=s.type==r?t.type.schema.nodes.text:s.type;if(n=n.matchType(o),!n||!t.type.allowsMarks(s.marks))return!1}return n.validEnd}function b6(t,e){return!!(t&&e&&!t.isLeaf&&xD(t,e))}function Im(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let s,o,a=r.index(i);if(i==r.depth?(s=r.nodeBefore,o=r.nodeAfter):n>0?(s=r.node(i+1),a++,o=r.node(i).maybeChild(a)):(s=r.node(i).maybeChild(a-1),o=r.node(i+1)),s&&!s.isTextblock&&b6(s,o)&&r.node(i).canReplace(a,a+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function ED(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,s=t.doc.resolve(e-n),o=s.node().type;if(i&&o.inlineContent){let d=o.whitespace=="pre",h=!!o.contentMatch.matchType(i);d&&!h?r=!1:!d&&h&&(r=!0)}let a=t.steps.length;if(r===!1){let d=t.doc.resolve(e+n);v6(t,d.node(),d.before(),a)}o.inlineContent&&h2(t,e+n-1,o,s.node().contentMatchAt(s.index()),r==null);let u=t.mapping.slice(a),c=u.map(e-n);if(t.step(new hn(c,u.map(e+n,-1),Le.empty,!0)),r===!0){let d=t.doc.resolve(c);w6(t,d.node(),d.before(),t.steps.length)}return t}function CD(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function x6(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let o=r.depth;o>=0;o--){let a=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,u=r.index(o)+(a>0?1:0),c=r.node(o),d=!1;if(s==1)d=c.canReplace(u,u,i);else{let h=c.contentMatchAt(u).findWrapping(i.firstChild.type);d=h&&c.canReplaceWith(u,u,h[0])}if(d)return a==0?r.pos:a<0?r.before(o+1):r.after(o+1)}return null}function Mm(t,e,n=e,r=Le.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),s=t.resolve(n);return E6(i,s,r)?new hn(e,n,r):new SD(i,s,r).fit()}function E6(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class SD{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=Ae.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=Ae.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,o=r.depth,a=i.depth;for(;o&&a&&s.childCount==1;)s=s.firstChild.content,o--,a--;let u=new Le(s,o,a);return e>-1?new pn(r.pos,e,this.$to.pos,this.$to.end(),u,n):u.size||r.pos!=this.$to.pos?new hn(r.pos,i.pos,u):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=ky(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let o=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:u,match:c}=this.frontier[a],d,h=null;if(n==1&&(o?c.matchType(o.type)||(h=c.fillBefore(Ae.from(o),!1)):s&&u.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:a,parent:s,inject:h};if(n==2&&o&&(d=c.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:a,parent:s,wrap:d};if(s&&c.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=ky(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new Le(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=ky(e,n);if(i.childCount<=1&&n>0){let s=e.size-n<=n+i.size;this.unplaced=new Le(Ec(e,n-1,1),n-1,s?n-1:r)}else this.unplaced=new Le(Ec(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let y=0;y<s.length;y++)this.openFrontierNode(s[y]);let o=this.unplaced,a=r?r.content:o.content,u=o.openStart-e,c=0,d=[],{match:h,type:p}=this.frontier[n];if(i){for(let y=0;y<i.childCount;y++)d.push(i.child(y));h=h.matchFragment(i)}let m=a.size+e-(o.content.size-o.openEnd);for(;c<a.childCount;){let y=a.child(c),x=h.matchType(y.type);if(!x)break;c++,(c>1||u==0||y.content.size)&&(h=x,d.push(C6(y.mark(p.allowedMarks(y.marks)),c==1?u:0,c==a.childCount?m:-1)))}let w=c==a.childCount;w||(m=-1),this.placed=Cc(this.placed,n,Ae.from(d)),this.frontier[n].match=h,w&&m<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let y=0,x=a;y<m;y++){let v=x.lastChild;this.frontier.push({type:v.type,match:v.contentMatchAt(v.childCount)}),x=v.content}this.unplaced=w?e==0?Le.empty:new Le(Ec(o.content,e-1,1),e-1,m<0?o.openEnd:e-1):new Le(Ec(o.content,e,c),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!Ty(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),o=Ty(e,n,i,r,s);if(o){for(let a=n-1;a>=0;a--){let{match:u,type:c}=this.frontier[a],d=Ty(e,a,c,u,!0);if(!d||d.childCount)continue e}return{depth:n,fit:o,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Cc(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Cc(this.placed,this.depth,Ae.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(Ae.empty,!0);n.childCount&&(this.placed=Cc(this.placed,this.frontier.length,n))}}function Ec(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Ec(t.firstChild.content,e-1,n)))}function Cc(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Cc(t.lastChild.content,e-1,n)))}function ky(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function C6(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,C6(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(Ae.empty,!0)))),t.copy(r)}function Ty(t,e,n,r,i){let s=t.node(e),o=i?t.indexAfter(e):t.index(e);if(o==s.childCount&&!n.compatibleContent(s.type))return null;let a=r.fillBefore(s.content,!0,o);return a&&!kD(n,s.content,o)?a:null}function kD(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function TD(t){return t.spec.defining||t.spec.definingForContent}function AD(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),s=t.doc.resolve(n);if(E6(i,s,r))return t.step(new hn(e,n,r));let o=k6(i,t.doc.resolve(n));o[o.length-1]==0&&o.pop();let a=-(i.depth+1);o.unshift(a);for(let p=i.depth,m=i.pos-1;p>0;p--,m--){let w=i.node(p).type.spec;if(w.defining||w.definingAsContext||w.isolating)break;o.indexOf(p)>-1?a=p:i.before(p)==m&&o.splice(1,0,-p)}let u=o.indexOf(a),c=[],d=r.openStart;for(let p=r.content,m=0;;m++){let w=p.firstChild;if(c.push(w),m==r.openStart)break;p=w.content}for(let p=d-1;p>=0;p--){let m=c[p],w=TD(m.type);if(w&&!m.sameMarkup(i.node(Math.abs(a)-1)))d=p;else if(w||!m.type.isTextblock)break}for(let p=r.openStart;p>=0;p--){let m=(p+d+1)%(r.openStart+1),w=c[m];if(w)for(let y=0;y<o.length;y++){let x=o[(y+u)%o.length],v=!0;x<0&&(v=!1,x=-x);let S=i.node(x-1),k=i.index(x-1);if(S.canReplaceWith(k,k,w.type,w.marks))return t.replace(i.before(x),v?s.after(x):n,new Le(S6(r.content,0,r.openStart,m),m,r.openEnd))}}let h=t.steps.length;for(let p=o.length-1;p>=0&&(t.replace(e,n,r),!(t.steps.length>h));p--){let m=o[p];m<0||(e=i.before(m),n=s.after(m))}}function S6(t,e,n,r,i){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(S6(s.content,e+1,n,r,s)))}if(e>r){let s=i.contentMatchAt(0),o=s.fillBefore(t).append(t);t=o.append(s.matchFragment(o).fillBefore(Ae.empty,!0))}return t}function _D(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=CD(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new Le(Ae.from(r),0,0))}function RD(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),s=k6(r,i);for(let o=0;o<s.length;o++){let a=s[o],u=o==s.length-1;if(u&&a==0||r.node(a).type.contentMatch.validEnd)return t.delete(r.start(a),i.end(a));if(a>0&&(u||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return t.delete(r.before(a),i.after(a))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(e-r.start(o)==r.depth-o&&n>r.end(o)&&i.end(o)-n!=i.depth-o&&r.start(o-1)==i.start(o-1)&&r.node(o-1).canReplace(r.index(o-1),i.index(o-1)))return t.delete(r.before(o),n);t.delete(e,n)}function k6(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let s=t.start(i);if(s<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&n.push(i)}return n}class Fl extends Un{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return nn.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return nn.fromReplace(e,this.pos,this.pos+1,new Le(Ae.from(i),0,n.isLeaf?0:1))}getMap(){return Tr.empty}invert(e){return new Fl(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Fl(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Fl(n.pos,n.attr,n.value)}}Un.jsonID("attr",Fl);class Jc extends Un{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return nn.ok(r)}getMap(){return Tr.empty}invert(e){return new Jc(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Jc(n.attr,n.value)}}Un.jsonID("docAttr",Jc);let Zl=class extends Error{};Zl=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Zl.prototype=Object.create(Error.prototype);Zl.prototype.constructor=Zl;Zl.prototype.name="TransformError";class T6{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Zc}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Zl(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=Le.empty){let i=Mm(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new Le(Ae.from(r),0,0))}delete(e,n){return this.replace(e,n,Le.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return AD(this,e,n,r),this}replaceRangeWith(e,n,r){return _D(this,e,n,r),this}deleteRange(e,n){return RD(this,e,n),this}lift(e,n){return hD(this,e,n),this}join(e,n=1){return ED(this,e,n),this}wrap(e,n){return gD(this,e,n),this}setBlockType(e,n=e,r,i=null){return yD(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return vD(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new Fl(e,n,r)),this}setDocAttribute(e,n){return this.step(new Jc(e,n)),this}addNodeMark(e,n){return this.step(new so(e,n)),this}removeNodeMark(e,n){if(!(n instanceof bt)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new Yl(e,n)),this}split(e,n=1,r){return bD(this,e,n,r),this}addMark(e,n,r){return cD(this,e,n,r),this}removeMark(e,n,r){return fD(this,e,n,r),this}clearIncompatible(e,n,r){return h2(this,e,n,r),this}}const Ay=Object.create(null);let Qe=class{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new A6(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=Le.empty){let r=n.content.lastChild,i=null;for(let a=0;a<n.openEnd;a++)i=r,r=r.lastChild;let s=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:u,$to:c}=o[a],d=e.mapping.slice(s);e.replaceRange(d.map(u.pos),d.map(c.pos),a?Le.empty:n),a==0&&xk(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:o,$to:a}=i[s],u=e.mapping.slice(r),c=u.map(o.pos),d=u.map(a.pos);s?e.deleteRange(c,d):(e.replaceRangeWith(c,d,n),xk(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new Ye(e):Al(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let o=n<0?Al(e.node(0),e.node(s),e.before(s+1),e.index(s),n,r):Al(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,r);if(o)return o}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Ar(e.node(0))}static atStart(e){return Al(e,e,0,0,1)||new Ar(e)}static atEnd(e){return Al(e,e,e.content.size,e.childCount,-1)||new Ar(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Ay[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Ay)throw new RangeError("Duplicate use of selection JSON ID "+e);return Ay[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Ye.between(this.$anchor,this.$head).getBookmark()}};Qe.prototype.visible=!0;class A6{constructor(e,n){this.$from=e,this.$to=n}}let vk=!1;function bk(t){!vk&&!t.parent.inlineContent&&(vk=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Ye extends Qe{constructor(e,n=e){bk(e),bk(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Qe.near(r);let i=e.resolve(n.map(this.anchor));return new Ye(i.parent.inlineContent?i:r,r)}replace(e,n=Le.empty){if(super.replace(e,n),n==Le.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Ye&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Dm(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Ye(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=Qe.findFrom(n,r,!0)||Qe.findFrom(n,-r,!0);if(s)n=s.$head;else return Qe.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(Qe.findFrom(e,-r,!0)||Qe.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new Ye(e,n)}}Qe.jsonID("text",Ye);class Dm{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Dm(e.map(this.anchor),e.map(this.head))}resolve(e){return Ye.between(e.resolve(this.anchor),e.resolve(this.head))}}class Ke extends Qe{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=e.resolve(i);return r?Qe.near(s):new Ke(s)}content(){return new Le(Ae.from(this.node),0,0)}eq(e){return e instanceof Ke&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new m2(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Ke(e.resolve(n.anchor))}static create(e,n){return new Ke(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Ke.prototype.visible=!1;Qe.jsonID("node",Ke);class m2{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new Dm(r,r):new m2(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&Ke.isSelectable(r)?new Ke(n):Qe.near(n)}}class Ar extends Qe{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=Le.empty){if(n==Le.empty){e.delete(0,e.doc.content.size);let r=Qe.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Ar(e)}map(e){return new Ar(e)}eq(e){return e instanceof Ar}getBookmark(){return ND}}Qe.jsonID("all",Ar);const ND={map(){return this},resolve(t){return new Ar(t)}};function Al(t,e,n,r,i,s=!1){if(e.inlineContent)return Ye.create(t,n);for(let o=r-(i>0?0:1);i>0?o<e.childCount:o>=0;o+=i){let a=e.child(o);if(a.isAtom){if(!s&&Ke.isSelectable(a))return Ke.create(t,n-(i<0?a.nodeSize:0))}else{let u=Al(t,a,n+i,i<0?a.childCount:0,i,s);if(u)return u}n+=a.nodeSize*i}return null}function xk(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof hn||i instanceof pn))return;let s=t.mapping.maps[r],o;s.forEach((a,u,c,d)=>{o==null&&(o=d)}),t.setSelection(Qe.near(t.doc.resolve(o),n))}const Ek=1,Ck=2,Sk=4;let OD=class extends T6{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Ek)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&Ek)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Ck,this}ensureMarks(e){return bt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Ck)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&-3,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||bt.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let o=this.doc.resolve(n);s=r==n?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,s)),this.selection.empty||this.setSelection(Qe.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Sk,this}get scrolledIntoView(){return(this.updated&Sk)>0}};function kk(t,e){return!e||!t?t:t.bind(e)}class Sc{constructor(e,n,r){this.name=e,this.init=kk(n.init,r),this.apply=kk(n.apply,r)}}const ID=[new Sc("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Sc("selection",{init(t,e){return t.selection||Qe.atStart(e.doc)},apply(t){return t.selection}}),new Sc("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new Sc("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class _y{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=ID.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Sc(r.key,r.spec.state,r))})}}class Ml{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let u=i?i[o].n:0,c=i?i[o].state:this,d=u<n.length&&a.spec.appendTransaction.call(a,u?n.slice(u):n,c,r);if(d&&r.filterTransaction(d,o)){if(d.setMeta("appendedTransaction",e),!i){i=[];for(let h=0;h<this.config.plugins.length;h++)i.push(h<o?{state:r,n:n.length}:{state:this,n:0})}n.push(d),r=r.applyInner(d),s=!0}i&&(i[o]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Ml(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new OD(this)}static create(e){let n=new _y(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Ml(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new _y(this.schema,e.plugins),r=n.fields,i=new Ml(n);for(let s=0;s<r.length;s++){let o=r[s].name;i[o]=this.hasOwnProperty(o)?this[o]:r[s].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new _y(e.schema,e.plugins),s=new Ml(i);return i.fields.forEach(o=>{if(o.name=="doc")s.doc=uo.fromJSON(e.schema,n.doc);else if(o.name=="selection")s.selection=Qe.fromJSON(s.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let u=r[a],c=u.spec.state;if(u.key==o.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){s[o.name]=c.fromJSON.call(u,e,n[a],s);return}}s[o.name]=o.init(e,s)}}),s}}function _6(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=_6(i,e,{})),n[r]=i}return n}class gt{constructor(e){this.spec=e,this.props={},e.props&&_6(e.props,this,this.props),this.key=e.key?e.key.key:R6("plugin")}getState(e){return e[this.key]}}const Ry=Object.create(null);function R6(t){return t in Ry?t+"$"+ ++Ry[t]:(Ry[t]=0,t+"$")}class xt{constructor(e="key"){this.key=R6(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Tn=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Jl=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let Fv=null;const ns=function(t,e,n){let r=Fv||(Fv=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},MD=function(){Fv=null},Ea=function(t,e,n,r){return n&&(Tk(t,e,n,r,-1)||Tk(t,e,n,r,1))},DD=/^(img|br|input|textarea|hr)$/i;function Tk(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:$r(t))){let s=t.parentNode;if(!s||s.nodeType!=1||Ef(t)||DD.test(t.nodeName)||t.contentEditable=="false")return!1;e=Tn(t)+(i<0?0:1),t=s}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?$r(t):0}else return!1}}function $r(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function LD(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=$r(t)}else if(t.parentNode&&!Ef(t))e=Tn(t),t=t.parentNode;else return null}}function PD(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!Ef(t))e=Tn(t)+1,t=t.parentNode;else return null}}function FD(t,e,n){for(let r=e==0,i=e==$r(t);r||i;){if(t==n)return!0;let s=Tn(t);if(t=t.parentNode,!t)return!1;r=r&&s==0,i=i&&s==$r(t)}}function Ef(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Lm=function(t){return t.focusNode&&Ea(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function ta(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function BD(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function jD(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min($r(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min($r(r.startContainer),r.startOffset)}}}const Mi=typeof navigator<"u"?navigator:null,Ak=typeof document<"u"?document:null,So=Mi&&Mi.userAgent||"",Bv=/Edge\/(\d+)/.exec(So),N6=/MSIE \d/.exec(So),jv=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(So),dr=!!(N6||jv||Bv),co=N6?document.documentMode:jv?+jv[1]:Bv?+Bv[1]:0,ci=!dr&&/gecko\/(\d+)/i.test(So);ci&&+(/Firefox\/(\d+)/.exec(So)||[0,0])[1];const Hv=!dr&&/Chrome\/(\d+)/.exec(So),jn=!!Hv,O6=Hv?+Hv[1]:0,Yn=!dr&&!!Mi&&/Apple Computer/.test(Mi.vendor),Ql=Yn&&(/Mobile\/\w+/.test(So)||!!Mi&&Mi.maxTouchPoints>2),Hr=Ql||(Mi?/Mac/.test(Mi.platform):!1),HD=Mi?/Win/.test(Mi.platform):!1,rs=/Android \d/.test(So),Cf=!!Ak&&"webkitFontSmoothing"in Ak.documentElement.style,$D=Cf?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function zD(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function qi(t,e){return typeof t=="number"?t:t[e]}function UD(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function _k(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let o=n||t.dom;o;){if(o.nodeType!=1){o=Jl(o);continue}let a=o,u=a==s.body,c=u?zD(s):UD(a),d=0,h=0;if(e.top<c.top+qi(r,"top")?h=-(c.top-e.top+qi(i,"top")):e.bottom>c.bottom-qi(r,"bottom")&&(h=e.bottom-e.top>c.bottom-c.top?e.top+qi(i,"top")-c.top:e.bottom-c.bottom+qi(i,"bottom")),e.left<c.left+qi(r,"left")?d=-(c.left-e.left+qi(i,"left")):e.right>c.right-qi(r,"right")&&(d=e.right-c.right+qi(i,"right")),d||h)if(u)s.defaultView.scrollBy(d,h);else{let m=a.scrollLeft,w=a.scrollTop;h&&(a.scrollTop+=h),d&&(a.scrollLeft+=d);let y=a.scrollLeft-m,x=a.scrollTop-w;e={left:e.left-y,top:e.top-x,right:e.right-y,bottom:e.bottom-x}}let p=u?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(p))break;o=p=="absolute"?o.offsetParent:Jl(o)}}function VD(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,o=n+1;o<Math.min(innerHeight,e.bottom);o+=5){let a=t.root.elementFromPoint(s,o);if(!a||a==t.dom||!t.dom.contains(a))continue;let u=a.getBoundingClientRect();if(u.top>=n-20){r=a,i=u.top;break}}return{refDOM:r,refTop:i,stack:I6(t.dom)}}function I6(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Jl(r));return e}function WD({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;M6(n,r==0?0:r-e)}function M6(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:s}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let yl=null;function KD(t){if(t.setActive)return t.setActive();if(yl)return t.focus(yl);let e=I6(t);t.focus(yl==null?{get preventScroll(){return yl={preventScroll:!0},!0}}:void 0),yl||(yl=!1,M6(e,0))}function D6(t,e){let n,r=2e8,i,s=0,o=e.top,a=e.top,u,c;for(let d=t.firstChild,h=0;d;d=d.nextSibling,h++){let p;if(d.nodeType==1)p=d.getClientRects();else if(d.nodeType==3)p=ns(d).getClientRects();else continue;for(let m=0;m<p.length;m++){let w=p[m];if(w.top<=o&&w.bottom>=a){o=Math.max(w.bottom,o),a=Math.min(w.top,a);let y=w.left>e.left?w.left-e.left:w.right<e.left?e.left-w.right:0;if(y<r){n=d,r=y,i=y&&n.nodeType==3?{left:w.right<e.left?w.right:w.left,top:e.top}:e,d.nodeType==1&&y&&(s=h+(e.left>=(w.left+w.right)/2?1:0));continue}}else w.top>e.top&&!u&&w.left<=e.left&&w.right>=e.left&&(u=d,c={left:Math.max(w.left,Math.min(w.right,e.left)),top:w.top});!n&&(e.left>=w.right&&e.top>=w.top||e.left>=w.left&&e.top>=w.bottom)&&(s=h+1)}}return!n&&u&&(n=u,i=c,r=0),n&&n.nodeType==3?qD(n,i):!n||r&&n.nodeType==1?{node:t,offset:s}:D6(n,i)}function qD(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let s=Ks(r,1);if(s.top!=s.bottom&&g2(e,s))return{node:t,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}function g2(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function GD(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function XD(t,e,n){let{node:r,offset:i}=D6(e,n),s=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();s=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return t.docView.posFromDOM(r,i,s)}function YD(t,e,n,r){let i=-1;for(let s=e,o=!1;s!=t.dom;){let a=t.docView.nearestDesc(s,!0),u;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((u=a.dom.getBoundingClientRect()).width||u.height)&&(a.node.isBlock&&a.parent&&(!o&&u.left>r.left||u.top>r.top?i=a.posBefore:(!o&&u.right<r.left||u.bottom<r.top)&&(i=a.posAfter),o=!0),!a.contentDOM&&i<0&&!a.node.isText))return(a.node.isBlock?r.top<(u.top+u.bottom)/2:r.left<(u.left+u.right)/2)?a.posBefore:a.posAfter;s=a.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function L6(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let o=t.childNodes[s];if(o.nodeType==1){let a=o.getClientRects();for(let u=0;u<a.length;u++){let c=a[u];if(g2(e,c))return L6(o,e,c)}}if((s=(s+1)%r)==i)break}return t}function ZD(t,e){let n=t.dom.ownerDocument,r,i=0,s=jD(n,e.left,e.top);s&&({node:r,offset:i}=s);let o=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),a;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let c=t.dom.getBoundingClientRect();if(!g2(e,c)||(o=L6(t.dom,e,c),!o))return null}if(Yn)for(let c=o;r&&c;c=Jl(c))c.draggable&&(r=void 0);if(o=GD(o,e),r){if(ci&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let d=r.childNodes[i],h;d.nodeName=="IMG"&&(h=d.getBoundingClientRect()).right<=e.left&&h.bottom>e.top&&i++}let c;Cf&&i&&r.nodeType==1&&(c=r.childNodes[i-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?a=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(a=YD(t,r,i,e))}a==null&&(a=XD(t,o,e));let u=t.docView.nearestDesc(o,!0);return{pos:a,inside:u?u.posAtStart-u.border:-1}}function Rk(t){return t.top<t.bottom||t.left<t.right}function Ks(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(Rk(r))return r}return Array.prototype.find.call(n,Rk)||t.getBoundingClientRect()}const JD=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function P6(t,e,n){let{node:r,offset:i,atom:s}=t.docView.domFromPos(e,n<0?-1:1),o=Cf||ci;if(r.nodeType==3)if(o&&(JD.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let u=Ks(ns(r,i,i),n);if(ci&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let c=Ks(ns(r,i-1,i-1),-1);if(c.top==u.top){let d=Ks(ns(r,i,i+1),-1);if(d.top!=u.top)return uc(d,d.left<c.left)}}return u}else{let u=i,c=i,d=n<0?1:-1;return n<0&&!i?(c++,d=-1):n>=0&&i==r.nodeValue.length?(u--,d=1):n<0?u--:c++,uc(Ks(ns(r,u,c),d),d<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(n<0||i==$r(r))){let u=r.childNodes[i-1];if(u.nodeType==1)return Ny(u.getBoundingClientRect(),!1)}if(s==null&&i<$r(r)){let u=r.childNodes[i];if(u.nodeType==1)return Ny(u.getBoundingClientRect(),!0)}return Ny(r.getBoundingClientRect(),n>=0)}if(s==null&&i&&(n<0||i==$r(r))){let u=r.childNodes[i-1],c=u.nodeType==3?ns(u,$r(u)-(o?0:1)):u.nodeType==1&&(u.nodeName!="BR"||!u.nextSibling)?u:null;if(c)return uc(Ks(c,1),!1)}if(s==null&&i<$r(r)){let u=r.childNodes[i];for(;u.pmViewDesc&&u.pmViewDesc.ignoreForCoords;)u=u.nextSibling;let c=u?u.nodeType==3?ns(u,0,o?0:1):u.nodeType==1?u:null:null;if(c)return uc(Ks(c,-1),!0)}return uc(Ks(r.nodeType==3?ns(r):r,-n),n>=0)}function uc(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Ny(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function F6(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function QD(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return F6(t,e,()=>{let{node:s}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.contentDOM||a.dom;break}s=a.dom.parentNode}let o=P6(t,i.pos,1);for(let a=s.firstChild;a;a=a.nextSibling){let u;if(a.nodeType==1)u=a.getClientRects();else if(a.nodeType==3)u=ns(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<u.length;c++){let d=u[c];if(d.bottom>d.top+1&&(n=="up"?o.top-d.top>(d.bottom-o.top)*2:d.bottom-o.bottom>(o.bottom-d.top)*2))return!1}}return!0})}const eL=/[\u0590-\u08ac]/;function tL(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,o=i==r.parent.content.size,a=t.domSelection();return a?!eL.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?s:o:F6(t,e,()=>{let{focusNode:u,focusOffset:c,anchorNode:d,anchorOffset:h}=t.domSelectionRange(),p=a.caretBidiLevel;a.modify("move",n,"character");let m=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:w,focusOffset:y}=t.domSelectionRange(),x=w&&!m.contains(w.nodeType==1?w:w.parentNode)||u==w&&c==y;try{a.collapse(d,h),u&&(u!=d||c!=h)&&a.extend&&a.extend(u,c)}catch{}return p!=null&&(a.caretBidiLevel=p),x}):r.pos==r.start()||r.pos==r.end()}let Nk=null,Ok=null,Ik=!1;function nL(t,e,n){return Nk==e&&Ok==n?Ik:(Nk=e,Ok=n,Ik=n=="up"||n=="down"?QD(t,e,n):tL(t,e,n))}const Ur=0,Mk=1,oa=2,Di=3;class Sf{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=Ur,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,o;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>Tn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),o;if(s&&(!n||s.node))if(r&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))r=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)for(let o=0;o<i.children.length;o++){let a=i.children[o];if(a.size){i=a;break}}return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let o=this.children[r],a=s+o.size;if(a>e||o instanceof j6){i=e-s;break}s=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof B6&&s.side>=0;r--);if(n<=0){let s,o=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,o=!1);return s&&n&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?Tn(s.dom)+1:0}}else{let s,o=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?Tn(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let o=r,a=0;;a++){let u=this.children[a],c=o+u.size;if(i==-1&&e<=c){let d=o+u.border;if(e>=d&&n<=c-u.border&&u.node&&u.contentDOM&&this.contentDOM.contains(u.contentDOM))return u.parseRange(e,n,d);e=o;for(let h=a;h>0;h--){let p=this.children[h-1];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(1)){i=Tn(p.dom)+1;break}e-=p.size}i==-1&&(i=0)}if(i>-1&&(c>n||a==this.children.length-1)){n=c;for(let d=a+1;d<this.children.length;d++){let h=this.children[d];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(-1)){s=Tn(h.dom);break}n+=h.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=c}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let s=Math.min(e,n),o=Math.max(e,n);for(let m=0,w=0;m<this.children.length;m++){let y=this.children[m],x=w+y.size;if(s>w&&o<x)return y.setSelection(e-w-y.border,n-w-y.border,r,i);w=x}let a=this.domFromPos(e,e?-1:1),u=n==e?a:this.domFromPos(n,n?-1:1),c=r.root.getSelection(),d=r.domSelectionRange(),h=!1;if((ci||Yn)&&e==n){let{node:m,offset:w}=a;if(m.nodeType==3){if(h=!!(w&&m.nodeValue[w-1]==`
`),h&&w==m.nodeValue.length)for(let y=m,x;y;y=y.parentNode){if(x=y.nextSibling){x.nodeName=="BR"&&(a=u={node:x.parentNode,offset:Tn(x)+1});break}let v=y.pmViewDesc;if(v&&v.node&&v.node.isBlock)break}}else{let y=m.childNodes[w-1];h=y&&(y.nodeName=="BR"||y.contentEditable=="false")}}if(ci&&d.focusNode&&d.focusNode!=u.node&&d.focusNode.nodeType==1){let m=d.focusNode.childNodes[d.focusOffset];m&&m.contentEditable=="false"&&(i=!0)}if(!(i||h&&Yn)&&Ea(a.node,a.offset,d.anchorNode,d.anchorOffset)&&Ea(u.node,u.offset,d.focusNode,d.focusOffset))return;let p=!1;if((c.extend||e==n)&&!h){c.collapse(a.node,a.offset);try{e!=n&&c.extend(u.node,u.offset),p=!0}catch{}}if(!p){if(e>n){let w=a;a=u,u=w}let m=document.createRange();m.setEnd(u.node,u.offset),m.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(m)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],o=r+s.size;if(r==o?e<=o&&n>=r:e<o&&n>r){let a=r+s.border,u=o-s.border;if(e>=a&&n<=u){this.dirty=e==r||n==o?oa:Mk,e==a&&n==u&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=Di:s.markDirty(e-a,n-a);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?oa:Di}r=o}this.dirty=oa}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?oa:Mk;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class B6 extends Sf{constructor(e,n,r,i){let s,o=n.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==Ur&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class rL extends Sf{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Ca extends Sf{constructor(e,n,r,i,s){super(e,[],r,i),this.mark=n,this.spec=s}static create(e,n,r,i){let s=i.nodeViews[n.type.name],o=s&&s(n,i,r);return(!o||!o.dom)&&(o=Pa.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new Ca(e,n,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&Di||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Di&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Ur){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Ur}}slice(e,n,r){let i=Ca.create(this.parent,this.mark,!0,r),s=this.children,o=this.size;n<o&&(s=zv(s,n,o,r)),e>0&&(s=zv(s,0,e,r));for(let a=0;a<s.length;a++)s[a].parent=i;return i.children=s,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class fo extends Sf{constructor(e,n,r,i,s,o,a,u,c){super(e,[],s,o),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a}static create(e,n,r,i,s,o){let a=s.nodeViews[n.type.name],u,c=a&&a(n,s,()=>{if(!u)return o;if(u.parent)return u.parent.posBeforeChild(u)},r,i),d=c&&c.dom,h=c&&c.contentDOM;if(n.isText){if(!d)d=document.createTextNode(n.text);else if(d.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else d||({dom:d,contentDOM:h}=Pa.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!h&&!n.isText&&d.nodeName!="BR"&&(d.hasAttribute("contenteditable")||(d.contentEditable="false"),n.type.spec.draggable&&(d.draggable=!0));let p=d;return d=z6(d,r,n),c?u=new iL(e,n,r,i,d,h||null,p,c,s,o+1):n.isText?new Pm(e,n,r,i,d,p,s):new fo(e,n,r,i,d,h||null,p,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>Ae.empty)}return e}matchesNode(e,n,r){return this.dirty==Ur&&e.eq(this.node)&&xp(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,s=e.composing?this.localCompositionInfo(e,n):null,o=s&&s.pos>-1?s:null,a=s&&s.pos<0,u=new oL(this,o&&o.node,e);uL(this.node,this.innerDeco,(c,d,h)=>{c.spec.marks?u.syncToMarks(c.spec.marks,r,e):c.type.side>=0&&!h&&u.syncToMarks(d==this.node.childCount?bt.none:this.node.child(d).marks,r,e),u.placeWidget(c,e,i)},(c,d,h,p)=>{u.syncToMarks(c.marks,r,e);let m;u.findNodeMatch(c,d,h,p)||a&&e.state.selection.from>i&&e.state.selection.to<i+c.nodeSize&&(m=u.findIndexWithChild(s.node))>-1&&u.updateNodeAt(c,d,h,m,e)||u.updateNextNode(c,d,h,e,p,i)||u.addNode(c,d,h,e,i),i+=c.nodeSize}),u.syncToMarks([],r,e),this.node.isTextblock&&u.addTextblockHacks(),u.destroyRest(),(u.changed||this.dirty==oa)&&(o&&this.protectLocalComposition(e,o),H6(this.contentDOM,this.children,e),Ql&&cL(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof Ye)||r<n||i>n+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let o=s.nodeValue,a=fL(this.node.content,o,r-n,i-n);return a<0?null:{node:s,pos:a,text:o}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new rL(this,s,n,i);e.input.compositionNodes.push(o),this.children=zv(this.children,r,r+i.length,e,o)}update(e,n,r,i){return this.dirty==Di||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Ur}updateOuterDeco(e){if(xp(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=$6(this.dom,this.nodeDOM,$v(this.outerDeco,this.node,n),$v(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function Dk(t,e,n,r,i){z6(r,e,t);let s=new fo(void 0,t,e,n,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class Pm extends fo{constructor(e,n,r,i,s,o,a){super(e,n,r,i,s,null,o,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==Di||this.dirty!=Ur&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Ur||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Ur,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),s=document.createTextNode(i.text);return new Pm(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Di)}get domAtom(){return!1}isText(e){return this.node.text==e}}class j6 extends Sf{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Ur&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class iL extends fo{constructor(e,n,r,i,s,o,a,u,c,d){super(e,n,r,i,s,o,a,c,d),this.spec=u}update(e,n,r,i){if(this.dirty==Di)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,n,r);return s&&this.updateInner(e,n,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function H6(t,e,n){let r=t.firstChild,i=!1;for(let s=0;s<e.length;s++){let o=e[s],a=o.dom;if(a.parentNode==t){for(;a!=r;)r=Lk(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(a,r);if(o instanceof Ca){let u=r?r.previousSibling:t.lastChild;H6(o.contentDOM,o.children,n),r=u?u.nextSibling:t.firstChild}}for(;r;)r=Lk(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const Nc=function(t){t&&(this.nodeName=t)};Nc.prototype=Object.create(null);const aa=[new Nc];function $v(t,e,n){if(t.length==0)return aa;let r=n?aa[0]:new Nc,i=[r];for(let s=0;s<t.length;s++){let o=t[s].type.attrs;if(o){o.nodeName&&i.push(r=new Nc(o.nodeName));for(let a in o){let u=o[a];u!=null&&(n&&i.length==1&&i.push(r=new Nc(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+u:a=="style"?r.style=(r.style?r.style+";":"")+u:a!="nodeName"&&(r[a]=u))}}}return i}function $6(t,e,n,r){if(n==aa&&r==aa)return e;let i=e;for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(s){let u;a&&a.nodeName==o.nodeName&&i!=t&&(u=i.parentNode)&&u.nodeName.toLowerCase()==o.nodeName||(u=document.createElement(o.nodeName),u.pmIsDeco=!0,u.appendChild(i),a=aa[0]),i=u}sL(i,a||aa[0],o)}return i}function sL(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&t.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&t.classList.add(i[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function z6(t,e,n){return $6(t,t,aa,$v(e,n,t.nodeType!=1))}function xp(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function Lk(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class oL{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=aL(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,s=this.stack.length>>1,o=Math.min(s,e.length);for(;i<o&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=Ur,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let u=this.index;u<Math.min(this.index+3,this.top.children.length);u++){let c=this.top.children[u];if(c.matchesMark(e[s])&&!this.isLocked(c.dom)){a=u;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let u=Ca.create(this.top,e[s],n,r);this.top.children.splice(this.index,0,u),this.top=u,this.changed=!0}this.index=0,s++}}findNodeMatch(e,n,r,i){let s=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(e,n,r))s=this.top.children.indexOf(o,this.index);else for(let a=this.index,u=Math.min(this.top.children.length,a+5);a<u;a++){let c=this.top.children[a];if(c.matchesNode(e,n,r)&&!this.preMatch.matched.has(c)){s=a;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,r,i,s){let o=this.top.children[i];return o.dirty==Di&&o.dom==o.contentDOM&&(o.dirty=oa),o.update(e,n,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,s,o){for(let a=this.index;a<this.top.children.length;a++){let u=this.top.children[a];if(u instanceof fo){let c=this.preMatch.matched.get(u);if(c!=null&&c!=s)return!1;let d=u.dom,h,p=this.isLocked(d)&&!(e.isText&&u.node&&u.node.isText&&u.nodeDOM.nodeValue==e.text&&u.dirty!=Di&&xp(n,u.outerDeco));if(!p&&u.update(e,n,r,i))return this.destroyBetween(this.index,a),u.dom!=d&&(this.changed=!0),this.index++,!0;if(!p&&(h=this.recreateWrapper(u,e,n,r,i,o)))return this.destroyBetween(this.index,a),this.top.children[this.index]=h,h.contentDOM&&(h.dirty=oa,h.updateChildren(i,o+1),h.dirty=Ur),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,s,o){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!xp(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let a=fo.create(this.top,n,r,i,s,o);if(a.contentDOM){a.children=e.children,e.children=[];for(let u of a.children)u.parent=a}return e.destroy(),a}addNode(e,n,r,i,s){let o=fo.create(this.top,e,n,r,i,s);o.contentDOM&&o.updateChildren(i,s+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new B6(this.top,e,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Ca;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Pm)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Yn||jn)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new j6(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function aL(t,e){let n=e,r=n.children.length,i=t.childCount,s=new Map,o=[];e:for(;i>0;){let a;for(;;)if(r){let c=n.children[r-1];if(c instanceof Ca)n=c,r=c.children.length;else{a=c,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let u=a.node;if(u){if(u!=t.child(i-1))break;--i,s.set(a,i),o.push(a)}}return{index:i,matched:s,matches:o.reverse()}}function lL(t,e){return t.type.side-e.type.side}function uL(t,e,n,r){let i=e.locals(t),s=0;if(i.length==0){for(let c=0;c<t.childCount;c++){let d=t.child(c);r(d,i,e.forChild(s,d),c),s+=d.nodeSize}return}let o=0,a=[],u=null;for(let c=0;;){let d,h;for(;o<i.length&&i[o].to==s;){let x=i[o++];x.widget&&(d?(h||(h=[d])).push(x):d=x)}if(d)if(h){h.sort(lL);for(let x=0;x<h.length;x++)n(h[x],c,!!u)}else n(d,c,!!u);let p,m;if(u)m=-1,p=u,u=null;else if(c<t.childCount)m=c,p=t.child(c++);else break;for(let x=0;x<a.length;x++)a[x].to<=s&&a.splice(x--,1);for(;o<i.length&&i[o].from<=s&&i[o].to>s;)a.push(i[o++]);let w=s+p.nodeSize;if(p.isText){let x=w;o<i.length&&i[o].from<x&&(x=i[o].from);for(let v=0;v<a.length;v++)a[v].to<x&&(x=a[v].to);x<w&&(u=p.cut(x-s),p=p.cut(0,x-s),w=x,m=-1)}else for(;o<i.length&&i[o].to<w;)o++;let y=p.isInline&&!p.isLeaf?a.filter(x=>!x.inline):a.slice();r(p,y,e.forChild(s,p),m),s=w}}function cL(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function fL(t,e,n,r){for(let i=0,s=0;i<t.childCount&&s<=r;){let o=t.child(i++),a=s;if(s+=o.nodeSize,!o.isText)continue;let u=o.text;for(;i<t.childCount;){let c=t.child(i++);if(s+=c.nodeSize,!c.isText)break;u+=c.text}if(s>=n){if(s>=r&&u.slice(r-e.length-a,r-a)==e)return r-e.length;let c=a<r?u.lastIndexOf(e,r-a-1):-1;if(c>=0&&c+e.length+a>=n)return a+c;if(n==r&&u.length>=r+e.length-a&&u.slice(r-a,r-a+e.length)==e)return r}}return-1}function zv(t,e,n,r,i){let s=[];for(let o=0,a=0;o<t.length;o++){let u=t[o],c=a,d=a+=u.size;c>=n||d<=e?s.push(u):(c<e&&s.push(u.slice(0,e-c,r)),i&&(s.push(i),i=void 0),d>n&&s.push(u.slice(n-c,u.size,r)))}return s}function y2(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),s=i&&i.size==0,o=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let a=r.resolve(o),u,c;if(Lm(n)){for(u=o;i&&!i.node;)i=i.parent;let h=i.node;if(i&&h.isAtom&&Ke.isSelectable(h)&&i.parent&&!(h.isInline&&FD(n.focusNode,n.focusOffset,i.dom))){let p=i.posBefore;c=new Ke(o==p?a:r.resolve(p))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let h=o,p=o;for(let m=0;m<n.rangeCount;m++){let w=n.getRangeAt(m);h=Math.min(h,t.docView.posFromDOM(w.startContainer,w.startOffset,1)),p=Math.max(p,t.docView.posFromDOM(w.endContainer,w.endOffset,-1))}if(h<0)return null;[u,o]=p==t.state.selection.anchor?[p,h]:[h,p],a=r.resolve(o)}else u=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(u<0)return null}let d=r.resolve(u);if(!c){let h=e=="pointer"||t.state.selection.head<a.pos&&!s?1:-1;c=w2(t,d,a,h)}return c}function U6(t){return t.editable?t.hasFocus():W6(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function ls(t,e=!1){let n=t.state.selection;if(V6(t,n),!!U6(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&jn){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Ea(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)hL(t);else{let{anchor:r,head:i}=n,s,o;Pk&&!(n instanceof Ye)&&(n.$from.parent.inlineContent||(s=Fk(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=Fk(t,n.to))),t.docView.setSelection(r,i,t,e),Pk&&(s&&Bk(s),o&&Bk(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&dL(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const Pk=Yn||jn&&O6<63;function Fk(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(Yn&&i&&i.contentEditable=="false")return Oy(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return Oy(i);if(s)return Oy(s)}}function Oy(t){return t.contentEditable="true",Yn&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function Bk(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function dL(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!U6(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function hL(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setStart(r.parentNode,Tn(r)+1):n.setStart(r,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&dr&&co<=11&&(r.disabled=!0,r.disabled=!1)}function V6(t,e){if(e instanceof Ke){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(jk(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else jk(t)}function jk(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function w2(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||Ye.between(e,n,r)}function Hk(t){return t.editable&&!t.hasFocus()?!1:W6(t)}function W6(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function pL(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Ea(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Uv(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&Qe.findFrom(s,e)}function Ys(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function $k(t,e,n){let r=t.state.selection;if(r instanceof Ye)if(n.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let o=t.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return Ys(t,new Ye(r.$anchor,o))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=Uv(t.state,e);return i&&i instanceof Ke?Ys(t,i):!1}else if(!(Hr&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,o;if(!s||s.isText)return!1;let a=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(o=t.docView.descAt(a))&&!o.contentDOM?Ke.isSelectable(s)?Ys(t,new Ke(e<0?t.state.doc.resolve(i.pos-s.nodeSize):i)):Cf?Ys(t,new Ye(t.state.doc.resolve(e<0?a:a+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Ke&&r.node.isInline)return Ys(t,new Ye(e>0?r.$to:r.$from));{let i=Uv(t.state,e);return i?Ys(t,i):!1}}}function Ep(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Oc(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function wl(t,e){return e<0?mL(t):gL(t)}function mL(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,s,o=!1;for(ci&&n.nodeType==1&&r<Ep(n)&&Oc(n.childNodes[r],-1)&&(o=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(Oc(a,-1))i=n,s=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(K6(n))break;{let a=n.previousSibling;for(;a&&Oc(a,-1);)i=n.parentNode,s=Tn(a),a=a.previousSibling;if(a)n=a,r=Ep(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}o?Vv(t,n,r):i&&Vv(t,i,s)}function gL(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=Ep(n),s,o;for(;;)if(r<i){if(n.nodeType!=1)break;let a=n.childNodes[r];if(Oc(a,1))s=n,o=++r;else break}else{if(K6(n))break;{let a=n.nextSibling;for(;a&&Oc(a,1);)s=a.parentNode,o=Tn(a)+1,a=a.nextSibling;if(a)n=a,r=0,i=Ep(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}s&&Vv(t,s,o)}function K6(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function yL(t,e){for(;t&&e==t.childNodes.length&&!Ef(t);)e=Tn(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function wL(t,e){for(;t&&!e&&!Ef(t);)e=Tn(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function Vv(t,e,n){if(e.nodeType!=3){let s,o;(o=yL(e,n))?(e=o,n=0):(s=wL(e,n))&&(e=s,n=s.nodeValue.length)}let r=t.domSelection();if(!r)return;if(Lm(r)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&ls(t)},50)}function zk(t,e){let n=t.state.doc.resolve(e);if(!(jn||HD)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<n.end()){let s=t.coordsAtPos(e+1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function Uk(t,e,n){let r=t.state.selection;if(r instanceof Ye&&!r.empty||n.indexOf("s")>-1||Hr&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let o=Uv(t.state,e);if(o&&o instanceof Ke)return Ys(t,o)}if(!i.parent.inlineContent){let o=e<0?i:s,a=r instanceof Ar?Qe.near(o,e):Qe.findFrom(o,e);return a?Ys(t,a):!1}return!1}function Vk(t,e){if(!(t.state.selection instanceof Ye))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let o=t.state.tr;return e<0?o.delete(n.pos-s.nodeSize,n.pos):o.delete(n.pos,n.pos+s.nodeSize),t.dispatch(o),!0}return!1}function Wk(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function vL(t){if(!Yn||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;Wk(t,r,"true"),setTimeout(()=>Wk(t,r,"false"),20)}return!1}function bL(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function xL(t,e){let n=e.keyCode,r=bL(e);if(n==8||Hr&&n==72&&r=="c")return Vk(t,-1)||wl(t,-1);if(n==46&&!e.shiftKey||Hr&&n==68&&r=="c")return Vk(t,1)||wl(t,1);if(n==13||n==27)return!0;if(n==37||Hr&&n==66&&r=="c"){let i=n==37?zk(t,t.state.selection.from)=="ltr"?-1:1:-1;return $k(t,i,r)||wl(t,i)}else if(n==39||Hr&&n==70&&r=="c"){let i=n==39?zk(t,t.state.selection.from)=="ltr"?1:-1:1;return $k(t,i,r)||wl(t,i)}else{if(n==38||Hr&&n==80&&r=="c")return Uk(t,-1,r)||wl(t,-1);if(n==40||Hr&&n==78&&r=="c")return vL(t)||Uk(t,1,r)||wl(t,1);if(r==(Hr?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function v2(t,e){t.someProp("transformCopied",m=>{e=m(e,t)});let n=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let m=r.firstChild;n.push(m.type.name,m.attrs!=m.type.defaultAttrs?m.attrs:null),r=m.content}let o=t.someProp("clipboardSerializer")||Pa.fromSchema(t.state.schema),a=J6(),u=a.createElement("div");u.appendChild(o.serializeFragment(r,{document:a}));let c=u.firstChild,d,h=0;for(;c&&c.nodeType==1&&(d=Z6[c.nodeName.toLowerCase()]);){for(let m=d.length-1;m>=0;m--){let w=a.createElement(d[m]);for(;u.firstChild;)w.appendChild(u.firstChild);u.appendChild(w),h++}c=u.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${s}${h?` -${h}`:""} ${JSON.stringify(n)}`);let p=t.someProp("clipboardTextSerializer",m=>m(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:u,text:p,slice:e}}function q6(t,e,n,r,i){let s=i.parent.type.spec.code,o,a;if(!n&&!e)return null;let u=e&&(r||s||!n);if(u){if(t.someProp("transformPastedText",p=>{e=p(e,s||r,t)}),s)return e?new Le(Ae.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):Le.empty;let h=t.someProp("clipboardTextParser",p=>p(e,i,r,t));if(h)a=h;else{let p=i.marks(),{schema:m}=t.state,w=Pa.fromSchema(m);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(y=>{let x=o.appendChild(document.createElement("p"));y&&x.appendChild(w.serializeNode(m.text(y,p)))})}}else t.someProp("transformPastedHTML",h=>{n=h(n,t)}),o=kL(n),Cf&&TL(o);let c=o&&o.querySelector("[data-pm-slice]"),d=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let h=+d[3];h>0;h--){let p=o.firstChild;for(;p&&p.nodeType!=1;)p=p.nextSibling;if(!p)break;o=p}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||Rc.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(u||d),context:i,ruleFromNode(p){return p.nodeName=="BR"&&!p.nextSibling&&p.parentNode&&!EL.test(p.parentNode.nodeName)?{ignore:!0}:null}})),d)a=AL(Kk(a,+d[1],+d[2]),d[4]);else if(a=Le.maxOpen(CL(a.content,i),!0),a.openStart||a.openEnd){let h=0,p=0;for(let m=a.content.firstChild;h<a.openStart&&!m.type.spec.isolating;h++,m=m.firstChild);for(let m=a.content.lastChild;p<a.openEnd&&!m.type.spec.isolating;p++,m=m.lastChild);a=Kk(a,h,p)}return t.someProp("transformPasted",h=>{a=h(a,t)}),a}const EL=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function CL(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),s,o=[];if(t.forEach(a=>{if(!o)return;let u=i.findWrapping(a.type),c;if(!u)return o=null;if(c=o.length&&s.length&&X6(u,s,a,o[o.length-1],0))o[o.length-1]=c;else{o.length&&(o[o.length-1]=Y6(o[o.length-1],s.length));let d=G6(a,u);o.push(d),i=i.matchType(d.type),s=u}}),o)return Ae.from(o)}return t}function G6(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,Ae.from(t));return t}function X6(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let s=X6(t,e,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(Ae.from(G6(n,t,i+1))))}}function Y6(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,Y6(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(Ae.empty,!0);return t.copy(n.append(r))}function Wv(t,e,n,r,i,s){let o=e<0?t.firstChild:t.lastChild,a=o.content;return t.childCount>1&&(s=0),i<r-1&&(a=Wv(a,e,n,r,i+1,s)),i>=n&&(a=e<0?o.contentMatchAt(0).fillBefore(a,s<=i).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(Ae.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,o.copy(a))}function Kk(t,e,n){return e<t.openStart&&(t=new Le(Wv(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new Le(Wv(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const Z6={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let qk=null;function J6(){return qk||(qk=document.implementation.createHTMLDocument("title"))}let Iy=null;function SL(t){let e=window.trustedTypes;return e?(Iy||(Iy=e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),Iy.createHTML(t)):t}function kL(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=J6().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&Z6[r[1].toLowerCase()])&&(t=i.map(s=>"<"+s+">").join("")+t+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=SL(t),i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function TL(t){let e=t.querySelectorAll(jn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function AL(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:s,openEnd:o}=t;for(let a=r.length-2;a>=0;a-=2){let u=n.nodes[r[a]];if(!u||u.hasRequiredAttrs())break;i=Ae.from(u.create(r[a+1],i)),s++,o++}return new Le(i,s,o)}const Zn={},Jn={},_L={touchstart:!0,touchmove:!0};class RL{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function NL(t){for(let e in Zn){let n=Zn[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{IL(t,r)&&!b2(t,r)&&(t.editable||!(r.type in Jn))&&n(t,r)},_L[e]?{passive:!0}:void 0)}Yn&&t.dom.addEventListener("input",()=>null),Kv(t)}function oo(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function OL(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function Kv(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>b2(t,r))})}function b2(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function IL(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function ML(t,e){!b2(t,e)&&Zn[e.type]&&(t.editable||!(e.type in Jn))&&Zn[e.type](t,e)}Jn.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!e7(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(rs&&jn&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Ql&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,ta(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||xL(t,n)?n.preventDefault():oo(t,"key")};Jn.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Jn.keypress=(t,e)=>{let n=e;if(e7(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Hr&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof Ye)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",s=>s(t,r.$from.pos,r.$to.pos,i))&&t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function Fm(t){return{left:t.clientX,top:t.clientY}}function DL(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function x2(t,e,n,r,i){if(r==-1)return!1;let s=t.state.doc.resolve(r);for(let o=s.depth+1;o>0;o--)if(t.someProp(e,a=>o>s.depth?a(t,n,s.nodeAfter,s.before(o),i,!0):a(t,n,s.node(o),s.before(o),i,!1)))return!0;return!1}function Bl(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function LL(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&Ke.isSelectable(r)?(Bl(t,new Ke(n)),!0):!1}function PL(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof Ke&&(r=n.node);let s=t.state.doc.resolve(e);for(let o=s.depth+1;o>0;o--){let a=o>s.depth?s.nodeAfter:s.node(o);if(Ke.isSelectable(a)){r&&n.$from.depth>0&&o>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(o);break}}return i!=null?(Bl(t,Ke.create(t.state.doc,i)),!0):!1}function FL(t,e,n,r,i){return x2(t,"handleClickOn",e,n,r)||t.someProp("handleClick",s=>s(t,e,r))||(i?PL(t,n):LL(t,n))}function BL(t,e,n,r){return x2(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function jL(t,e,n,r){return x2(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||HL(t,n,r)}function HL(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(Bl(t,Ye.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let o=s>i.depth?i.nodeAfter:i.node(s),a=i.before(s);if(o.inlineContent)Bl(t,Ye.create(r,a+1,a+1+o.content.size));else if(Ke.isSelectable(o))Bl(t,Ke.create(r,a));else continue;return!0}}function E2(t){return Cp(t)}const Q6=Hr?"metaKey":"ctrlKey";Zn.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=E2(t),i=Date.now(),s="singleClick";i-t.input.lastClick.time<500&&DL(n,t.input.lastClick)&&!n[Q6]&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s};let o=t.posAtCoords(Fm(n));o&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new $L(t,o,n,!!r)):(s=="doubleClick"?BL:jL)(t,o.pos,o.inside,n)?n.preventDefault():oo(t,"pointer"))};class $L{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[Q6],this.allowDefault=r.shiftKey;let s,o;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),o=n.inside;else{let d=e.state.doc.resolve(n.pos);s=d.parent,o=d.depth?d.before():0}const a=i?null:r.target,u=a?e.docView.nearestDesc(a,!0):null;this.target=u&&u.dom.nodeType==1?u.dom:null;let{selection:c}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||c instanceof Ke&&c.from<=o&&c.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&ci&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),oo(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>ls(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Fm(e))),this.updateAllowDefault(e),this.allowDefault||!n?oo(this.view,"pointer"):FL(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Yn&&this.mightDrag&&!this.mightDrag.node.isAtom||jn&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Bl(this.view,Qe.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):oo(this.view,"pointer")}move(e){this.updateAllowDefault(e),oo(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Zn.touchstart=t=>{t.input.lastTouch=Date.now(),E2(t),oo(t,"pointer")};Zn.touchmove=t=>{t.input.lastTouch=Date.now(),oo(t,"pointer")};Zn.contextmenu=t=>E2(t);function e7(t,e){return t.composing?!0:Yn&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const zL=rs?5e3:-1;Jn.compositionstart=Jn.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof Ye&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),Cp(t,!0),t.markCursor=null;else if(Cp(t,!e.selection.empty),ci&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let o=s<0?i.lastChild:i.childNodes[s-1];if(!o)break;if(o.nodeType==3){let a=t.domSelection();a&&a.collapse(o,o.nodeValue.length);break}else i=o,s=-1}}t.input.composing=!0}t7(t,zL)};Jn.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,t7(t,20))};function t7(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Cp(t),e))}function n7(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=VL());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function UL(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=LD(e.focusNode,e.focusOffset),r=PD(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let o=n.pmViewDesc;if(!(!o||!o.isText(n.nodeValue)))return r}}return n||r}function VL(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Cp(t,e=!1){if(!(rs&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),n7(t),e||t.docView&&t.docView.dirty){let n=y2(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!t.state.selection.empty?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function WL(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Qc=dr&&co<15||Ql&&$D<604;Zn.copy=Jn.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let s=Qc?null:n.clipboardData,o=r.content(),{dom:a,text:u}=v2(t,o);s?(n.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",u)):WL(t,a),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function KL(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function qL(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?ef(t,r.value,null,i,e):ef(t,r.textContent,r.innerHTML,i,e)},50)}function ef(t,e,n,r,i){let s=q6(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",u=>u(t,i,s||Le.empty)))return!0;if(!s)return!1;let o=KL(s),a=o?t.state.tr.replaceSelectionWith(o,r):t.state.tr.replaceSelection(s);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function r7(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Jn.paste=(t,e)=>{let n=e;if(t.composing&&!rs)return;let r=Qc?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&ef(t,r7(r),r.getData("text/html"),i,n)?n.preventDefault():qL(t,n)};class i7{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const s7=Hr?"altKey":"ctrlKey";Zn.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,s=i.empty?null:t.posAtCoords(Fm(n)),o;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof Ke?i.to-1:i.to))){if(r&&r.mightDrag)o=Ke.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let h=t.docView.nearestDesc(n.target,!0);h&&h.node.type.spec.draggable&&h!=t.docView&&(o=Ke.create(t.state.doc,h.posBefore))}}let a=(o||t.state.selection).content(),{dom:u,text:c,slice:d}=v2(t,a);(!n.dataTransfer.files.length||!jn||O6>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Qc?"Text":"text/html",u.innerHTML),n.dataTransfer.effectAllowed="copyMove",Qc||n.dataTransfer.setData("text/plain",c),t.dragging=new i7(d,!n[s7],o)};Zn.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Jn.dragover=Jn.dragenter=(t,e)=>e.preventDefault();Jn.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(Fm(n));if(!i)return;let s=t.state.doc.resolve(i.pos),o=r&&r.slice;o?t.someProp("transformPasted",w=>{o=w(o,t)}):o=q6(t,r7(n.dataTransfer),Qc?null:n.dataTransfer.getData("text/html"),!1,s);let a=!!(r&&!n[s7]);if(t.someProp("handleDrop",w=>w(t,n,o||Le.empty,a))){n.preventDefault();return}if(!o)return;n.preventDefault();let u=o?x6(t.state.doc,s.pos,o):s.pos;u==null&&(u=s.pos);let c=t.state.tr;if(a){let{node:w}=r;w?w.replace(c):c.deleteSelection()}let d=c.mapping.map(u),h=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,p=c.doc;if(h?c.replaceRangeWith(d,d,o.content.firstChild):c.replaceRange(d,d,o),c.doc.eq(p))return;let m=c.doc.resolve(d);if(h&&Ke.isSelectable(o.content.firstChild)&&m.nodeAfter&&m.nodeAfter.sameMarkup(o.content.firstChild))c.setSelection(new Ke(m));else{let w=c.mapping.map(u);c.mapping.maps[c.mapping.maps.length-1].forEach((y,x,v,S)=>w=S),c.setSelection(w2(t,m,c.doc.resolve(w)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))};Zn.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&ls(t)},20))};Zn.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Zn.beforeinput=(t,e)=>{if(jn&&rs&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,ta(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in Jn)Zn[t]=Jn[t];function tf(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Sp{constructor(e,n){this.toDOM=e,this.spec=n||pa,this.side=this.spec.side||0}map(e,n,r,i){let{pos:s,deleted:o}=e.mapResult(n.from+i,this.side<0?-1:1);return o?null:new Nn(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Sp&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&tf(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class ho{constructor(e,n){this.attrs=e,this.spec=n||pa}map(e,n,r,i){let s=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,o=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=o?null:new Nn(s,o,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof ho&&tf(this.attrs,e.attrs)&&tf(this.spec,e.spec)}static is(e){return e.type instanceof ho}destroy(){}}class C2{constructor(e,n){this.attrs=e,this.spec=n||pa}map(e,n,r,i){let s=e.mapResult(n.from+i,1);if(s.deleted)return null;let o=e.mapResult(n.to+i,-1);return o.deleted||o.pos<=s.pos?null:new Nn(s.pos-r,o.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),s;return i==n.from&&!(s=e.child(r)).isText&&i+s.nodeSize==n.to}eq(e){return this==e||e instanceof C2&&tf(this.attrs,e.attrs)&&tf(this.spec,e.spec)}destroy(){}}class Nn{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new Nn(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new Nn(e,e,new Sp(n,r))}static inline(e,n,r,i){return new Nn(e,n,new ho(r,i))}static node(e,n,r,i){return new Nn(e,n,new C2(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof ho}get widget(){return this.type instanceof Sp}}const _l=[],pa={};class Mt{constructor(e,n){this.local=e.length?e:_l,this.children=n.length?n:_l}static create(e,n){return n.length?kp(n,e,0,pa):Pn}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,s){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=n&&a.to>=e&&(!s||s(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>e){let a=this.children[o]+1;this.children[o+2].findInner(e-a,n-a,r,i+a,s)}}map(e,n,r){return this==Pn||e.maps.length==0?this:this.mapInner(e,n,0,0,r||pa)}mapInner(e,n,r,i,s){let o;for(let a=0;a<this.local.length;a++){let u=this.local[a].map(e,r,i);u&&u.type.valid(n,u)?(o||(o=[])).push(u):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?GL(this.children,o||[],e,n,r,i,s):o?new Mt(o.sort(ma),_l):Pn}add(e,n){return n.length?this==Pn?Mt.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,s=0;e.forEach((a,u)=>{let c=u+r,d;if(d=a7(n,a,c)){for(i||(i=this.children.slice());s<i.length&&i[s]<u;)s+=3;i[s]==u?i[s+2]=i[s+2].addInner(a,d,c+1):i.splice(s,0,u,u+a.nodeSize,kp(d,a,c+1,pa)),s+=3}});let o=o7(s?l7(n):n,-r);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||o.splice(a--,1);return new Mt(o.length?this.local.concat(o).sort(ma):this.local,i||this.children)}remove(e){return e.length==0||this==Pn?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let o,a=r[s]+n,u=r[s+1]+n;for(let d=0,h;d<e.length;d++)(h=e[d])&&h.from>a&&h.to<u&&(e[d]=null,(o||(o=[])).push(h));if(!o)continue;r==this.children&&(r=this.children.slice());let c=r[s+2].removeInner(o,a+1);c!=Pn?r[s+2]=c:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,o;s<e.length;s++)if(o=e[s])for(let a=0;a<i.length;a++)i[a].eq(o,n)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Mt(i,r):Pn}forChild(e,n){if(this==Pn)return this;if(n.isLeaf)return Mt.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let s=e+1,o=s+n.content.size;for(let a=0;a<this.local.length;a++){let u=this.local[a];if(u.from<o&&u.to>s&&u.type instanceof ho){let c=Math.max(s,u.from)-s,d=Math.min(o,u.to)-s;c<d&&(i||(i=[])).push(u.copy(c,d))}}if(i){let a=new Mt(i.sort(ma),_l);return r?new eo([a,r]):a}return r||Pn}eq(e){if(this==e)return!0;if(!(e instanceof Mt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return S2(this.localsInner(e))}localsInner(e){if(this==Pn)return _l;if(e.inlineContent||!this.local.some(ho.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof ho||n.push(this.local[r]);return n}forEachSet(e){e(this)}}Mt.empty=new Mt([],[]);Mt.removeOverlap=S2;const Pn=Mt.empty;class eo{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,pa));return eo.from(r)}forChild(e,n){if(n.isLeaf)return Mt.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,n);s!=Pn&&(s instanceof eo?r=r.concat(s.members):r.push(s))}return eo.from(r)}eq(e){if(!(e instanceof eo)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let o=0;o<s.length;o++)n.push(s[o])}}return n?S2(r?n:n.sort(ma)):_l}static from(e){switch(e.length){case 0:return Pn;case 1:return e[0];default:return new eo(e.every(n=>n instanceof Mt)?e:e.reduce((n,r)=>n.concat(r instanceof Mt?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function GL(t,e,n,r,i,s,o){let a=t.slice();for(let c=0,d=s;c<n.maps.length;c++){let h=0;n.maps[c].forEach((p,m,w,y)=>{let x=y-w-(m-p);for(let v=0;v<a.length;v+=3){let S=a[v+1];if(S<0||p>S+d-h)continue;let k=a[v]+d-h;m>=k?a[v+1]=p<=k?-2:-1:p>=d&&x&&(a[v]+=x,a[v+1]+=x)}h+=x}),d=n.maps[c].map(d,-1)}let u=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){u=!0,a[c+1]=-1;continue}let d=n.map(t[c]+s),h=d-i;if(h<0||h>=r.content.size){u=!0;continue}let p=n.map(t[c+1]+s,-1),m=p-i,{index:w,offset:y}=r.content.findIndex(h),x=r.maybeChild(w);if(x&&y==h&&y+x.nodeSize==m){let v=a[c+2].mapInner(n,x,d+1,t[c]+s+1,o);v!=Pn?(a[c]=h,a[c+1]=m,a[c+2]=v):(a[c+1]=-2,u=!0)}else u=!0}if(u){let c=XL(a,t,e,n,i,s,o),d=kp(c,r,0,o);e=d.local;for(let h=0;h<a.length;h+=3)a[h+1]<0&&(a.splice(h,3),h-=3);for(let h=0,p=0;h<d.children.length;h+=3){let m=d.children[h];for(;p<a.length&&a[p]<m;)p+=3;a.splice(p,0,d.children[h],d.children[h+1],d.children[h+2])}}return new Mt(e.sort(ma),a)}function o7(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new Nn(i.from+e,i.to+e,i.type))}return n}function XL(t,e,n,r,i,s,o){function a(u,c){for(let d=0;d<u.local.length;d++){let h=u.local[d].map(r,i,c);h?n.push(h):o.onRemove&&o.onRemove(u.local[d].spec)}for(let d=0;d<u.children.length;d+=3)a(u.children[d+2],u.children[d]+c+1)}for(let u=0;u<t.length;u+=3)t[u+1]==-1&&a(t[u+2],e[u]+s+1);return n}function a7(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let s=0,o;s<t.length;s++)(o=t[s])&&o.from>n&&o.to<r&&((i||(i=[])).push(o),t[s]=null);return i}function l7(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function kp(t,e,n,r){let i=[],s=!1;e.forEach((a,u)=>{let c=a7(t,a,u+n);if(c){s=!0;let d=kp(c,a,n+u+1,r);d!=Pn&&i.push(u,u+a.nodeSize,d)}});let o=o7(s?l7(t):t,-n).sort(ma);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||(r.onRemove&&r.onRemove(o[a].spec),o.splice(a--,1));return o.length||i.length?new Mt(o,i):Pn}function ma(t,e){return t.from-e.from||t.to-e.to}function S2(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==t&&(e=t.slice()),e[i]=s.copy(s.from,r.to),Gk(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,s.from),Gk(e,i,r.copy(s.from,r.to)));break}}}return e}function Gk(t,e,n){for(;e<t.length&&ma(n,t[e])>0;)e++;t.splice(e,0,n)}function My(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Pn&&e.push(r)}),t.cursorWrapper&&e.push(Mt.create(t.state.doc,[t.cursorWrapper.deco])),eo.from(e)}const YL={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},ZL=dr&&co<=11;class JL{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class QL{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new JL,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);dr&&co<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),ZL&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,YL)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Hk(this.view)){if(this.suppressingSelectionUpdates)return ls(this.view);if(dr&&co<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Ea(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let s=e.focusNode;s;s=Jl(s))n.add(s);for(let s=e.anchorNode;s;s=Jl(s))if(n.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&Hk(e)&&!this.ignoreSelectionChange(r),s=-1,o=-1,a=!1,u=[];if(e.editable)for(let d=0;d<n.length;d++){let h=this.registerMutation(n[d],u);h&&(s=s<0?h.from:Math.min(h.from,s),o=o<0?h.to:Math.max(h.to,o),h.typeOver&&(a=!0))}if(ci&&u.length){let d=u.filter(h=>h.nodeName=="BR");if(d.length==2){let[h,p]=d;h.parentNode&&h.parentNode.parentNode==p.parentNode?p.remove():h.remove()}else{let{focusNode:h}=this.currentSelection;for(let p of d){let m=p.parentNode;m&&m.nodeName=="LI"&&(!h||nP(e,h)!=m)&&p.remove()}}}let c=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Lm(r)&&(c=y2(e))&&c.eq(Qe.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,ls(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,o),eP(e)),this.handleDOMChange(s,o,a,u),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||ls(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let d=0;d<e.addedNodes.length;d++){let h=e.addedNodes[d];n.push(h),h.nodeType==3&&(this.lastChangedTextNode=h)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(dr&&co<=11&&e.addedNodes.length)for(let d=0;d<e.addedNodes.length;d++){let{previousSibling:h,nextSibling:p}=e.addedNodes[d];(!h||Array.prototype.indexOf.call(e.addedNodes,h)<0)&&(i=h),(!p||Array.prototype.indexOf.call(e.addedNodes,p)<0)&&(s=p)}let o=i&&i.parentNode==e.target?Tn(i)+1:0,a=r.localPosFromDOM(e.target,o,-1),u=s&&s.parentNode==e.target?Tn(s):e.target.childNodes.length,c=r.localPosFromDOM(e.target,u,1);return{from:a,to:c}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let Xk=new WeakMap,Yk=!1;function eP(t){if(!Xk.has(t)&&(Xk.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=ci,Yk)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Yk=!0}}function Zk(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,o=t.domAtPos(t.state.selection.anchor);return Ea(o.node,o.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function tP(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return Zk(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?Zk(t,n):null}function nP(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function rP(t,e,n){let{node:r,fromOffset:i,toOffset:s,from:o,to:a}=t.docView.parseRange(e,n),u=t.domSelectionRange(),c,d=u.anchorNode;if(d&&t.dom.contains(d.nodeType==1?d:d.parentNode)&&(c=[{node:d,offset:u.anchorOffset}],Lm(u)||c.push({node:u.focusNode,offset:u.focusOffset})),jn&&t.input.lastKeyCode===8)for(let x=s;x>i;x--){let v=r.childNodes[x-1],S=v.pmViewDesc;if(v.nodeName=="BR"&&!S){s=x;break}if(!S||S.size)break}let h=t.state.doc,p=t.someProp("domParser")||Rc.fromSchema(t.state.schema),m=h.resolve(o),w=null,y=p.parse(r,{topNode:m.parent,topMatch:m.parent.contentMatchAt(m.index()),topOpen:!0,from:i,to:s,preserveWhitespace:m.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:iP,context:m});if(c&&c[0].pos!=null){let x=c[0].pos,v=c[1]&&c[1].pos;v==null&&(v=x),w={anchor:x+o,head:v+o}}return{doc:y,sel:w,from:o,to:a}}function iP(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Yn&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Yn&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const sP=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function oP(t,e,n,r,i){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let F=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,ie=y2(t,F);if(ie&&!t.state.selection.eq(ie)){if(jn&&rs&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",H=>H(t,ta(13,"Enter"))))return;let me=t.state.tr.setSelection(ie);F=="pointer"?me.setMeta("pointer",!0):F=="key"&&me.scrollIntoView(),s&&me.setMeta("composition",s),t.dispatch(me)}return}let o=t.state.doc.resolve(e),a=o.sharedDepth(n);e=o.before(a+1),n=t.state.doc.resolve(n).after(a+1);let u=t.state.selection,c=rP(t,e,n),d=t.state.doc,h=d.slice(c.from,c.to),p,m;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(p=t.state.selection.to,m="end"):(p=t.state.selection.from,m="start"),t.input.lastKeyCode=null;let w=uP(h.content,c.doc.content,c.from,p,m);if(w&&t.input.domChangeCount++,(Ql&&t.input.lastIOSEnter>Date.now()-225||rs)&&i.some(F=>F.nodeType==1&&!sP.test(F.nodeName))&&(!w||w.endA>=w.endB)&&t.someProp("handleKeyDown",F=>F(t,ta(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!w)if(r&&u instanceof Ye&&!u.empty&&u.$head.sameParent(u.$anchor)&&!t.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))w={start:u.from,endA:u.to,endB:u.to};else{if(c.sel){let F=Jk(t,t.state.doc,c.sel);if(F&&!F.eq(t.state.selection)){let ie=t.state.tr.setSelection(F);s&&ie.setMeta("composition",s),t.dispatch(ie)}}return}t.state.selection.from<t.state.selection.to&&w.start==w.endB&&t.state.selection instanceof Ye&&(w.start>t.state.selection.from&&w.start<=t.state.selection.from+2&&t.state.selection.from>=c.from?w.start=t.state.selection.from:w.endA<t.state.selection.to&&w.endA>=t.state.selection.to-2&&t.state.selection.to<=c.to&&(w.endB+=t.state.selection.to-w.endA,w.endA=t.state.selection.to)),dr&&co<=11&&w.endB==w.start+1&&w.endA==w.start&&w.start>c.from&&c.doc.textBetween(w.start-c.from-1,w.start-c.from+1)=="  "&&(w.start--,w.endA--,w.endB--);let y=c.doc.resolveNoCache(w.start-c.from),x=c.doc.resolveNoCache(w.endB-c.from),v=d.resolve(w.start),S=y.sameParent(x)&&y.parent.inlineContent&&v.end()>=w.endA,k;if((Ql&&t.input.lastIOSEnter>Date.now()-225&&(!S||i.some(F=>F.nodeName=="DIV"||F.nodeName=="P"))||!S&&y.pos<c.doc.content.size&&!y.sameParent(x)&&(k=Qe.findFrom(c.doc.resolve(y.pos+1),1,!0))&&k.head==x.pos)&&t.someProp("handleKeyDown",F=>F(t,ta(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>w.start&&lP(d,w.start,w.endA,y,x)&&t.someProp("handleKeyDown",F=>F(t,ta(8,"Backspace")))){rs&&jn&&t.domObserver.suppressSelectionUpdates();return}jn&&w.endB==w.start&&(t.input.lastChromeDelete=Date.now()),rs&&!S&&y.start()!=x.start()&&x.parentOffset==0&&y.depth==x.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==w.endA&&(w.endB-=2,x=c.doc.resolveNoCache(w.endB-c.from),setTimeout(()=>{t.someProp("handleKeyDown",function(F){return F(t,ta(13,"Enter"))})},20));let E=w.start,R=w.endA,B,$,K;if(S){if(y.pos==x.pos)dr&&co<=11&&y.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>ls(t),20)),B=t.state.tr.delete(E,R),$=d.resolve(w.start).marksAcross(d.resolve(w.endA));else if(w.endA==w.endB&&(K=aP(y.parent.content.cut(y.parentOffset,x.parentOffset),v.parent.content.cut(v.parentOffset,w.endA-v.start()))))B=t.state.tr,K.type=="add"?B.addMark(E,R,K.mark):B.removeMark(E,R,K.mark);else if(y.parent.child(y.index()).isText&&y.index()==x.index()-(x.textOffset?0:1)){let F=y.parent.textBetween(y.parentOffset,x.parentOffset);if(t.someProp("handleTextInput",ie=>ie(t,E,R,F)))return;B=t.state.tr.insertText(F,E,R)}}if(B||(B=t.state.tr.replace(E,R,c.doc.slice(w.start-c.from,w.endB-c.from))),c.sel){let F=Jk(t,B.doc,c.sel);F&&!(jn&&t.composing&&F.empty&&(w.start!=w.endB||t.input.lastChromeDelete<Date.now()-100)&&(F.head==E||F.head==B.mapping.map(R)-1)||dr&&F.empty&&F.head==E)&&B.setSelection(F)}$&&B.ensureMarks($),s&&B.setMeta("composition",s),t.dispatch(B.scrollIntoView())}function Jk(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:w2(t,e.resolve(n.anchor),e.resolve(n.head))}function aP(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,s=r,o,a,u;for(let d=0;d<r.length;d++)i=r[d].removeFromSet(i);for(let d=0;d<n.length;d++)s=n[d].removeFromSet(s);if(i.length==1&&s.length==0)a=i[0],o="add",u=d=>d.mark(a.addToSet(d.marks));else if(i.length==0&&s.length==1)a=s[0],o="remove",u=d=>d.mark(a.removeFromSet(d.marks));else return null;let c=[];for(let d=0;d<e.childCount;d++)c.push(u(e.child(d)));if(Ae.from(c).eq(t))return{mark:a,type:o}}function lP(t,e,n,r,i){if(n-e<=i.pos-r.pos||Dy(r,!0,!1)<i.pos)return!1;let s=t.resolve(e);if(!r.parent.isTextblock){let a=s.nodeAfter;return a!=null&&n==e+a.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=t.resolve(Dy(s,!0,!0));return!o.parent.isTextblock||o.pos>n||Dy(o,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function Dy(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let s=t.node(r).maybeChild(t.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function uP(t,e,n,r,i){let s=t.findDiffStart(e,n);if(s==null)return null;let{a:o,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let u=Math.max(0,s-Math.min(o,a));r-=o+u-s}if(o<s&&t.size<e.size){let u=r<=s&&r>=o?s-r:0;s-=u,s&&s<e.size&&Qk(e.textBetween(s-1,s+1))&&(s+=u?1:-1),a=s+(a-o),o=s}else if(a<s){let u=r<=s&&r>=a?s-r:0;s-=u,s&&s<t.size&&Qk(t.textBetween(s-1,s+1))&&(s+=u?1:-1),o=s+(o-a),a=s}return{start:s,endA:o,endB:a}}function Qk(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class cP{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new RL,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(i4),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=n4(this),t4(this),this.nodeViews=r4(this),this.docView=Dk(this.state.doc,e4(this),My(this),this.dom,this),this.domObserver=new QL(this,(r,i,s,o)=>oP(this,r,i,s,o)),this.domObserver.start(),NL(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Kv(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(i4),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,s=!1,o=!1;e.storedMarks&&this.composing&&(n7(this),o=!0),this.state=e;let a=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let m=r4(this);dP(m,this.nodeViews)&&(this.nodeViews=m,s=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&Kv(this),this.editable=n4(this),t4(this);let u=My(this),c=e4(this),d=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",h=s||!this.docView.matchesNode(e.doc,c,u);(h||!e.selection.eq(i.selection))&&(o=!0);let p=d=="preserve"&&o&&this.dom.style.overflowAnchor==null&&VD(this);if(o){this.domObserver.stop();let m=h&&(dr||jn)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&fP(i.selection,e.selection);if(h){let w=jn?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=UL(this)),(s||!this.docView.update(e.doc,c,u,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=Dk(e.doc,c,u,this.dom,this)),w&&!this.trackWrites&&(m=!0)}m||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&pL(this))?ls(this,m):(V6(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),d=="reset"?this.dom.scrollTop=0:d=="to selection"?this.scrollToSelection():p&&WD(p)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Ke){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&_k(this,n.getBoundingClientRect(),e)}else _k(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new i7(e.slice,e.move,i<0?void 0:Ke.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[e];if(a!=null&&(i=n?n(a):a))return i}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let a=s[o].props[e];if(a!=null&&(i=n?n(a):a))return i}}hasFocus(){if(dr){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&KD(this.dom),ls(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return ZD(this,e)}coordsAtPos(e,n=1){return P6(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return nL(this,n||this.state,e)}pasteHTML(e,n){return ef(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return ef(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return v2(this,e)}destroy(){this.docView&&(OL(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],My(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,MD())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return ML(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?Yn&&this.root.nodeType===11&&BD(this.dom.ownerDocument)==this.dom&&tP(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function e4(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[Nn.node(0,t.state.doc.content.size,e)]}function t4(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Nn.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function n4(t){return!t.someProp("editable",e=>e(t.state)===!1)}function fP(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function r4(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function dP(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function i4(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var go={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Tp={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},hP=typeof navigator<"u"&&/Mac/.test(navigator.platform),pP=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var An=0;An<10;An++)go[48+An]=go[96+An]=String(An);for(var An=1;An<=24;An++)go[An+111]="F"+An;for(var An=65;An<=90;An++)go[An]=String.fromCharCode(An+32),Tp[An]=String.fromCharCode(An);for(var Ly in go)Tp.hasOwnProperty(Ly)||(Tp[Ly]=go[Ly]);function mP(t){var e=hP&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||pP&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Tp:go)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const gP=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function yP(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,s,o;for(let a=0;a<e.length-1;a++){let u=e[a];if(/^(cmd|meta|m)$/i.test(u))o=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))i=!0;else if(/^s(hift)?$/i.test(u))s=!0;else if(/^mod$/i.test(u))gP?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+u)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),o&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function wP(t){let e=Object.create(null);for(let n in t)e[yP(n)]=t[n];return e}function Py(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function vP(t){return new gt({props:{handleKeyDown:u7(t)}})}function u7(t){let e=wP(t);return function(n,r){let i=mP(r),s,o=e[Py(i,r)];if(o&&o(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let a=e[Py(i,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(s=go[r.keyCode])&&s!=i){let a=e[Py(s,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}const bP=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function c7(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const xP=(t,e,n)=>{let r=c7(t,n);if(!r)return!1;let i=k2(r);if(!i){let o=r.blockRange(),a=o&&wu(o);return a==null?!1:(e&&e(t.tr.lift(o,a).scrollIntoView()),!0)}let s=i.nodeBefore;if(p7(t,i,e,-1))return!0;if(r.parent.content.size==0&&(eu(s,"end")||Ke.isSelectable(s)))for(let o=r.depth;;o--){let a=Mm(t.doc,r.before(o),r.after(o),Le.empty);if(a&&a.slice.size<a.to-a.from){if(e){let u=t.tr.step(a);u.setSelection(eu(s,"end")?Qe.findFrom(u.doc.resolve(u.mapping.map(i.pos,-1)),-1):Ke.create(u.doc,i.pos-s.nodeSize)),e(u.scrollIntoView())}return!0}if(o==1||r.node(o-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},EP=(t,e,n)=>{let r=c7(t,n);if(!r)return!1;let i=k2(r);return i?f7(t,i,e):!1},CP=(t,e,n)=>{let r=d7(t,n);if(!r)return!1;let i=T2(r);return i?f7(t,i,e):!1};function f7(t,e,n){let r=e.nodeBefore,i=r,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let d=i.lastChild;if(!d)return!1;i=d}let o=e.nodeAfter,a=o,u=e.pos+1;for(;!a.isTextblock;u++){if(a.type.spec.isolating)return!1;let d=a.firstChild;if(!d)return!1;a=d}let c=Mm(t.doc,s,u,Le.empty);if(!c||c.from!=s||c instanceof hn&&c.slice.size>=u-s)return!1;if(n){let d=t.tr.step(c);d.setSelection(Ye.create(d.doc,s)),n(d.scrollIntoView())}return!0}function eu(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const SP=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;s=k2(r)}let o=s&&s.nodeBefore;return!o||!Ke.isSelectable(o)?!1:(e&&e(t.tr.setSelection(Ke.create(t.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function k2(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function d7(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const kP=(t,e,n)=>{let r=d7(t,n);if(!r)return!1;let i=T2(r);if(!i)return!1;let s=i.nodeAfter;if(p7(t,i,e,1))return!0;if(r.parent.content.size==0&&(eu(s,"start")||Ke.isSelectable(s))){let o=Mm(t.doc,r.before(),r.after(),Le.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=t.tr.step(o);a.setSelection(eu(s,"start")?Qe.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):Ke.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},TP=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;s=T2(r)}let o=s&&s.nodeAfter;return!o||!Ke.isSelectable(o)?!1:(e&&e(t.tr.setSelection(Ke.create(t.doc,s.pos)).scrollIntoView()),!0)};function T2(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const AP=(t,e)=>{let n=t.selection,r=n instanceof Ke,i;if(r){if(n.node.isTextblock||!Co(t.doc,n.from))return!1;i=n.from}else if(i=Im(t.doc,n.from,-1),i==null)return!1;if(e){let s=t.tr.join(i);r&&s.setSelection(Ke.create(s.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},_P=(t,e)=>{let n=t.selection,r;if(n instanceof Ke){if(n.node.isTextblock||!Co(t.doc,n.to))return!1;r=n.to}else if(r=Im(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},RP=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),s=i&&wu(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)},NP=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function h7(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const OP=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),o=h7(i.contentMatchAt(s));if(!o||!i.canReplaceWith(s,s,o))return!1;if(e){let a=n.after(),u=t.tr.replaceWith(a,a,o.createAndFill());u.setSelection(Qe.near(u.doc.resolve(a),1)),e(u.scrollIntoView())}return!0},IP=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof Ar||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=h7(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let o=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=t.tr.insert(o,s.createAndFill());a.setSelection(Ye.create(a.doc,o+1)),e(a.scrollIntoView())}return!0},MP=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(Pl(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&wu(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)},DP=(t,e)=>{let{$from:n,to:r}=t.selection,i,s=n.sharedDepth(r);return s==0?!1:(i=n.before(s),e&&e(t.tr.setSelection(Ke.create(t.doc,i))),!0)};function LP(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||Co(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function p7(t,e,n,r){let i=e.nodeBefore,s=e.nodeAfter,o,a,u=i.type.spec.isolating||s.type.spec.isolating;if(!u&&LP(t,e,n))return!0;let c=!u&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(o=(a=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&a.matchType(o[0]||s.type).validEnd){if(n){let m=e.pos+s.nodeSize,w=Ae.empty;for(let v=o.length-1;v>=0;v--)w=Ae.from(o[v].create(null,w));w=Ae.from(i.copy(w));let y=t.tr.step(new pn(e.pos-1,m,e.pos,m,new Le(w,1,0),o.length,!0)),x=y.doc.resolve(m+2*o.length);x.nodeAfter&&x.nodeAfter.type==i.type&&Co(y.doc,x.pos)&&y.join(x.pos),n(y.scrollIntoView())}return!0}let d=s.type.spec.isolating||r>0&&u?null:Qe.findFrom(e,1),h=d&&d.$from.blockRange(d.$to),p=h&&wu(h);if(p!=null&&p>=e.depth)return n&&n(t.tr.lift(h,p).scrollIntoView()),!0;if(c&&eu(s,"start",!0)&&eu(i,"end")){let m=i,w=[];for(;w.push(m),!m.isTextblock;)m=m.lastChild;let y=s,x=1;for(;!y.isTextblock;y=y.firstChild)x++;if(m.canReplace(m.childCount,m.childCount,y.content)){if(n){let v=Ae.empty;for(let k=w.length-1;k>=0;k--)v=Ae.from(w[k].copy(v));let S=t.tr.step(new pn(e.pos-w.length,e.pos+s.nodeSize,e.pos+x,e.pos+s.nodeSize-x,new Le(v,w.length,0),0,!0));n(S.scrollIntoView())}return!0}}return!1}function m7(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(e.tr.setSelection(Ye.create(e.doc,t<0?i.start(s):i.end(s)))),!0):!1}}const PP=m7(-1),FP=m7(1);function BP(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s),a=o&&p2(o,t,e);return a?(r&&r(n.tr.wrap(o,a).scrollIntoView()),!0):!1}}function s4(t,e=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:o},$to:{pos:a}}=n.selection.ranges[s];n.doc.nodesBetween(o,a,(u,c)=>{if(i)return!1;if(!(!u.isTextblock||u.hasMarkup(t,e)))if(u.type==t)i=!0;else{let d=n.doc.resolve(c),h=d.index();i=d.parent.canReplaceWith(h,h+1,t)}})}if(!i)return!1;if(r){let s=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:u}}=n.selection.ranges[o];s.setBlockType(a,u,t,e)}r(s.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function jP(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s);if(!o)return!1;let a=r?n.tr:null;return HP(a,o,t,e)?(r&&r(a.scrollIntoView()),!0):!1}}function HP(t,e,n,r=null){let i=!1,s=e,o=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let u=o.resolve(e.start-2);s=new Xc(u,u,e.depth),e.endIndex<e.parent.childCount&&(e=new Xc(e.$from,o.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let a=p2(s,n,r,e);return a?(t&&$P(t,e,a,i,n),!0):!1}function $P(t,e,n,r,i){let s=Ae.empty;for(let d=n.length-1;d>=0;d--)s=Ae.from(n[d].type.create(n[d].attrs,s));t.step(new pn(e.start-(r?2:0),e.end,e.start,e.end,new Le(s,0,0),n.length,!0));let o=0;for(let d=0;d<n.length;d++)n[d].type==i&&(o=d+1);let a=n.length-o,u=e.start+n.length-(r?2:0),c=e.parent;for(let d=e.startIndex,h=e.endIndex,p=!0;d<h;d++,p=!1)!p&&Pl(t.doc,u,a)&&(t.split(u,a),u+=2*a),u+=c.child(d).nodeSize;return t}function zP(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,o=>o.childCount>0&&o.firstChild.type==t);return s?n?r.node(s.depth-1).type==t?UP(e,n,t,s):VP(e,n,s):!0:!1}}function UP(t,e,n,r){let i=t.tr,s=r.end,o=r.$to.end(r.depth);s<o&&(i.step(new pn(s-1,o,s,o,new Le(Ae.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Xc(i.doc.resolve(r.$from.pos),i.doc.resolve(o),r.depth));const a=wu(r);if(a==null)return!1;i.lift(r,a);let u=i.doc.resolve(i.mapping.map(s,-1)-1);return Co(i.doc,u.pos)&&u.nodeBefore.type==u.nodeAfter.type&&i.join(u.pos),e(i.scrollIntoView()),!0}function VP(t,e,n){let r=t.tr,i=n.parent;for(let m=n.end,w=n.endIndex-1,y=n.startIndex;w>y;w--)m-=i.child(w).nodeSize,r.delete(m-1,m+1);let s=r.doc.resolve(n.start),o=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,u=n.endIndex==i.childCount,c=s.node(-1),d=s.index(-1);if(!c.canReplace(d+(a?0:1),d+1,o.content.append(u?Ae.empty:Ae.from(i))))return!1;let h=s.pos,p=h+o.nodeSize;return r.step(new pn(h-(a?1:0),p+(u?1:0),h+1,p-1,new Le((a?Ae.empty:Ae.from(i.copy(Ae.empty))).append(u?Ae.empty:Ae.from(i.copy(Ae.empty))),a?0:1,u?0:1),a?0:1)),e(r.scrollIntoView()),!0}function WP(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,c=>c.childCount>0&&c.firstChild.type==t);if(!s)return!1;let o=s.startIndex;if(o==0)return!1;let a=s.parent,u=a.child(o-1);if(u.type!=t)return!1;if(n){let c=u.lastChild&&u.lastChild.type==a.type,d=Ae.from(c?t.create():null),h=new Le(Ae.from(t.create(null,Ae.from(a.type.create(null,d)))),c?3:1,0),p=s.start,m=s.end;n(e.tr.step(new pn(p-(c?3:1),m,p,m,h,1,!0)).scrollIntoView())}return!0}}function Bm(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:s}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,s=n.storedMarks,n}}}class jm{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:i}=n,{tr:s}=r,o=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([a,u])=>[a,(...d)=>{const h=u(...d)(o);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(s),h}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:i,state:s}=this,{view:o}=i,a=[],u=!!e,c=e||s.tr,d=()=>(!u&&n&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(c),a.every(p=>p===!0)),h={...Object.fromEntries(Object.entries(r).map(([p,m])=>[p,(...y)=>{const x=this.buildProps(c,n),v=m(...y)(x);return a.push(v),h}])),run:d};return h}createCan(e){const{rawCommands:n,state:r}=this,i=!1,s=e||r.tr,o=this.buildProps(s,i);return{...Object.fromEntries(Object.entries(n).map(([u,c])=>[u,(...d)=>c(...d)({...o,dispatch:void 0})])),chain:()=>this.createChain(s,i)}}buildProps(e,n=!0){const{rawCommands:r,editor:i,state:s}=this,{view:o}=i,a={tr:e,editor:i,view:o,state:Bm({state:s,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([u,c])=>[u,(...d)=>c(...d)(a)]))}};return a}}class KP{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(i=>i!==n):delete this.callbacks[e]),this}once(e,n){const r=(...i)=>{this.off(e,r),n.apply(this,i)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}}function ze(t,e,n){return t.config[e]===void 0&&t.parent?ze(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?ze(t.parent,e,n):null}):t.config[e]}function Hm(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function g7(t){const e=[],{nodeExtensions:n,markExtensions:r}=Hm(t),i=[...n,...r],s={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage,extensions:i},u=ze(o,"addGlobalAttributes",a);if(!u)return;u().forEach(d=>{d.types.forEach(h=>{Object.entries(d.attributes).forEach(([p,m])=>{e.push({type:h,name:p,attribute:{...s,...m}})})})})}),i.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},u=ze(o,"addAttributes",a);if(!u)return;const c=u();Object.entries(c).forEach(([d,h])=>{const p={...s,...h};typeof(p==null?void 0:p.default)=="function"&&(p.default=p.default()),p!=null&&p.isRequired&&(p==null?void 0:p.default)===void 0&&delete p.default,e.push({type:o.name,name:d,attribute:p})})}),e}function yn(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function kt(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const a=s?String(s).split(" "):[],u=r[i]?r[i].split(" "):[],c=a.filter(d=>!u.includes(d));r[i]=[...u,...c].join(" ")}else if(i==="style"){const a=s?s.split(";").map(d=>d.trim()).filter(Boolean):[],u=r[i]?r[i].split(";").map(d=>d.trim()).filter(Boolean):[],c=new Map;u.forEach(d=>{const[h,p]=d.split(":").map(m=>m.trim());c.set(h,p)}),a.forEach(d=>{const[h,p]=d.split(":").map(m=>m.trim());c.set(h,p)}),r[i]=Array.from(c.entries()).map(([d,h])=>`${d}: ${h}`).join("; ")}else r[i]=s}),r},{})}function Ap(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>kt(n,r),{})}function y7(t){return typeof t=="function"}function rt(t,e=void 0,...n){return y7(t)?e?t.bind(e)(...n):t(...n):t}function qP(t={}){return Object.keys(t).length===0&&t.constructor===Object}function GP(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function o4(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((s,o)=>{const a=o.attribute.parseHTML?o.attribute.parseHTML(n):GP(n.getAttribute(o.name));return a==null?s:{...s,[o.name]:a}},{});return{...r,...i}}}}function a4(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&qP(n)?!1:n!=null))}function XP(t,e){var n;const r=g7(t),{nodeExtensions:i,markExtensions:s}=Hm(t),o=(n=i.find(c=>ze(c,"topNode")))===null||n===void 0?void 0:n.name,a=Object.fromEntries(i.map(c=>{const d=r.filter(v=>v.type===c.name),h={name:c.name,options:c.options,storage:c.storage,editor:e},p=t.reduce((v,S)=>{const k=ze(S,"extendNodeSchema",h);return{...v,...k?k(c):{}}},{}),m=a4({...p,content:rt(ze(c,"content",h)),marks:rt(ze(c,"marks",h)),group:rt(ze(c,"group",h)),inline:rt(ze(c,"inline",h)),atom:rt(ze(c,"atom",h)),selectable:rt(ze(c,"selectable",h)),draggable:rt(ze(c,"draggable",h)),code:rt(ze(c,"code",h)),whitespace:rt(ze(c,"whitespace",h)),linebreakReplacement:rt(ze(c,"linebreakReplacement",h)),defining:rt(ze(c,"defining",h)),isolating:rt(ze(c,"isolating",h)),attrs:Object.fromEntries(d.map(v=>{var S;return[v.name,{default:(S=v==null?void 0:v.attribute)===null||S===void 0?void 0:S.default}]}))}),w=rt(ze(c,"parseHTML",h));w&&(m.parseDOM=w.map(v=>o4(v,d)));const y=ze(c,"renderHTML",h);y&&(m.toDOM=v=>y({node:v,HTMLAttributes:Ap(v,d)}));const x=ze(c,"renderText",h);return x&&(m.toText=x),[c.name,m]})),u=Object.fromEntries(s.map(c=>{const d=r.filter(x=>x.type===c.name),h={name:c.name,options:c.options,storage:c.storage,editor:e},p=t.reduce((x,v)=>{const S=ze(v,"extendMarkSchema",h);return{...x,...S?S(c):{}}},{}),m=a4({...p,inclusive:rt(ze(c,"inclusive",h)),excludes:rt(ze(c,"excludes",h)),group:rt(ze(c,"group",h)),spanning:rt(ze(c,"spanning",h)),code:rt(ze(c,"code",h)),attrs:Object.fromEntries(d.map(x=>{var v;return[x.name,{default:(v=x==null?void 0:x.attribute)===null||v===void 0?void 0:v.default}]}))}),w=rt(ze(c,"parseHTML",h));w&&(m.parseDOM=w.map(x=>o4(x,d)));const y=ze(c,"renderHTML",h);return y&&(m.toDOM=x=>y({mark:x,HTMLAttributes:Ap(x,d)})),[c.name,m]}));return new c6({topNode:o,nodes:a,marks:u})}function Fy(t,e){return e.nodes[t]||e.marks[t]||null}function l4(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function A2(t,e){const n=Pa.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}const YP=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,s,o,a)=>{var u,c;const d=((c=(u=i.type.spec).toText)===null||c===void 0?void 0:c.call(u,{node:i,pos:s,parent:o,index:a}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?d:d.slice(0,Math.max(0,r-s))}),n};function _2(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class kf{constructor(e){this.find=e.find,this.handler=e.handler}}const ZP=(t,e)=>{if(_2(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function fh(t){var e;const{editor:n,from:r,to:i,text:s,rules:o,plugin:a}=t,{view:u}=n;if(u.composing)return!1;const c=u.state.doc.resolve(r);if(c.parent.type.spec.code||!((e=c.nodeBefore||c.nodeAfter)===null||e===void 0)&&e.marks.find(p=>p.type.spec.code))return!1;let d=!1;const h=YP(c)+s;return o.forEach(p=>{if(d)return;const m=ZP(h,p.find);if(!m)return;const w=u.state.tr,y=Bm({state:u.state,transaction:w}),x={from:r-(m[0].length-s.length),to:i},{commands:v,chain:S,can:k}=new jm({editor:n,state:y});p.handler({state:y,range:x,match:m,commands:v,chain:S,can:k})===null||!w.steps.length||(w.setMeta(a,{transform:w,from:r,to:i,text:s}),u.dispatch(w),d=!0)}),d}function JP(t){const{editor:e,rules:n}=t,r=new gt({state:{init(){return null},apply(i,s,o){const a=i.getMeta(r);if(a)return a;const u=i.getMeta("applyInputRules");return!!u&&setTimeout(()=>{let{text:d}=u;typeof d=="string"?d=d:d=A2(Ae.from(d),o.schema);const{from:h}=u,p=h+d.length;fh({editor:e,from:h,to:p,text:d,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,o,a){return fh({editor:e,from:s,to:o,text:a,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&fh({editor:e,from:s.pos,to:s.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:o}=i.state.selection;return o?fh({editor:e,from:o.pos,to:o.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function QP(t){return Object.prototype.toString.call(t).slice(8,-1)}function dh(t){return QP(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function $m(t,e){const n={...t};return dh(t)&&dh(e)&&Object.keys(e).forEach(r=>{dh(e[r])&&dh(t[r])?n[r]=$m(t[r],e[r]):n[r]=e[r]}),n}class yr{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=rt(ze(this,"addOptions",{name:this.name}))),this.storage=rt(ze(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new yr(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>$m(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new yr(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=rt(ze(n,"addOptions",{name:n.name})),n.storage=rt(ze(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const o=i.marks();if(!!!o.find(c=>(c==null?void 0:c.type.name)===n.name))return!1;const u=o.find(c=>(c==null?void 0:c.type.name)===n.name);return u&&r.removeStoredMark(u),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}}function eF(t){return typeof t=="number"}class tF{constructor(e){this.find=e.find,this.handler=e.handler}}const nF=(t,e,n)=>{if(_2(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const s=[i.text];return s.index=i.index,s.input=t,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function rF(t){const{editor:e,state:n,from:r,to:i,rule:s,pasteEvent:o,dropEvent:a}=t,{commands:u,chain:c,can:d}=new jm({editor:e,state:n}),h=[];return n.doc.nodesBetween(r,i,(m,w)=>{if(!m.isTextblock||m.type.spec.code)return;const y=Math.max(r,w),x=Math.min(i,w+m.content.size),v=m.textBetween(y-w,x-w,void 0,"￼");nF(v,s.find,o).forEach(k=>{if(k.index===void 0)return;const E=y+k.index+1,R=E+k[0].length,B={from:n.tr.mapping.map(E),to:n.tr.mapping.map(R)},$=s.handler({state:n,range:B,match:k,commands:u,chain:c,can:d,pasteEvent:o,dropEvent:a});h.push($)})}),h.every(m=>m!==null)}let hh=null;const iF=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)===null||e===void 0||e.setData("text/html",t),n};function sF(t){const{editor:e,rules:n}=t;let r=null,i=!1,s=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const u=({state:d,from:h,to:p,rule:m,pasteEvt:w})=>{const y=d.tr,x=Bm({state:d,transaction:y});if(!(!rF({editor:e,state:x,from:Math.max(h-1,0),to:p.b-1,rule:m,pasteEvent:w,dropEvent:a})||!y.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,y}};return n.map(d=>new gt({view(h){const p=w=>{var y;r=!((y=h.dom.parentElement)===null||y===void 0)&&y.contains(w.target)?h.dom.parentElement:null,r&&(hh=e)},m=()=>{hh&&(hh=null)};return window.addEventListener("dragstart",p),window.addEventListener("dragend",m),{destroy(){window.removeEventListener("dragstart",p),window.removeEventListener("dragend",m)}}},props:{handleDOMEvents:{drop:(h,p)=>{if(s=r===h.dom.parentElement,a=p,!s){const m=hh;m&&setTimeout(()=>{const w=m.state.selection;w&&m.commands.deleteRange({from:w.from,to:w.to})},10)}return!1},paste:(h,p)=>{var m;const w=(m=p.clipboardData)===null||m===void 0?void 0:m.getData("text/html");return o=p,i=!!(w!=null&&w.includes("data-pm-slice")),!1}}},appendTransaction:(h,p,m)=>{const w=h[0],y=w.getMeta("uiEvent")==="paste"&&!i,x=w.getMeta("uiEvent")==="drop"&&!s,v=w.getMeta("applyPasteRules"),S=!!v;if(!y&&!x&&!S)return;if(S){let{text:R}=v;typeof R=="string"?R=R:R=A2(Ae.from(R),m.schema);const{from:B}=v,$=B+R.length,K=iF(R);return u({rule:d,state:m,from:B,to:{b:$},pasteEvt:K})}const k=p.doc.content.findDiffStart(m.doc.content),E=p.doc.content.findDiffEnd(m.doc.content);if(!(!eF(k)||!E||k===E.b))return u({rule:d,state:m,from:k,to:E,pasteEvt:o})}}))}function oF(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}class Dl{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=Dl.resolve(e),this.schema=XP(this.extensions,n),this.setupExtensions()}static resolve(e){const n=Dl.sort(Dl.flatten(e)),r=oF(n.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},i=ze(n,"addExtensions",r);return i?[n,...this.flatten(i())]:n}).flat(10)}static sort(e){return e.sort((r,i)=>{const s=ze(r,"priority")||100,o=ze(i,"priority")||100;return s>o?-1:s<o?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:Fy(n.name,this.schema)},i=ze(n,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,n=Dl.sort([...this.extensions].reverse()),r=[],i=[],s=n.map(o=>{const a={name:o.name,options:o.options,storage:o.storage,editor:e,type:Fy(o.name,this.schema)},u=[],c=ze(o,"addKeyboardShortcuts",a);let d={};if(o.type==="mark"&&ze(o,"exitable",a)&&(d.ArrowRight=()=>yr.handleExit({editor:e,mark:o})),c){const y=Object.fromEntries(Object.entries(c()).map(([x,v])=>[x,()=>v({editor:e})]));d={...d,...y}}const h=vP(d);u.push(h);const p=ze(o,"addInputRules",a);l4(o,e.options.enableInputRules)&&p&&r.push(...p());const m=ze(o,"addPasteRules",a);l4(o,e.options.enablePasteRules)&&m&&i.push(...m());const w=ze(o,"addProseMirrorPlugins",a);if(w){const y=w();u.push(...y)}return u}).flat();return[JP({editor:e,rules:r}),...sF({editor:e,rules:i}),...s]}get attributes(){return g7(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=Hm(this.extensions);return Object.fromEntries(n.filter(r=>!!ze(r,"addNodeView")).map(r=>{const i=this.attributes.filter(u=>u.type===r.name),s={name:r.name,options:r.options,storage:r.storage,editor:e,type:yn(r.name,this.schema)},o=ze(r,"addNodeView",s);if(!o)return[];const a=(u,c,d,h,p)=>{const m=Ap(u,i);return o()({node:u,view:c,getPos:d,decorations:h,innerDecorations:p,editor:e,extension:r,HTMLAttributes:m})};return[r.name,a]}))}setupExtensions(){this.extensions.forEach(e=>{var n;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:Fy(e.name,this.schema)};e.type==="mark"&&(!((n=rt(ze(e,"keepOnSplit",r)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(e.name);const i=ze(e,"onBeforeCreate",r),s=ze(e,"onCreate",r),o=ze(e,"onUpdate",r),a=ze(e,"onSelectionUpdate",r),u=ze(e,"onTransaction",r),c=ze(e,"onFocus",r),d=ze(e,"onBlur",r),h=ze(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),o&&this.editor.on("update",o),a&&this.editor.on("selectionUpdate",a),u&&this.editor.on("transaction",u),c&&this.editor.on("focus",c),d&&this.editor.on("blur",d),h&&this.editor.on("destroy",h)})}}class ht{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=rt(ze(this,"addOptions",{name:this.name}))),this.storage=rt(ze(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new ht(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>$m(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new ht({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=rt(ze(n,"addOptions",{name:n.name})),n.storage=rt(ze(n,"addStorage",{name:n.name,options:n.options})),n}}function w7(t,e,n){const{from:r,to:i}=e,{blockSeparator:s=`

`,textSerializers:o={}}=n||{};let a="";return t.nodesBetween(r,i,(u,c,d,h)=>{var p;u.isBlock&&c>r&&(a+=s);const m=o==null?void 0:o[u.type.name];if(m)return d&&(a+=m({node:u,pos:c,parent:d,index:h,range:e})),!1;u.isText&&(a+=(p=u==null?void 0:u.text)===null||p===void 0?void 0:p.slice(Math.max(r,c)-c,i-c))}),a}function v7(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const aF=ht.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new gt({key:new xt("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:s}=i,o=Math.min(...s.map(d=>d.$from.pos)),a=Math.max(...s.map(d=>d.$to.pos)),u=v7(n);return w7(r,{from:o,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:u})}}})]}}),lF=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),uF=(t=!1)=>({commands:e})=>e.setContent("",t),cF=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:s,$to:o})=>{t.doc.nodesBetween(s.pos,o.pos,(a,u)=>{if(a.type.isText)return;const{doc:c,mapping:d}=e,h=c.resolve(d.map(u)),p=c.resolve(d.map(u+a.nodeSize)),m=h.blockRange(p);if(!m)return;const w=wu(m);if(a.type.isTextblock){const{defaultType:y}=h.parent.contentMatchAt(h.index());e.setNodeMarkup(m.start,y)}(w||w===0)&&e.lift(m,w)})}),!0},fF=t=>e=>t(e),dF=()=>({state:t,dispatch:e})=>IP(t,e),hF=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,s=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const o=r.mapping.map(e);return r.insert(o,s.content),r.setSelection(new Ye(r.doc.resolve(o-1))),!0},pF=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(e){const a=i.before(s),u=i.after(s);t.delete(a,u).scrollIntoView()}return!0}return!1},mF=t=>({tr:e,state:n,dispatch:r})=>{const i=yn(t,n.schema),s=e.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===i){if(r){const u=s.before(o),c=s.after(o);e.delete(u,c).scrollIntoView()}return!0}return!1},gF=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},yF=()=>({state:t,dispatch:e})=>bP(t,e),wF=()=>({commands:t})=>t.keyboardShortcut("Enter"),vF=()=>({state:t,dispatch:e})=>OP(t,e);function _p(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:_2(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function b7(t,e,n={}){return t.find(r=>r.type===e&&_p(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function u4(t,e,n={}){return!!b7(t,e,n)}function zm(t,e,n){var r;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(d=>d.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(d=>d.type===e)||(n=n||((r=i.node.marks[0])===null||r===void 0?void 0:r.attrs),!b7([...i.node.marks],e,n)))return;let o=i.index,a=t.start()+i.offset,u=o+1,c=a+i.node.nodeSize;for(;o>0&&u4([...t.parent.child(o-1).marks],e,n);)o-=1,a-=t.parent.child(o).nodeSize;for(;u<t.parent.childCount&&u4([...t.parent.child(u).marks],e,n);)c+=t.parent.child(u).nodeSize,u+=1;return{from:a,to:c}}function ko(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const bF=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const s=ko(t,r.schema),{doc:o,selection:a}=n,{$from:u,from:c,to:d}=a;if(i){const h=zm(u,s,e);if(h&&h.from<=c&&h.to>=d){const p=Ye.create(o,h.from,h.to);n.setSelection(p)}}return!0},xF=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function R2(t){return t instanceof Ye}function is(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function x7(t,e=null){if(!e)return null;const n=Qe.atStart(t),r=Qe.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,s=r.to;return e==="all"?Ye.create(t,is(0,i,s),is(t.content.size,i,s)):Ye.create(t,is(e,i,s),is(e,i,s))}function E7(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Um(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const EF=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const o=()=>{(Um()||E7())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!R2(n.state.selection))return o(),!0;const a=x7(i.doc,t)||n.state.selection,u=n.state.selection.eq(a);return s&&(u||i.setSelection(a),u&&i.storedMarks&&i.setStoredMarks(i.storedMarks),o()),!0},CF=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),SF=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),C7=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&C7(r)}return t};function ph(t){const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return C7(n)}function Rp(t,e,n){if(t instanceof uo||t instanceof Ae)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,i=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return Ae.fromArray(t.map(a=>e.nodeFromJSON(a)));const o=e.nodeFromJSON(t);return n.errorOnInvalidContent&&o.check(),o}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",s),Rp("",e,n)}if(i){if(n.errorOnInvalidContent){let o=!1,a="";const u=new c6({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(o=!0,a=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?Rc.fromSchema(u).parseSlice(ph(t),n.parseOptions):Rc.fromSchema(u).parse(ph(t),n.parseOptions),n.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const s=Rc.fromSchema(e);return n.slice?s.parseSlice(ph(t),n.parseOptions).content:s.parse(ph(t),n.parseOptions)}return Rp("",e,n)}function kF(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof hn||i instanceof pn))return;const s=t.mapping.maps[r];let o=0;s.forEach((a,u,c,d)=>{o===0&&(o=d)}),t.setSelection(Qe.near(t.doc.resolve(o),n))}const TF=t=>!("type"in t),AF=(t,e,n)=>({tr:r,dispatch:i,editor:s})=>{var o;if(i){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let a;try{a=Rp(e,s.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions},errorOnInvalidContent:(o=n.errorOnInvalidContent)!==null&&o!==void 0?o:s.options.enableContentCheck})}catch(w){return s.emit("contentError",{editor:s,error:w,disableCollaboration:()=>{s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}}),!1}let{from:u,to:c}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},d=!0,h=!0;if((TF(a)?a:[a]).forEach(w=>{w.check(),d=d?w.isText&&w.marks.length===0:!1,h=h?w.isBlock:!1}),u===c&&h){const{parent:w}=r.doc.resolve(u);w.isTextblock&&!w.type.spec.code&&!w.childCount&&(u-=1,c+=1)}let m;if(d){if(Array.isArray(e))m=e.map(w=>w.text||"").join("");else if(e instanceof Ae){let w="";e.forEach(y=>{y.text&&(w+=y.text)}),m=w}else typeof e=="object"&&e&&e.text?m=e.text:m=e;r.insertText(m,u,c)}else m=a,r.replaceWith(u,c,m);n.updateSelection&&kF(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:u,text:m}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:u,text:m})}return!0},_F=()=>({state:t,dispatch:e})=>AP(t,e),RF=()=>({state:t,dispatch:e})=>_P(t,e),NF=()=>({state:t,dispatch:e})=>xP(t,e),OF=()=>({state:t,dispatch:e})=>kP(t,e),IF=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Im(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},MF=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Im(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},DF=()=>({state:t,dispatch:e})=>EP(t,e),LF=()=>({state:t,dispatch:e})=>CP(t,e);function S7(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function PF(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,s,o;for(let a=0;a<e.length-1;a+=1){const u=e[a];if(/^(cmd|meta|m)$/i.test(u))o=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))i=!0;else if(/^s(hift)?$/i.test(u))s=!0;else if(/^mod$/i.test(u))Um()||S7()?o=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${u}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),o&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}const FF=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const s=PF(t).split(/-(?!$)/),o=s.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),u=e.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,a))});return u==null||u.steps.forEach(c=>{const d=c.map(r.mapping);d&&i&&r.maybeStep(d)}),!0};function nf(t,e,n={}){const{from:r,to:i,empty:s}=t.selection,o=e?yn(e,t.schema):null,a=[];t.doc.nodesBetween(r,i,(h,p)=>{if(h.isText)return;const m=Math.max(r,p),w=Math.min(i,p+h.nodeSize);a.push({node:h,from:m,to:w})});const u=i-r,c=a.filter(h=>o?o.name===h.node.type.name:!0).filter(h=>_p(h.node.attrs,n,{strict:!1}));return s?!!c.length:c.reduce((h,p)=>h+p.to-p.from,0)>=u}const BF=(t,e={})=>({state:n,dispatch:r})=>{const i=yn(t,n.schema);return nf(n,i,e)?RP(n,r):!1},jF=()=>({state:t,dispatch:e})=>MP(t,e),HF=t=>({state:e,dispatch:n})=>{const r=yn(t,e.schema);return zP(r)(e,n)},$F=()=>({state:t,dispatch:e})=>NP(t,e);function Vm(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function c4(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}const zF=(t,e)=>({tr:n,state:r,dispatch:i})=>{let s=null,o=null;const a=Vm(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(s=yn(t,r.schema)),a==="mark"&&(o=ko(t,r.schema)),i&&n.selection.ranges.forEach(u=>{r.doc.nodesBetween(u.$from.pos,u.$to.pos,(c,d)=>{s&&s===c.type&&n.setNodeMarkup(d,void 0,c4(c.attrs,e)),o&&c.marks.length&&c.marks.forEach(h=>{o===h.type&&n.addMark(d,d+c.nodeSize,o.create(c4(h.attrs,e)))})})}),!0):!1},UF=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),VF=()=>({tr:t,dispatch:e})=>{if(e){const n=new Ar(t.doc);t.setSelection(n)}return!0},WF=()=>({state:t,dispatch:e})=>SP(t,e),KF=()=>({state:t,dispatch:e})=>TP(t,e),qF=()=>({state:t,dispatch:e})=>DP(t,e),GF=()=>({state:t,dispatch:e})=>FP(t,e),XF=()=>({state:t,dispatch:e})=>PP(t,e);function qv(t,e,n={},r={}){return Rp(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}const YF=(t,e=!1,n={},r={})=>({editor:i,tr:s,dispatch:o,commands:a})=>{var u,c;const{doc:d}=s;if(n.preserveWhitespace!=="full"){const h=qv(t,i.schema,n,{errorOnInvalidContent:(u=r.errorOnInvalidContent)!==null&&u!==void 0?u:i.options.enableContentCheck});return o&&s.replaceWith(0,d.content.size,h).setMeta("preventUpdate",!e),!0}return o&&s.setMeta("preventUpdate",!e),a.insertContentAt({from:0,to:d.content.size},t,{parseOptions:n,errorOnInvalidContent:(c=r.errorOnInvalidContent)!==null&&c!==void 0?c:i.options.enableContentCheck})};function k7(t,e){const n=ko(e,t.schema),{from:r,to:i,empty:s}=t.selection,o=[];s?(t.storedMarks&&o.push(...t.storedMarks),o.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,u=>{o.push(...u.marks)});const a=o.find(u=>u.type.name===n.name);return a?{...a.attrs}:{}}function T7(t,e){const n=new T6(t);return e.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function ZF(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function JF(t,e){const n=[];return t.descendants((r,i)=>{e(r)&&n.push({node:r,pos:i})}),n}function A7(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(i,s)=>{n(i)&&r.push({node:i,pos:s})}),r}function QF(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function N2(t){return e=>QF(e.$from,t)}function eB(t,e){const n={from:0,to:t.content.size};return w7(t,n,e)}function tB(t,e){const n=yn(e,t.schema),{from:r,to:i}=t.selection,s=[];t.doc.nodesBetween(r,i,a=>{s.push(a)});const o=s.reverse().find(a=>a.type.name===n.name);return o?{...o.attrs}:{}}function _7(t,e){const n=Vm(typeof e=="string"?e:e.name,t.schema);return n==="node"?tB(t,e):n==="mark"?k7(t,e):{}}function nB(t,e=JSON.stringify){const n={};return t.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function rB(t){const e=nB(t);return e.length===1?e:e.filter((n,r)=>!e.filter((s,o)=>o!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function R7(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((i,s)=>{const o=[];if(i.ranges.length)i.forEach((a,u)=>{o.push({from:a,to:u})});else{const{from:a,to:u}=n[s];if(a===void 0||u===void 0)return;o.push({from:a,to:u})}o.forEach(({from:a,to:u})=>{const c=e.slice(s).map(a,-1),d=e.slice(s).map(u),h=e.invert().map(c,-1),p=e.invert().map(d);r.push({oldRange:{from:h,to:p},newRange:{from:c,to:d}})})}),rB(r)}function O2(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const s=n.resolve(t),o=zm(s,i.type);o&&r.push({mark:i,...o})}):n.nodesBetween(t,e,(i,s)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(o=>({from:s,to:s+i.nodeSize,mark:o})))}),r}function rp(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(s=>s.type===e&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}function Gv(t,e,n={}){const{empty:r,ranges:i}=t.selection,s=e?ko(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(h=>s?s.name===h.type.name:!0).find(h=>_p(h.attrs,n,{strict:!1}));let o=0;const a=[];if(i.forEach(({$from:h,$to:p})=>{const m=h.pos,w=p.pos;t.doc.nodesBetween(m,w,(y,x)=>{if(!y.isText&&!y.marks.length)return;const v=Math.max(m,x),S=Math.min(w,x+y.nodeSize),k=S-v;o+=k,a.push(...y.marks.map(E=>({mark:E,from:v,to:S})))})}),o===0)return!1;const u=a.filter(h=>s?s.name===h.mark.type.name:!0).filter(h=>_p(h.mark.attrs,n,{strict:!1})).reduce((h,p)=>h+p.to-p.from,0),c=a.filter(h=>s?h.mark.type!==s&&h.mark.type.excludes(s):!0).reduce((h,p)=>h+p.to-p.from,0);return(u>0?u+c:u)>=o}function iB(t,e,n={}){if(!e)return nf(t,null,n)||Gv(t,null,n);const r=Vm(e,t.schema);return r==="node"?nf(t,e,n):r==="mark"?Gv(t,e,n):!1}function f4(t,e){const{nodeExtensions:n}=Hm(e),r=n.find(o=>o.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=rt(ze(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function I2(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!==null&&r!==void 0?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(s=>{i!==!1&&(I2(s,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function Gr(t){return t instanceof Ke}function sB(t,e,n){const i=t.state.doc.content.size,s=is(e,0,i),o=is(n,0,i),a=t.coordsAtPos(s),u=t.coordsAtPos(o,-1),c=Math.min(a.top,u.top),d=Math.max(a.bottom,u.bottom),h=Math.min(a.left,u.left),p=Math.max(a.right,u.right),m=p-h,w=d-c,v={top:c,bottom:d,left:h,right:p,width:m,height:w,x:h,y:c};return{...v,toJSON:()=>v}}function oB(t,e,n){var r;const{selection:i}=e;let s=null;if(R2(i)&&(s=i.$cursor),s){const a=(r=t.storedMarks)!==null&&r!==void 0?r:s.marks();return!!n.isInSet(a)||!a.some(u=>u.type.excludes(n))}const{ranges:o}=i;return o.some(({$from:a,$to:u})=>{let c=a.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(a.pos,u.pos,(d,h,p)=>{if(c)return!1;if(d.isInline){const m=!p||p.type.allowsMarkType(n),w=!!n.isInSet(d.marks)||!d.marks.some(y=>y.type.excludes(n));c=m&&w}return!c}),c})}const aB=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=n,{empty:o,ranges:a}=s,u=ko(t,r.schema);if(i)if(o){const c=k7(r,u);n.addStoredMark(u.create({...c,...e}))}else a.forEach(c=>{const d=c.$from.pos,h=c.$to.pos;r.doc.nodesBetween(d,h,(p,m)=>{const w=Math.max(m,d),y=Math.min(m+p.nodeSize,h);p.marks.find(v=>v.type===u)?p.marks.forEach(v=>{u===v.type&&n.addMark(w,y,u.create({...v.attrs,...e}))}):n.addMark(w,y,u.create(e))})});return oB(r,n,u)},lB=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),uB=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const s=yn(t,n.schema);let o;return n.selection.$anchor.sameParent(n.selection.$head)&&(o=n.selection.$anchor.parent.attrs),s.isTextblock?i().command(({commands:a})=>s4(s,{...o,...e})(n)?!0:a.clearNodes()).command(({state:a})=>s4(s,{...o,...e})(a,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},cB=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=is(t,0,r.content.size),s=Ke.create(r,i);e.setSelection(s)}return!0},fB=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:s}=typeof t=="number"?{from:t,to:t}:t,o=Ye.atStart(r).from,a=Ye.atEnd(r).to,u=is(i,o,a),c=is(s,o,a),d=Ye.create(r,u,c);e.setSelection(d)}return!0},dB=t=>({state:e,dispatch:n})=>{const r=yn(t,e.schema);return WP(r)(e,n)};function d4(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(r)}}const hB=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:s,doc:o}=e,{$from:a,$to:u}=s,c=i.extensionManager.attributes,d=rp(c,a.node().type.name,a.node().attrs);if(s instanceof Ke&&s.node.isBlock)return!a.parentOffset||!Pl(o,a.pos)?!1:(r&&(t&&d4(n,i.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const h=u.parentOffset===u.parent.content.size,p=a.depth===0?void 0:ZF(a.node(-1).contentMatchAt(a.indexAfter(-1)));let m=h&&p?[{type:p,attrs:d}]:void 0,w=Pl(e.doc,e.mapping.map(a.pos),1,m);if(!m&&!w&&Pl(e.doc,e.mapping.map(a.pos),1,p?[{type:p}]:void 0)&&(w=!0,m=p?[{type:p,attrs:d}]:void 0),r){if(w&&(s instanceof Ye&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,m),p&&!h&&!a.parentOffset&&a.parent.type!==p)){const y=e.mapping.map(a.before()),x=e.doc.resolve(y);a.node(-1).canReplaceWith(x.index(),x.index()+1,p)&&e.setNodeMarkup(e.mapping.map(a.before()),p)}t&&d4(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return w},pB=(t,e={})=>({tr:n,state:r,dispatch:i,editor:s})=>{var o;const a=yn(t,r.schema),{$from:u,$to:c}=r.selection,d=r.selection.node;if(d&&d.isBlock||u.depth<2||!u.sameParent(c))return!1;const h=u.node(-1);if(h.type!==a)return!1;const p=s.extensionManager.attributes;if(u.parent.content.size===0&&u.node(-1).childCount===u.indexAfter(-1)){if(u.depth===2||u.node(-3).type!==a||u.index(-2)!==u.node(-2).childCount-1)return!1;if(i){let v=Ae.empty;const S=u.index(-1)?1:u.index(-2)?2:3;for(let K=u.depth-S;K>=u.depth-3;K-=1)v=Ae.from(u.node(K).copy(v));const k=u.indexAfter(-1)<u.node(-2).childCount?1:u.indexAfter(-2)<u.node(-3).childCount?2:3,E={...rp(p,u.node().type.name,u.node().attrs),...e},R=((o=a.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(E))||void 0;v=v.append(Ae.from(a.createAndFill(null,R)||void 0));const B=u.before(u.depth-(S-1));n.replace(B,u.after(-k),new Le(v,4-S,0));let $=-1;n.doc.nodesBetween(B,n.doc.content.size,(K,F)=>{if($>-1)return!1;K.isTextblock&&K.content.size===0&&($=F+1)}),$>-1&&n.setSelection(Ye.near(n.doc.resolve($))),n.scrollIntoView()}return!0}const m=c.pos===u.end()?h.contentMatchAt(0).defaultType:null,w={...rp(p,h.type.name,h.attrs),...e},y={...rp(p,u.node().type.name,u.node().attrs),...e};n.delete(u.pos,c.pos);const x=m?[{type:a,attrs:w},{type:m,attrs:y}]:[{type:a,attrs:w}];if(!Pl(n.doc,u.pos,2))return!1;if(i){const{selection:v,storedMarks:S}=r,{splittableMarks:k}=s.extensionManager,E=S||v.$to.parentOffset&&v.$from.marks();if(n.split(u.pos,2,x).scrollIntoView(),!E||!i)return!0;const R=E.filter(B=>k.includes(B.type.name));n.ensureMarks(R)}return!0},By=(t,e)=>{const n=N2(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&Co(t.doc,n.pos)&&t.join(n.pos),!0},jy=(t,e)=>{const n=N2(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&Co(t.doc,r)&&t.join(r),!0},mB=(t,e,n,r={})=>({editor:i,tr:s,state:o,dispatch:a,chain:u,commands:c,can:d})=>{const{extensions:h,splittableMarks:p}=i.extensionManager,m=yn(t,o.schema),w=yn(e,o.schema),{selection:y,storedMarks:x}=o,{$from:v,$to:S}=y,k=v.blockRange(S),E=x||y.$to.parentOffset&&y.$from.marks();if(!k)return!1;const R=N2(B=>f4(B.type.name,h))(y);if(k.depth>=1&&R&&k.depth-R.depth<=1){if(R.node.type===m)return c.liftListItem(w);if(f4(R.node.type.name,h)&&m.validContent(R.node.content)&&a)return u().command(()=>(s.setNodeMarkup(R.pos,m),!0)).command(()=>By(s,m)).command(()=>jy(s,m)).run()}return!n||!E||!a?u().command(()=>d().wrapInList(m,r)?!0:c.clearNodes()).wrapInList(m,r).command(()=>By(s,m)).command(()=>jy(s,m)).run():u().command(()=>{const B=d().wrapInList(m,r),$=E.filter(K=>p.includes(K.type.name));return s.ensureMarks($),B?!0:c.clearNodes()}).wrapInList(m,r).command(()=>By(s,m)).command(()=>jy(s,m)).run()},gB=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=n,o=ko(t,r.schema);return Gv(r,o,e)?i.unsetMark(o,{extendEmptyMarkRange:s}):i.setMark(o,e)},yB=(t,e,n={})=>({state:r,commands:i})=>{const s=yn(t,r.schema),o=yn(e,r.schema),a=nf(r,s,n);let u;return r.selection.$anchor.sameParent(r.selection.$head)&&(u=r.selection.$anchor.parent.attrs),a?i.setNode(o,u):i.setNode(s,{...u,...n})},wB=(t,e={})=>({state:n,commands:r})=>{const i=yn(t,n.schema);return nf(n,i,e)?r.lift(i):r.wrapIn(i,e)},vB=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let s;if(i.spec.isInputRules&&(s=i.getState(t))){if(e){const o=t.tr,a=s.transform;for(let u=a.steps.length-1;u>=0;u-=1)o.step(a.steps[u].invert(a.docs[u]));if(s.text){const u=o.doc.resolve(s.from).marks();o.replaceWith(s.from,s.to,t.schema.text(s.text,u))}else o.delete(s.from,s.to)}return!0}}return!1},bB=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},xB=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:o=!1}=e,{selection:a}=n,u=ko(t,r.schema),{$from:c,empty:d,ranges:h}=a;if(!i)return!0;if(d&&o){let{from:p,to:m}=a;const w=(s=c.marks().find(x=>x.type===u))===null||s===void 0?void 0:s.attrs,y=zm(c,u,w);y&&(p=y.from,m=y.to),n.removeMark(p,m,u)}else h.forEach(p=>{n.removeMark(p.$from.pos,p.$to.pos,u)});return n.removeStoredMark(u),!0},EB=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let s=null,o=null;const a=Vm(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(s=yn(t,r.schema)),a==="mark"&&(o=ko(t,r.schema)),i&&n.selection.ranges.forEach(u=>{const c=u.$from.pos,d=u.$to.pos;let h,p,m,w;n.selection.empty?r.doc.nodesBetween(c,d,(y,x)=>{s&&s===y.type&&(m=Math.max(x,c),w=Math.min(x+y.nodeSize,d),h=x,p=y)}):r.doc.nodesBetween(c,d,(y,x)=>{x<c&&s&&s===y.type&&(m=Math.max(x,c),w=Math.min(x+y.nodeSize,d),h=x,p=y),x>=c&&x<=d&&(s&&s===y.type&&n.setNodeMarkup(x,void 0,{...y.attrs,...e}),o&&y.marks.length&&y.marks.forEach(v=>{if(o===v.type){const S=Math.max(x,c),k=Math.min(x+y.nodeSize,d);n.addMark(S,k,o.create({...v.attrs,...e}))}}))}),p&&(h!==void 0&&n.setNodeMarkup(h,void 0,{...p.attrs,...e}),o&&p.marks.length&&p.marks.forEach(y=>{o===y.type&&n.addMark(m,w,o.create({...y.attrs,...e}))}))}),!0):!1},CB=(t,e={})=>({state:n,dispatch:r})=>{const i=yn(t,n.schema);return BP(i,e)(n,r)},SB=(t,e={})=>({state:n,dispatch:r})=>{const i=yn(t,n.schema);return jP(i,e)(n,r)};var kB=Object.freeze({__proto__:null,blur:lF,clearContent:uF,clearNodes:cF,command:fF,createParagraphNear:dF,cut:hF,deleteCurrentNode:pF,deleteNode:mF,deleteRange:gF,deleteSelection:yF,enter:wF,exitCode:vF,extendMarkRange:bF,first:xF,focus:EF,forEach:CF,insertContent:SF,insertContentAt:AF,joinBackward:NF,joinDown:RF,joinForward:OF,joinItemBackward:IF,joinItemForward:MF,joinTextblockBackward:DF,joinTextblockForward:LF,joinUp:_F,keyboardShortcut:FF,lift:BF,liftEmptyBlock:jF,liftListItem:HF,newlineInCode:$F,resetAttributes:zF,scrollIntoView:UF,selectAll:VF,selectNodeBackward:WF,selectNodeForward:KF,selectParentNode:qF,selectTextblockEnd:GF,selectTextblockStart:XF,setContent:YF,setMark:aB,setMeta:lB,setNode:uB,setNodeSelection:cB,setTextSelection:fB,sinkListItem:dB,splitBlock:hB,splitListItem:pB,toggleList:mB,toggleMark:gB,toggleNode:yB,toggleWrap:wB,undoInputRule:vB,unsetAllMarks:bB,unsetMark:xB,updateAttributes:EB,wrapIn:CB,wrapInList:SB});const TB=ht.create({name:"commands",addCommands(){return{...kB}}}),AB=ht.create({name:"drop",addProseMirrorPlugins(){return[new gt({key:new xt("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),_B=ht.create({name:"editable",addProseMirrorPlugins(){return[new gt({key:new xt("editable"),props:{editable:()=>this.editor.options.editable}})]}}),RB=new xt("focusEvents"),NB=ht.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new gt({key:RB,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),OB=ht.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:a})=>{const{selection:u,doc:c}=a,{empty:d,$anchor:h}=u,{pos:p,parent:m}=h,w=h.parent.isTextblock&&p>0?a.doc.resolve(p-1):h,y=w.parent.type.spec.isolating,x=h.pos-h.parentOffset,v=y&&w.parent.childCount===1?x===h.pos:Qe.atStart(c).from===p;return!d||!m.type.isTextblock||m.textContent.length||!v||v&&h.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Um()||S7()?s:i},addProseMirrorPlugins(){return[new gt({key:new xt("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(y=>y.getMeta("composition")))return;const r=t.some(y=>y.docChanged)&&!e.doc.eq(n.doc),i=t.some(y=>y.getMeta("preventClearDocument"));if(!r||i)return;const{empty:s,from:o,to:a}=e.selection,u=Qe.atStart(e.doc).from,c=Qe.atEnd(e.doc).to;if(s||!(o===u&&a===c)||!I2(n.doc))return;const p=n.tr,m=Bm({state:n,transaction:p}),{commands:w}=new jm({editor:this.editor,state:m});if(w.clearNodes(),!!p.steps.length)return p}})]}}),IB=ht.create({name:"paste",addProseMirrorPlugins(){return[new gt({key:new xt("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),MB=ht.create({name:"tabindex",addProseMirrorPlugins(){return[new gt({key:new xt("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class na{get name(){return this.node.type.name}constructor(e,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=i}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new na(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new na(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new na(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,s=n.isAtom&&!n.isText,o=this.pos+r+(s?0:1),a=this.resolvedPos.doc.resolve(o);if(!i&&a.depth<=this.depth)return;const u=new na(a,this.editor,i,i?n:null);i&&(u.actualDepth=this.depth+1),e.push(new na(a,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(n).length>0){const s=i.node.attrs,o=Object.keys(n);for(let a=0;a<o.length;a+=1){const u=o[a];if(s[u]!==n[u])break}}else r=i;i=i.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(n);return this.children.forEach(o=>{r&&i.length>0||(o.node.type.name===e&&s.every(u=>n[u]===o.node.attrs[u])&&i.push(o),!(r&&i.length>0)&&(i=i.concat(o.querySelectorAll(e,n,r))))}),i}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}}const DB=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function LB(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}class PB extends KP{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:r,moved:i})=>this.options.onDrop(n,r,i)),this.on("paste",({event:n,slice:r})=>this.options.onPaste(n,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=LB(DB,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const r=y7(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}unregisterPlugin(e){if(this.isDestroyed)return;const n=this.state.plugins;let r=n;if([].concat(e).forEach(s=>{const o=typeof s=="string"?`${s}$`:s.key;r=r.filter(a=>!a.key.startsWith(o))}),n.length===r.length)return;const i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}createExtensionManager(){var e,n;const i=[...this.options.enableCoreExtensions?[_B,aF.configure({blockSeparator:(n=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),TB,NB,OB,MB,AB,IB].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new Dl(i,this)}createCommandManager(){this.commandManager=new jm({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let n;try{n=qv(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(o){if(!(o instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(o.message))throw o;this.emit("contentError",{editor:this,error:o,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(a=>a.name!=="collaboration"),this.createExtensionManager()}}),n=qv(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=x7(n,this.options.autofocus);this.view=new cP(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:Ml.create({doc:n,selection:r||void 0})});const i=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(i),this.createNodeViews(),this.prependClass();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(o=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(o)});return}const n=this.state.apply(e),r=!this.state.selection.eq(n.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:n}),this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),s=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),s&&this.emit("blur",{editor:this,event:s.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return _7(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,i=typeof e=="string"?n:e;return iB(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return A2(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{};return eB(this.state.doc,{blockSeparator:n,textSerializers:{...v7(this.schema),...r}})}get isEmpty(){return I2(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,n))||null}$nodes(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,n))||null}$pos(e){const n=this.state.doc.resolve(e);return new na(n,this)}get $doc(){return this.$pos(0)}}function Sa(t){return new kf({find:t.find,handler:({state:e,range:n,match:r})=>{const i=rt(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,o=r[r.length-1],a=r[0];if(o){const u=a.search(/\S/),c=n.from+a.indexOf(o),d=c+o.length;if(O2(n.from,n.to,e.doc).filter(m=>m.mark.type.excluded.find(y=>y===t.type&&y!==m.mark.type)).filter(m=>m.to>c).length)return null;d<n.to&&s.delete(d,n.to),c>n.from&&s.delete(n.from+u,c);const p=n.from+u+o.length;s.addMark(n.from+u,p,t.type.create(i||{})),s.removeStoredMark(t.type)}}})}function N7(t){return new kf({find:t.find,handler:({state:e,range:n,match:r})=>{const i=rt(t.getAttributes,void 0,r)||{},{tr:s}=e,o=n.from;let a=n.to;const u=t.type.create(i);if(r[1]){const c=r[0].lastIndexOf(r[1]);let d=o+c;d>a?d=a:a=d+r[1].length;const h=r[0][r[0].length-1];s.insertText(h,o+r[0].length-1),s.replaceWith(d,a,u)}else if(r[0]){const c=t.type.isInline?o:o-1;s.insert(c,t.type.create(i)).delete(s.mapping.map(o),s.mapping.map(a))}s.scrollIntoView()}})}function Xv(t){return new kf({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),s=rt(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,s)}})}function Kt(t){return new kf({find:t.find,handler:({state:e,range:n,match:r})=>{let i=t.replace,s=n.from;const o=n.to;if(r[1]){const a=r[0].lastIndexOf(r[1]);i+=r[0].slice(a+r[1].length),s+=a;const u=s-o;u>0&&(i=r[0].slice(a-u,a)+i,s=o)}e.tr.insertText(i,s,o)}})}function tu(t){return new kf({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const s=rt(t.getAttributes,void 0,r)||{},o=e.tr.delete(n.from,n.to),u=o.doc.resolve(n.from).blockRange(),c=u&&p2(u,t.type,s);if(!c)return null;if(o.wrap(u,c),t.keepMarks&&t.editor){const{selection:h,storedMarks:p}=e,{splittableMarks:m}=t.editor.extensionManager,w=p||h.$to.parentOffset&&h.$from.marks();if(w){const y=w.filter(x=>m.includes(x.type.name));o.ensureMarks(y)}}if(t.keepAttributes){const h=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(h,s).run()}const d=o.doc.resolve(n.from-1).nodeBefore;d&&d.type===t.type&&Co(o.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,d))&&o.join(n.from-1)}})}let er=class Yv{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=rt(ze(this,"addOptions",{name:this.name}))),this.storage=rt(ze(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Yv(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>$m(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Yv(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=rt(ze(n,"addOptions",{name:n.name})),n.storage=rt(ze(n,"addStorage",{name:n.name,options:n.options})),n}};class FB{constructor(e,n,r){this.isDragging=!1,this.component=e,this.editor=n.editor,this.options={stopEvent:null,ignoreMutation:null,...r},this.extension=n.extension,this.node=n.node,this.decorations=n.decorations,this.innerDecorations=n.innerDecorations,this.view=n.view,this.HTMLAttributes=n.HTMLAttributes,this.getPos=n.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(e){var n,r,i,s,o,a,u;const{view:c}=this.editor,d=e.target,h=d.nodeType===3?(n=d.parentElement)===null||n===void 0?void 0:n.closest("[data-drag-handle]"):d.closest("[data-drag-handle]");if(!this.dom||!((r=this.contentDOM)===null||r===void 0)&&r.contains(d)||!h)return;let p=0,m=0;if(this.dom!==h){const S=this.dom.getBoundingClientRect(),k=h.getBoundingClientRect(),E=(i=e.offsetX)!==null&&i!==void 0?i:(s=e.nativeEvent)===null||s===void 0?void 0:s.offsetX,R=(o=e.offsetY)!==null&&o!==void 0?o:(a=e.nativeEvent)===null||a===void 0?void 0:a.offsetY;p=k.x-S.x+E,m=k.y-S.y+R}const w=this.dom.cloneNode(!0);(u=e.dataTransfer)===null||u===void 0||u.setDragImage(w,p,m);const y=this.getPos();if(typeof y!="number")return;const x=Ke.create(c.state.doc,y),v=c.state.tr.setSelection(x);c.dispatch(v)}stopEvent(e){var n;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:e});const r=e.target;if(!(this.dom.contains(r)&&!(!((n=this.contentDOM)===null||n===void 0)&&n.contains(r))))return!1;const s=e.type.startsWith("drag"),o=e.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(r.tagName)||r.isContentEditable)&&!o&&!s)return!0;const{isEditable:u}=this.editor,{isDragging:c}=this,d=!!this.node.type.spec.draggable,h=Ke.isSelectable(this.node),p=e.type==="copy",m=e.type==="paste",w=e.type==="cut",y=e.type==="mousedown";if(!d&&h&&s&&e.target===this.dom&&e.preventDefault(),d&&s&&!c&&e.target===this.dom)return e.preventDefault(),!1;if(d&&u&&!c&&y){const x=r.closest("[data-drag-handle]");x&&(this.dom===x||this.dom.contains(x))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(c||o||p||m||w||y&&h)}ignoreMutation(e){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:e}):this.node.isLeaf||this.node.isAtom?!0:e.type==="selection"||this.dom.contains(e.target)&&e.type==="childList"&&(Um()||E7())&&this.editor.isFocused&&[...Array.from(e.addedNodes),...Array.from(e.removedNodes)].every(r=>r.isContentEditable)?!1:this.contentDOM===e.target&&e.type==="attributes"?!0:!this.contentDOM.contains(e.target)}updateAttributes(e){this.editor.commands.command(({tr:n})=>{const r=this.getPos();return typeof r!="number"?!1:(n.setNodeMarkup(r,void 0,{...this.node.attrs,...e}),!0)})}deleteNode(){const e=this.getPos();if(typeof e!="number")return;const n=e+this.node.nodeSize;this.editor.commands.deleteRange({from:e,to:n})}}function yo(t){return new tF({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const s=rt(t.getAttributes,void 0,r,i);if(s===!1||s===null)return null;const{tr:o}=e,a=r[r.length-1],u=r[0];let c=n.to;if(a){const d=u.search(/\S/),h=n.from+u.indexOf(a),p=h+a.length;if(O2(n.from,n.to,e.doc).filter(w=>w.mark.type.excluded.find(x=>x===t.type&&x!==w.mark.type)).filter(w=>w.to>h).length)return null;p<n.to&&o.delete(p,n.to),h>n.from&&o.delete(n.from+d,h),c=n.from+d+a.length,o.addMark(n.from+d,c,t.type.create(s||{})),o.removeStoredMark(t.type)}}})}var hr="top",Wr="bottom",Kr="right",pr="left",M2="auto",Tf=[hr,Wr,Kr,pr],nu="start",rf="end",BB="clippingParents",O7="viewport",cc="popper",jB="reference",h4=Tf.reduce(function(t,e){return t.concat([e+"-"+nu,e+"-"+rf])},[]),I7=[].concat(Tf,[M2]).reduce(function(t,e){return t.concat([e,e+"-"+nu,e+"-"+rf])},[]),HB="beforeRead",$B="read",zB="afterRead",UB="beforeMain",VB="main",WB="afterMain",KB="beforeWrite",qB="write",GB="afterWrite",XB=[HB,$B,zB,UB,VB,WB,KB,qB,GB];function Li(t){return t?(t.nodeName||"").toLowerCase():null}function _r(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function ka(t){var e=_r(t).Element;return t instanceof e||t instanceof Element}function Vr(t){var e=_r(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function D2(t){if(typeof ShadowRoot>"u")return!1;var e=_r(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function YB(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!Vr(s)||!Li(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function ZB(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(u,c){return u[c]="",u},{});!Vr(i)||!Li(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(u){i.removeAttribute(u)}))})}}const M7={name:"applyStyles",enabled:!0,phase:"write",fn:YB,effect:ZB,requires:["computeStyles"]};function Ni(t){return t.split("-")[0]}var ga=Math.max,Np=Math.min,ru=Math.round;function Zv(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function D7(){return!/^((?!chrome|android).)*safari/i.test(Zv())}function iu(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&Vr(t)&&(i=t.offsetWidth>0&&ru(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&ru(r.height)/t.offsetHeight||1);var o=ka(t)?_r(t):window,a=o.visualViewport,u=!D7()&&n,c=(r.left+(u&&a?a.offsetLeft:0))/i,d=(r.top+(u&&a?a.offsetTop:0))/s,h=r.width/i,p=r.height/s;return{width:h,height:p,top:d,right:c+h,bottom:d+p,left:c,x:c,y:d}}function L2(t){var e=iu(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function L7(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&D2(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ds(t){return _r(t).getComputedStyle(t)}function JB(t){return["table","td","th"].indexOf(Li(t))>=0}function To(t){return((ka(t)?t.ownerDocument:t.document)||window.document).documentElement}function Wm(t){return Li(t)==="html"?t:t.assignedSlot||t.parentNode||(D2(t)?t.host:null)||To(t)}function p4(t){return!Vr(t)||ds(t).position==="fixed"?null:t.offsetParent}function QB(t){var e=/firefox/i.test(Zv()),n=/Trident/i.test(Zv());if(n&&Vr(t)){var r=ds(t);if(r.position==="fixed")return null}var i=Wm(t);for(D2(i)&&(i=i.host);Vr(i)&&["html","body"].indexOf(Li(i))<0;){var s=ds(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Af(t){for(var e=_r(t),n=p4(t);n&&JB(n)&&ds(n).position==="static";)n=p4(n);return n&&(Li(n)==="html"||Li(n)==="body"&&ds(n).position==="static")?e:n||QB(t)||e}function P2(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Ic(t,e,n){return ga(t,Np(e,n))}function ej(t,e,n){var r=Ic(t,e,n);return r>n?n:r}function P7(){return{top:0,right:0,bottom:0,left:0}}function F7(t){return Object.assign({},P7(),t)}function B7(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var tj=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,F7(typeof e!="number"?e:B7(e,Tf))};function nj(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Ni(n.placement),u=P2(a),c=[pr,Kr].indexOf(a)>=0,d=c?"height":"width";if(!(!s||!o)){var h=tj(i.padding,n),p=L2(s),m=u==="y"?hr:pr,w=u==="y"?Wr:Kr,y=n.rects.reference[d]+n.rects.reference[u]-o[u]-n.rects.popper[d],x=o[u]-n.rects.reference[u],v=Af(s),S=v?u==="y"?v.clientHeight||0:v.clientWidth||0:0,k=y/2-x/2,E=h[m],R=S-p[d]-h[w],B=S/2-p[d]/2+k,$=Ic(E,B,R),K=u;n.modifiersData[r]=(e={},e[K]=$,e.centerOffset=$-B,e)}}function rj(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||L7(e.elements.popper,i)&&(e.elements.arrow=i))}const ij={name:"arrow",enabled:!0,phase:"main",fn:nj,effect:rj,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function su(t){return t.split("-")[1]}var sj={top:"auto",right:"auto",bottom:"auto",left:"auto"};function oj(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:ru(n*i)/i||0,y:ru(r*i)/i||0}}function m4(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,u=t.gpuAcceleration,c=t.adaptive,d=t.roundOffsets,h=t.isFixed,p=o.x,m=p===void 0?0:p,w=o.y,y=w===void 0?0:w,x=typeof d=="function"?d({x:m,y}):{x:m,y};m=x.x,y=x.y;var v=o.hasOwnProperty("x"),S=o.hasOwnProperty("y"),k=pr,E=hr,R=window;if(c){var B=Af(n),$="clientHeight",K="clientWidth";if(B===_r(n)&&(B=To(n),ds(B).position!=="static"&&a==="absolute"&&($="scrollHeight",K="scrollWidth")),B=B,i===hr||(i===pr||i===Kr)&&s===rf){E=Wr;var F=h&&B===R&&R.visualViewport?R.visualViewport.height:B[$];y-=F-r.height,y*=u?1:-1}if(i===pr||(i===hr||i===Wr)&&s===rf){k=Kr;var ie=h&&B===R&&R.visualViewport?R.visualViewport.width:B[K];m-=ie-r.width,m*=u?1:-1}}var me=Object.assign({position:a},c&&sj),H=d===!0?oj({x:m,y},_r(n)):{x:m,y};if(m=H.x,y=H.y,u){var X;return Object.assign({},me,(X={},X[E]=S?"0":"",X[k]=v?"0":"",X.transform=(R.devicePixelRatio||1)<=1?"translate("+m+"px, "+y+"px)":"translate3d("+m+"px, "+y+"px, 0)",X))}return Object.assign({},me,(e={},e[E]=S?y+"px":"",e[k]=v?m+"px":"",e.transform="",e))}function aj(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,u=a===void 0?!0:a,c={placement:Ni(e.placement),variation:su(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,m4(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:u})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,m4(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const lj={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:aj,data:{}};var mh={passive:!0};function uj(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,u=_r(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(d){d.addEventListener("scroll",n.update,mh)}),a&&u.addEventListener("resize",n.update,mh),function(){s&&c.forEach(function(d){d.removeEventListener("scroll",n.update,mh)}),a&&u.removeEventListener("resize",n.update,mh)}}const cj={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:uj,data:{}};var fj={left:"right",right:"left",bottom:"top",top:"bottom"};function ip(t){return t.replace(/left|right|bottom|top/g,function(e){return fj[e]})}var dj={start:"end",end:"start"};function g4(t){return t.replace(/start|end/g,function(e){return dj[e]})}function F2(t){var e=_r(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function B2(t){return iu(To(t)).left+F2(t).scrollLeft}function hj(t,e){var n=_r(t),r=To(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,u=0;if(i){s=i.width,o=i.height;var c=D7();(c||!c&&e==="fixed")&&(a=i.offsetLeft,u=i.offsetTop)}return{width:s,height:o,x:a+B2(t),y:u}}function pj(t){var e,n=To(t),r=F2(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=ga(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=ga(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+B2(t),u=-r.scrollTop;return ds(i||n).direction==="rtl"&&(a+=ga(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:u}}function j2(t){var e=ds(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function j7(t){return["html","body","#document"].indexOf(Li(t))>=0?t.ownerDocument.body:Vr(t)&&j2(t)?t:j7(Wm(t))}function Mc(t,e){var n;e===void 0&&(e=[]);var r=j7(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=_r(r),o=i?[s].concat(s.visualViewport||[],j2(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(Mc(Wm(o)))}function Jv(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function mj(t,e){var n=iu(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function y4(t,e,n){return e===O7?Jv(hj(t,n)):ka(e)?mj(e,n):Jv(pj(To(t)))}function gj(t){var e=Mc(Wm(t)),n=["absolute","fixed"].indexOf(ds(t).position)>=0,r=n&&Vr(t)?Af(t):t;return ka(r)?e.filter(function(i){return ka(i)&&L7(i,r)&&Li(i)!=="body"}):[]}function yj(t,e,n,r){var i=e==="clippingParents"?gj(t):[].concat(e),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(u,c){var d=y4(t,c,r);return u.top=ga(d.top,u.top),u.right=Np(d.right,u.right),u.bottom=Np(d.bottom,u.bottom),u.left=ga(d.left,u.left),u},y4(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function H7(t){var e=t.reference,n=t.element,r=t.placement,i=r?Ni(r):null,s=r?su(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,u;switch(i){case hr:u={x:o,y:e.y-n.height};break;case Wr:u={x:o,y:e.y+e.height};break;case Kr:u={x:e.x+e.width,y:a};break;case pr:u={x:e.x-n.width,y:a};break;default:u={x:e.x,y:e.y}}var c=i?P2(i):null;if(c!=null){var d=c==="y"?"height":"width";switch(s){case nu:u[c]=u[c]-(e[d]/2-n[d]/2);break;case rf:u[c]=u[c]+(e[d]/2-n[d]/2);break}}return u}function sf(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,u=a===void 0?BB:a,c=n.rootBoundary,d=c===void 0?O7:c,h=n.elementContext,p=h===void 0?cc:h,m=n.altBoundary,w=m===void 0?!1:m,y=n.padding,x=y===void 0?0:y,v=F7(typeof x!="number"?x:B7(x,Tf)),S=p===cc?jB:cc,k=t.rects.popper,E=t.elements[w?S:p],R=yj(ka(E)?E:E.contextElement||To(t.elements.popper),u,d,o),B=iu(t.elements.reference),$=H7({reference:B,element:k,strategy:"absolute",placement:i}),K=Jv(Object.assign({},k,$)),F=p===cc?K:B,ie={top:R.top-F.top+v.top,bottom:F.bottom-R.bottom+v.bottom,left:R.left-F.left+v.left,right:F.right-R.right+v.right},me=t.modifiersData.offset;if(p===cc&&me){var H=me[i];Object.keys(ie).forEach(function(X){var N=[Kr,Wr].indexOf(X)>=0?1:-1,Z=[hr,Wr].indexOf(X)>=0?"y":"x";ie[X]+=H[Z]*N})}return ie}function wj(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,u=n.allowedAutoPlacements,c=u===void 0?I7:u,d=su(r),h=d?a?h4:h4.filter(function(w){return su(w)===d}):Tf,p=h.filter(function(w){return c.indexOf(w)>=0});p.length===0&&(p=h);var m=p.reduce(function(w,y){return w[y]=sf(t,{placement:y,boundary:i,rootBoundary:s,padding:o})[Ni(y)],w},{});return Object.keys(m).sort(function(w,y){return m[w]-m[y]})}function vj(t){if(Ni(t)===M2)return[];var e=ip(t);return[g4(t),e,g4(e)]}function bj(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,u=n.fallbackPlacements,c=n.padding,d=n.boundary,h=n.rootBoundary,p=n.altBoundary,m=n.flipVariations,w=m===void 0?!0:m,y=n.allowedAutoPlacements,x=e.options.placement,v=Ni(x),S=v===x,k=u||(S||!w?[ip(x)]:vj(x)),E=[x].concat(k).reduce(function(oe,ae){return oe.concat(Ni(ae)===M2?wj(e,{placement:ae,boundary:d,rootBoundary:h,padding:c,flipVariations:w,allowedAutoPlacements:y}):ae)},[]),R=e.rects.reference,B=e.rects.popper,$=new Map,K=!0,F=E[0],ie=0;ie<E.length;ie++){var me=E[ie],H=Ni(me),X=su(me)===nu,N=[hr,Wr].indexOf(H)>=0,Z=N?"width":"height",le=sf(e,{placement:me,boundary:d,rootBoundary:h,altBoundary:p,padding:c}),G=N?X?Kr:pr:X?Wr:hr;R[Z]>B[Z]&&(G=ip(G));var Y=ip(G),Q=[];if(s&&Q.push(le[H]<=0),a&&Q.push(le[G]<=0,le[Y]<=0),Q.every(function(oe){return oe})){F=me,K=!1;break}$.set(me,Q)}if(K)for(var fe=w?3:1,U=function(ae){var re=E.find(function(P){var L=$.get(P);if(L)return L.slice(0,ae).every(function(se){return se})});if(re)return F=re,"break"},O=fe;O>0;O--){var ee=U(O);if(ee==="break")break}e.placement!==F&&(e.modifiersData[r]._skip=!0,e.placement=F,e.reset=!0)}}const xj={name:"flip",enabled:!0,phase:"main",fn:bj,requiresIfExists:["offset"],data:{_skip:!1}};function w4(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function v4(t){return[hr,Kr,Wr,pr].some(function(e){return t[e]>=0})}function Ej(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=sf(e,{elementContext:"reference"}),a=sf(e,{altBoundary:!0}),u=w4(o,r),c=w4(a,i,s),d=v4(u),h=v4(c);e.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":h})}const Cj={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Ej};function Sj(t,e,n){var r=Ni(t),i=[pr,hr].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[pr,Kr].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function kj(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=I7.reduce(function(d,h){return d[h]=Sj(h,e.rects,s),d},{}),a=o[e.placement],u=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=o}const Tj={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:kj};function Aj(t){var e=t.state,n=t.name;e.modifiersData[n]=H7({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const _j={name:"popperOffsets",enabled:!0,phase:"read",fn:Aj,data:{}};function Rj(t){return t==="x"?"y":"x"}function Nj(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,u=n.boundary,c=n.rootBoundary,d=n.altBoundary,h=n.padding,p=n.tether,m=p===void 0?!0:p,w=n.tetherOffset,y=w===void 0?0:w,x=sf(e,{boundary:u,rootBoundary:c,padding:h,altBoundary:d}),v=Ni(e.placement),S=su(e.placement),k=!S,E=P2(v),R=Rj(E),B=e.modifiersData.popperOffsets,$=e.rects.reference,K=e.rects.popper,F=typeof y=="function"?y(Object.assign({},e.rects,{placement:e.placement})):y,ie=typeof F=="number"?{mainAxis:F,altAxis:F}:Object.assign({mainAxis:0,altAxis:0},F),me=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,H={x:0,y:0};if(B){if(s){var X,N=E==="y"?hr:pr,Z=E==="y"?Wr:Kr,le=E==="y"?"height":"width",G=B[E],Y=G+x[N],Q=G-x[Z],fe=m?-K[le]/2:0,U=S===nu?$[le]:K[le],O=S===nu?-K[le]:-$[le],ee=e.elements.arrow,oe=m&&ee?L2(ee):{width:0,height:0},ae=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:P7(),re=ae[N],P=ae[Z],L=Ic(0,$[le],oe[le]),se=k?$[le]/2-fe-L-re-ie.mainAxis:U-L-re-ie.mainAxis,te=k?-$[le]/2+fe+L+P+ie.mainAxis:O+L+P+ie.mainAxis,V=e.elements.arrow&&Af(e.elements.arrow),q=V?E==="y"?V.clientTop||0:V.clientLeft||0:0,de=(X=me==null?void 0:me[E])!=null?X:0,M=G+se-de-q,pe=G+te-de,j=Ic(m?Np(Y,M):Y,G,m?ga(Q,pe):Q);B[E]=j,H[E]=j-G}if(a){var C,T=E==="x"?hr:pr,D=E==="x"?Wr:Kr,J=B[R],ce=R==="y"?"height":"width",ne=J+x[T],ye=J-x[D],we=[hr,pr].indexOf(v)!==-1,xe=(C=me==null?void 0:me[R])!=null?C:0,Te=we?ne:J-$[ce]-K[ce]-xe+ie.altAxis,Me=we?J+$[ce]+K[ce]-xe-ie.altAxis:ye,Ue=m&&we?ej(Te,J,Me):Ic(m?Te:ne,J,m?Me:ye);B[R]=Ue,H[R]=Ue-J}e.modifiersData[r]=H}}const Oj={name:"preventOverflow",enabled:!0,phase:"main",fn:Nj,requiresIfExists:["offset"]};function Ij(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Mj(t){return t===_r(t)||!Vr(t)?F2(t):Ij(t)}function Dj(t){var e=t.getBoundingClientRect(),n=ru(e.width)/t.offsetWidth||1,r=ru(e.height)/t.offsetHeight||1;return n!==1||r!==1}function Lj(t,e,n){n===void 0&&(n=!1);var r=Vr(e),i=Vr(e)&&Dj(e),s=To(e),o=iu(t,i,n),a={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&((Li(e)!=="body"||j2(s))&&(a=Mj(e)),Vr(e)?(u=iu(e,!0),u.x+=e.clientLeft,u.y+=e.clientTop):s&&(u.x=B2(s))),{x:o.left+a.scrollLeft-u.x,y:o.top+a.scrollTop-u.y,width:o.width,height:o.height}}function Pj(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var u=e.get(a);u&&i(u)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function Fj(t){var e=Pj(t);return XB.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function Bj(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function jj(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var b4={placement:"bottom",modifiers:[],strategy:"absolute"};function x4(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Hj(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?b4:i;return function(a,u,c){c===void 0&&(c=s);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},b4,s),modifiersData:{},elements:{reference:a,popper:u},attributes:{},styles:{}},h=[],p=!1,m={state:d,setOptions:function(v){var S=typeof v=="function"?v(d.options):v;y(),d.options=Object.assign({},s,d.options,S),d.scrollParents={reference:ka(a)?Mc(a):a.contextElement?Mc(a.contextElement):[],popper:Mc(u)};var k=Fj(jj([].concat(r,d.options.modifiers)));return d.orderedModifiers=k.filter(function(E){return E.enabled}),w(),m.update()},forceUpdate:function(){if(!p){var v=d.elements,S=v.reference,k=v.popper;if(x4(S,k)){d.rects={reference:Lj(S,Af(k),d.options.strategy==="fixed"),popper:L2(k)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(ie){return d.modifiersData[ie.name]=Object.assign({},ie.data)});for(var E=0;E<d.orderedModifiers.length;E++){if(d.reset===!0){d.reset=!1,E=-1;continue}var R=d.orderedModifiers[E],B=R.fn,$=R.options,K=$===void 0?{}:$,F=R.name;typeof B=="function"&&(d=B({state:d,options:K,name:F,instance:m})||d)}}}},update:Bj(function(){return new Promise(function(x){m.forceUpdate(),x(d)})}),destroy:function(){y(),p=!0}};if(!x4(a,u))return m;m.setOptions(c).then(function(x){!p&&c.onFirstUpdate&&c.onFirstUpdate(x)});function w(){d.orderedModifiers.forEach(function(x){var v=x.name,S=x.options,k=S===void 0?{}:S,E=x.effect;if(typeof E=="function"){var R=E({state:d,name:v,instance:m,options:k}),B=function(){};h.push(R||B)}})}function y(){h.forEach(function(x){return x()}),h=[]}return m}}var $j=[cj,_j,lj,M7,Tj,xj,Oj,ij,Cj],zj=Hj({defaultModifiers:$j}),Uj="tippy-box",$7="tippy-content",Vj="tippy-backdrop",z7="tippy-arrow",U7="tippy-svg-arrow",Jo={passive:!0,capture:!0},V7=function(){return document.body};function Hy(t,e,n){if(Array.isArray(t)){var r=t[e];return r??(Array.isArray(n)?n[e]:n)}return t}function H2(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function W7(t,e){return typeof t=="function"?t.apply(void 0,e):t}function E4(t,e){if(e===0)return t;var n;return function(r){clearTimeout(n),n=setTimeout(function(){t(r)},e)}}function Wj(t){return t.split(/\s+/).filter(Boolean)}function Rl(t){return[].concat(t)}function C4(t,e){t.indexOf(e)===-1&&t.push(e)}function Kj(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function qj(t){return t.split("-")[0]}function Op(t){return[].slice.call(t)}function S4(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function Dc(){return document.createElement("div")}function Km(t){return["Element","Fragment"].some(function(e){return H2(t,e)})}function Gj(t){return H2(t,"NodeList")}function Xj(t){return H2(t,"MouseEvent")}function Yj(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function Zj(t){return Km(t)?[t]:Gj(t)?Op(t):Array.isArray(t)?t:Op(document.querySelectorAll(t))}function $y(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function k4(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function Jj(t){var e,n=Rl(t),r=n[0];return r!=null&&(e=r.ownerDocument)!=null&&e.body?r.ownerDocument:document}function Qj(t,e){var n=e.clientX,r=e.clientY;return t.every(function(i){var s=i.popperRect,o=i.popperState,a=i.props,u=a.interactiveBorder,c=qj(o.placement),d=o.modifiersData.offset;if(!d)return!0;var h=c==="bottom"?d.top.y:0,p=c==="top"?d.bottom.y:0,m=c==="right"?d.left.x:0,w=c==="left"?d.right.x:0,y=s.top-r+h>u,x=r-s.bottom-p>u,v=s.left-n+m>u,S=n-s.right-w>u;return y||x||v||S})}function zy(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){t[r](i,n)})}function T4(t,e){for(var n=e;n;){var r;if(t.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var Ti={isTouch:!1},A4=0;function eH(){Ti.isTouch||(Ti.isTouch=!0,window.performance&&document.addEventListener("mousemove",K7))}function K7(){var t=performance.now();t-A4<20&&(Ti.isTouch=!1,document.removeEventListener("mousemove",K7)),A4=t}function tH(){var t=document.activeElement;if(Yj(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function nH(){document.addEventListener("touchstart",eH,Jo),window.addEventListener("blur",tH)}var rH=typeof window<"u"&&typeof document<"u",iH=rH?!!window.msCrypto:!1,sH={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},oH={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},oi=Object.assign({appendTo:V7,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},sH,oH),aH=Object.keys(oi),lH=function(e){var n=Object.keys(e);n.forEach(function(r){oi[r]=e[r]})};function q7(t){var e=t.plugins||[],n=e.reduce(function(r,i){var s=i.name,o=i.defaultValue;if(s){var a;r[s]=t[s]!==void 0?t[s]:(a=oi[s])!=null?a:o}return r},{});return Object.assign({},t,n)}function uH(t,e){var n=e?Object.keys(q7(Object.assign({},oi,{plugins:e}))):aH,r=n.reduce(function(i,s){var o=(t.getAttribute("data-tippy-"+s)||"").trim();if(!o)return i;if(s==="content")i[s]=o;else try{i[s]=JSON.parse(o)}catch{i[s]=o}return i},{});return r}function _4(t,e){var n=Object.assign({},e,{content:W7(e.content,[t])},e.ignoreAttributes?{}:uH(t,e.plugins));return n.aria=Object.assign({},oi.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var cH=function(){return"innerHTML"};function Qv(t,e){t[cH()]=e}function R4(t){var e=Dc();return t===!0?e.className=z7:(e.className=U7,Km(t)?e.appendChild(t):Qv(e,t)),e}function N4(t,e){Km(e.content)?(Qv(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?Qv(t,e.content):t.textContent=e.content)}function eb(t){var e=t.firstElementChild,n=Op(e.children);return{box:e,content:n.find(function(r){return r.classList.contains($7)}),arrow:n.find(function(r){return r.classList.contains(z7)||r.classList.contains(U7)}),backdrop:n.find(function(r){return r.classList.contains(Vj)})}}function G7(t){var e=Dc(),n=Dc();n.className=Uj,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=Dc();r.className=$7,r.setAttribute("data-state","hidden"),N4(r,t.props),e.appendChild(n),n.appendChild(r),i(t.props,t.props);function i(s,o){var a=eb(e),u=a.box,c=a.content,d=a.arrow;o.theme?u.setAttribute("data-theme",o.theme):u.removeAttribute("data-theme"),typeof o.animation=="string"?u.setAttribute("data-animation",o.animation):u.removeAttribute("data-animation"),o.inertia?u.setAttribute("data-inertia",""):u.removeAttribute("data-inertia"),u.style.maxWidth=typeof o.maxWidth=="number"?o.maxWidth+"px":o.maxWidth,o.role?u.setAttribute("role",o.role):u.removeAttribute("role"),(s.content!==o.content||s.allowHTML!==o.allowHTML)&&N4(c,t.props),o.arrow?d?s.arrow!==o.arrow&&(u.removeChild(d),u.appendChild(R4(o.arrow))):u.appendChild(R4(o.arrow)):d&&u.removeChild(d)}return{popper:e,onUpdate:i}}G7.$$tippy=!0;var fH=1,gh=[],Uy=[];function dH(t,e){var n=_4(t,Object.assign({},oi,q7(S4(e)))),r,i,s,o=!1,a=!1,u=!1,c=!1,d,h,p,m=[],w=E4(M,n.interactiveDebounce),y,x=fH++,v=null,S=Kj(n.plugins),k={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},E={id:x,reference:t,popper:Dc(),popperInstance:v,props:n,state:k,plugins:S,clearDelayTimeouts:Te,setProps:Me,setContent:Ue,show:Tt,hide:Bt,hideWithInteractivity:ct,enable:we,disable:xe,unmount:vn,destroy:ft};if(!n.render)return E;var R=n.render(E),B=R.popper,$=R.onUpdate;B.setAttribute("data-tippy-root",""),B.id="tippy-"+E.id,E.popper=B,t._tippy=E,B._tippy=E;var K=S.map(function(ke){return ke.fn(E)}),F=t.hasAttribute("aria-expanded");return V(),fe(),G(),Y("onCreate",[E]),n.showOnCreate&&ne(),B.addEventListener("mouseenter",function(){E.props.interactive&&E.state.isVisible&&E.clearDelayTimeouts()}),B.addEventListener("mouseleave",function(){E.props.interactive&&E.props.trigger.indexOf("mouseenter")>=0&&N().addEventListener("mousemove",w)}),E;function ie(){var ke=E.props.touch;return Array.isArray(ke)?ke:[ke,0]}function me(){return ie()[0]==="hold"}function H(){var ke;return!!((ke=E.props.render)!=null&&ke.$$tippy)}function X(){return y||t}function N(){var ke=X().parentNode;return ke?Jj(ke):document}function Z(){return eb(B)}function le(ke){return E.state.isMounted&&!E.state.isVisible||Ti.isTouch||d&&d.type==="focus"?0:Hy(E.props.delay,ke?0:1,oi.delay)}function G(ke){ke===void 0&&(ke=!1),B.style.pointerEvents=E.props.interactive&&!ke?"":"none",B.style.zIndex=""+E.props.zIndex}function Y(ke,Fe,He){if(He===void 0&&(He=!0),K.forEach(function(Je){Je[ke]&&Je[ke].apply(Je,Fe)}),He){var Ze;(Ze=E.props)[ke].apply(Ze,Fe)}}function Q(){var ke=E.props.aria;if(ke.content){var Fe="aria-"+ke.content,He=B.id,Ze=Rl(E.props.triggerTarget||t);Ze.forEach(function(Je){var Lt=Je.getAttribute(Fe);if(E.state.isVisible)Je.setAttribute(Fe,Lt?Lt+" "+He:He);else{var Gt=Lt&&Lt.replace(He,"").trim();Gt?Je.setAttribute(Fe,Gt):Je.removeAttribute(Fe)}})}}function fe(){if(!(F||!E.props.aria.expanded)){var ke=Rl(E.props.triggerTarget||t);ke.forEach(function(Fe){E.props.interactive?Fe.setAttribute("aria-expanded",E.state.isVisible&&Fe===X()?"true":"false"):Fe.removeAttribute("aria-expanded")})}}function U(){N().removeEventListener("mousemove",w),gh=gh.filter(function(ke){return ke!==w})}function O(ke){if(!(Ti.isTouch&&(u||ke.type==="mousedown"))){var Fe=ke.composedPath&&ke.composedPath()[0]||ke.target;if(!(E.props.interactive&&T4(B,Fe))){if(Rl(E.props.triggerTarget||t).some(function(He){return T4(He,Fe)})){if(Ti.isTouch||E.state.isVisible&&E.props.trigger.indexOf("click")>=0)return}else Y("onClickOutside",[E,ke]);E.props.hideOnClick===!0&&(E.clearDelayTimeouts(),E.hide(),a=!0,setTimeout(function(){a=!1}),E.state.isMounted||re())}}}function ee(){u=!0}function oe(){u=!1}function ae(){var ke=N();ke.addEventListener("mousedown",O,!0),ke.addEventListener("touchend",O,Jo),ke.addEventListener("touchstart",oe,Jo),ke.addEventListener("touchmove",ee,Jo)}function re(){var ke=N();ke.removeEventListener("mousedown",O,!0),ke.removeEventListener("touchend",O,Jo),ke.removeEventListener("touchstart",oe,Jo),ke.removeEventListener("touchmove",ee,Jo)}function P(ke,Fe){se(ke,function(){!E.state.isVisible&&B.parentNode&&B.parentNode.contains(B)&&Fe()})}function L(ke,Fe){se(ke,Fe)}function se(ke,Fe){var He=Z().box;function Ze(Je){Je.target===He&&(zy(He,"remove",Ze),Fe())}if(ke===0)return Fe();zy(He,"remove",h),zy(He,"add",Ze),h=Ze}function te(ke,Fe,He){He===void 0&&(He=!1);var Ze=Rl(E.props.triggerTarget||t);Ze.forEach(function(Je){Je.addEventListener(ke,Fe,He),m.push({node:Je,eventType:ke,handler:Fe,options:He})})}function V(){me()&&(te("touchstart",de,{passive:!0}),te("touchend",pe,{passive:!0})),Wj(E.props.trigger).forEach(function(ke){if(ke!=="manual")switch(te(ke,de),ke){case"mouseenter":te("mouseleave",pe);break;case"focus":te(iH?"focusout":"blur",j);break;case"focusin":te("focusout",j);break}})}function q(){m.forEach(function(ke){var Fe=ke.node,He=ke.eventType,Ze=ke.handler,Je=ke.options;Fe.removeEventListener(He,Ze,Je)}),m=[]}function de(ke){var Fe,He=!1;if(!(!E.state.isEnabled||C(ke)||a)){var Ze=((Fe=d)==null?void 0:Fe.type)==="focus";d=ke,y=ke.currentTarget,fe(),!E.state.isVisible&&Xj(ke)&&gh.forEach(function(Je){return Je(ke)}),ke.type==="click"&&(E.props.trigger.indexOf("mouseenter")<0||o)&&E.props.hideOnClick!==!1&&E.state.isVisible?He=!0:ne(ke),ke.type==="click"&&(o=!He),He&&!Ze&&ye(ke)}}function M(ke){var Fe=ke.target,He=X().contains(Fe)||B.contains(Fe);if(!(ke.type==="mousemove"&&He)){var Ze=ce().concat(B).map(function(Je){var Lt,Gt=Je._tippy,sn=(Lt=Gt.popperInstance)==null?void 0:Lt.state;return sn?{popperRect:Je.getBoundingClientRect(),popperState:sn,props:n}:null}).filter(Boolean);Qj(Ze,ke)&&(U(),ye(ke))}}function pe(ke){var Fe=C(ke)||E.props.trigger.indexOf("click")>=0&&o;if(!Fe){if(E.props.interactive){E.hideWithInteractivity(ke);return}ye(ke)}}function j(ke){E.props.trigger.indexOf("focusin")<0&&ke.target!==X()||E.props.interactive&&ke.relatedTarget&&B.contains(ke.relatedTarget)||ye(ke)}function C(ke){return Ti.isTouch?me()!==ke.type.indexOf("touch")>=0:!1}function T(){D();var ke=E.props,Fe=ke.popperOptions,He=ke.placement,Ze=ke.offset,Je=ke.getReferenceClientRect,Lt=ke.moveTransition,Gt=H()?eb(B).arrow:null,sn=Je?{getBoundingClientRect:Je,contextElement:Je.contextElement||X()}:t,Vn={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Oo){var Bi=Oo.state;if(H()){var Qf=Z(),Io=Qf.box;["placement","reference-hidden","escaped"].forEach(function(Mo){Mo==="placement"?Io.setAttribute("data-placement",Bi.placement):Bi.attributes.popper["data-popper-"+Mo]?Io.setAttribute("data-"+Mo,""):Io.removeAttribute("data-"+Mo)}),Bi.attributes.popper={}}}},Wn=[{name:"offset",options:{offset:Ze}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Lt}},Vn];H()&&Gt&&Wn.push({name:"arrow",options:{element:Gt,padding:3}}),Wn.push.apply(Wn,(Fe==null?void 0:Fe.modifiers)||[]),E.popperInstance=zj(sn,B,Object.assign({},Fe,{placement:He,onFirstUpdate:p,modifiers:Wn}))}function D(){E.popperInstance&&(E.popperInstance.destroy(),E.popperInstance=null)}function J(){var ke=E.props.appendTo,Fe,He=X();E.props.interactive&&ke===V7||ke==="parent"?Fe=He.parentNode:Fe=W7(ke,[He]),Fe.contains(B)||Fe.appendChild(B),E.state.isMounted=!0,T()}function ce(){return Op(B.querySelectorAll("[data-tippy-root]"))}function ne(ke){E.clearDelayTimeouts(),ke&&Y("onTrigger",[E,ke]),ae();var Fe=le(!0),He=ie(),Ze=He[0],Je=He[1];Ti.isTouch&&Ze==="hold"&&Je&&(Fe=Je),Fe?r=setTimeout(function(){E.show()},Fe):E.show()}function ye(ke){if(E.clearDelayTimeouts(),Y("onUntrigger",[E,ke]),!E.state.isVisible){re();return}if(!(E.props.trigger.indexOf("mouseenter")>=0&&E.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(ke.type)>=0&&o)){var Fe=le(!1);Fe?i=setTimeout(function(){E.state.isVisible&&E.hide()},Fe):s=requestAnimationFrame(function(){E.hide()})}}function we(){E.state.isEnabled=!0}function xe(){E.hide(),E.state.isEnabled=!1}function Te(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(s)}function Me(ke){if(!E.state.isDestroyed){Y("onBeforeUpdate",[E,ke]),q();var Fe=E.props,He=_4(t,Object.assign({},Fe,S4(ke),{ignoreAttributes:!0}));E.props=He,V(),Fe.interactiveDebounce!==He.interactiveDebounce&&(U(),w=E4(M,He.interactiveDebounce)),Fe.triggerTarget&&!He.triggerTarget?Rl(Fe.triggerTarget).forEach(function(Ze){Ze.removeAttribute("aria-expanded")}):He.triggerTarget&&t.removeAttribute("aria-expanded"),fe(),G(),$&&$(Fe,He),E.popperInstance&&(T(),ce().forEach(function(Ze){requestAnimationFrame(Ze._tippy.popperInstance.forceUpdate)})),Y("onAfterUpdate",[E,ke])}}function Ue(ke){E.setProps({content:ke})}function Tt(){var ke=E.state.isVisible,Fe=E.state.isDestroyed,He=!E.state.isEnabled,Ze=Ti.isTouch&&!E.props.touch,Je=Hy(E.props.duration,0,oi.duration);if(!(ke||Fe||He||Ze)&&!X().hasAttribute("disabled")&&(Y("onShow",[E],!1),E.props.onShow(E)!==!1)){if(E.state.isVisible=!0,H()&&(B.style.visibility="visible"),G(),ae(),E.state.isMounted||(B.style.transition="none"),H()){var Lt=Z(),Gt=Lt.box,sn=Lt.content;$y([Gt,sn],0)}p=function(){var Wn;if(!(!E.state.isVisible||c)){if(c=!0,B.offsetHeight,B.style.transition=E.props.moveTransition,H()&&E.props.animation){var Ga=Z(),Oo=Ga.box,Bi=Ga.content;$y([Oo,Bi],Je),k4([Oo,Bi],"visible")}Q(),fe(),C4(Uy,E),(Wn=E.popperInstance)==null||Wn.forceUpdate(),Y("onMount",[E]),E.props.animation&&H()&&L(Je,function(){E.state.isShown=!0,Y("onShown",[E])})}},J()}}function Bt(){var ke=!E.state.isVisible,Fe=E.state.isDestroyed,He=!E.state.isEnabled,Ze=Hy(E.props.duration,1,oi.duration);if(!(ke||Fe||He)&&(Y("onHide",[E],!1),E.props.onHide(E)!==!1)){if(E.state.isVisible=!1,E.state.isShown=!1,c=!1,o=!1,H()&&(B.style.visibility="hidden"),U(),re(),G(!0),H()){var Je=Z(),Lt=Je.box,Gt=Je.content;E.props.animation&&($y([Lt,Gt],Ze),k4([Lt,Gt],"hidden"))}Q(),fe(),E.props.animation?H()&&P(Ze,E.unmount):E.unmount()}}function ct(ke){N().addEventListener("mousemove",w),C4(gh,w),w(ke)}function vn(){E.state.isVisible&&E.hide(),E.state.isMounted&&(D(),ce().forEach(function(ke){ke._tippy.unmount()}),B.parentNode&&B.parentNode.removeChild(B),Uy=Uy.filter(function(ke){return ke!==E}),E.state.isMounted=!1,Y("onHidden",[E]))}function ft(){E.state.isDestroyed||(E.clearDelayTimeouts(),E.unmount(),q(),delete t._tippy,E.state.isDestroyed=!0,Y("onDestroy",[E]))}}function vu(t,e){e===void 0&&(e={});var n=oi.plugins.concat(e.plugins||[]);nH();var r=Object.assign({},e,{plugins:n}),i=Zj(t),s=i.reduce(function(o,a){var u=a&&dH(a,r);return u&&o.push(u),o},[]);return Km(t)?s[0]:s}vu.defaultProps=oi;vu.setDefaultProps=lH;vu.currentInput=Ti;Object.assign({},M7,{effect:function(e){var n=e.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}});vu.setDefaultProps({render:G7});class hH{constructor({editor:e,element:n,view:r,tippyOptions:i={},updateDelay:s=250,shouldShow:o}){this.preventHide=!1,this.shouldShow=({view:a,state:u,from:c,to:d})=>{const{doc:h,selection:p}=u,{empty:m}=p,w=!h.textBetween(c,d).length&&R2(u.selection),y=this.element.contains(document.activeElement);return!(!(a.hasFocus()||y)||m||w||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:a})=>{var u;if(this.preventHide){this.preventHide=!1;return}a!=null&&a.relatedTarget&&(!((u=this.element.parentNode)===null||u===void 0)&&u.contains(a.relatedTarget))||(a==null?void 0:a.relatedTarget)!==this.editor.view.dom&&this.hide()},this.tippyBlurHandler=a=>{this.blurHandler({event:a})},this.handleDebouncedUpdate=(a,u)=>{const c=!(u!=null&&u.selection.eq(a.state.selection)),d=!(u!=null&&u.doc.eq(a.state.doc));!c&&!d||(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(a,c,d,u)},this.updateDelay))},this.updateHandler=(a,u,c,d)=>{var h,p,m;const{state:w,composing:y}=a,{selection:x}=w;if(y||!u&&!c)return;this.createTooltip();const{ranges:S}=x,k=Math.min(...S.map(B=>B.$from.pos)),E=Math.max(...S.map(B=>B.$to.pos));if(!((h=this.shouldShow)===null||h===void 0?void 0:h.call(this,{editor:this.editor,element:this.element,view:a,state:w,oldState:d,from:k,to:E}))){this.hide();return}(p=this.tippy)===null||p===void 0||p.setProps({getReferenceClientRect:((m=this.tippyOptions)===null||m===void 0?void 0:m.getReferenceClientRect)||(()=>{if(Gr(w.selection)){let B=a.nodeDOM(k);if(B){const $=B.dataset.nodeViewWrapper?B:B.querySelector("[data-node-view-wrapper]");if($&&(B=$.firstChild),B)return B.getBoundingClientRect()}}return sB(a,k,E)})}),this.show()},this.editor=e,this.element=n,this.view=r,this.updateDelay=s,o&&(this.shouldShow=o),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=i,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,n=!!e.parentElement;this.tippy||!n||(this.tippy=vu(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(e,n){const{state:r}=e,i=r.selection.from!==r.selection.to;if(this.updateDelay>0&&i){this.handleDebouncedUpdate(e,n);return}const s=!(n!=null&&n.selection.eq(e.state.selection)),o=!(n!=null&&n.doc.eq(e.state.doc));this.updateHandler(e,s,o,n)}show(){var e;(e=this.tippy)===null||e===void 0||e.show()}hide(){var e;(e=this.tippy)===null||e===void 0||e.hide()}destroy(){var e,n;!((e=this.tippy)===null||e===void 0)&&e.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(n=this.tippy)===null||n===void 0||n.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const X7=t=>new gt({key:typeof t.pluginKey=="string"?new xt(t.pluginKey):t.pluginKey,view:e=>new hH({view:e,...t})});ht.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[X7({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}});var Fa=GA();const $2=qA(Fa);function pH(t){return t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Y7={exports:{}},Vy={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O4;function mH(){if(O4)return Vy;O4=1;var t=Wt;function e(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function a(h,p){var m=p(),w=r({inst:{value:m,getSnapshot:p}}),y=w[0].inst,x=w[1];return s(function(){y.value=m,y.getSnapshot=p,u(y)&&x({inst:y})},[h,m,p]),i(function(){return u(y)&&x({inst:y}),h(function(){u(y)&&x({inst:y})})},[h]),o(m),m}function u(h){var p=h.getSnapshot;h=h.value;try{var m=p();return!n(h,m)}catch{return!0}}function c(h,p){return p()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:a;return Vy.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,Vy}Y7.exports=mH();var z2=Y7.exports;const gH=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},yH=({contentComponent:t})=>{const e=z2.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return Wt.createElement(Wt.Fragment,null,Object.values(e))};function wH(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:$2.createPortal(r.reactElement,r.element,n)},t.forEach(i=>i())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(i=>i())}}}class vH extends Wt.Component{constructor(e){var n;super(e),this.editorContentRef=Wt.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((n=e.editor)===null||n===void 0)&&n.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.options.element.childNodes),e.setOptions({element:n}),e.contentComponent=wH(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:e,innerRef:n,...r}=this.props;return Wt.createElement(Wt.Fragment,null,Wt.createElement("div",{ref:gH(n,this.editorContentRef),...r}),(e==null?void 0:e.contentComponent)&&Wt.createElement(yH,{contentComponent:e.contentComponent}))}}const bH=A.forwardRef((t,e)=>{const n=Wt.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return Wt.createElement(vH,{key:n,innerRef:e,...t})}),xH=Wt.memo(bH);var EH=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;for(i of e.entries())if(!t(i[1],n.get(i[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(e[i]!==n[i])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!(o==="_owner"&&e.$$typeof)&&!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n},CH=pH(EH),Z7={exports:{}},Wy={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I4;function SH(){if(I4)return Wy;I4=1;var t=Wt,e=z2;function n(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,o=t.useEffect,a=t.useMemo,u=t.useDebugValue;return Wy.useSyncExternalStoreWithSelector=function(c,d,h,p,m){var w=s(null);if(w.current===null){var y={hasValue:!1,value:null};w.current=y}else y=w.current;w=a(function(){function v(B){if(!S){if(S=!0,k=B,B=p(B),m!==void 0&&y.hasValue){var $=y.value;if(m($,B))return E=$}return E=B}if($=E,r(k,B))return $;var K=p(B);return m!==void 0&&m($,K)?$:(k=B,E=K)}var S=!1,k,E,R=h===void 0?null:h;return[function(){return v(d())},R===null?void 0:function(){return v(R())}]},[d,h,p,m]);var x=i(c,w[0],w[1]);return o(function(){y.hasValue=!0,y.value=x},[x]),u(x),x},Wy}Z7.exports=SH();var kH=Z7.exports;const TH=typeof window<"u"?A.useLayoutEffect:A.useEffect;class AH{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const n=()=>{this.transactionNumber+=1,this.subscribers.forEach(i=>i())},r=this.editor;return r.on("transaction",n),()=>{r.off("transaction",n)}}}}function _H(t){var e;const[n]=A.useState(()=>new AH(t.editor)),r=kH.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!==null&&e!==void 0?e:CH);return TH(()=>n.watch(t.editor),[t.editor,n]),A.useDebugValue(r),r}const RH=!1,tb=typeof window>"u",NH=tb||!!(typeof window<"u"&&window.next);class U2{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?tb||NH?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onBeforeCreate)===null||s===void 0?void 0:s.call(i,...r)},onBlur:(...r)=>{var i,s;return(s=(i=this.options.current).onBlur)===null||s===void 0?void 0:s.call(i,...r)},onCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onCreate)===null||s===void 0?void 0:s.call(i,...r)},onDestroy:(...r)=>{var i,s;return(s=(i=this.options.current).onDestroy)===null||s===void 0?void 0:s.call(i,...r)},onFocus:(...r)=>{var i,s;return(s=(i=this.options.current).onFocus)===null||s===void 0?void 0:s.call(i,...r)},onSelectionUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onSelectionUpdate)===null||s===void 0?void 0:s.call(i,...r)},onTransaction:(...r)=>{var i,s;return(s=(i=this.options.current).onTransaction)===null||s===void 0?void 0:s.call(i,...r)},onUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onUpdate)===null||s===void 0?void 0:s.call(i,...r)},onContentError:(...r)=>{var i,s;return(s=(i=this.options.current).onContentError)===null||s===void 0?void 0:s.call(i,...r)},onDrop:(...r)=>{var i,s;return(s=(i=this.options.current).onDrop)===null||s===void 0?void 0:s.call(i,...r)},onPaste:(...r)=>{var i,s;return(s=(i=this.options.current).onPaste)===null||s===void 0?void 0:s.call(i,...r)}};return new PB(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((i,s)=>{var o;return i===((o=n.extensions)===null||o===void 0?void 0:o[s])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?U2.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function OH(t={},e=[]){const n=A.useRef(t);n.current=t;const[r]=A.useState(()=>new U2(n)),i=z2.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return A.useDebugValue(i),A.useEffect(r.onRender(e)),_H({editor:i,selector:({transactionNumber:s})=>t.shouldRerenderOnTransaction===!1?null:t.immediatelyRender&&s===0?0:s+1}),i}const V2=A.createContext({editor:null});V2.Consumer;const Ba=()=>A.useContext(V2),IH=t=>{const[e,n]=A.useState(null),{editor:r}=Ba();return A.useEffect(()=>{var i;if(!e||!((i=t.editor)===null||i===void 0)&&i.isDestroyed||r!=null&&r.isDestroyed)return;const{pluginKey:s="bubbleMenu",editor:o,tippyOptions:a={},updateDelay:u,shouldShow:c=null}=t,d=o||r;if(!d){console.warn("BubbleMenu component is not rendered inside of an editor component or does not have editor prop.");return}const h=X7({updateDelay:u,editor:d,element:e,pluginKey:s,shouldShow:c,tippyOptions:a});return d.registerPlugin(h),()=>{d.unregisterPlugin(s)}},[t.editor,r,e]),Wt.createElement("div",{ref:n,className:t.className,style:{visibility:"hidden"}},t.children)},J7=A.createContext({onDragStart:void 0}),MH=()=>A.useContext(J7),DH=Wt.forwardRef((t,e)=>{const{onDragStart:n}=MH(),r=t.as||"div";return Wt.createElement(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});function LH(t){return!!(typeof t=="function"&&t.prototype&&t.prototype.isReactComponent)}function PH(t){var e;return typeof t=="object"&&((e=t.$$typeof)===null||e===void 0?void 0:e.toString())==="Symbol(react.forward_ref)"}class FH{constructor(e,{editor:n,props:r={},as:i="div",className:s=""}){this.ref=null,this.id=Math.floor(Math.random()*4294967295).toString(),this.component=e,this.editor=n,this.props=r,this.element=document.createElement(i),this.element.classList.add("react-renderer"),s&&this.element.classList.add(...s.split(" ")),this.editor.isInitialized?Fa.flushSync(()=>{this.render()}):this.render()}render(){var e;const n=this.component,r=this.props,i=this.editor;(LH(n)||PH(n))&&(r.ref=s=>{this.ref=s}),this.reactElement=Wt.createElement(n,{...r}),(e=i==null?void 0:i.contentComponent)===null||e===void 0||e.setRenderer(this.id,this)}updateProps(e={}){this.props={...this.props,...e},this.render()}destroy(){var e;const n=this.editor;(e=n==null?void 0:n.contentComponent)===null||e===void 0||e.removeRenderer(this.id)}updateAttributes(e){Object.keys(e).forEach(n=>{this.element.setAttribute(n,e[n])})}}class BH extends FB{mount(){const e={editor:this.editor,node:this.node,decorations:this.decorations,innerDecorations:this.innerDecorations,view:this.view,selected:!1,extension:this.extension,HTMLAttributes:this.HTMLAttributes,getPos:()=>this.getPos(),updateAttributes:(c={})=>this.updateAttributes(c),deleteNode:()=>this.deleteNode()};if(!this.component.displayName){const c=d=>d.charAt(0).toUpperCase()+d.substring(1);this.component.displayName=c(this.extension.name)}const i={onDragStart:this.onDragStart.bind(this),nodeViewContentRef:c=>{c&&this.contentDOMElement&&c.firstChild!==this.contentDOMElement&&c.appendChild(this.contentDOMElement)}},s=this.component,o=Wt.memo(c=>Wt.createElement(J7.Provider,{value:i},Wt.createElement(s,c)));o.displayName="ReactNodeView",this.node.isLeaf?this.contentDOMElement=null:this.options.contentDOMElementTag?this.contentDOMElement=document.createElement(this.options.contentDOMElementTag):this.contentDOMElement=document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement&&(this.contentDOMElement.dataset.nodeViewContentReact="",this.contentDOMElement.style.whiteSpace="inherit");let a=this.node.isInline?"span":"div";this.options.as&&(a=this.options.as);const{className:u=""}=this.options;this.handleSelectionUpdate=this.handleSelectionUpdate.bind(this),this.renderer=new FH(o,{editor:this.editor,props:e,as:a,className:`node-${this.node.type.name} ${u}`.trim()}),this.editor.on("selectionUpdate",this.handleSelectionUpdate),this.updateElementAttributes()}get dom(){var e;if(this.renderer.element.firstElementChild&&!(!((e=this.renderer.element.firstElementChild)===null||e===void 0)&&e.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}handleSelectionUpdate(){const{from:e,to:n}=this.editor.state.selection,r=this.getPos();if(typeof r=="number")if(e<=r&&n>=r+this.node.nodeSize){if(this.renderer.props.selected)return;this.selectNode()}else{if(!this.renderer.props.selected)return;this.deselectNode()}}update(e,n,r){const i=s=>{this.renderer.updateProps(s),typeof this.options.attrs=="function"&&this.updateElementAttributes()};if(e.type!==this.node.type)return!1;if(typeof this.options.update=="function"){const s=this.node,o=this.decorations,a=this.innerDecorations;return this.node=e,this.decorations=n,this.innerDecorations=r,this.options.update({oldNode:s,oldDecorations:o,newNode:e,newDecorations:n,oldInnerDecorations:a,innerDecorations:r,updateProps:()=>i({node:e,decorations:n,innerDecorations:r})})}return e===this.node&&this.decorations===n&&this.innerDecorations===r||(this.node=e,this.decorations=n,this.innerDecorations=r,i({node:e,decorations:n,innerDecorations:r})),!0}selectNode(){this.renderer.updateProps({selected:!0}),this.renderer.element.classList.add("ProseMirror-selectednode")}deselectNode(){this.renderer.updateProps({selected:!1}),this.renderer.element.classList.remove("ProseMirror-selectednode")}destroy(){this.renderer.destroy(),this.editor.off("selectionUpdate",this.handleSelectionUpdate),this.contentDOMElement=null}updateElementAttributes(){if(this.options.attrs){let e={};if(typeof this.options.attrs=="function"){const n=this.editor.extensionManager.attributes,r=Ap(this.node,n);e=this.options.attrs({node:this.node,HTMLAttributes:r})}else e=this.options.attrs;this.renderer.updateAttributes(e)}}}function jH(t,e){return n=>n.editor.contentComponent?new BH(t,n,e):{}}function qm(){return typeof window<"u"}function Ao(t){return Q7(t)?(t.nodeName||"").toLowerCase():"#document"}function mr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Pi(t){var e;return(e=(Q7(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Q7(t){return qm()?t instanceof Node||t instanceof mr(t).Node:!1}function St(t){return qm()?t instanceof Element||t instanceof mr(t).Element:!1}function Zt(t){return qm()?t instanceof HTMLElement||t instanceof mr(t).HTMLElement:!1}function nb(t){return!qm()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof mr(t).ShadowRoot}function _f(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=qr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function HH(t){return["table","td","th"].includes(Ao(t))}function Gm(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function W2(t){const e=Xm(),n=St(t)?qr(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function $H(t){let e=hs(t);for(;Zt(e)&&!us(e);){if(W2(e))return e;if(Gm(e))return null;e=hs(e)}return null}function Xm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function us(t){return["html","body","#document"].includes(Ao(t))}function qr(t){return mr(t).getComputedStyle(t)}function Ym(t){return St(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function hs(t){if(Ao(t)==="html")return t;const e=t.assignedSlot||t.parentNode||nb(t)&&t.host||Pi(t);return nb(e)?e.host:e}function e_(t){const e=hs(t);return us(e)?t.ownerDocument?t.ownerDocument.body:t.body:Zt(e)&&_f(e)?e:e_(e)}function po(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=e_(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=mr(i);if(s){const a=rb(o);return e.concat(o,o.visualViewport||[],_f(i)?i:[],a&&n?po(a):[])}return e.concat(i,po(i,[],n))}function rb(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}const Ip=Math.min,ya=Math.max,Mp=Math.round,Ll=Math.floor,Oi=t=>({x:t,y:t}),zH={left:"right",right:"left",bottom:"top",top:"bottom"},UH={start:"end",end:"start"};function M4(t,e,n){return ya(t,Ip(e,n))}function ou(t,e){return typeof t=="function"?t(e):t}function wo(t){return t.split("-")[0]}function Zm(t){return t.split("-")[1]}function K2(t){return t==="x"?"y":"x"}function t_(t){return t==="y"?"height":"width"}function Ta(t){return["top","bottom"].includes(wo(t))?"y":"x"}function n_(t){return K2(Ta(t))}function VH(t,e,n){n===void 0&&(n=!1);const r=Zm(t),i=n_(t),s=t_(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Dp(o)),[o,Dp(o)]}function WH(t){const e=Dp(t);return[ib(t),e,ib(e)]}function ib(t){return t.replace(/start|end/g,e=>UH[e])}function KH(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function qH(t,e,n,r){const i=Zm(t);let s=KH(wo(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(ib)))),s}function Dp(t){return t.replace(/left|right|bottom|top/g,e=>zH[e])}function GH(t){return{top:0,right:0,bottom:0,left:0,...t}}function XH(t){return typeof t!="number"?GH(t):{top:t,right:t,bottom:t,left:t}}function Lp(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var YH=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Pp=YH.join(","),r_=typeof Element>"u",au=r_?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Fp=!r_&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},Bp=function t(e,n){var r;n===void 0&&(n=!0);var i=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),s=i===""||i==="true",o=s||n&&e&&t(e.parentNode);return o},ZH=function(e){var n,r=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return r===""||r==="true"},i_=function(e,n,r){if(Bp(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(Pp));return n&&au.call(e,Pp)&&i.unshift(e),i=i.filter(r),i},s_=function t(e,n,r){for(var i=[],s=Array.from(e);s.length;){var o=s.shift();if(!Bp(o,!1))if(o.tagName==="SLOT"){var a=o.assignedElements(),u=a.length?a:o.children,c=t(u,!0,r);r.flatten?i.push.apply(i,c):i.push({scopeParent:o,candidates:c})}else{var d=au.call(o,Pp);d&&r.filter(o)&&(n||!e.includes(o))&&i.push(o);var h=o.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(o),p=!Bp(h,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(o));if(h&&p){var m=t(h===!0?o.children:h.children,!0,r);r.flatten?i.push.apply(i,m):i.push({scopeParent:o,candidates:m})}else s.unshift.apply(s,o.children)}}return i},o_=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},a_=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||ZH(e))&&!o_(e)?0:e.tabIndex},JH=function(e,n){var r=a_(e);return r<0&&n&&!o_(e)?0:r},QH=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},l_=function(e){return e.tagName==="INPUT"},e$=function(e){return l_(e)&&e.type==="hidden"},t$=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return n},n$=function(e,n){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===n)return e[r]},r$=function(e){if(!e.name)return!0;var n=e.form||Fp(e),r=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(e.name));else try{i=r(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var s=n$(i,e.form);return!s||s===e},i$=function(e){return l_(e)&&e.type==="radio"},s$=function(e){return i$(e)&&!r$(e)},o$=function(e){var n,r=e&&Fp(e),i=(n=r)===null||n===void 0?void 0:n.host,s=!1;if(r&&r!==e){var o,a,u;for(s=!!((o=i)!==null&&o!==void 0&&(a=o.ownerDocument)!==null&&a!==void 0&&a.contains(i)||e!=null&&(u=e.ownerDocument)!==null&&u!==void 0&&u.contains(e));!s&&i;){var c,d,h;r=Fp(i),i=(c=r)===null||c===void 0?void 0:c.host,s=!!((d=i)!==null&&d!==void 0&&(h=d.ownerDocument)!==null&&h!==void 0&&h.contains(i))}}return s},D4=function(e){var n=e.getBoundingClientRect(),r=n.width,i=n.height;return r===0&&i===0},a$=function(e,n){var r=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var s=au.call(e,"details>summary:first-of-type"),o=s?e.parentElement:e;if(au.call(o,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof i=="function"){for(var a=e;e;){var u=e.parentElement,c=Fp(e);if(u&&!u.shadowRoot&&i(u)===!0)return D4(e);e.assignedSlot?e=e.assignedSlot:!u&&c!==e.ownerDocument?e=c.host:e=u}e=a}if(o$(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return D4(e);return!1},l$=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var i=n.children.item(r);if(i.tagName==="LEGEND")return au.call(n,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}n=n.parentElement}return!1},sb=function(e,n){return!(n.disabled||Bp(n)||e$(n)||a$(n,e)||t$(n)||l$(n))},ob=function(e,n){return!(s$(n)||a_(n)<0||!sb(e,n))},u$=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},c$=function t(e){var n=[],r=[];return e.forEach(function(i,s){var o=!!i.scopeParent,a=o?i.scopeParent:i,u=JH(a,o),c=o?t(i.candidates):a;u===0?o?n.push.apply(n,c):n.push(a):r.push({documentOrder:s,tabIndex:u,item:i,isScope:o,content:c})}),r.sort(QH).reduce(function(i,s){return s.isScope?i.push.apply(i,s.content):i.push(s.content),i},[]).concat(n)},Jm=function(e,n){n=n||{};var r;return n.getShadowRoot?r=s_([e],n.includeContainer,{filter:ob.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:u$}):r=i_(e,n.includeContainer,ob.bind(null,n)),c$(r)},f$=function(e,n){n=n||{};var r;return n.getShadowRoot?r=s_([e],n.includeContainer,{filter:sb.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):r=i_(e,n.includeContainer,sb.bind(null,n)),r},u_=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return au.call(e,Pp)===!1?!1:ob(n,e)};function c_(){const t=navigator.userAgentData;return t!=null&&t.platform?t.platform:navigator.platform}function f_(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:r}=e;return n+"/"+r}).join(" "):navigator.userAgent}function d_(){return/apple/i.test(navigator.vendor)}function ab(){const t=/android/i;return t.test(c_())||t.test(f_())}function d$(){return c_().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function h_(){return f_().includes("jsdom/")}const L4="data-floating-ui-focusable",h$="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])",Ky="ArrowLeft",qy="ArrowRight",p$="ArrowUp",m$="ArrowDown";function Ai(t){let e=t.activeElement;for(;((n=e)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;e=e.shadowRoot.activeElement}return e}function Sn(t,e){if(!t||!e)return!1;const n=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&nb(n)){let r=e;for(;r;){if(t===r)return!0;r=r.parentNode||r.host}}return!1}function to(t){return"composedPath"in t?t.composedPath()[0]:t.target}function Gy(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const n=t;return n.target!=null&&e.contains(n.target)}function g$(t){return t.matches("html,body")}function _n(t){return(t==null?void 0:t.ownerDocument)||document}function q2(t){return Zt(t)&&t.matches(h$)}function lb(t){return t?t.getAttribute("role")==="combobox"&&q2(t):!1}function y$(t){if(!t||h_())return!0;try{return t.matches(":focus-visible")}catch{return!0}}function jp(t){return t?t.hasAttribute(L4)?t:t.querySelector("["+L4+"]")||t:null}function jl(t,e,n){n===void 0&&(n=!0);let r=t.filter(s=>{var o;return s.parentId===e&&((o=s.context)==null?void 0:o.open)}),i=r;for(;i.length;)i=n?t.filter(s=>{var o;return(o=i)==null?void 0:o.some(a=>{var u;return s.parentId===a.id&&((u=s.context)==null?void 0:u.open)})}):t,r=r.concat(i);return r}function w$(t,e){let n,r=-1;function i(s,o){o>r&&(n=s,r=o),jl(t,s).forEach(u=>{i(u.id,o+1)})}return i(e,0),t.find(s=>s.id===n)}function P4(t,e){var n;let r=[],i=(n=t.find(s=>s.id===e))==null?void 0:n.parentId;for(;i;){const s=t.find(o=>o.id===i);i=s==null?void 0:s.parentId,s&&(r=r.concat(s))}return r}function kn(t){t.preventDefault(),t.stopPropagation()}function v$(t){return"nativeEvent"in t}function p_(t){return t.mozInputSource===0&&t.isTrusted?!0:ab()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function m_(t){return h_()?!1:!ab()&&t.width===0&&t.height===0||ab()&&t.width===1&&t.height===1&&t.pressure===0&&t.detail===0&&t.pointerType==="mouse"||t.width<1&&t.height<1&&t.pressure===0&&t.detail===0&&t.pointerType==="touch"}function of(t,e){const n=["mouse","pen"];return e||n.push("",void 0),n.includes(t)}var Ct=typeof document<"u"?A.useLayoutEffect:A.useEffect;const b$={...f2};function cr(t){const e=A.useRef(t);return Ct(()=>{e.current=t}),e}const x$=b$.useInsertionEffect,E$=x$||(t=>t());function tn(t){const e=A.useRef(()=>{});return E$(()=>{e.current=t}),A.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function yh(t,e,n){return Math.floor(t/e)!==n}function Lc(t,e){return e<0||e>=t.current.length}function Xy(t,e){return Fn(t,{disabledIndices:e})}function F4(t,e){return Fn(t,{decrement:!0,startingIndex:t.current.length,disabledIndices:e})}function Fn(t,e){let{startingIndex:n=-1,decrement:r=!1,disabledIndices:i,amount:s=1}=e===void 0?{}:e,o=n;do o+=r?-s:s;while(o>=0&&o<=t.current.length-1&&sp(t,o,i));return o}function C$(t,e){let{event:n,orientation:r,loop:i,rtl:s,cols:o,disabledIndices:a,minIndex:u,maxIndex:c,prevIndex:d,stopEvent:h=!1}=e,p=d;if(n.key===p$){if(h&&kn(n),d===-1)p=c;else if(p=Fn(t,{startingIndex:p,amount:o,decrement:!0,disabledIndices:a}),i&&(d-o<u||p<0)){const m=d%o,w=c%o,y=c-(w-m);w===m?p=c:p=w>m?y:y-o}Lc(t,p)&&(p=d)}if(n.key===m$&&(h&&kn(n),d===-1?p=u:(p=Fn(t,{startingIndex:d,amount:o,disabledIndices:a}),i&&d+o>c&&(p=Fn(t,{startingIndex:d%o-o,amount:o,disabledIndices:a}))),Lc(t,p)&&(p=d)),r==="both"){const m=Ll(d/o);n.key===(s?Ky:qy)&&(h&&kn(n),d%o!==o-1?(p=Fn(t,{startingIndex:d,disabledIndices:a}),i&&yh(p,o,m)&&(p=Fn(t,{startingIndex:d-d%o-1,disabledIndices:a}))):i&&(p=Fn(t,{startingIndex:d-d%o-1,disabledIndices:a})),yh(p,o,m)&&(p=d)),n.key===(s?qy:Ky)&&(h&&kn(n),d%o!==0?(p=Fn(t,{startingIndex:d,decrement:!0,disabledIndices:a}),i&&yh(p,o,m)&&(p=Fn(t,{startingIndex:d+(o-d%o),decrement:!0,disabledIndices:a}))):i&&(p=Fn(t,{startingIndex:d+(o-d%o),decrement:!0,disabledIndices:a})),yh(p,o,m)&&(p=d));const w=Ll(c/o)===m;Lc(t,p)&&(i&&w?p=n.key===(s?qy:Ky)?c:Fn(t,{startingIndex:d-d%o-1,disabledIndices:a}):p=d)}return p}function S$(t,e,n){const r=[];let i=0;return t.forEach((s,o)=>{let{width:a,height:u}=s,c=!1;for(n&&(i=0);!c;){const d=[];for(let h=0;h<a;h++)for(let p=0;p<u;p++)d.push(i+h+p*e);i%e+a<=e&&d.every(h=>r[h]==null)?(d.forEach(h=>{r[h]=o}),c=!0):i++}}),[...r]}function k$(t,e,n,r,i){if(t===-1)return-1;const s=n.indexOf(t),o=e[t];switch(i){case"tl":return s;case"tr":return o?s+o.width-1:s;case"bl":return o?s+(o.height-1)*r:s;case"br":return n.lastIndexOf(t)}}function T$(t,e){return e.flatMap((n,r)=>t.includes(n)?[r]:[])}function sp(t,e,n){if(n)return n.includes(e);const r=t.current[e];return r==null||r.hasAttribute("disabled")||r.getAttribute("aria-disabled")==="true"}const Rf=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function g_(t,e){const n=Jm(t,Rf()),r=n.length;if(r===0)return;const i=Ai(_n(t)),s=n.indexOf(i),o=s===-1?e===1?0:r-1:s+e;return n[o]}function y_(t){return g_(_n(t).body,1)||t}function w_(t){return g_(_n(t).body,-1)||t}function Pc(t,e){const n=e||t.currentTarget,r=t.relatedTarget;return!r||!Sn(n,r)}function A$(t){Jm(t,Rf()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function B4(t){t.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}function j4(t,e,n){let{reference:r,floating:i}=t;const s=Ta(e),o=n_(e),a=t_(o),u=wo(e),c=s==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,p=r[a]/2-i[a]/2;let m;switch(u){case"top":m={x:d,y:r.y-i.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-i.width,y:h};break;default:m={x:r.x,y:r.y}}switch(Zm(e)){case"start":m[o]-=p*(n&&c?-1:1);break;case"end":m[o]+=p*(n&&c?-1:1);break}return m}const _$=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:h}=j4(c,r,u),p=r,m={},w=0;for(let y=0;y<a.length;y++){const{name:x,fn:v}=a[y],{x:S,y:k,data:E,reset:R}=await v({x:d,y:h,initialPlacement:r,placement:p,strategy:i,middlewareData:m,rects:c,platform:o,elements:{reference:t,floating:e}});d=S??d,h=k??h,m={...m,[x]:{...m[x],...E}},R&&w<=50&&(w++,typeof R=="object"&&(R.placement&&(p=R.placement),R.rects&&(c=R.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):R.rects),{x:d,y:h}=j4(c,p,u)),y=-1)}return{x:d,y:h,placement:p,strategy:i,middlewareData:m}};async function v_(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:u}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:m=0}=ou(e,t),w=XH(m),x=a[p?h==="floating"?"reference":"floating":h],v=Lp(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(x)))==null||n?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:u})),S=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,k=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),E=await(s.isElement==null?void 0:s.isElement(k))?await(s.getScale==null?void 0:s.getScale(k))||{x:1,y:1}:{x:1,y:1},R=Lp(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:S,offsetParent:k,strategy:u}):S);return{top:(v.top-R.top+w.top)/E.y,bottom:(R.bottom-v.bottom+w.bottom)/E.y,left:(v.left-R.left+w.left)/E.x,right:(R.right-v.right+w.right)/E.x}}const R$=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:u,elements:c}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:y=!0,...x}=ou(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const v=wo(i),S=Ta(a),k=wo(a)===a,E=await(u.isRTL==null?void 0:u.isRTL(c.floating)),R=p||(k||!y?[Dp(a)]:WH(a)),B=w!=="none";!p&&B&&R.push(...qH(a,y,w,E));const $=[a,...R],K=await v_(e,x),F=[];let ie=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&F.push(K[v]),h){const N=VH(i,o,E);F.push(K[N[0]],K[N[1]])}if(ie=[...ie,{placement:i,overflows:F}],!F.every(N=>N<=0)){var me,H;const N=(((me=s.flip)==null?void 0:me.index)||0)+1,Z=$[N];if(Z)return{data:{index:N,overflows:ie},reset:{placement:Z}};let le=(H=ie.filter(G=>G.overflows[0]<=0).sort((G,Y)=>G.overflows[1]-Y.overflows[1])[0])==null?void 0:H.placement;if(!le)switch(m){case"bestFit":{var X;const G=(X=ie.filter(Y=>{if(B){const Q=Ta(Y.placement);return Q===S||Q==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(Q=>Q>0).reduce((Q,fe)=>Q+fe,0)]).sort((Y,Q)=>Y[1]-Q[1])[0])==null?void 0:X[0];G&&(le=G);break}case"initialPlacement":le=a;break}if(i!==le)return{reset:{placement:le}}}return{}}}};async function N$(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=wo(n),a=Zm(n),u=Ta(n)==="y",c=["left","top"].includes(o)?-1:1,d=s&&u?-1:1,h=ou(e,t);let{mainAxis:p,crossAxis:m,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof w=="number"&&(m=a==="end"?w*-1:w),u?{x:m*d,y:p*c}:{x:p*c,y:m*d}}const O$=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,u=await N$(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:s+u.y,data:{...u,placement:o}}}}},I$=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:v,y:S}=x;return{x:v,y:S}}},...u}=ou(t,e),c={x:n,y:r},d=await v_(e,u),h=Ta(wo(i)),p=K2(h);let m=c[p],w=c[h];if(s){const x=p==="y"?"top":"left",v=p==="y"?"bottom":"right",S=m+d[x],k=m-d[v];m=M4(S,m,k)}if(o){const x=h==="y"?"top":"left",v=h==="y"?"bottom":"right",S=w+d[x],k=w-d[v];w=M4(S,w,k)}const y=a.fn({...e,[p]:m,[h]:w});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[p]:s,[h]:o}}}}}},M$=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:u=!0,crossAxis:c=!0}=ou(t,e),d={x:n,y:r},h=Ta(i),p=K2(h);let m=d[p],w=d[h];const y=ou(a,e),x=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(u){const k=p==="y"?"height":"width",E=s.reference[p]-s.floating[k]+x.mainAxis,R=s.reference[p]+s.reference[k]-x.mainAxis;m<E?m=E:m>R&&(m=R)}if(c){var v,S;const k=p==="y"?"width":"height",E=["top","left"].includes(wo(i)),R=s.reference[h]-s.floating[k]+(E&&((v=o.offset)==null?void 0:v[h])||0)+(E?0:x.crossAxis),B=s.reference[h]+s.reference[k]+(E?0:((S=o.offset)==null?void 0:S[h])||0)-(E?x.crossAxis:0);w<R?w=R:w>B&&(w=B)}return{[p]:m,[h]:w}}}};function b_(t){const e=qr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Zt(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Mp(n)!==s||Mp(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function G2(t){return St(t)?t:t.contextElement}function Hl(t){const e=G2(t);if(!Zt(e))return Oi(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=b_(e);let o=(s?Mp(n.width):n.width)/r,a=(s?Mp(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const D$=Oi(0);function x_(t){const e=mr(t);return!Xm()||!e.visualViewport?D$:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function L$(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==mr(t)?!1:e}function Aa(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=G2(t);let o=Oi(1);e&&(r?St(r)&&(o=Hl(r)):o=Hl(t));const a=L$(s,n,r)?x_(s):Oi(0);let u=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,d=i.width/o.x,h=i.height/o.y;if(s){const p=mr(s),m=r&&St(r)?mr(r):r;let w=p,y=rb(w);for(;y&&r&&m!==w;){const x=Hl(y),v=y.getBoundingClientRect(),S=qr(y),k=v.left+(y.clientLeft+parseFloat(S.paddingLeft))*x.x,E=v.top+(y.clientTop+parseFloat(S.paddingTop))*x.y;u*=x.x,c*=x.y,d*=x.x,h*=x.y,u+=k,c+=E,w=mr(y),y=rb(w)}}return Lp({width:d,height:h,x:u,y:c})}function X2(t,e){const n=Ym(t).scrollLeft;return e?e.left+n:Aa(Pi(t)).left+n}function E_(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:X2(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function P$(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=Pi(r),a=e?Gm(e.floating):!1;if(r===o||a&&s)return n;let u={scrollLeft:0,scrollTop:0},c=Oi(1);const d=Oi(0),h=Zt(r);if((h||!h&&!s)&&((Ao(r)!=="body"||_f(o))&&(u=Ym(r)),Zt(r))){const m=Aa(r);c=Hl(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const p=o&&!h&&!s?E_(o,u,!0):Oi(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-u.scrollLeft*c.x+d.x+p.x,y:n.y*c.y-u.scrollTop*c.y+d.y+p.y}}function F$(t){return Array.from(t.getClientRects())}function B$(t){const e=Pi(t),n=Ym(t),r=t.ownerDocument.body,i=ya(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=ya(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+X2(t);const a=-n.scrollTop;return qr(r).direction==="rtl"&&(o+=ya(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function j$(t,e){const n=mr(t),r=Pi(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,u=0;if(i){s=i.width,o=i.height;const c=Xm();(!c||c&&e==="fixed")&&(a=i.offsetLeft,u=i.offsetTop)}return{width:s,height:o,x:a,y:u}}function H$(t,e){const n=Aa(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Zt(t)?Hl(t):Oi(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,u=i*s.x,c=r*s.y;return{width:o,height:a,x:u,y:c}}function H4(t,e,n){let r;if(e==="viewport")r=j$(t,n);else if(e==="document")r=B$(Pi(t));else if(St(e))r=H$(e,n);else{const i=x_(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Lp(r)}function C_(t,e){const n=hs(t);return n===e||!St(n)||us(n)?!1:qr(n).position==="fixed"||C_(n,e)}function $$(t,e){const n=e.get(t);if(n)return n;let r=po(t,[],!1).filter(a=>St(a)&&Ao(a)!=="body"),i=null;const s=qr(t).position==="fixed";let o=s?hs(t):t;for(;St(o)&&!us(o);){const a=qr(o),u=W2(o);!u&&a.position==="fixed"&&(i=null),(s?!u&&!i:!u&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||_f(o)&&!u&&C_(t,o))?r=r.filter(d=>d!==o):i=a,o=hs(o)}return e.set(t,r),r}function z$(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Gm(e)?[]:$$(e,this._c):[].concat(n),r],a=o[0],u=o.reduce((c,d)=>{const h=H4(e,d,i);return c.top=ya(h.top,c.top),c.right=Ip(h.right,c.right),c.bottom=Ip(h.bottom,c.bottom),c.left=ya(h.left,c.left),c},H4(e,a,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function U$(t){const{width:e,height:n}=b_(t);return{width:e,height:n}}function V$(t,e,n){const r=Zt(e),i=Pi(e),s=n==="fixed",o=Aa(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const u=Oi(0);if(r||!r&&!s)if((Ao(e)!=="body"||_f(i))&&(a=Ym(e)),r){const p=Aa(e,!0,s,e);u.x=p.x+e.clientLeft,u.y=p.y+e.clientTop}else i&&(u.x=X2(i));const c=i&&!r&&!s?E_(i,a):Oi(0),d=o.left+a.scrollLeft-u.x-c.x,h=o.top+a.scrollTop-u.y-c.y;return{x:d,y:h,width:o.width,height:o.height}}function Yy(t){return qr(t).position==="static"}function $4(t,e){if(!Zt(t)||qr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Pi(t)===n&&(n=n.ownerDocument.body),n}function S_(t,e){const n=mr(t);if(Gm(t))return n;if(!Zt(t)){let i=hs(t);for(;i&&!us(i);){if(St(i)&&!Yy(i))return i;i=hs(i)}return n}let r=$4(t,e);for(;r&&HH(r)&&Yy(r);)r=$4(r,e);return r&&us(r)&&Yy(r)&&!W2(r)?n:r||$H(t)||n}const W$=async function(t){const e=this.getOffsetParent||S_,n=this.getDimensions,r=await n(t.floating);return{reference:V$(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function K$(t){return qr(t).direction==="rtl"}const q$={convertOffsetParentRelativeRectToViewportRelativeRect:P$,getDocumentElement:Pi,getClippingRect:z$,getOffsetParent:S_,getElementRects:W$,getClientRects:F$,getDimensions:U$,getScale:Hl,isElement:St,isRTL:K$};function k_(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function G$(t,e){let n=null,r;const i=Pi(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,u){a===void 0&&(a=!1),u===void 0&&(u=1),s();const c=t.getBoundingClientRect(),{left:d,top:h,width:p,height:m}=c;if(a||e(),!p||!m)return;const w=Ll(h),y=Ll(i.clientWidth-(d+p)),x=Ll(i.clientHeight-(h+m)),v=Ll(d),k={rootMargin:-w+"px "+-y+"px "+-x+"px "+-v+"px",threshold:ya(0,Ip(1,u))||1};let E=!0;function R(B){const $=B[0].intersectionRatio;if($!==u){if(!E)return o();$?o(!1,$):r=setTimeout(()=>{o(!1,1e-7)},1e3)}$===1&&!k_(c,t.getBoundingClientRect())&&o(),E=!1}try{n=new IntersectionObserver(R,{...k,root:i.ownerDocument})}catch{n=new IntersectionObserver(R,k)}n.observe(t)}return o(!0),s}function Y2(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,c=G2(t),d=i||s?[...c?po(c):[],...po(e)]:[];d.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),s&&v.addEventListener("resize",n)});const h=c&&a?G$(c,n):null;let p=-1,m=null;o&&(m=new ResizeObserver(v=>{let[S]=v;S&&S.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var k;(k=m)==null||k.observe(e)})),n()}),c&&!u&&m.observe(c),m.observe(e));let w,y=u?Aa(t):null;u&&x();function x(){const v=Aa(t);y&&!k_(y,v)&&n(),y=v,w=requestAnimationFrame(x)}return n(),()=>{var v;d.forEach(S=>{i&&S.removeEventListener("scroll",n),s&&S.removeEventListener("resize",n)}),h==null||h(),(v=m)==null||v.disconnect(),m=null,u&&cancelAnimationFrame(w)}}const X$=O$,Y$=I$,Z$=R$,J$=M$,Q$=(t,e,n)=>{const r=new Map,i={platform:q$,...n},s={...i.platform,_c:r};return _$(t,e,{...i,platform:s})};var op=typeof document<"u"?A.useLayoutEffect:A.useEffect;function Hp(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Hp(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Hp(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function T_(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function z4(t,e){const n=T_(t);return Math.round(e*n)/n}function Zy(t){const e=A.useRef(t);return op(()=>{e.current=t}),e}function ez(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:u,open:c}=t,[d,h]=A.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=A.useState(r);Hp(p,r)||m(r);const[w,y]=A.useState(null),[x,v]=A.useState(null),S=A.useCallback(Y=>{Y!==B.current&&(B.current=Y,y(Y))},[]),k=A.useCallback(Y=>{Y!==$.current&&($.current=Y,v(Y))},[]),E=s||w,R=o||x,B=A.useRef(null),$=A.useRef(null),K=A.useRef(d),F=u!=null,ie=Zy(u),me=Zy(i),H=Zy(c),X=A.useCallback(()=>{if(!B.current||!$.current)return;const Y={placement:e,strategy:n,middleware:p};me.current&&(Y.platform=me.current),Q$(B.current,$.current,Y).then(Q=>{const fe={...Q,isPositioned:H.current!==!1};N.current&&!Hp(K.current,fe)&&(K.current=fe,Fa.flushSync(()=>{h(fe)}))})},[p,e,n,me,H]);op(()=>{c===!1&&K.current.isPositioned&&(K.current.isPositioned=!1,h(Y=>({...Y,isPositioned:!1})))},[c]);const N=A.useRef(!1);op(()=>(N.current=!0,()=>{N.current=!1}),[]),op(()=>{if(E&&(B.current=E),R&&($.current=R),E&&R){if(ie.current)return ie.current(E,R,X);X()}},[E,R,X,ie,F]);const Z=A.useMemo(()=>({reference:B,floating:$,setReference:S,setFloating:k}),[S,k]),le=A.useMemo(()=>({reference:E,floating:R}),[E,R]),G=A.useMemo(()=>{const Y={position:n,left:0,top:0};if(!le.floating)return Y;const Q=z4(le.floating,d.x),fe=z4(le.floating,d.y);return a?{...Y,transform:"translate("+Q+"px, "+fe+"px)",...T_(le.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Q,top:fe}},[n,a,le.floating,d.x,d.y]);return A.useMemo(()=>({...d,update:X,refs:Z,elements:le,floatingStyles:G}),[d,X,Z,le,G])}const Z2=(t,e)=>({...X$(t),options:[t,e]}),J2=(t,e)=>({...Y$(t),options:[t,e]}),tz=(t,e)=>({...J$(t),options:[t,e]}),Q2=(t,e)=>({...Z$(t),options:[t,e]});function ja(t){const e=A.useRef(void 0),n=A.useCallback(r=>{const i=t.map(s=>{if(s!=null){if(typeof s=="function"){const o=s,a=o(r);return typeof a=="function"?a:()=>{o(null)}}return s.current=r,()=>{s.current=null}}});return()=>{i.forEach(s=>s==null?void 0:s())}},t);return A.useMemo(()=>t.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=n(r))},t)}function nz(t,e){const n=t.compareDocumentPosition(e);return n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS?1:0}const A_=A.createContext({register:()=>{},unregister:()=>{},map:new Map,elementsRef:{current:[]}});function rz(t){const{children:e,elementsRef:n,labelsRef:r}=t,[i,s]=A.useState(()=>new Set),o=A.useCallback(c=>{s(d=>new Set(d).add(c))},[]),a=A.useCallback(c=>{s(d=>{const h=new Set(d);return h.delete(c),h})},[]),u=A.useMemo(()=>{const c=new Map;return Array.from(i.keys()).sort(nz).forEach((h,p)=>{c.set(h,p)}),c},[i]);return z.jsx(A_.Provider,{value:A.useMemo(()=>({register:o,unregister:a,map:u,elementsRef:n,labelsRef:r}),[o,a,u,n,r]),children:e})}function iz(t){t===void 0&&(t={});const{label:e}=t,{register:n,unregister:r,map:i,elementsRef:s,labelsRef:o}=A.useContext(A_),[a,u]=A.useState(null),c=A.useRef(null),d=A.useCallback(h=>{if(c.current=h,a!==null&&(s.current[a]=h,o)){var p;const m=e!==void 0;o.current[a]=m?e:(p=h==null?void 0:h.textContent)!=null?p:null}},[a,s,o,e]);return Ct(()=>{const h=c.current;if(h)return n(h),()=>{r(h)}},[n,r]),Ct(()=>{const h=c.current?i.get(c.current):null;h!=null&&u(h)},[i]),A.useMemo(()=>({ref:d,index:a??-1}),[a,d])}const sz="data-floating-ui-focusable",U4="active",V4="selected",Nf="ArrowLeft",Of="ArrowRight",__="ArrowUp",Qm="ArrowDown",oz={...f2};let W4=!1,az=0;const K4=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+az++;function lz(){const[t,e]=A.useState(()=>W4?K4():void 0);return Ct(()=>{t==null&&e(K4())},[]),A.useEffect(()=>{W4=!0},[]),t}const uz=oz.useId,ex=uz||lz;function cz(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.has(e)||t.set(e,new Set),t.get(e).add(n)},off(e,n){var r;(r=t.get(e))==null||r.delete(n)}}}const fz=A.createContext(null),dz=A.createContext(null),eg=()=>{var t;return((t=A.useContext(fz))==null?void 0:t.id)||null},If=()=>A.useContext(dz);function _a(t){return"data-floating-ui-"+t}function ar(t){t.current!==-1&&(clearTimeout(t.current),t.current=-1)}const q4=_a("safe-polygon");function Jy(t,e,n){if(n&&!of(n))return 0;if(typeof t=="number")return t;if(typeof t=="function"){const r=t();return typeof r=="number"?r:r==null?void 0:r[e]}return t==null?void 0:t[e]}function Qy(t){return typeof t=="function"?t():t}function hz(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,dataRef:i,events:s,elements:o}=t,{enabled:a=!0,delay:u=0,handleClose:c=null,mouseOnly:d=!1,restMs:h=0,move:p=!0}=e,m=If(),w=eg(),y=cr(c),x=cr(u),v=cr(n),S=cr(h),k=A.useRef(),E=A.useRef(-1),R=A.useRef(),B=A.useRef(-1),$=A.useRef(!0),K=A.useRef(!1),F=A.useRef(()=>{}),ie=A.useRef(!1),me=A.useCallback(()=>{var G;const Y=(G=i.current.openEvent)==null?void 0:G.type;return(Y==null?void 0:Y.includes("mouse"))&&Y!=="mousedown"},[i]);A.useEffect(()=>{if(!a)return;function G(Y){let{open:Q}=Y;Q||(ar(E),ar(B),$.current=!0,ie.current=!1)}return s.on("openchange",G),()=>{s.off("openchange",G)}},[a,s]),A.useEffect(()=>{if(!a||!y.current||!n)return;function G(Q){me()&&r(!1,Q,"hover")}const Y=_n(o.floating).documentElement;return Y.addEventListener("mouseleave",G),()=>{Y.removeEventListener("mouseleave",G)}},[o.floating,n,r,a,y,me]);const H=A.useCallback(function(G,Y,Q){Y===void 0&&(Y=!0),Q===void 0&&(Q="hover");const fe=Jy(x.current,"close",k.current);fe&&!R.current?(ar(E),E.current=window.setTimeout(()=>r(!1,G,Q),fe)):Y&&(ar(E),r(!1,G,Q))},[x,r]),X=tn(()=>{F.current(),R.current=void 0}),N=tn(()=>{if(K.current){const G=_n(o.floating).body;G.style.pointerEvents="",G.removeAttribute(q4),K.current=!1}}),Z=tn(()=>i.current.openEvent?["click","mousedown"].includes(i.current.openEvent.type):!1);A.useEffect(()=>{if(!a)return;function G(O){if(ar(E),$.current=!1,d&&!of(k.current)||Qy(S.current)>0&&!Jy(x.current,"open"))return;const ee=Jy(x.current,"open",k.current);ee?E.current=window.setTimeout(()=>{v.current||r(!0,O,"hover")},ee):n||r(!0,O,"hover")}function Y(O){if(Z()){N();return}F.current();const ee=_n(o.floating);if(ar(B),ie.current=!1,y.current&&i.current.floatingContext){n||ar(E),R.current=y.current({...i.current.floatingContext,tree:m,x:O.clientX,y:O.clientY,onClose(){N(),X(),Z()||H(O,!0,"safe-polygon")}});const ae=R.current;ee.addEventListener("mousemove",ae),F.current=()=>{ee.removeEventListener("mousemove",ae)};return}(k.current==="touch"?!Sn(o.floating,O.relatedTarget):!0)&&H(O)}function Q(O){Z()||i.current.floatingContext&&(y.current==null||y.current({...i.current.floatingContext,tree:m,x:O.clientX,y:O.clientY,onClose(){N(),X(),Z()||H(O)}})(O))}function fe(){ar(E)}function U(O){Z()||H(O,!1)}if(St(o.domReference)){const O=o.domReference,ee=o.floating;return n&&O.addEventListener("mouseleave",Q),p&&O.addEventListener("mousemove",G,{once:!0}),O.addEventListener("mouseenter",G),O.addEventListener("mouseleave",Y),ee&&(ee.addEventListener("mouseleave",Q),ee.addEventListener("mouseenter",fe),ee.addEventListener("mouseleave",U)),()=>{n&&O.removeEventListener("mouseleave",Q),p&&O.removeEventListener("mousemove",G),O.removeEventListener("mouseenter",G),O.removeEventListener("mouseleave",Y),ee&&(ee.removeEventListener("mouseleave",Q),ee.removeEventListener("mouseenter",fe),ee.removeEventListener("mouseleave",U))}}},[o,a,t,d,p,H,X,N,r,n,v,m,x,y,i,Z,S]),Ct(()=>{var G;if(a&&n&&(G=y.current)!=null&&G.__options.blockPointerEvents&&me()){K.current=!0;const Q=o.floating;if(St(o.domReference)&&Q){var Y;const fe=_n(o.floating).body;fe.setAttribute(q4,"");const U=o.domReference,O=m==null||(Y=m.nodesRef.current.find(ee=>ee.id===w))==null||(Y=Y.context)==null?void 0:Y.elements.floating;return O&&(O.style.pointerEvents=""),fe.style.pointerEvents="none",U.style.pointerEvents="auto",Q.style.pointerEvents="auto",()=>{fe.style.pointerEvents="",U.style.pointerEvents="",Q.style.pointerEvents=""}}}},[a,n,w,o,m,y,me]),Ct(()=>{n||(k.current=void 0,ie.current=!1,X(),N())},[n,X,N]),A.useEffect(()=>()=>{X(),ar(E),ar(B),N()},[a,o.domReference,X,N]);const le=A.useMemo(()=>{function G(Y){k.current=Y.pointerType}return{onPointerDown:G,onPointerEnter:G,onMouseMove(Y){const{nativeEvent:Q}=Y;function fe(){!$.current&&!v.current&&r(!0,Q,"hover")}d&&!of(k.current)||n||Qy(S.current)===0||ie.current&&Y.movementX**2+Y.movementY**2<2||(ar(B),k.current==="touch"?fe():(ie.current=!0,B.current=window.setTimeout(fe,Qy(S.current))))}}},[d,r,n,v,S]);return A.useMemo(()=>a?{reference:le}:{},[a,le])}const G4=()=>{},pz=A.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:G4,setState:G4,isInstantPhase:!1});function mz(t){const{children:e,delay:n,timeoutMs:r=0}=t,[i,s]=A.useReducer((u,c)=>({...u,...c}),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),o=A.useRef(null),a=A.useCallback(u=>{s({currentId:u})},[]);return Ct(()=>{i.currentId?o.current===null?o.current=i.currentId:i.isInstantPhase||s({isInstantPhase:!0}):(i.isInstantPhase&&s({isInstantPhase:!1}),o.current=null)},[i.currentId,i.isInstantPhase]),z.jsx(pz.Provider,{value:A.useMemo(()=>({...i,setState:s,setCurrentId:a}),[i,a]),children:e})}let X4=0;function Qo(t,e){e===void 0&&(e={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:i=!1}=e;r&&cancelAnimationFrame(X4);const s=()=>t==null?void 0:t.focus({preventScroll:n});i?s():X4=requestAnimationFrame(s)}function gz(t){return(t==null?void 0:t.ownerDocument)||document}let vl=new WeakMap,wh=new WeakSet,vh={},e0=0;const yz=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,R_=t=>t&&(t.host||R_(t.parentNode)),wz=(t,e)=>e.map(n=>{if(t.contains(n))return n;const r=R_(n);return t.contains(r)?r:null}).filter(n=>n!=null);function vz(t,e,n,r){const i="data-floating-ui-inert",s=r?"inert":n?"aria-hidden":null,o=wz(e,t),a=new Set,u=new Set(o),c=[];vh[i]||(vh[i]=new WeakMap);const d=vh[i];o.forEach(h),p(e),a.clear();function h(m){!m||a.has(m)||(a.add(m),m.parentNode&&h(m.parentNode))}function p(m){!m||u.has(m)||[].forEach.call(m.children,w=>{if(Ao(w)!=="script")if(a.has(w))p(w);else{const y=s?w.getAttribute(s):null,x=y!==null&&y!=="false",v=vl.get(w)||0,S=s?v+1:v,k=(d.get(w)||0)+1;vl.set(w,S),d.set(w,k),c.push(w),S===1&&x&&wh.add(w),k===1&&w.setAttribute(i,""),!x&&s&&w.setAttribute(s,s==="inert"?"":"true")}})}return e0++,()=>{c.forEach(m=>{const w=vl.get(m)||0,y=s?w-1:w,x=(d.get(m)||0)-1;vl.set(m,y),d.set(m,x),y||(!wh.has(m)&&s&&m.removeAttribute(s),wh.delete(m)),x||m.removeAttribute(i)}),e0--,e0||(vl=new WeakMap,vl=new WeakMap,wh=new WeakSet,vh={})}}function Y4(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=gz(t[0]).body;return vz(t.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,e,n)}const tg={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0},$p=A.forwardRef(function(e,n){const[r,i]=A.useState();Ct(()=>{d_()&&i("button")},[]);const s={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[_a("focus-guard")]:"",style:tg};return z.jsx("span",{...e,...s})}),N_=A.createContext(null),Z4=_a("portal");function bz(t){t===void 0&&(t={});const{id:e,root:n}=t,r=ex(),i=O_(),[s,o]=A.useState(null),a=A.useRef(null);return Ct(()=>()=>{s==null||s.remove(),queueMicrotask(()=>{a.current=null})},[s]),Ct(()=>{if(!r||a.current)return;const u=e?document.getElementById(e):null;if(!u)return;const c=document.createElement("div");c.id=r,c.setAttribute(Z4,""),u.appendChild(c),a.current=c,o(c)},[e,r]),Ct(()=>{if(n===null||!r||a.current)return;let u=n||(i==null?void 0:i.portalNode);u&&!St(u)&&(u=u.current),u=u||document.body;let c=null;e&&(c=document.createElement("div"),c.id=e,u.appendChild(c));const d=document.createElement("div");d.id=r,d.setAttribute(Z4,""),u=c||u,u.appendChild(d),a.current=d,o(d)},[e,n,r,i]),s}function tx(t){const{children:e,id:n,root:r,preserveTabOrder:i=!0}=t,s=bz({id:n,root:r}),[o,a]=A.useState(null),u=A.useRef(null),c=A.useRef(null),d=A.useRef(null),h=A.useRef(null),p=o==null?void 0:o.modal,m=o==null?void 0:o.open,w=!!o&&!o.modal&&o.open&&i&&!!(r||s);return A.useEffect(()=>{if(!s||!i||p)return;function y(x){s&&Pc(x)&&(x.type==="focusin"?B4:A$)(s)}return s.addEventListener("focusin",y,!0),s.addEventListener("focusout",y,!0),()=>{s.removeEventListener("focusin",y,!0),s.removeEventListener("focusout",y,!0)}},[s,i,p]),A.useEffect(()=>{s&&(m||B4(s))},[m,s]),z.jsxs(N_.Provider,{value:A.useMemo(()=>({preserveTabOrder:i,beforeOutsideRef:u,afterOutsideRef:c,beforeInsideRef:d,afterInsideRef:h,portalNode:s,setFocusManagerState:a}),[i,s]),children:[w&&s&&z.jsx($p,{"data-type":"outside",ref:u,onFocus:y=>{if(Pc(y,s)){var x;(x=d.current)==null||x.focus()}else{const v=o?o.domReference:null,S=w_(v);S==null||S.focus()}}}),w&&s&&z.jsx("span",{"aria-owns":s.id,style:tg}),s&&Fa.createPortal(e,s),w&&s&&z.jsx($p,{"data-type":"outside",ref:c,onFocus:y=>{if(Pc(y,s)){var x;(x=h.current)==null||x.focus()}else{const v=o?o.domReference:null,S=y_(v);S==null||S.focus(),o!=null&&o.closeOnFocusOut&&(o==null||o.onOpenChange(!1,y.nativeEvent,"focus-out"))}}})]})}const O_=()=>A.useContext(N_);function J4(t){return A.useMemo(()=>e=>{t.forEach(n=>{n&&(n.current=e)})},t)}const xz=20;let ea=[];function Ez(t){ea=ea.filter(e=>e.isConnected),t&&Ao(t)!=="body"&&(ea.push(t),ea.length>xz&&(ea=ea.slice(-20)))}function Q4(){return ea.slice().reverse().find(t=>t.isConnected)}function Cz(t){const e=Rf();return u_(t,e)?t:Jm(t,e)[0]||t}function e5(t,e){var n;if(!e.current.includes("floating")&&!((n=t.getAttribute("role"))!=null&&n.includes("dialog")))return;const r=Rf(),s=f$(t,r).filter(a=>{const u=a.getAttribute("data-tabindex")||"";return u_(a,r)||a.hasAttribute("data-tabindex")&&!u.startsWith("-")}),o=t.getAttribute("tabindex");e.current.includes("floating")||s.length===0?o!=="0"&&t.setAttribute("tabindex","0"):(o!=="-1"||t.hasAttribute("data-tabindex")&&t.getAttribute("data-tabindex")!=="-1")&&(t.setAttribute("tabindex","-1"),t.setAttribute("data-tabindex","-1"))}const Sz=A.forwardRef(function(e,n){return z.jsx("button",{...e,type:"button",ref:n,tabIndex:-1,style:tg})});function I_(t){const{context:e,children:n,disabled:r=!1,order:i=["content"],guards:s=!0,initialFocus:o=0,returnFocus:a=!0,restoreFocus:u=!1,modal:c=!0,visuallyHiddenDismiss:d=!1,closeOnFocusOut:h=!0,outsideElementsInert:p=!1,getInsideElements:m=()=>[]}=t,{open:w,onOpenChange:y,events:x,dataRef:v,elements:{domReference:S,floating:k}}=e,E=tn(()=>{var V;return(V=v.current.floatingContext)==null?void 0:V.nodeId}),R=tn(m),B=typeof o=="number"&&o<0,$=lb(S)&&B,K=yz(),F=K?s:!0,ie=!F||K&&p,me=cr(i),H=cr(o),X=cr(a),N=If(),Z=O_(),le=A.useRef(null),G=A.useRef(null),Y=A.useRef(!1),Q=A.useRef(!1),fe=A.useRef(-1),U=Z!=null,O=jp(k),ee=tn(function(V){return V===void 0&&(V=O),V?Jm(V,Rf()):[]}),oe=tn(V=>{const q=ee(V);return me.current.map(de=>S&&de==="reference"?S:O&&de==="floating"?O:q).filter(Boolean).flat()});A.useEffect(()=>{if(r||!c)return;function V(de){if(de.key==="Tab"){Sn(O,Ai(_n(O)))&&ee().length===0&&!$&&kn(de);const M=oe(),pe=to(de);me.current[0]==="reference"&&pe===S&&(kn(de),de.shiftKey?Qo(M[M.length-1]):Qo(M[1])),me.current[1]==="floating"&&pe===O&&de.shiftKey&&(kn(de),Qo(M[0]))}}const q=_n(O);return q.addEventListener("keydown",V),()=>{q.removeEventListener("keydown",V)}},[r,S,O,c,me,$,ee,oe]),A.useEffect(()=>{if(r||!k)return;function V(q){const de=to(q),pe=ee().indexOf(de);pe!==-1&&(fe.current=pe)}return k.addEventListener("focusin",V),()=>{k.removeEventListener("focusin",V)}},[r,k,ee]),A.useEffect(()=>{if(r||!h)return;function V(){Q.current=!0,setTimeout(()=>{Q.current=!1})}function q(de){const M=de.relatedTarget,pe=de.currentTarget;queueMicrotask(()=>{const j=E(),C=!(Sn(S,M)||Sn(k,M)||Sn(M,k)||Sn(Z==null?void 0:Z.portalNode,M)||M!=null&&M.hasAttribute(_a("focus-guard"))||N&&(jl(N.nodesRef.current,j).find(T=>{var D,J;return Sn((D=T.context)==null?void 0:D.elements.floating,M)||Sn((J=T.context)==null?void 0:J.elements.domReference,M)})||P4(N.nodesRef.current,j).find(T=>{var D,J,ce;return[(D=T.context)==null?void 0:D.elements.floating,jp((J=T.context)==null?void 0:J.elements.floating)].includes(M)||((ce=T.context)==null?void 0:ce.elements.domReference)===M})));if(pe===S&&O&&e5(O,me),u&&C&&Ai(_n(O))===_n(O).body){Zt(O)&&O.focus();const T=fe.current,D=ee(),J=D[T]||D[D.length-1]||O;Zt(J)&&J.focus()}($||!c)&&M&&C&&!Q.current&&M!==Q4()&&(Y.current=!0,y(!1,de,"focus-out"))})}if(k&&Zt(S))return S.addEventListener("focusout",q),S.addEventListener("pointerdown",V),k.addEventListener("focusout",q),()=>{S.removeEventListener("focusout",q),S.removeEventListener("pointerdown",V),k.removeEventListener("focusout",q)}},[r,S,k,O,c,N,Z,y,h,u,ee,$,E,me]);const ae=A.useRef(null),re=A.useRef(null),P=J4([ae,Z==null?void 0:Z.beforeInsideRef]),L=J4([re,Z==null?void 0:Z.afterInsideRef]);A.useEffect(()=>{var V,q;if(r||!k)return;const de=Array.from((Z==null||(V=Z.portalNode)==null?void 0:V.querySelectorAll("["+_a("portal")+"]"))||[]),M=N?P4(N.nodesRef.current,E()):[],pe=N&&!c?M.map(D=>{var J;return(J=D.context)==null?void 0:J.elements.floating}):[],j=(q=M.find(D=>{var J;return lb(((J=D.context)==null?void 0:J.elements.domReference)||null)}))==null||(q=q.context)==null?void 0:q.elements.domReference,C=[k,j,...de,...pe,...R(),le.current,G.current,ae.current,re.current,Z==null?void 0:Z.beforeOutsideRef.current,Z==null?void 0:Z.afterOutsideRef.current,me.current.includes("reference")||$?S:null].filter(D=>D!=null),T=c||$?Y4(C,!ie,ie):Y4(C);return()=>{T()}},[r,S,k,c,me,Z,$,F,ie,N,E,R]),Ct(()=>{if(r||!Zt(O))return;const V=_n(O),q=Ai(V);queueMicrotask(()=>{const de=oe(O),M=H.current,pe=(typeof M=="number"?de[M]:M.current)||O,j=Sn(O,q);!B&&!j&&w&&Qo(pe,{preventScroll:pe===O})})},[r,w,O,B,oe,H]),Ct(()=>{if(r||!O)return;let V=!1;const q=_n(O),de=Ai(q);Ez(de);function M(C){let{reason:T,event:D,nested:J}=C;if(["hover","safe-polygon"].includes(T)&&D.type==="mouseleave"&&(Y.current=!0),T==="outside-press")if(J)Y.current=!1,V=!0;else if(p_(D)||m_(D))Y.current=!1;else{let ce=!1;document.createElement("div").focus({get preventScroll(){return ce=!0,!1}}),ce?(Y.current=!1,V=!0):Y.current=!0}}x.on("openchange",M);const pe=q.createElement("span");pe.setAttribute("tabindex","-1"),pe.setAttribute("aria-hidden","true"),Object.assign(pe.style,tg),U&&S&&S.insertAdjacentElement("afterend",pe);function j(){if(typeof X.current=="boolean"){const C=S||Q4();return C&&C.isConnected?C:pe}return X.current.current||pe}return()=>{x.off("openchange",M);const C=Ai(q),T=Sn(k,C)||N&&jl(N.nodesRef.current,E()).some(J=>{var ce;return Sn((ce=J.context)==null?void 0:ce.elements.floating,C)}),D=j();queueMicrotask(()=>{const J=Cz(D);X.current&&!Y.current&&Zt(J)&&(!(J!==C&&C!==q.body)||T)&&J.focus({preventScroll:V}),pe.remove()})}},[r,k,O,X,v,x,N,U,S,E]),A.useEffect(()=>{queueMicrotask(()=>{Y.current=!1})},[r]),Ct(()=>{if(!r&&Z)return Z.setFocusManagerState({modal:c,closeOnFocusOut:h,open:w,onOpenChange:y,domReference:S}),()=>{Z.setFocusManagerState(null)}},[r,Z,c,w,y,h,S]),Ct(()=>{r||O&&e5(O,me)},[r,O,me]);function se(V){return r||!d||!c?null:z.jsx(Sz,{ref:V==="start"?le:G,onClick:q=>y(!1,q.nativeEvent),children:typeof d=="string"?d:"Dismiss"})}const te=!r&&F&&(c?!$:!0)&&(U||c);return z.jsxs(z.Fragment,{children:[te&&z.jsx($p,{"data-type":"inside",ref:P,onFocus:V=>{if(c){const de=oe();Qo(i[0]==="reference"?de[0]:de[de.length-1])}else if(Z!=null&&Z.preserveTabOrder&&Z.portalNode)if(Y.current=!1,Pc(V,Z.portalNode)){const de=y_(S);de==null||de.focus()}else{var q;(q=Z.beforeOutsideRef.current)==null||q.focus()}}}),!$&&se("start"),n,se("end"),te&&z.jsx($p,{"data-type":"inside",ref:L,onFocus:V=>{if(c)Qo(oe()[0]);else if(Z!=null&&Z.preserveTabOrder&&Z.portalNode)if(h&&(Y.current=!0),Pc(V,Z.portalNode)){const de=w_(S);de==null||de.focus()}else{var q;(q=Z.afterOutsideRef.current)==null||q.focus()}}})]})}function t5(t){return Zt(t.target)&&t.target.tagName==="BUTTON"}function kz(t){return Zt(t.target)&&t.target.tagName==="A"}function n5(t){return q2(t)}function M_(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,dataRef:i,elements:{domReference:s}}=t,{enabled:o=!0,event:a="click",toggle:u=!0,ignoreMouse:c=!1,keyboardHandlers:d=!0,stickIfOpen:h=!0}=e,p=A.useRef(),m=A.useRef(!1),w=A.useMemo(()=>({onPointerDown(y){p.current=y.pointerType},onMouseDown(y){const x=p.current;y.button===0&&a!=="click"&&(of(x,!0)&&c||(n&&u&&(!(i.current.openEvent&&h)||i.current.openEvent.type==="mousedown")?r(!1,y.nativeEvent,"click"):(y.preventDefault(),r(!0,y.nativeEvent,"click"))))},onClick(y){const x=p.current;if(a==="mousedown"&&p.current){p.current=void 0;return}of(x,!0)&&c||(n&&u&&(!(i.current.openEvent&&h)||i.current.openEvent.type==="click")?r(!1,y.nativeEvent,"click"):r(!0,y.nativeEvent,"click"))},onKeyDown(y){p.current=void 0,!(y.defaultPrevented||!d||t5(y))&&(y.key===" "&&!n5(s)&&(y.preventDefault(),m.current=!0),!kz(y)&&y.key==="Enter"&&r(!(n&&u),y.nativeEvent,"click"))},onKeyUp(y){y.defaultPrevented||!d||t5(y)||n5(s)||y.key===" "&&m.current&&(m.current=!1,r(!(n&&u),y.nativeEvent,"click"))}}),[i,s,a,c,d,r,n,h,u]);return A.useMemo(()=>o?{reference:w}:{},[o,w])}const Tz={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Az={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},r5=t=>{var e,n;return{escapeKey:typeof t=="boolean"?t:(e=t==null?void 0:t.escapeKey)!=null?e:!1,outsidePress:typeof t=="boolean"?t:(n=t==null?void 0:t.outsidePress)!=null?n:!0}};function nx(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,elements:i,dataRef:s}=t,{enabled:o=!0,escapeKey:a=!0,outsidePress:u=!0,outsidePressEvent:c="pointerdown",referencePress:d=!1,referencePressEvent:h="pointerdown",ancestorScroll:p=!1,bubbles:m,capture:w}=e,y=If(),x=tn(typeof u=="function"?u:()=>!1),v=typeof u=="function"?x:u,S=A.useRef(!1),k=A.useRef(!1),{escapeKey:E,outsidePress:R}=r5(m),{escapeKey:B,outsidePress:$}=r5(w),K=A.useRef(!1),F=tn(Z=>{var le;if(!n||!o||!a||Z.key!=="Escape"||K.current)return;const G=(le=s.current.floatingContext)==null?void 0:le.nodeId,Y=y?jl(y.nodesRef.current,G):[];if(!E&&(Z.stopPropagation(),Y.length>0)){let Q=!0;if(Y.forEach(fe=>{var U;if((U=fe.context)!=null&&U.open&&!fe.context.dataRef.current.__escapeKeyBubbles){Q=!1;return}}),!Q)return}r(!1,v$(Z)?Z.nativeEvent:Z,"escape-key")}),ie=tn(Z=>{var le;const G=()=>{var Y;F(Z),(Y=to(Z))==null||Y.removeEventListener("keydown",G)};(le=to(Z))==null||le.addEventListener("keydown",G)}),me=tn(Z=>{var le;const G=S.current;S.current=!1;const Y=k.current;if(k.current=!1,c==="click"&&Y||G||typeof v=="function"&&!v(Z))return;const Q=to(Z),fe="["+_a("inert")+"]",U=_n(i.floating).querySelectorAll(fe);let O=St(Q)?Q:null;for(;O&&!us(O);){const re=hs(O);if(us(re)||!St(re))break;O=re}if(U.length&&St(Q)&&!g$(Q)&&!Sn(Q,i.floating)&&Array.from(U).every(re=>!Sn(O,re)))return;if(Zt(Q)&&N){const re=us(Q),P=qr(Q),L=/auto|scroll/,se=re||L.test(P.overflowX),te=re||L.test(P.overflowY),V=se&&Q.clientWidth>0&&Q.scrollWidth>Q.clientWidth,q=te&&Q.clientHeight>0&&Q.scrollHeight>Q.clientHeight,de=P.direction==="rtl",M=q&&(de?Z.offsetX<=Q.offsetWidth-Q.clientWidth:Z.offsetX>Q.clientWidth),pe=V&&Z.offsetY>Q.clientHeight;if(M||pe)return}const ee=(le=s.current.floatingContext)==null?void 0:le.nodeId,oe=y&&jl(y.nodesRef.current,ee).some(re=>{var P;return Gy(Z,(P=re.context)==null?void 0:P.elements.floating)});if(Gy(Z,i.floating)||Gy(Z,i.domReference)||oe)return;const ae=y?jl(y.nodesRef.current,ee):[];if(ae.length>0){let re=!0;if(ae.forEach(P=>{var L;if((L=P.context)!=null&&L.open&&!P.context.dataRef.current.__outsidePressBubbles){re=!1;return}}),!re)return}r(!1,Z,"outside-press")}),H=tn(Z=>{var le;const G=()=>{var Y;me(Z),(Y=to(Z))==null||Y.removeEventListener(c,G)};(le=to(Z))==null||le.addEventListener(c,G)});A.useEffect(()=>{if(!n||!o)return;s.current.__escapeKeyBubbles=E,s.current.__outsidePressBubbles=R;let Z=-1;function le(U){r(!1,U,"ancestor-scroll")}function G(){window.clearTimeout(Z),K.current=!0}function Y(){Z=window.setTimeout(()=>{K.current=!1},Xm()?5:0)}const Q=_n(i.floating);a&&(Q.addEventListener("keydown",B?ie:F,B),Q.addEventListener("compositionstart",G),Q.addEventListener("compositionend",Y)),v&&Q.addEventListener(c,$?H:me,$);let fe=[];return p&&(St(i.domReference)&&(fe=po(i.domReference)),St(i.floating)&&(fe=fe.concat(po(i.floating))),!St(i.reference)&&i.reference&&i.reference.contextElement&&(fe=fe.concat(po(i.reference.contextElement)))),fe=fe.filter(U=>{var O;return U!==((O=Q.defaultView)==null?void 0:O.visualViewport)}),fe.forEach(U=>{U.addEventListener("scroll",le,{passive:!0})}),()=>{a&&(Q.removeEventListener("keydown",B?ie:F,B),Q.removeEventListener("compositionstart",G),Q.removeEventListener("compositionend",Y)),v&&Q.removeEventListener(c,$?H:me,$),fe.forEach(U=>{U.removeEventListener("scroll",le)}),window.clearTimeout(Z)}},[s,i,a,v,c,n,r,p,o,E,R,F,B,ie,me,$,H]),A.useEffect(()=>{S.current=!1},[v,c]);const X=A.useMemo(()=>({onKeyDown:F,...d&&{[Tz[h]]:Z=>{r(!1,Z.nativeEvent,"reference-press")},...h!=="click"&&{onClick(Z){r(!1,Z.nativeEvent,"reference-press")}}}}),[F,r,d,h]),N=A.useMemo(()=>({onKeyDown:F,onMouseDown(){k.current=!0},onMouseUp(){k.current=!0},[Az[c]]:()=>{S.current=!0}}),[F,c]);return A.useMemo(()=>o?{reference:X,floating:N}:{},[o,X,N])}function _z(t){const{open:e=!1,onOpenChange:n,elements:r}=t,i=ex(),s=A.useRef({}),[o]=A.useState(()=>cz()),a=eg()!=null,[u,c]=A.useState(r.reference),d=tn((m,w,y)=>{s.current.openEvent=m?w:void 0,o.emit("openchange",{open:m,event:w,reason:y,nested:a}),n==null||n(m,w,y)}),h=A.useMemo(()=>({setPositionReference:c}),[]),p=A.useMemo(()=>({reference:u||r.reference||null,floating:r.floating||null,domReference:r.reference}),[u,r.reference,r.floating]);return A.useMemo(()=>({dataRef:s,open:e,onOpenChange:d,elements:p,events:o,floatingId:i,refs:h}),[e,d,p,o,i,h])}function rx(t){t===void 0&&(t={});const{nodeId:e}=t,n=_z({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,i=r.elements,[s,o]=A.useState(null),[a,u]=A.useState(null),d=(i==null?void 0:i.domReference)||s,h=A.useRef(null),p=If();Ct(()=>{d&&(h.current=d)},[d]);const m=ez({...t,elements:{...i,...a&&{reference:a}}}),w=A.useCallback(k=>{const E=St(k)?{getBoundingClientRect:()=>k.getBoundingClientRect(),getClientRects:()=>k.getClientRects(),contextElement:k}:k;u(E),m.refs.setReference(E)},[m.refs]),y=A.useCallback(k=>{(St(k)||k===null)&&(h.current=k,o(k)),(St(m.refs.reference.current)||m.refs.reference.current===null||k!==null&&!St(k))&&m.refs.setReference(k)},[m.refs]),x=A.useMemo(()=>({...m.refs,setReference:y,setPositionReference:w,domReference:h}),[m.refs,y,w]),v=A.useMemo(()=>({...m.elements,domReference:d}),[m.elements,d]),S=A.useMemo(()=>({...m,...r,refs:x,elements:v,nodeId:e}),[m,x,v,e,r]);return Ct(()=>{r.dataRef.current.floatingContext=S;const k=p==null?void 0:p.nodesRef.current.find(E=>E.id===e);k&&(k.context=S)}),A.useMemo(()=>({...m,context:S,refs:x,elements:v}),[m,x,v,S])}function t0(){return d$()&&d_()}function Rz(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,events:i,dataRef:s,elements:o}=t,{enabled:a=!0,visibleOnly:u=!0}=e,c=A.useRef(!1),d=A.useRef(-1),h=A.useRef(!0);A.useEffect(()=>{if(!a)return;const m=mr(o.domReference);function w(){!n&&Zt(o.domReference)&&o.domReference===Ai(_n(o.domReference))&&(c.current=!0)}function y(){h.current=!0}function x(){h.current=!1}return m.addEventListener("blur",w),t0()&&(m.addEventListener("keydown",y,!0),m.addEventListener("pointerdown",x,!0)),()=>{m.removeEventListener("blur",w),t0()&&(m.removeEventListener("keydown",y,!0),m.removeEventListener("pointerdown",x,!0))}},[o.domReference,n,a]),A.useEffect(()=>{if(!a)return;function m(w){let{reason:y}=w;(y==="reference-press"||y==="escape-key")&&(c.current=!0)}return i.on("openchange",m),()=>{i.off("openchange",m)}},[i,a]),A.useEffect(()=>()=>{ar(d)},[]);const p=A.useMemo(()=>({onMouseLeave(){c.current=!1},onFocus(m){if(c.current)return;const w=to(m.nativeEvent);if(u&&St(w)){if(t0()&&!m.relatedTarget){if(!h.current&&!q2(w))return}else if(!y$(w))return}r(!0,m.nativeEvent,"focus")},onBlur(m){c.current=!1;const w=m.relatedTarget,y=m.nativeEvent,x=St(w)&&w.hasAttribute(_a("focus-guard"))&&w.getAttribute("data-type")==="outside";d.current=window.setTimeout(()=>{var v;const S=Ai(o.domReference?o.domReference.ownerDocument:document);!w&&S===o.domReference||Sn((v=s.current.floatingContext)==null?void 0:v.refs.floating.current,S)||Sn(o.domReference,S)||x||r(!1,y,"focus")})}}),[s,o.domReference,r,u]);return A.useMemo(()=>a?{reference:p}:{},[a,p])}function n0(t,e,n){const r=new Map,i=n==="item";let s=t;if(i&&t){const{[U4]:o,[V4]:a,...u}=t;s=u}return{...n==="floating"&&{tabIndex:-1,[sz]:""},...s,...e.map(o=>{const a=o?o[n]:null;return typeof a=="function"?t?a(t):null:a}).concat(t).reduce((o,a)=>(a&&Object.entries(a).forEach(u=>{let[c,d]=u;if(!(i&&[U4,V4].includes(c)))if(c.indexOf("on")===0){if(r.has(c)||r.set(c,[]),typeof d=="function"){var h;(h=r.get(c))==null||h.push(d),o[c]=function(){for(var p,m=arguments.length,w=new Array(m),y=0;y<m;y++)w[y]=arguments[y];return(p=r.get(c))==null?void 0:p.map(x=>x(...w)).find(x=>x!==void 0)}}}else o[c]=d}),o),{})}}function ix(t){t===void 0&&(t=[]);const e=t.map(a=>a==null?void 0:a.reference),n=t.map(a=>a==null?void 0:a.floating),r=t.map(a=>a==null?void 0:a.item),i=A.useCallback(a=>n0(a,t,"reference"),e),s=A.useCallback(a=>n0(a,t,"floating"),n),o=A.useCallback(a=>n0(a,t,"item"),r);return A.useMemo(()=>({getReferenceProps:i,getFloatingProps:s,getItemProps:o}),[i,s,o])}const Nz="Escape";function ng(t,e,n){switch(t){case"vertical":return e;case"horizontal":return n;default:return e||n}}function bh(t,e){return ng(e,t===__||t===Qm,t===Nf||t===Of)}function r0(t,e,n){return ng(e,t===Qm,n?t===Nf:t===Of)||t==="Enter"||t===" "||t===""}function i5(t,e,n){return ng(e,n?t===Nf:t===Of,t===Qm)}function s5(t,e,n,r){const i=n?t===Of:t===Nf,s=t===__;return e==="both"||e==="horizontal"&&r&&r>1?t===Nz:ng(e,i,s)}function Oz(t,e){const{open:n,onOpenChange:r,elements:i,floatingId:s}=t,{listRef:o,activeIndex:a,onNavigate:u=()=>{},enabled:c=!0,selectedIndex:d=null,allowEscape:h=!1,loop:p=!1,nested:m=!1,rtl:w=!1,virtual:y=!1,focusItemOnOpen:x="auto",focusItemOnHover:v=!0,openOnArrowKeyDown:S=!0,disabledIndices:k=void 0,orientation:E="vertical",parentOrientation:R,cols:B=1,scrollItemIntoView:$=!0,virtualItemRef:K,itemSizes:F,dense:ie=!1}=e,me=jp(i.floating),H=cr(me),X=eg(),N=If();Ct(()=>{t.dataRef.current.orientation=E},[t,E]);const Z=tn(()=>{u(Y.current===-1?null:Y.current)}),le=lb(i.domReference),G=A.useRef(x),Y=A.useRef(d??-1),Q=A.useRef(null),fe=A.useRef(!0),U=A.useRef(Z),O=A.useRef(!!i.floating),ee=A.useRef(n),oe=A.useRef(!1),ae=A.useRef(!1),re=cr(k),P=cr(n),L=cr($),se=cr(d),[te,V]=A.useState(),[q,de]=A.useState(),M=tn(()=>{function ne(Te){if(y){var Me;(Me=Te.id)!=null&&Me.endsWith("-fui-option")&&(Te.id=s+"-"+Math.random().toString(16).slice(2,10)),V(Te.id),N==null||N.events.emit("virtualfocus",Te),K&&(K.current=Te)}else Qo(Te,{sync:oe.current,preventScroll:!0})}const ye=o.current[Y.current],we=ae.current;ye&&ne(ye),(oe.current?Te=>Te():requestAnimationFrame)(()=>{const Te=o.current[Y.current]||ye;if(!Te)return;ye||ne(Te);const Me=L.current;Me&&j&&(we||!fe.current)&&(Te.scrollIntoView==null||Te.scrollIntoView(typeof Me=="boolean"?{block:"nearest",inline:"nearest"}:Me))})});Ct(()=>{c&&(n&&i.floating?G.current&&d!=null&&(ae.current=!0,Y.current=d,Z()):O.current&&(Y.current=-1,U.current()))},[c,n,i.floating,d,Z]),Ct(()=>{if(c&&n&&i.floating)if(a==null){if(oe.current=!1,se.current!=null)return;if(O.current&&(Y.current=-1,M()),(!ee.current||!O.current)&&G.current&&(Q.current!=null||G.current===!0&&Q.current==null)){let ne=0;const ye=()=>{o.current[0]==null?(ne<2&&(ne?requestAnimationFrame:queueMicrotask)(ye),ne++):(Y.current=Q.current==null||r0(Q.current,E,w)||m?Xy(o,re.current):F4(o,re.current),Q.current=null,Z())};ye()}}else Lc(o,a)||(Y.current=a,M(),ae.current=!1)},[c,n,i.floating,a,se,m,o,E,w,Z,M,re]),Ct(()=>{var ne;if(!c||i.floating||!N||y||!O.current)return;const ye=N.nodesRef.current,we=(ne=ye.find(Me=>Me.id===X))==null||(ne=ne.context)==null?void 0:ne.elements.floating,xe=Ai(_n(i.floating)),Te=ye.some(Me=>Me.context&&Sn(Me.context.elements.floating,xe));we&&!Te&&fe.current&&we.focus({preventScroll:!0})},[c,i.floating,N,X,y]),Ct(()=>{if(!c||!N||!y||X)return;function ne(ye){de(ye.id),K&&(K.current=ye)}return N.events.on("virtualfocus",ne),()=>{N.events.off("virtualfocus",ne)}},[c,N,y,X,K]),Ct(()=>{U.current=Z,ee.current=n,O.current=!!i.floating}),Ct(()=>{n||(Q.current=null)},[n]);const pe=a!=null,j=A.useMemo(()=>{function ne(we){if(!n)return;const xe=o.current.indexOf(we);xe!==-1&&Y.current!==xe&&(Y.current=xe,Z())}return{onFocus(we){let{currentTarget:xe}=we;oe.current=!0,ne(xe)},onClick:we=>{let{currentTarget:xe}=we;return xe.focus({preventScroll:!0})},...v&&{onMouseMove(we){let{currentTarget:xe}=we;oe.current=!0,ae.current=!1,ne(xe)},onPointerLeave(we){let{pointerType:xe}=we;if(!(!fe.current||xe==="touch")&&(oe.current=!0,Y.current=-1,Z(),!y)){var Te;(Te=H.current)==null||Te.focus({preventScroll:!0})}}}}},[n,H,v,o,Z,y]),C=A.useCallback(()=>{var ne;return R??(N==null||(ne=N.nodesRef.current.find(ye=>ye.id===X))==null||(ne=ne.context)==null||(ne=ne.dataRef)==null?void 0:ne.current.orientation)},[X,N,R]),T=tn(ne=>{if(fe.current=!1,oe.current=!0,ne.which===229||!P.current&&ne.currentTarget===H.current)return;if(m&&s5(ne.key,E,w,B)){bh(ne.key,C())||kn(ne),r(!1,ne.nativeEvent,"list-navigation"),Zt(i.domReference)&&(y?N==null||N.events.emit("virtualfocus",i.domReference):i.domReference.focus());return}const ye=Y.current,we=Xy(o,k),xe=F4(o,k);if(le||(ne.key==="Home"&&(kn(ne),Y.current=we,Z()),ne.key==="End"&&(kn(ne),Y.current=xe,Z())),B>1){const Te=F||Array.from({length:o.current.length},()=>({width:1,height:1})),Me=S$(Te,B,ie),Ue=Me.findIndex(ct=>ct!=null&&!sp(o,ct,k)),Tt=Me.reduce((ct,vn,ft)=>vn!=null&&!sp(o,vn,k)?ft:ct,-1),Bt=Me[C$({current:Me.map(ct=>ct!=null?o.current[ct]:null)},{event:ne,orientation:E,loop:p,rtl:w,cols:B,disabledIndices:T$([...k||o.current.map((ct,vn)=>sp(o,vn)?vn:void 0),void 0],Me),minIndex:Ue,maxIndex:Tt,prevIndex:k$(Y.current>xe?we:Y.current,Te,Me,B,ne.key===Qm?"bl":ne.key===(w?Nf:Of)?"tr":"tl"),stopEvent:!0})];if(Bt!=null&&(Y.current=Bt,Z()),E==="both")return}if(bh(ne.key,E)){if(kn(ne),n&&!y&&Ai(ne.currentTarget.ownerDocument)===ne.currentTarget){Y.current=r0(ne.key,E,w)?we:xe,Z();return}r0(ne.key,E,w)?p?Y.current=ye>=xe?h&&ye!==o.current.length?-1:we:Fn(o,{startingIndex:ye,disabledIndices:k}):Y.current=Math.min(xe,Fn(o,{startingIndex:ye,disabledIndices:k})):p?Y.current=ye<=we?h&&ye!==-1?o.current.length:xe:Fn(o,{startingIndex:ye,decrement:!0,disabledIndices:k}):Y.current=Math.max(we,Fn(o,{startingIndex:ye,decrement:!0,disabledIndices:k})),Lc(o,Y.current)&&(Y.current=-1),Z()}}),D=A.useMemo(()=>y&&n&&pe&&{"aria-activedescendant":q||te},[y,n,pe,q,te]),J=A.useMemo(()=>({"aria-orientation":E==="both"?void 0:E,...le?{}:D,onKeyDown:T,onPointerMove(){fe.current=!0}}),[D,T,E,le]),ce=A.useMemo(()=>{function ne(we){x==="auto"&&p_(we.nativeEvent)&&(G.current=!0)}function ye(we){G.current=x,x==="auto"&&m_(we.nativeEvent)&&(G.current=!0)}return{...D,onKeyDown(we){fe.current=!1;const xe=we.key.startsWith("Arrow"),Te=["Home","End"].includes(we.key),Me=xe||Te,Ue=i5(we.key,E,w),Tt=s5(we.key,E,w,B),Bt=i5(we.key,C(),w),ct=bh(we.key,E),vn=(m?Bt:ct)||we.key==="Enter"||we.key.trim()==="";if(y&&n){const He=N==null?void 0:N.nodesRef.current.find(Je=>Je.parentId==null),Ze=N&&He?w$(N.nodesRef.current,He.id):null;if(Me&&Ze&&K){const Je=new KeyboardEvent("keydown",{key:we.key,bubbles:!0});if(Ue||Tt){var ft,ke;const Lt=((ft=Ze.context)==null?void 0:ft.elements.domReference)===we.currentTarget,Gt=Tt&&!Lt?(ke=Ze.context)==null?void 0:ke.elements.domReference:Ue?o.current.find(sn=>(sn==null?void 0:sn.id)===te):null;Gt&&(kn(we),Gt.dispatchEvent(Je),de(void 0))}if((ct||Te)&&Ze.context&&Ze.context.open&&Ze.parentId&&we.currentTarget!==Ze.context.elements.domReference){var Fe;kn(we),(Fe=Ze.context.elements.domReference)==null||Fe.dispatchEvent(Je);return}}return T(we)}if(!(!n&&!S&&xe)){if(vn){const He=bh(we.key,C());Q.current=m&&He?null:we.key}if(m){Bt&&(kn(we),n?(Y.current=Xy(o,re.current),Z()):r(!0,we.nativeEvent,"list-navigation"));return}ct&&(d!=null&&(Y.current=d),kn(we),!n&&S?r(!0,we.nativeEvent,"list-navigation"):T(we),n&&Z())}},onFocus(){n&&!y&&(Y.current=-1,Z())},onPointerDown:ye,onPointerEnter:ye,onMouseDown:ne,onClick:ne}},[te,D,B,T,re,x,o,m,Z,r,n,S,E,C,w,d,N,y,K]);return A.useMemo(()=>c?{reference:ce,floating:J,item:j}:{},[c,ce,J,j])}const Iz=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function sx(t,e){var n,r;e===void 0&&(e={});const{open:i,elements:s,floatingId:o}=t,{enabled:a=!0,role:u="dialog"}=e,c=ex(),d=((n=s.domReference)==null?void 0:n.id)||c,h=A.useMemo(()=>{var S;return((S=jp(s.floating))==null?void 0:S.id)||o},[s.floating,o]),p=(r=Iz.get(u))!=null?r:u,w=eg()!=null,y=A.useMemo(()=>p==="tooltip"||u==="label"?{["aria-"+(u==="label"?"labelledby":"describedby")]:i?h:void 0}:{"aria-expanded":i?"true":"false","aria-haspopup":p==="alertdialog"?"dialog":p,"aria-controls":i?h:void 0,...p==="listbox"&&{role:"combobox"},...p==="menu"&&{id:d},...p==="menu"&&w&&{role:"menuitem"},...u==="select"&&{"aria-autocomplete":"none"},...u==="combobox"&&{"aria-autocomplete":"list"}},[p,h,w,i,d,u]),x=A.useMemo(()=>{const S={id:h,...p&&{role:p}};return p==="tooltip"||u==="label"?S:{...S,...p==="menu"&&{"aria-labelledby":d}}},[p,h,d,u]),v=A.useCallback(S=>{let{active:k,selected:E}=S;const R={role:"option",...k&&{id:h+"-fui-option"}};switch(u){case"select":return{...R,"aria-selected":k&&E};case"combobox":return{...R,"aria-selected":E}}return{}},[h,u]);return A.useMemo(()=>a?{reference:y,floating:x,item:v}:{},[a,y,x,v])}function Mz(t,e){var n;const{open:r,dataRef:i}=t,{listRef:s,activeIndex:o,onMatch:a,onTypingChange:u,enabled:c=!0,findMatch:d=null,resetMs:h=750,ignoreKeys:p=[],selectedIndex:m=null}=e,w=A.useRef(-1),y=A.useRef(""),x=A.useRef((n=m??o)!=null?n:-1),v=A.useRef(null),S=tn(a),k=tn(u),E=cr(d),R=cr(p);Ct(()=>{r&&(ar(w),v.current=null,y.current="")},[r]),Ct(()=>{if(r&&y.current===""){var ie;x.current=(ie=m??o)!=null?ie:-1}},[r,m,o]);const B=tn(ie=>{ie?i.current.typing||(i.current.typing=ie,k(ie)):i.current.typing&&(i.current.typing=ie,k(ie))}),$=tn(ie=>{function me(le,G,Y){const Q=E.current?E.current(G,Y):G.find(fe=>(fe==null?void 0:fe.toLocaleLowerCase().indexOf(Y.toLocaleLowerCase()))===0);return Q?le.indexOf(Q):-1}const H=s.current;if(y.current.length>0&&y.current[0]!==" "&&(me(H,H,y.current)===-1?B(!1):ie.key===" "&&kn(ie)),H==null||R.current.includes(ie.key)||ie.key.length!==1||ie.ctrlKey||ie.metaKey||ie.altKey)return;r&&ie.key!==" "&&(kn(ie),B(!0)),H.every(le=>{var G,Y;return le?((G=le[0])==null?void 0:G.toLocaleLowerCase())!==((Y=le[1])==null?void 0:Y.toLocaleLowerCase()):!0})&&y.current===ie.key&&(y.current="",x.current=v.current),y.current+=ie.key,ar(w),w.current=window.setTimeout(()=>{y.current="",x.current=v.current,B(!1)},h);const N=x.current,Z=me(H,[...H.slice((N||0)+1),...H.slice(0,(N||0)+1)],y.current);Z!==-1?(S(Z),v.current=Z):ie.key!==" "&&(y.current="",B(!1))}),K=A.useMemo(()=>({onKeyDown:$}),[$]),F=A.useMemo(()=>({onKeyDown:$,onKeyUp(ie){ie.key===" "&&B(!1)}}),[$,B]);return A.useMemo(()=>c?{reference:K,floating:F}:{},[c,K,F])}function Dz({initialOpen:t=!1,placement:e="top",open:n,onOpenChange:r,delay:i=600,closeDelay:s=0}={}){const[o,a]=A.useState(t),u=n??o,c=r??a,d=rx({placement:e,open:u,onOpenChange:c,whileElementsMounted:Y2,middleware:[Z2(4),Q2({crossAxis:e.includes("-"),fallbackAxisSideDirection:"start",padding:4}),J2({padding:4})]}),h=d.context,p=hz(h,{mouseOnly:!0,move:!1,restMs:i,enabled:n==null,delay:{close:s}}),m=Rz(h,{enabled:n==null}),w=nx(h),y=sx(h,{role:"tooltip"}),x=ix([p,m,w,y]);return A.useMemo(()=>({open:u,setOpen:c,...x,...d}),[u,c,x,d])}const ub=A.createContext(null);function D_(){const t=A.useContext(ub);if(t==null)throw new Error("Tooltip components must be wrapped in <TooltipProvider />");return t}function L_({children:t,...e}){const n=Dz(e);return e.useDelayGroup?z.jsx(mz,{delay:{open:e.delay??0,close:e.closeDelay??0},timeoutMs:e.timeout,children:z.jsx(ub.Provider,{value:n,children:t})}):z.jsx(ub.Provider,{value:n,children:t})}const P_=A.forwardRef(function({children:e,asChild:n=!1,...r},i){const s=D_(),o=A.isValidElement(e)?parseInt(A.version,10)>=19?e.props.ref:e.ref:void 0,a=ja([s.refs.setReference,i,o]);if(n&&A.isValidElement(e)){const u={"data-tooltip-state":s.open?"open":"closed"};return A.cloneElement(e,s.getReferenceProps({ref:a,...r,...typeof e.props=="object"?e.props:{},...u}))}return z.jsx("button",{ref:a,"data-tooltip-state":s.open?"open":"closed",...s.getReferenceProps(r),children:e})}),F_=A.forwardRef(function({style:e,children:n,portal:r=!0,portalProps:i={},...s},o){const a=D_(),u=ja([a.refs.setFloating,o]);if(!a.open)return null;const c=z.jsx("div",{ref:u,style:{...a.floatingStyles,...e},...a.getFloatingProps(s),className:"tiptap-tooltip",children:n});return r?z.jsx(tx,{...i,children:c}):c});L_.displayName="Tooltip";P_.displayName="TooltipTrigger";F_.displayName="TooltipContent";const Lz={ctrl:"⌘",alt:"⌥",shift:"⇧"},Pz=(t,e)=>{if(e){const n=t.toLowerCase();return Lz[n]||t.toUpperCase()}return t.charAt(0).toUpperCase()+t.slice(1)},Fz=(t,e)=>t?t.split("-").map(n=>n.trim()).map(n=>Pz(n,e)):[],Bz=({shortcuts:t})=>t.length===0?null:z.jsx("div",{children:t.map((e,n)=>z.jsxs(A.Fragment,{children:[n>0&&z.jsx("kbd",{children:"+"}),z.jsx("kbd",{children:e})]},n))}),Dt=A.forwardRef(({className:t="",children:e,tooltip:n,showTooltip:r=!0,shortcutKeys:i,"aria-label":s,...o},a)=>{const u=A.useMemo(()=>typeof navigator<"u"&&navigator.platform.toLowerCase().includes("mac"),[]),c=A.useMemo(()=>Fz(i,u),[i,u]);return!n||!r?z.jsx("button",{className:`tiptap-button ${t}`.trim(),ref:a,"aria-label":s,...o,children:e}):z.jsxs(L_,{delay:200,children:[z.jsx(P_,{className:`tiptap-button ${t}`.trim(),ref:a,"aria-label":s,...o,children:e}),z.jsxs(F_,{children:[n,z.jsx(Bz,{shortcuts:c})]})]})});Dt.displayName="Button";const Ha=A.forwardRef(({decorative:t,orientation:e="vertical",className:n="",...r},i)=>{const o=t?{role:"none"}:{"aria-orientation":e==="vertical"?e:void 0,role:"separator"};return z.jsx("div",{className:`tiptap-separator ${n}`.trim(),"data-orientation":e,...o,...r,ref:i})});Ha.displayName="Separator";const ox=t=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})},ax=(t,e)=>{A.useEffect(()=>{const n=t.current;if(!n)return;let r=!0;r&&requestAnimationFrame(e);const i=new MutationObserver(()=>{r&&requestAnimationFrame(e)});return i.observe(n,{childList:!0,subtree:!0,attributes:!0}),()=>{r=!1,i.disconnect()}},[t,e])},jz=t=>{A.useEffect(()=>{const e=t.current;if(!e)return;const n=()=>Array.from(e.querySelectorAll('button:not([disabled]), [role="button"]:not([disabled]), [tabindex="0"]:not([disabled])')),r=(u,c,d)=>{var p;u.preventDefault();let h=c;h>=d.length?h=0:h<0&&(h=d.length-1),(p=d[h])==null||p.focus()},i=u=>{const c=n();if(!c.length)return;const d=document.activeElement,h=c.indexOf(d);if(!e.contains(d))return;const m={ArrowRight:()=>r(u,h+1,c),ArrowDown:()=>r(u,h+1,c),ArrowLeft:()=>r(u,h-1,c),ArrowUp:()=>r(u,h-1,c),Home:()=>r(u,0,c),End:()=>r(u,c.length-1,c)}[u.key];m&&m()},s=u=>{const c=u.target;e.contains(c)&&c.setAttribute("data-focus-visible","true")},o=u=>{const c=u.target;e.contains(c)&&c.removeAttribute("data-focus-visible")};return e.addEventListener("keydown",i),e.addEventListener("focus",s,!0),e.addEventListener("blur",o,!0),n().forEach(u=>{u.addEventListener("focus",s),u.addEventListener("blur",o)}),()=>{e.removeEventListener("keydown",i),e.removeEventListener("focus",s,!0),e.removeEventListener("blur",o,!0),n().forEach(c=>{c.removeEventListener("focus",s),c.removeEventListener("blur",o)})}},[t])},Hz=t=>{const[e,n]=A.useState(!0),r=A.useRef(!1);A.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]);const i=A.useCallback(()=>{if(!r.current)return;const s=t.current;if(!s)return;const o=Array.from(s.children).some(a=>a instanceof HTMLElement&&a.getAttribute("role")==="group"?a.children.length>0:!1);n(o)},[t]);return ax(t,i),e},$z=t=>{const[e,n]=A.useState(!0),r=A.useRef(!1);A.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]);const i=A.useCallback(()=>{if(!r.current)return;const s=t.current;if(!s)return;const o=Array.from(s.children).some(a=>a instanceof HTMLElement);n(o)},[t]);return ax(t,i),e},zz=t=>{const[e,n]=A.useState(!0),r=A.useRef(!1);A.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]);const i=A.useCallback(()=>{if(!r.current)return;const s=t.current;if(!s)return;const o=s.previousElementSibling,a=s.nextElementSibling;if(!o||!a){n(!1);return}const u=o.getAttribute("role")==="group"&&a.getAttribute("role")==="group",c=o.children.length>0&&a.children.length>0;n(u&&c)},[t]);return ax(t,i),e},B_=A.forwardRef(({children:t,className:e,variant:n="fixed",...r},i)=>{const s=A.useRef(null),o=Hz(s);return jz(s),o?z.jsx("div",{className:"pai-do-toolbar",children:z.jsx("div",{ref:ox([s,i]),role:"toolbar","aria-label":"toolbar","data-variant":n,className:`tiptap-toolbar ${e||""}`,...r,children:t})}):null});B_.displayName="Toolbar";const Zs=A.forwardRef(({children:t,className:e,...n},r)=>{const i=A.useRef(null);return $z(i)?z.jsx("div",{ref:ox([i,r]),role:"group",className:`tiptap-toolbar-group ${e||""}`,...n,children:t}):null});Zs.displayName="ToolbarGroup";const ra=A.forwardRef(({...t},e)=>{const n=A.useRef(null);return zz(n)?z.jsx(Ha,{ref:ox([n,e]),orientation:"vertical",decorative:!0,...t}):null});ra.displayName="ToolbarSeparator";function Rr(t){const{editor:e}=Ba();return A.useMemo(()=>t||e,[t,e])}const j_=A.memo(({className:t,...e})=>z.jsx("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:z.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 4C21 3.44772 20.5523 3 20 3C19.4477 3 19 3.44772 19 4V11C19 11.7956 18.6839 12.5587 18.1213 13.1213C17.5587 13.6839 16.7956 14 16 14H6.41421L9.70711 10.7071C10.0976 10.3166 10.0976 9.68342 9.70711 9.29289C9.31658 8.90237 8.68342 8.90237 8.29289 9.29289L3.29289 14.2929C2.90237 14.6834 2.90237 15.3166 3.29289 15.7071L8.29289 20.7071C8.68342 21.0976 9.31658 21.0976 9.70711 20.7071C10.0976 20.3166 10.0976 19.6834 9.70711 19.2929L6.41421 16H16C17.3261 16 18.5979 15.4732 19.5355 14.5355C20.4732 13.5979 21 12.3261 21 11V4Z",fill:"currentColor"})}));j_.displayName="CornerDownLeftIcon";const H_=A.memo(({className:t,...e})=>z.jsxs("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[z.jsx("path",{d:"M14 3C14 2.44772 14.4477 2 15 2H21C21.5523 2 22 2.44772 22 3V9C22 9.55228 21.5523 10 21 10C20.4477 10 20 9.55228 20 9V5.41421L10.7071 14.7071C10.3166 15.0976 9.68342 15.0976 9.29289 14.7071C8.90237 14.3166 8.90237 13.6834 9.29289 13.2929L18.5858 4H15C14.4477 4 14 3.55228 14 3Z",fill:"currentColor"}),z.jsx("path",{d:"M4.29289 7.29289C4.48043 7.10536 4.73478 7 5 7H11C11.5523 7 12 6.55228 12 6C12 5.44772 11.5523 5 11 5H5C4.20435 5 3.44129 5.31607 2.87868 5.87868C2.31607 6.44129 2 7.20435 2 8V19C2 19.7957 2.31607 20.5587 2.87868 21.1213C3.44129 21.6839 4.20435 22 5 22H16C16.7957 22 17.5587 21.6839 18.1213 21.1213C18.6839 20.5587 19 19.7957 19 19V13C19 12.4477 18.5523 12 18 12C17.4477 12 17 12.4477 17 13V19C17 19.2652 16.8946 19.5196 16.7071 19.7071C16.5196 19.8946 16.2652 20 16 20H5C4.73478 20 4.48043 19.8946 4.29289 19.7071C4.10536 19.5196 4 19.2652 4 19V8C4 7.73478 4.10536 7.48043 4.29289 7.29289Z",fill:"currentColor"})]}));H_.displayName="ExternalLinkIcon";const lx=A.memo(({className:t,...e})=>z.jsxs("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[z.jsx("path",{d:"M16.9958 1.06669C15.4226 1.05302 13.907 1.65779 12.7753 2.75074L12.765 2.76086L11.045 4.47086C10.6534 4.86024 10.6515 5.49341 11.0409 5.88507C11.4303 6.27673 12.0634 6.27858 12.4551 5.88919L14.1697 4.18456C14.9236 3.45893 15.9319 3.05752 16.9784 3.06662C18.0272 3.07573 19.0304 3.49641 19.772 4.23804C20.5137 4.97967 20.9344 5.98292 20.9435 7.03171C20.9526 8.07776 20.5515 9.08563 19.8265 9.83941L16.833 12.8329C16.4274 13.2386 15.9393 13.5524 15.4019 13.7529C14.8645 13.9533 14.2903 14.0359 13.7181 13.9949C13.146 13.9539 12.5894 13.7904 12.0861 13.5154C11.5827 13.2404 11.1444 12.8604 10.8008 12.401C10.47 11.9588 9.84333 11.8685 9.40108 12.1993C8.95883 12.5301 8.86849 13.1568 9.1993 13.599C9.71464 14.288 10.3721 14.858 11.1272 15.2705C11.8822 15.683 12.7171 15.9283 13.5753 15.9898C14.4334 16.0513 15.2948 15.9274 16.1009 15.6267C16.907 15.326 17.639 14.8555 18.2473 14.247L21.2472 11.2471L21.2593 11.2347C22.3523 10.1031 22.9571 8.58751 22.9434 7.01433C22.9297 5.44115 22.2987 3.93628 21.1863 2.82383C20.0738 1.71138 18.5689 1.08036 16.9958 1.06669Z",fill:"currentColor"}),z.jsx("path",{d:"M10.4247 8.0102C9.56657 7.94874 8.70522 8.07256 7.89911 8.37326C7.09305 8.67395 6.36096 9.14458 5.75272 9.753L2.75285 12.7529L2.74067 12.7653C1.64772 13.8969 1.04295 15.4125 1.05662 16.9857C1.07029 18.5589 1.70131 20.0637 2.81376 21.1762C3.9262 22.2886 5.43108 22.9196 7.00426 22.9333C8.57744 22.947 10.0931 22.3422 11.2247 21.2493L11.2371 21.2371L12.9471 19.5271C13.3376 19.1366 13.3376 18.5034 12.9471 18.1129C12.5565 17.7223 11.9234 17.7223 11.5328 18.1129L9.82932 19.8164C9.07555 20.5414 8.06768 20.9425 7.02164 20.9334C5.97285 20.9243 4.9696 20.5036 4.22797 19.762C3.48634 19.0203 3.06566 18.0171 3.05655 16.9683C3.04746 15.9222 3.44851 14.9144 4.17355 14.1606L7.16719 11.167C7.5727 10.7613 8.06071 10.4476 8.59811 10.2471C9.13552 10.0467 9.70976 9.96412 10.2819 10.0051C10.854 10.0461 11.4106 10.2096 11.9139 10.4846C12.4173 10.7596 12.8556 11.1397 13.1992 11.599C13.53 12.0412 14.1567 12.1316 14.5989 11.8007C15.0412 11.4699 15.1315 10.8433 14.8007 10.401C14.2854 9.71205 13.6279 9.14198 12.8729 8.72948C12.1178 8.31697 11.2829 8.07166 10.4247 8.0102Z",fill:"currentColor"})]}));lx.displayName="LinkIcon";const $_=A.memo(({className:t,...e})=>z.jsx("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:z.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 5V4C7 3.17477 7.40255 2.43324 7.91789 1.91789C8.43324 1.40255 9.17477 1 10 1H14C14.8252 1 15.5668 1.40255 16.0821 1.91789C16.5975 2.43324 17 3.17477 17 4V5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H20V20C20 20.8252 19.5975 21.5668 19.0821 22.0821C18.5668 22.5975 17.8252 23 17 23H7C6.17477 23 5.43324 22.5975 4.91789 22.0821C4.40255 21.5668 4 20.8252 4 20V7H3C2.44772 7 2 6.55228 2 6C2 5.44772 2.44772 5 3 5H7ZM9 4C9 3.82523 9.09745 3.56676 9.33211 3.33211C9.56676 3.09745 9.82523 3 10 3H14C14.1748 3 14.4332 3.09745 14.6679 3.33211C14.9025 3.56676 15 3.82523 15 4V5H9V4ZM6 7V20C6 20.1748 6.09745 20.4332 6.33211 20.6679C6.56676 20.9025 6.82523 21 7 21H17C17.1748 21 17.4332 20.9025 17.6679 20.6679C17.9025 20.4332 18 20.1748 18 20V7H6Z",fill:"currentColor"})}));$_.displayName="TrashIcon";const cb=5*1024*1024,rg=(t,e)=>e!=null&&e.schema?e.schema.spec.marks.get(t)!==void 0:!1,Mf=(t,e)=>e!=null&&e.schema?e.schema.spec.nodes.get(t)!==void 0:!1;function Uz(t){return!!t&&t.content.size===0}function Vz(t){var u;const{editor:e,node:n,nodePos:r}=t;if(!e||!((u=e.state)!=null&&u.doc))return null;const i=n!=null,s=r!=null;if(!i&&!s)return null;if(s)try{const c=e.state.doc.nodeAt(r);if(c)return{pos:r,node:c}}catch(c){return console.error("Error checking node at position:",c),null}let o=-1,a=null;return e.state.doc.descendants((c,d)=>c===n?(o=d,a=c,!1):!0),o!==-1&&a!==null?{pos:o,node:a}:null}const Wz=async(t,e,n)=>{if(!t)throw new Error("No file provided");if(t.size>cb)throw new Error(`File size exceeds maximum allowed (${cb/(1024*1024)}MB)`);for(let r=0;r<=100;r+=10){if(n!=null&&n.aborted)throw new Error("Upload cancelled");await new Promise(i=>setTimeout(i,500)),e==null||e({progress:r})}return"/images/placeholder-image.png"},z_=A.createContext(null);function U_(){const t=A.useContext(z_);if(!t)throw new Error("Popover components must be wrapped in <Popover />");return t}function Kz({initialOpen:t=!1,modal:e,open:n,onOpenChange:r,side:i="bottom",align:s="center",sideOffset:o=4,alignOffset:a=0}={}){const[u,c]=A.useState(t),[d,h]=A.useState(),[p,m]=A.useState(),[w,y]=A.useState(`${i}-${s}`),[x,v]=A.useState({sideOffset:o,alignOffset:a}),S=n??u,k=r??c,E=A.useMemo(()=>[Z2({mainAxis:x.sideOffset,crossAxis:x.alignOffset}),Q2({fallbackAxisSideDirection:"end",crossAxis:!1}),J2({limiter:tz({offset:x.sideOffset})})],[x.sideOffset,x.alignOffset]),R=rx({placement:w,open:S,onOpenChange:k,whileElementsMounted:Y2,middleware:E}),B=ix([M_(R.context),nx(R.context),sx(R.context)]),$=A.useCallback((K,F,ie,me)=>{y(`${K}-${F}`),(ie!==void 0||me!==void 0)&&v({sideOffset:ie??x.sideOffset,alignOffset:me??x.alignOffset})},[x.sideOffset,x.alignOffset]);return A.useMemo(()=>({open:S,setOpen:k,...B,...R,modal:e,labelId:d,descriptionId:p,setLabelId:h,setDescriptionId:m,updatePosition:$}),[S,k,B,R,e,d,p,$])}function ig({children:t,modal:e=!1,...n}){const r=Kz({modal:e,...n});return z.jsx(z_.Provider,{value:r,children:t})}const Df=A.forwardRef(function({children:e,asChild:n=!1,...r},i){const s=U_(),o=A.isValidElement(e)?parseInt(A.version,10)>=19?e.props.ref:e.ref:void 0,a=ja([s.refs.setReference,i,o]);return n&&A.isValidElement(e)?A.cloneElement(e,s.getReferenceProps({ref:a,...r,...e.props,"data-state":s.open?"open":"closed"})):z.jsx("button",{ref:a,"data-state":s.open?"open":"closed",...s.getReferenceProps(r),children:e})}),Lf=A.forwardRef(function({className:e,side:n="bottom",align:r="center",sideOffset:i,alignOffset:s,style:o,portal:a=!0,portalProps:u={},asChild:c=!1,children:d,...h},p){const m=U_(),w=A.isValidElement(d)?parseInt(A.version,10)>=19?d.props.ref:d.ref:void 0,y=ja([m.refs.setFloating,p,w]);if(A.useEffect(()=>{m.updatePosition(n,r,i,s)},[m,n,r,i,s]),!m.context.open)return null;const x={ref:y,style:{position:m.strategy,top:m.y??0,left:m.x??0,...o},"aria-labelledby":m.labelId,"aria-describedby":m.descriptionId,className:`tiptap-popover ${e||""}`,"data-side":n,"data-align":r,"data-state":m.context.open?"open":"closed",...m.getFloatingProps(h)},v=c&&A.isValidElement(d)?A.cloneElement(d,{...x,...d.props}):z.jsx("div",{...x,children:d}),S=z.jsx(I_,{context:m.context,modal:m.modal,children:v});return a?z.jsx(tx,{...u,children:S}):S});Df.displayName="PopoverTrigger";Lf.displayName="PopoverContent";const V_=t=>{const{editor:e,onSetLink:n,onLinkActive:r}=t,[i,s]=A.useState("");A.useEffect(()=>{if(!e)return;const{href:u}=e.getAttributes("link");e.isActive("link")&&!i&&(s(u||""),r==null||r())},[e,r,i]),A.useEffect(()=>{if(!e)return;const u=()=>{const{href:c}=e.getAttributes("link");s(c||""),e.isActive("link")&&!i&&(r==null||r())};return e.on("selectionUpdate",u),()=>{e.off("selectionUpdate",u)}},[e,r,i]);const o=A.useCallback(()=>{if(!i||!e)return;const{from:u,to:c}=e.state.selection,d=e.state.doc.textBetween(u,c);e.chain().focus().extendMarkRange("link").insertContent({type:"text",text:d||i,marks:[{type:"link",attrs:{href:i}}]}).run(),n==null||n()},[e,n,i]),a=A.useCallback(()=>{e&&(e.chain().focus().unsetMark("link",{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),s(""))},[e]);return{url:i,setUrl:s,setLink:o,removeLink:a,isActive:(e==null?void 0:e.isActive("link"))||!1}},ux=A.forwardRef(({className:t,children:e,...n},r)=>z.jsx(Dt,{type:"button",className:t,"data-style":"ghost",role:"button",tabIndex:-1,"aria-label":"Link",tooltip:"Link",ref:r,...n,children:e||z.jsx(lx,{className:"tiptap-button-icon"})})),qz=({editor:t})=>{const e=Rr(t),n=V_({editor:e});return z.jsx(W_,{...n})},W_=({url:t,setUrl:e,setLink:n,removeLink:r,isActive:i})=>{const s=o=>{o.key==="Enter"&&(o.preventDefault(),n())};return z.jsxs(z.Fragment,{children:[z.jsx("input",{type:"url",placeholder:"Paste a link...",value:t,onChange:o=>e(o.target.value),onKeyDown:s,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",className:"tiptap-input tiptap-input-clamp"}),z.jsx("div",{className:"tiptap-button-group","data-orientation":"horizontal",children:z.jsx(Dt,{type:"button",onClick:n,title:"Apply link",disabled:!t&&!i,"data-style":"ghost",children:z.jsx(j_,{className:"tiptap-button-icon"})})}),z.jsx(Ha,{}),z.jsxs("div",{className:"tiptap-button-group","data-orientation":"horizontal",children:[z.jsx(Dt,{type:"button",onClick:()=>window.open(t,"_blank"),title:"Open in new window",disabled:!t&&!i,"data-style":"ghost",children:z.jsx(H_,{className:"tiptap-button-icon"})}),z.jsx(Dt,{type:"button",onClick:r,title:"Remove link",disabled:!t&&!i,"data-style":"ghost",children:z.jsx($_,{className:"tiptap-button-icon"})})]})]})};function Gz({editor:t,hideWhenUnavailable:e=!1,onOpenChange:n,autoOpenOnLinkActive:r=!0,...i}){const s=Rr(t),o=rg("link",s),[a,u]=A.useState(!1),h=V_({editor:s,onSetLink:()=>{u(!1)},onLinkActive:()=>u(r)}),p=A.useMemo(()=>{var v,S;return!s||s.isActive("codeBlock")?!0:!((S=(v=s.can()).setLink)!=null&&S.call(v,{href:""}))},[s]),m=A.useMemo(()=>{if(!s)return!1;try{return s.can().setMark("link")}catch{return!1}},[s]),w=(s==null?void 0:s.isActive("link"))??!1,y=A.useCallback(v=>{u(v),n==null||n(v)},[n]);return!A.useMemo(()=>!(!o||!s||e&&(Gr(s.state.selection)||!m)),[o,e,s,m])||!s||!s.isEditable?null:z.jsxs(ig,{open:a,onOpenChange:y,children:[z.jsx(Df,{asChild:!0,children:z.jsx(ux,{disabled:p,"data-active-state":w?"on":"off","data-disabled":p,...i})}),z.jsx(Lf,{children:z.jsx(W_,{...h})})]})}ux.displayName="LinkButton";const K_=A.memo(({className:t,...e})=>z.jsx("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:z.jsx("path",{d:"M12.7071 5.70711C13.0976 5.31658 13.0976 4.68342 12.7071 4.29289C12.3166 3.90237 11.6834 3.90237 11.2929 4.29289L4.29289 11.2929C3.90237 11.6834 3.90237 12.3166 4.29289 12.7071L11.2929 19.7071C11.6834 20.0976 12.3166 20.0976 12.7071 19.7071C13.0976 19.3166 13.0976 18.6834 12.7071 18.2929L7.41421 13L19 13C19.5523 13 20 12.5523 20 12C20 11.4477 19.5523 11 19 11L7.41421 11L12.7071 5.70711Z",fill:"currentColor"})}));K_.displayName="ArrowLeftIcon";const cx=A.memo(({className:t,...e})=>z.jsx("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:z.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.7072 4.70711C15.0977 4.31658 15.0977 3.68342 14.7072 3.29289C14.3167 2.90237 13.6835 2.90237 13.293 3.29289L8.69294 7.89286L8.68594 7.9C8.13626 8.46079 7.82837 9.21474 7.82837 10C7.82837 10.2306 7.85491 10.4584 7.90631 10.6795L2.29289 16.2929C2.10536 16.4804 2 16.7348 2 17V20C2 20.5523 2.44772 21 3 21H12C12.2652 21 12.5196 20.8946 12.7071 20.7071L15.3205 18.0937C15.5416 18.1452 15.7695 18.1717 16.0001 18.1717C16.7853 18.1717 17.5393 17.8639 18.1001 17.3142L22.7072 12.7071C23.0977 12.3166 23.0977 11.6834 22.7072 11.2929C22.3167 10.9024 21.6835 10.9024 21.293 11.2929L16.6971 15.8887C16.5105 16.0702 16.2605 16.1717 16.0001 16.1717C15.7397 16.1717 15.4897 16.0702 15.303 15.8887L10.1113 10.697C9.92992 10.5104 9.82837 10.2604 9.82837 10C9.82837 9.73963 9.92992 9.48958 10.1113 9.30297L14.7072 4.70711ZM13.5858 17L9.00004 12.4142L4 17.4142V19H11.5858L13.5858 17Z",fill:"currentColor"})}));cx.displayName="HighlighterIcon";const i0=768;function Xz(){const[t,e]=A.useState(void 0);return A.useEffect(()=>{const n=window.matchMedia(`(max-width: ${i0-1}px)`),r=()=>{e(window.innerWidth<i0)};return n.addEventListener("change",r),e(window.innerWidth<i0),()=>n.removeEventListener("change",r)},[]),!!t}function q_(){const[t,e]=A.useState({width:0,height:0,offsetTop:0});return A.useEffect(()=>{n();function n(){if(typeof window>"u")return;const i=window.visualViewport;if(!i)return;const{width:s=0,height:o=0,offsetTop:a=0}=i;e(u=>s===u.width&&o===u.height&&a===u.offsetTop?u:{width:s,height:o,offsetTop:a})}const r=window.visualViewport;return r&&(r.addEventListener("resize",n),r.addEventListener("scroll",n)),()=>{r&&(r.removeEventListener("resize",n),r.removeEventListener("scroll",n))}},[]),t}function Yz({editor:t,overlayHeight:e=0,elementRef:n=null}){const{height:r}=q_(),[i,s]=A.useState({x:0,y:0,width:0,height:0}),o=A.useCallback(()=>{const a=(n==null?void 0:n.current)??document.body,{x:u,y:c,width:d,height:h}=a.getBoundingClientRect();s({x:u,y:c,width:d,height:h})},[n]);return A.useEffect(()=>{const a=(n==null?void 0:n.current)??document.body;o();const u=new ResizeObserver(()=>{window.requestAnimationFrame(o)});return u.observe(a),window.addEventListener("scroll",o,{passive:!0}),()=>{u.disconnect(),window.removeEventListener("scroll",o)}},[n,o]),A.useEffect(()=>{(()=>{if(!t)return;const{state:u,view:c}=t;if(!c.hasFocus())return;const{from:d}=u.selection,h=c.coordsAtPos(d);if(r<i.height&&h&&!(r-h.top-e>0)){const m=h.top-r/2;window.scrollTo({top:m,behavior:"smooth"})}})()},[t,e,r,i.height]),i}function G_(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=G_(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function X_(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=G_(t))&&(r&&(r+=" "),r+=e);return r}const fx="-",Zz=t=>{const e=Qz(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(fx);return a[0]===""&&a.length!==1&&a.shift(),Y_(a,e)||Jz(o)},getConflictingClassGroupIds:(o,a)=>{const u=n[o]||[];return a&&r[o]?[...u,...r[o]]:u}}},Y_=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?Y_(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(fx);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},o5=/^\[(.+)\]$/,Jz=t=>{if(o5.test(t)){const e=o5.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Qz=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return tU(Object.entries(t.classGroups),n).forEach(([s,o])=>{fb(o,r,s,e)}),r},fb=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:a5(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(eU(i)){fb(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{fb(o,a5(e,s),n,r)})})},a5=(t,e)=>{let n=t;return e.split(fx).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},eU=t=>t.isThemeGetter,tU=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,nU=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},Z_="!",rU=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const u=[];let c=0,d=0,h;for(let x=0;x<a.length;x++){let v=a[x];if(c===0){if(v===i&&(r||a.slice(x,x+s)===e)){u.push(a.slice(d,x)),d=x+s;continue}if(v==="/"){h=x;continue}}v==="["?c++:v==="]"&&c--}const p=u.length===0?a:a.substring(d),m=p.startsWith(Z_),w=m?p.substring(1):p,y=h&&h>d?h-d:void 0;return{modifiers:u,hasImportantModifier:m,baseClassName:w,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:o}):o},iU=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},sU=t=>({cache:nU(t.cacheSize),parseClassName:rU(t),...Zz(t)}),oU=/\s+/,aU=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(oU);let a="";for(let u=o.length-1;u>=0;u-=1){const c=o[u],{modifiers:d,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:m}=n(c);let w=!!m,y=r(w?p.substring(0,m):p);if(!y){if(!w){a=c+(a.length>0?" "+a:a);continue}if(y=r(p),!y){a=c+(a.length>0?" "+a:a);continue}w=!1}const x=iU(d).join(":"),v=h?x+Z_:x,S=v+y;if(s.includes(S))continue;s.push(S);const k=i(y,w);for(let E=0;E<k.length;++E){const R=k[E];s.push(v+R)}a=c+(a.length>0?" "+a:a)}return a};function lU(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=J_(e))&&(r&&(r+=" "),r+=n);return r}const J_=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=J_(t[r]))&&(n&&(n+=" "),n+=e);return n};function uU(t,...e){let n,r,i,s=o;function o(u){const c=e.reduce((d,h)=>h(d),t());return n=sU(c),r=n.cache.get,i=n.cache.set,s=a,a(u)}function a(u){const c=r(u);if(c)return c;const d=aU(u,n);return i(u,d),d}return function(){return s(lU.apply(null,arguments))}}const Rt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Q_=/^\[(?:([a-z-]+):)?(.+)\]$/i,cU=/^\d+\/\d+$/,fU=new Set(["px","full","screen"]),dU=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,hU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,pU=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,mU=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,gU=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Gi=t=>$l(t)||fU.has(t)||cU.test(t),zs=t=>bu(t,"length",SU),$l=t=>!!t&&!Number.isNaN(Number(t)),s0=t=>bu(t,"number",$l),fc=t=>!!t&&Number.isInteger(Number(t)),yU=t=>t.endsWith("%")&&$l(t.slice(0,-1)),et=t=>Q_.test(t),Us=t=>dU.test(t),wU=new Set(["length","size","percentage"]),vU=t=>bu(t,wU,e8),bU=t=>bu(t,"position",e8),xU=new Set(["image","url"]),EU=t=>bu(t,xU,TU),CU=t=>bu(t,"",kU),dc=()=>!0,bu=(t,e,n)=>{const r=Q_.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},SU=t=>hU.test(t)&&!pU.test(t),e8=()=>!1,kU=t=>mU.test(t),TU=t=>gU.test(t),AU=()=>{const t=Rt("colors"),e=Rt("spacing"),n=Rt("blur"),r=Rt("brightness"),i=Rt("borderColor"),s=Rt("borderRadius"),o=Rt("borderSpacing"),a=Rt("borderWidth"),u=Rt("contrast"),c=Rt("grayscale"),d=Rt("hueRotate"),h=Rt("invert"),p=Rt("gap"),m=Rt("gradientColorStops"),w=Rt("gradientColorStopPositions"),y=Rt("inset"),x=Rt("margin"),v=Rt("opacity"),S=Rt("padding"),k=Rt("saturate"),E=Rt("scale"),R=Rt("sepia"),B=Rt("skew"),$=Rt("space"),K=Rt("translate"),F=()=>["auto","contain","none"],ie=()=>["auto","hidden","clip","visible","scroll"],me=()=>["auto",et,e],H=()=>[et,e],X=()=>["",Gi,zs],N=()=>["auto",$l,et],Z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],le=()=>["solid","dashed","dotted","double","none"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Y=()=>["start","end","center","between","around","evenly","stretch"],Q=()=>["","0",et],fe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>[$l,et];return{cacheSize:500,separator:":",theme:{colors:[dc],spacing:[Gi,zs],blur:["none","",Us,et],brightness:U(),borderColor:[t],borderRadius:["none","","full",Us,et],borderSpacing:H(),borderWidth:X(),contrast:U(),grayscale:Q(),hueRotate:U(),invert:Q(),gap:H(),gradientColorStops:[t],gradientColorStopPositions:[yU,zs],inset:me(),margin:me(),opacity:U(),padding:H(),saturate:U(),scale:U(),sepia:Q(),skew:U(),space:H(),translate:H()},classGroups:{aspect:[{aspect:["auto","square","video",et]}],container:["container"],columns:[{columns:[Us]}],"break-after":[{"break-after":fe()}],"break-before":[{"break-before":fe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Z(),et]}],overflow:[{overflow:ie()}],"overflow-x":[{"overflow-x":ie()}],"overflow-y":[{"overflow-y":ie()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",fc,et]}],basis:[{basis:me()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",et]}],grow:[{grow:Q()}],shrink:[{shrink:Q()}],order:[{order:["first","last","none",fc,et]}],"grid-cols":[{"grid-cols":[dc]}],"col-start-end":[{col:["auto",{span:["full",fc,et]},et]}],"col-start":[{"col-start":N()}],"col-end":[{"col-end":N()}],"grid-rows":[{"grid-rows":[dc]}],"row-start-end":[{row:["auto",{span:[fc,et]},et]}],"row-start":[{"row-start":N()}],"row-end":[{"row-end":N()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",et]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",et]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...Y()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Y(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Y(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[S]}],px:[{px:[S]}],py:[{py:[S]}],ps:[{ps:[S]}],pe:[{pe:[S]}],pt:[{pt:[S]}],pr:[{pr:[S]}],pb:[{pb:[S]}],pl:[{pl:[S]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[$]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[$]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",et,e]}],"min-w":[{"min-w":[et,e,"min","max","fit"]}],"max-w":[{"max-w":[et,e,"none","full","min","max","fit","prose",{screen:[Us]},Us]}],h:[{h:[et,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[et,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[et,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[et,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Us,zs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",s0]}],"font-family":[{font:[dc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",et]}],"line-clamp":[{"line-clamp":["none",$l,s0]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Gi,et]}],"list-image":[{"list-image":["none",et]}],"list-style-type":[{list:["none","disc","decimal",et]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...le(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Gi,zs]}],"underline-offset":[{"underline-offset":["auto",Gi,et]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:H()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",et]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",et]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Z(),bU]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",vU]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},EU]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...le(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:le()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...le()]}],"outline-offset":[{"outline-offset":[Gi,et]}],"outline-w":[{outline:[Gi,zs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Gi,zs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Us,CU]}],"shadow-color":[{shadow:[dc]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...G(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Us,et]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[k]}],sepia:[{sepia:[R]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[R]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",et]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",et]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",et]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[fc,et]}],"translate-x":[{"translate-x":[K]}],"translate-y":[{"translate-y":[K]}],"skew-x":[{"skew-x":[B]}],"skew-y":[{"skew-y":[B]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",et]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",et]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":H()}],"scroll-mx":[{"scroll-mx":H()}],"scroll-my":[{"scroll-my":H()}],"scroll-ms":[{"scroll-ms":H()}],"scroll-me":[{"scroll-me":H()}],"scroll-mt":[{"scroll-mt":H()}],"scroll-mr":[{"scroll-mr":H()}],"scroll-mb":[{"scroll-mb":H()}],"scroll-ml":[{"scroll-ml":H()}],"scroll-p":[{"scroll-p":H()}],"scroll-px":[{"scroll-px":H()}],"scroll-py":[{"scroll-py":H()}],"scroll-ps":[{"scroll-ps":H()}],"scroll-pe":[{"scroll-pe":H()}],"scroll-pt":[{"scroll-pt":H()}],"scroll-pr":[{"scroll-pr":H()}],"scroll-pb":[{"scroll-pb":H()}],"scroll-pl":[{"scroll-pl":H()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",et]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Gi,zs,s0]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},_U=uU(AU);function wn(...t){return _U(X_(t))}const t8=A.forwardRef(({className:t,...e},n)=>z.jsx("div",{ref:n,className:wn("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));t8.displayName="Card";const RU=A.forwardRef(({className:t,...e},n)=>z.jsx("div",{ref:n,className:wn("flex flex-col space-y-1.5 p-6",t),...e}));RU.displayName="CardHeader";const NU=A.forwardRef(({className:t,...e},n)=>z.jsx("div",{ref:n,className:wn("text-2xl font-semibold leading-none tracking-tight",t),...e}));NU.displayName="CardTitle";const OU=A.forwardRef(({className:t,...e},n)=>z.jsx("div",{ref:n,className:wn("text-sm text-muted-foreground",t),...e}));OU.displayName="CardDescription";const n8=A.forwardRef(({className:t,...e},n)=>z.jsx("div",{ref:n,className:wn("p-6 pt-0",t),...e}));n8.displayName="CardContent";const IU=A.forwardRef(({className:t,...e},n)=>z.jsx("div",{ref:n,className:wn("flex items-center p-6 pt-0",t),...e}));IU.displayName="CardFooter";var l5=1,MU=.9,DU=.8,LU=.17,o0=.1,a0=.999,PU=.9999,FU=.99,BU=/[\\\/_+.#"@\[\(\{&]/,jU=/[\\\/_+.#"@\[\(\{&]/g,HU=/[\s-]/,r8=/[\s-]/g;function db(t,e,n,r,i,s,o){if(s===e.length)return i===t.length?l5:FU;var a=`${i},${s}`;if(o[a]!==void 0)return o[a];for(var u=r.charAt(s),c=n.indexOf(u,i),d=0,h,p,m,w;c>=0;)h=db(t,e,n,r,c+1,s+1,o),h>d&&(c===i?h*=l5:BU.test(t.charAt(c-1))?(h*=DU,m=t.slice(i,c-1).match(jU),m&&i>0&&(h*=Math.pow(a0,m.length))):HU.test(t.charAt(c-1))?(h*=MU,w=t.slice(i,c-1).match(r8),w&&i>0&&(h*=Math.pow(a0,w.length))):(h*=LU,i>0&&(h*=Math.pow(a0,c-i))),t.charAt(c)!==e.charAt(s)&&(h*=PU)),(h<o0&&n.charAt(c-1)===r.charAt(s+1)||r.charAt(s+1)===r.charAt(s)&&n.charAt(c-1)!==r.charAt(s))&&(p=db(t,e,n,r,c+1,s+2,o),p*o0>h&&(h=p*o0)),h>d&&(d=h),c=n.indexOf(u,c+1);return o[a]=d,d}function u5(t){return t.toLowerCase().replace(r8," ")}function $U(t,e,n){return t=n&&n.length>0?`${t+" "+n.join(" ")}`:t,db(t,e,u5(t),u5(e),0,0,{})}function Qn(){return Qn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qn.apply(null,arguments)}function zl(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function zU(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function i8(...t){return e=>t.forEach(n=>zU(n,e))}function Pf(...t){return A.useCallback(i8(...t),t)}function UU(t,e=[]){let n=[];function r(s,o){const a=A.createContext(o),u=n.length;n=[...n,o];function c(h){const{scope:p,children:m,...w}=h,y=(p==null?void 0:p[t][u])||a,x=A.useMemo(()=>w,Object.values(w));return A.createElement(y.Provider,{value:x},m)}function d(h,p){const m=(p==null?void 0:p[t][u])||a,w=A.useContext(m);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,d]}const i=()=>{const s=n.map(o=>A.createContext(o));return function(a){const u=(a==null?void 0:a[t])||s;return A.useMemo(()=>({[`__scope${t}`]:{...a,[t]:u}}),[a,u])}};return i.scopeName=t,[r,VU(i,...e)]}function VU(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:u,scopeName:c})=>{const h=u(s)[`__scope${c}`];return{...a,...h}},{});return A.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}const WU=globalThis!=null&&globalThis.document?A.useLayoutEffect:()=>{},KU=f2.useId||(()=>{});let qU=0;function l0(t){const[e,n]=A.useState(KU());return WU(()=>{t||n(r=>r??String(qU++))},[t]),t||(e?`radix-${e}`:"")}function s8(t){const e=A.useRef(t);return A.useEffect(()=>{e.current=t}),A.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}function GU({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=XU({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=s8(n),u=A.useCallback(c=>{if(s){const h=typeof c=="function"?c(t):c;h!==t&&a(h)}else i(c)},[s,t,i,a]);return[o,u]}function XU({defaultProp:t,onChange:e}){const n=A.useState(t),[r]=n,i=A.useRef(r),s=s8(e);return A.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}const dx=A.forwardRef((t,e)=>{const{children:n,...r}=t,i=A.Children.toArray(n),s=i.find(ZU);if(s){const o=s.props.children,a=i.map(u=>u===s?A.Children.count(o)>1?A.Children.only(null):A.isValidElement(o)?o.props.children:null:u);return A.createElement(hb,Qn({},r,{ref:e}),A.isValidElement(o)?A.cloneElement(o,void 0,a):null)}return A.createElement(hb,Qn({},r,{ref:e}),n)});dx.displayName="Slot";const hb=A.forwardRef((t,e)=>{const{children:n,...r}=t;return A.isValidElement(n)?A.cloneElement(n,{...JU(r,n.props),ref:e?i8(e,n.ref):n.ref}):A.Children.count(n)>1?A.Children.only(null):null});hb.displayName="SlotClone";const YU=({children:t})=>A.createElement(A.Fragment,null,t);function ZU(t){return A.isValidElement(t)&&t.type===YU}function JU(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}const QU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Xr=QU.reduce((t,e)=>{const n=A.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?dx:e;return A.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),A.createElement(a,Qn({},o,{ref:i}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function eV(t,e){t&&Fa.flushSync(()=>t.dispatchEvent(e))}function hx(t){const e=A.useRef(t);return A.useEffect(()=>{e.current=t}),A.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}function tV(t,e=globalThis==null?void 0:globalThis.document){const n=hx(t);A.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r),()=>e.removeEventListener("keydown",r)},[n,e])}const pb="dismissableLayer.update",nV="dismissableLayer.pointerDownOutside",rV="dismissableLayer.focusOutside";let c5;const iV=A.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),sV=A.forwardRef((t,e)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:u,...c}=t,d=A.useContext(iV),[h,p]=A.useState(null),m=(n=h==null?void 0:h.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,w]=A.useState({}),y=Pf(e,K=>p(K)),x=Array.from(d.layers),[v]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),S=x.indexOf(v),k=h?x.indexOf(h):-1,E=d.layersWithOutsidePointerEventsDisabled.size>0,R=k>=S,B=oV(K=>{const F=K.target,ie=[...d.branches].some(me=>me.contains(F));!R||ie||(s==null||s(K),a==null||a(K),K.defaultPrevented||u==null||u())},m),$=aV(K=>{const F=K.target;[...d.branches].some(me=>me.contains(F))||(o==null||o(K),a==null||a(K),K.defaultPrevented||u==null||u())},m);return tV(K=>{k===d.layers.size-1&&(i==null||i(K),!K.defaultPrevented&&u&&(K.preventDefault(),u()))},m),A.useEffect(()=>{if(h)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(c5=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),f5(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=c5)}},[h,m,r,d]),A.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),f5())},[h,d]),A.useEffect(()=>{const K=()=>w({});return document.addEventListener(pb,K),()=>document.removeEventListener(pb,K)},[]),A.createElement(Xr.div,Qn({},c,{ref:y,style:{pointerEvents:E?R?"auto":"none":void 0,...t.style},onFocusCapture:zl(t.onFocusCapture,$.onFocusCapture),onBlurCapture:zl(t.onBlurCapture,$.onBlurCapture),onPointerDownCapture:zl(t.onPointerDownCapture,B.onPointerDownCapture)}))});function oV(t,e=globalThis==null?void 0:globalThis.document){const n=hx(t),r=A.useRef(!1),i=A.useRef(()=>{});return A.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let d=function(){o8(nV,n,c,{discrete:!0})};var u=d;const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=d,e.addEventListener("click",i.current,{once:!0})):d()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function aV(t,e=globalThis==null?void 0:globalThis.document){const n=hx(t),r=A.useRef(!1);return A.useEffect(()=>{const i=s=>{s.target&&!r.current&&o8(rV,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function f5(){const t=new CustomEvent(pb);document.dispatchEvent(t)}function o8(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?eV(i,s):i.dispatchEvent(s)}function d5(t){const e=A.useRef(t);return A.useEffect(()=>{e.current=t}),A.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}const u0="focusScope.autoFocusOnMount",c0="focusScope.autoFocusOnUnmount",h5={bubbles:!1,cancelable:!0},lV=A.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,u]=A.useState(null),c=d5(i),d=d5(s),h=A.useRef(null),p=Pf(e,y=>u(y)),m=A.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;A.useEffect(()=>{if(r){let S=function(B){if(m.paused||!a)return;const $=B.target;a.contains($)?h.current=$:qs(h.current,{select:!0})},k=function(B){if(m.paused||!a)return;const $=B.relatedTarget;$!==null&&(a.contains($)||qs(h.current,{select:!0}))},E=function(B){if(document.activeElement===document.body)for(const K of B)K.removedNodes.length>0&&qs(a)};var y=S,x=k,v=E;document.addEventListener("focusin",S),document.addEventListener("focusout",k);const R=new MutationObserver(E);return a&&R.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",k),R.disconnect()}}},[r,a,m.paused]),A.useEffect(()=>{if(a){m5.add(m);const y=document.activeElement;if(!a.contains(y)){const v=new CustomEvent(u0,h5);a.addEventListener(u0,c),a.dispatchEvent(v),v.defaultPrevented||(uV(pV(a8(a)),{select:!0}),document.activeElement===y&&qs(a))}return()=>{a.removeEventListener(u0,c),setTimeout(()=>{const v=new CustomEvent(c0,h5);a.addEventListener(c0,d),a.dispatchEvent(v),v.defaultPrevented||qs(y??document.body,{select:!0}),a.removeEventListener(c0,d),m5.remove(m)},0)}}},[a,c,d,m]);const w=A.useCallback(y=>{if(!n&&!r||m.paused)return;const x=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,v=document.activeElement;if(x&&v){const S=y.currentTarget,[k,E]=cV(S);k&&E?!y.shiftKey&&v===E?(y.preventDefault(),n&&qs(k,{select:!0})):y.shiftKey&&v===k&&(y.preventDefault(),n&&qs(E,{select:!0})):v===S&&y.preventDefault()}},[n,r,m.paused]);return A.createElement(Xr.div,Qn({tabIndex:-1},o,{ref:p,onKeyDown:w}))});function uV(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(qs(r,{select:e}),document.activeElement!==n)return}function cV(t){const e=a8(t),n=p5(e,t),r=p5(e.reverse(),t);return[n,r]}function a8(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function p5(t,e){for(const n of t)if(!fV(n,{upTo:e}))return n}function fV(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function dV(t){return t instanceof HTMLInputElement&&"select"in t}function qs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&dV(t)&&e&&t.select()}}const m5=hV();function hV(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=g5(t,e),t.unshift(e)},remove(e){var n;t=g5(t,e),(n=t[0])===null||n===void 0||n.resume()}}}function g5(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function pV(t){return t.filter(e=>e.tagName!=="A")}const mV=A.forwardRef((t,e)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...i}=t;return r?$2.createPortal(A.createElement(Xr.div,Qn({},i,{ref:e})),r):null}),y5=globalThis!=null&&globalThis.document?A.useLayoutEffect:()=>{};function gV(t,e){return A.useReducer((n,r)=>{const i=e[n][r];return i??n},t)}const sg=t=>{const{present:e,children:n}=t,r=yV(e),i=typeof n=="function"?n({present:r.isPresent}):A.Children.only(n),s=Pf(r.ref,i.ref);return typeof n=="function"||r.isPresent?A.cloneElement(i,{ref:s}):null};sg.displayName="Presence";function yV(t){const[e,n]=A.useState(),r=A.useRef({}),i=A.useRef(t),s=A.useRef("none"),o=t?"mounted":"unmounted",[a,u]=gV(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return A.useEffect(()=>{const c=xh(r.current);s.current=a==="mounted"?c:"none"},[a]),y5(()=>{const c=r.current,d=i.current;if(d!==t){const p=s.current,m=xh(c);t?u("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?u("UNMOUNT"):u(d&&p!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,u]),y5(()=>{if(e){const c=h=>{const m=xh(r.current).includes(h.animationName);h.target===e&&m&&Fa.flushSync(()=>u("ANIMATION_END"))},d=h=>{h.target===e&&(s.current=xh(r.current))};return e.addEventListener("animationstart",d),e.addEventListener("animationcancel",c),e.addEventListener("animationend",c),()=>{e.removeEventListener("animationstart",d),e.removeEventListener("animationcancel",c),e.removeEventListener("animationend",c)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:A.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function xh(t){return(t==null?void 0:t.animationName)||"none"}let f0=0;function wV(){A.useEffect(()=>{var t,e;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=n[0])!==null&&t!==void 0?t:w5()),document.body.insertAdjacentElement("beforeend",(e=n[1])!==null&&e!==void 0?e:w5()),f0++,()=>{f0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),f0--}},[])}function w5(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}var Bn=function(){return Bn=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Bn.apply(this,arguments)};function px(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function l8(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var Fc="right-scroll-bar-position",Bc="width-before-scroll-bar",vV="with-scroll-bars-hidden",bV="--removed-body-scroll-bar-size";function d0(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function xV(t,e){var n=A.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var EV=typeof window<"u"?A.useLayoutEffect:A.useEffect,v5=new WeakMap;function u8(t,e){var n=xV(null,function(r){return t.forEach(function(i){return d0(i,r)})});return EV(function(){var r=v5.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||d0(a,null)}),s.forEach(function(a){i.has(a)||d0(a,o)})}v5.set(n,t)},[t]),n}function CV(t){return t}function SV(t,e){e===void 0&&(e=CV);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var u=function(){var d=o;o=[],d.forEach(s)},c=function(){return Promise.resolve().then(u)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return i}function c8(t){t===void 0&&(t={});var e=SV(null);return e.options=Bn({async:!0,ssr:!1},t),e}var f8=function(t){var e=t.sideCar,n=px(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return A.createElement(r,Bn({},n))};f8.isSideCarExport=!0;function d8(t,e){return t.useMedium(e),f8}var h8=c8(),h0=function(){},og=A.forwardRef(function(t,e){var n=A.useRef(null),r=A.useState({onScrollCapture:h0,onWheelCapture:h0,onTouchMoveCapture:h0}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,u=t.className,c=t.removeScrollBar,d=t.enabled,h=t.shards,p=t.sideCar,m=t.noIsolation,w=t.inert,y=t.allowPinchZoom,x=t.as,v=x===void 0?"div":x,S=px(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),k=p,E=u8([n,e]),R=Bn(Bn({},S),i);return A.createElement(A.Fragment,null,d&&A.createElement(k,{sideCar:h8,removeScrollBar:c,shards:h,noIsolation:m,inert:w,setCallbacks:s,allowPinchZoom:!!y,lockRef:n}),o?A.cloneElement(A.Children.only(a),Bn(Bn({},R),{ref:E})):A.createElement(v,Bn({},R,{className:u,ref:E}),a))});og.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};og.classNames={fullWidth:Bc,zeroRight:Fc};var kV=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function TV(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=kV();return e&&t.setAttribute("nonce",e),t}function AV(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function _V(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var RV=function(){var t=0,e=null;return{add:function(n){t==0&&(e=TV())&&(AV(e,n),_V(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},NV=function(){var t=RV();return function(e,n){A.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},mx=function(){var t=NV(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},OV={left:0,top:0,right:0,gap:0},p0=function(t){return parseInt(t||"",10)||0},IV=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[p0(n),p0(r),p0(i)]},MV=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return OV;var e=IV(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},DV=mx(),Ul="data-scroll-locked",LV=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(vV,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Ul,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Fc,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Bc,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Fc," .").concat(Fc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Bc," .").concat(Bc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ul,`] {
    `).concat(bV,": ").concat(a,`px;
  }
`)},b5=function(){var t=parseInt(document.body.getAttribute(Ul)||"0",10);return isFinite(t)?t:0},PV=function(){A.useEffect(function(){return document.body.setAttribute(Ul,(b5()+1).toString()),function(){var t=b5()-1;t<=0?document.body.removeAttribute(Ul):document.body.setAttribute(Ul,t.toString())}},[])},p8=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;PV();var s=A.useMemo(function(){return MV(i)},[i]);return A.createElement(DV,{styles:LV(s,!e,i,n?"":"!important")})},mb=!1;if(typeof window<"u")try{var Eh=Object.defineProperty({},"passive",{get:function(){return mb=!0,!0}});window.addEventListener("test",Eh,Eh),window.removeEventListener("test",Eh,Eh)}catch{mb=!1}var bl=mb?{passive:!1}:!1,FV=function(t){return t.tagName==="TEXTAREA"},m8=function(t,e){var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!FV(t)&&n[e]==="visible")},BV=function(t){return m8(t,"overflowY")},jV=function(t){return m8(t,"overflowX")},x5=function(t,e){var n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=g8(t,n);if(r){var i=y8(t,n),s=i[1],o=i[2];if(s>o)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},HV=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},$V=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},g8=function(t,e){return t==="v"?BV(e):jV(e)},y8=function(t,e){return t==="v"?HV(e):$V(e)},zV=function(t,e){return t==="h"&&e==="rtl"?-1:1},UV=function(t,e,n,r,i){var s=zV(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,u=e.contains(a),c=!1,d=o>0,h=0,p=0;do{var m=y8(t,a),w=m[0],y=m[1],x=m[2],v=y-x-s*w;(w||v)&&g8(t,a)&&(h+=v,p+=w),a=a.parentNode}while(!u&&a!==document.body||u&&(e.contains(a)||e===a));return(d&&h===0||!d&&p===0)&&(c=!0),c},Ch=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},E5=function(t){return[t.deltaX,t.deltaY]},C5=function(t){return t&&"current"in t?t.current:t},VV=function(t,e){return t[0]===e[0]&&t[1]===e[1]},WV=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},KV=0,xl=[];function qV(t){var e=A.useRef([]),n=A.useRef([0,0]),r=A.useRef(),i=A.useState(KV++)[0],s=A.useState(function(){return mx()})[0],o=A.useRef(t);A.useEffect(function(){o.current=t},[t]),A.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var y=l8([t.lockRef.current],(t.shards||[]).map(C5),!0).filter(Boolean);return y.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=A.useCallback(function(y,x){if("touches"in y&&y.touches.length===2)return!o.current.allowPinchZoom;var v=Ch(y),S=n.current,k="deltaX"in y?y.deltaX:S[0]-v[0],E="deltaY"in y?y.deltaY:S[1]-v[1],R,B=y.target,$=Math.abs(k)>Math.abs(E)?"h":"v";if("touches"in y&&$==="h"&&B.type==="range")return!1;var K=x5($,B);if(!K)return!0;if(K?R=$:(R=$==="v"?"h":"v",K=x5($,B)),!K)return!1;if(!r.current&&"changedTouches"in y&&(k||E)&&(r.current=R),!R)return!0;var F=r.current||R;return UV(F,x,y,F==="h"?k:E)},[]),u=A.useCallback(function(y){var x=y;if(!(!xl.length||xl[xl.length-1]!==s)){var v="deltaY"in x?E5(x):Ch(x),S=e.current.filter(function(R){return R.name===x.type&&R.target===x.target&&VV(R.delta,v)})[0];if(S&&S.should){x.cancelable&&x.preventDefault();return}if(!S){var k=(o.current.shards||[]).map(C5).filter(Boolean).filter(function(R){return R.contains(x.target)}),E=k.length>0?a(x,k[0]):!o.current.noIsolation;E&&x.cancelable&&x.preventDefault()}}},[]),c=A.useCallback(function(y,x,v,S){var k={name:y,delta:x,target:v,should:S};e.current.push(k),setTimeout(function(){e.current=e.current.filter(function(E){return E!==k})},1)},[]),d=A.useCallback(function(y){n.current=Ch(y),r.current=void 0},[]),h=A.useCallback(function(y){c(y.type,E5(y),y.target,a(y,t.lockRef.current))},[]),p=A.useCallback(function(y){c(y.type,Ch(y),y.target,a(y,t.lockRef.current))},[]);A.useEffect(function(){return xl.push(s),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",u,bl),document.addEventListener("touchmove",u,bl),document.addEventListener("touchstart",d,bl),function(){xl=xl.filter(function(y){return y!==s}),document.removeEventListener("wheel",u,bl),document.removeEventListener("touchmove",u,bl),document.removeEventListener("touchstart",d,bl)}},[]);var m=t.removeScrollBar,w=t.inert;return A.createElement(A.Fragment,null,w?A.createElement(s,{styles:WV(i)}):null,m?A.createElement(p8,{gapMode:"margin"}):null)}const GV=d8(h8,qV);var w8=A.forwardRef(function(t,e){return A.createElement(og,Bn({},t,{ref:e,sideCar:GV}))});w8.classNames=og.classNames;var XV=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},El=new WeakMap,Sh=new WeakMap,kh={},m0=0,v8=function(t){return t&&(t.host||v8(t.parentNode))},YV=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=v8(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},ZV=function(t,e,n,r){var i=YV(e,Array.isArray(t)?t:[t]);kh[n]||(kh[n]=new WeakMap);var s=kh[n],o=[],a=new Set,u=new Set(i),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};i.forEach(c);var d=function(h){!h||u.has(h)||Array.prototype.forEach.call(h.children,function(p){if(a.has(p))d(p);else try{var m=p.getAttribute(r),w=m!==null&&m!=="false",y=(El.get(p)||0)+1,x=(s.get(p)||0)+1;El.set(p,y),s.set(p,x),o.push(p),y===1&&w&&Sh.set(p,!0),x===1&&p.setAttribute(n,"true"),w||p.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",p,v)}})};return d(e),a.clear(),m0++,function(){o.forEach(function(h){var p=El.get(h)-1,m=s.get(h)-1;El.set(h,p),s.set(h,m),p||(Sh.has(h)||h.removeAttribute(r),Sh.delete(h)),m||h.removeAttribute(n)}),m0--,m0||(El=new WeakMap,El=new WeakMap,Sh=new WeakMap,kh={})}},b8=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=XV(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),ZV(r,i,n,"aria-hidden")):function(){return null}};const x8="Dialog",[E8,fae]=UU(x8),[JV,$a]=E8(x8),QV=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=A.useRef(null),u=A.useRef(null),[c=!1,d]=GU({prop:r,defaultProp:i,onChange:s});return A.createElement(JV,{scope:e,triggerRef:a,contentRef:u,contentId:l0(),titleId:l0(),descriptionId:l0(),open:c,onOpenChange:d,onOpenToggle:A.useCallback(()=>d(h=>!h),[d]),modal:o},n)},C8="DialogPortal",[eW,S8]=E8(C8,{forceMount:void 0}),tW=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=$a(C8,e);return A.createElement(eW,{scope:e,forceMount:n},A.Children.map(r,o=>A.createElement(sg,{present:n||s.open},A.createElement(mV,{asChild:!0,container:i},o))))},gb="DialogOverlay",nW=A.forwardRef((t,e)=>{const n=S8(gb,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=$a(gb,t.__scopeDialog);return s.modal?A.createElement(sg,{present:r||s.open},A.createElement(rW,Qn({},i,{ref:e}))):null}),rW=A.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=$a(gb,n);return A.createElement(w8,{as:dx,allowPinchZoom:!0,shards:[i.contentRef]},A.createElement(Xr.div,Qn({"data-state":T8(i.open)},r,{ref:e,style:{pointerEvents:"auto",...r.style}})))}),af="DialogContent",iW=A.forwardRef((t,e)=>{const n=S8(af,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=$a(af,t.__scopeDialog);return A.createElement(sg,{present:r||s.open},s.modal?A.createElement(sW,Qn({},i,{ref:e})):A.createElement(oW,Qn({},i,{ref:e})))}),sW=A.forwardRef((t,e)=>{const n=$a(af,t.__scopeDialog),r=A.useRef(null),i=Pf(e,n.contentRef,r);return A.useEffect(()=>{const s=r.current;if(s)return b8(s)},[]),A.createElement(k8,Qn({},t,{ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:zl(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)===null||o===void 0||o.focus()}),onPointerDownOutside:zl(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:zl(t.onFocusOutside,s=>s.preventDefault())}))}),oW=A.forwardRef((t,e)=>{const n=$a(af,t.__scopeDialog),r=A.useRef(!1),i=A.useRef(!1);return A.createElement(k8,Qn({},t,{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o;if((o=t.onCloseAutoFocus)===null||o===void 0||o.call(t,s),!s.defaultPrevented){var a;r.current||(a=n.triggerRef.current)===null||a===void 0||a.focus(),s.preventDefault()}r.current=!1,i.current=!1},onInteractOutside:s=>{var o,a;(o=t.onInteractOutside)===null||o===void 0||o.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const u=s.target;((a=n.triggerRef.current)===null||a===void 0?void 0:a.contains(u))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}}))}),k8=A.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=$a(af,n),u=A.useRef(null),c=Pf(e,u);return wV(),A.createElement(A.Fragment,null,A.createElement(lV,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s},A.createElement(sV,Qn({role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":T8(a.open)},o,{ref:c,onDismiss:()=>a.onOpenChange(!1)}))),!1)});function T8(t){return t?"open":"closed"}const aW=QV,lW=tW,uW=nW,cW=iW;var hc='[cmdk-group=""]',g0='[cmdk-group-items=""]',fW='[cmdk-group-heading=""]',gx='[cmdk-item=""]',S5=`${gx}:not([aria-disabled="true"])`,yb="cmdk-item-select",ia="data-value",dW=(t,e,n)=>$U(t,e,n),A8=A.createContext(void 0),Ff=()=>A.useContext(A8),_8=A.createContext(void 0),yx=()=>A.useContext(_8),R8=A.createContext(void 0),N8=A.forwardRef((t,e)=>{let n=Nl(()=>{var O,ee;return{search:"",value:(ee=(O=t.value)!=null?O:t.defaultValue)!=null?ee:"",filtered:{count:0,items:new Map,groups:new Set}}}),r=Nl(()=>new Set),i=Nl(()=>new Map),s=Nl(()=>new Map),o=Nl(()=>new Set),a=O8(t),{label:u,children:c,value:d,onValueChange:h,filter:p,shouldFilter:m,loop:w,disablePointerSelection:y=!1,vimBindings:x=!0,...v}=t,S=A.useId(),k=A.useId(),E=A.useId(),R=A.useRef(null),B=CW();Ra(()=>{if(d!==void 0){let O=d.trim();n.current.value=O,$.emit()}},[d]),Ra(()=>{B(6,X)},[]);let $=A.useMemo(()=>({subscribe:O=>(o.current.add(O),()=>o.current.delete(O)),snapshot:()=>n.current,setState:(O,ee,oe)=>{var ae,re,P;if(!Object.is(n.current[O],ee)){if(n.current[O]=ee,O==="search")H(),ie(),B(1,me);else if(O==="value"&&(oe||B(5,X),((ae=a.current)==null?void 0:ae.value)!==void 0)){let L=ee??"";(P=(re=a.current).onValueChange)==null||P.call(re,L);return}$.emit()}},emit:()=>{o.current.forEach(O=>O())}}),[]),K=A.useMemo(()=>({value:(O,ee,oe)=>{var ae;ee!==((ae=s.current.get(O))==null?void 0:ae.value)&&(s.current.set(O,{value:ee,keywords:oe}),n.current.filtered.items.set(O,F(ee,oe)),B(2,()=>{ie(),$.emit()}))},item:(O,ee)=>(r.current.add(O),ee&&(i.current.has(ee)?i.current.get(ee).add(O):i.current.set(ee,new Set([O]))),B(3,()=>{H(),ie(),n.current.value||me(),$.emit()}),()=>{s.current.delete(O),r.current.delete(O),n.current.filtered.items.delete(O);let oe=N();B(4,()=>{H(),(oe==null?void 0:oe.getAttribute("id"))===O&&me(),$.emit()})}),group:O=>(i.current.has(O)||i.current.set(O,new Set),()=>{s.current.delete(O),i.current.delete(O)}),filter:()=>a.current.shouldFilter,label:u||t["aria-label"],disablePointerSelection:y,listId:S,inputId:E,labelId:k,listInnerRef:R}),[]);function F(O,ee){var oe,ae;let re=(ae=(oe=a.current)==null?void 0:oe.filter)!=null?ae:dW;return O?re(O,n.current.search,ee):0}function ie(){if(!n.current.search||a.current.shouldFilter===!1)return;let O=n.current.filtered.items,ee=[];n.current.filtered.groups.forEach(ae=>{let re=i.current.get(ae),P=0;re.forEach(L=>{let se=O.get(L);P=Math.max(se,P)}),ee.push([ae,P])});let oe=R.current;Z().sort((ae,re)=>{var P,L;let se=ae.getAttribute("id"),te=re.getAttribute("id");return((P=O.get(te))!=null?P:0)-((L=O.get(se))!=null?L:0)}).forEach(ae=>{let re=ae.closest(g0);re?re.appendChild(ae.parentElement===re?ae:ae.closest(`${g0} > *`)):oe.appendChild(ae.parentElement===oe?ae:ae.closest(`${g0} > *`))}),ee.sort((ae,re)=>re[1]-ae[1]).forEach(ae=>{let re=R.current.querySelector(`${hc}[${ia}="${encodeURIComponent(ae[0])}"]`);re==null||re.parentElement.appendChild(re)})}function me(){let O=Z().find(oe=>oe.getAttribute("aria-disabled")!=="true"),ee=O==null?void 0:O.getAttribute(ia);$.setState("value",ee||void 0)}function H(){var O,ee,oe,ae;if(!n.current.search||a.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let re=0;for(let P of r.current){let L=(ee=(O=s.current.get(P))==null?void 0:O.value)!=null?ee:"",se=(ae=(oe=s.current.get(P))==null?void 0:oe.keywords)!=null?ae:[],te=F(L,se);n.current.filtered.items.set(P,te),te>0&&re++}for(let[P,L]of i.current)for(let se of L)if(n.current.filtered.items.get(se)>0){n.current.filtered.groups.add(P);break}n.current.filtered.count=re}function X(){var O,ee,oe;let ae=N();ae&&(((O=ae.parentElement)==null?void 0:O.firstChild)===ae&&((oe=(ee=ae.closest(hc))==null?void 0:ee.querySelector(fW))==null||oe.scrollIntoView({block:"nearest"})),ae.scrollIntoView({block:"nearest"}))}function N(){var O;return(O=R.current)==null?void 0:O.querySelector(`${gx}[aria-selected="true"]`)}function Z(){var O;return Array.from((O=R.current)==null?void 0:O.querySelectorAll(S5))}function le(O){let ee=Z()[O];ee&&$.setState("value",ee.getAttribute(ia))}function G(O){var ee;let oe=N(),ae=Z(),re=ae.findIndex(L=>L===oe),P=ae[re+O];(ee=a.current)!=null&&ee.loop&&(P=re+O<0?ae[ae.length-1]:re+O===ae.length?ae[0]:ae[re+O]),P&&$.setState("value",P.getAttribute(ia))}function Y(O){let ee=N(),oe=ee==null?void 0:ee.closest(hc),ae;for(;oe&&!ae;)oe=O>0?xW(oe,hc):EW(oe,hc),ae=oe==null?void 0:oe.querySelector(S5);ae?$.setState("value",ae.getAttribute(ia)):G(O)}let Q=()=>le(Z().length-1),fe=O=>{O.preventDefault(),O.metaKey?Q():O.altKey?Y(1):G(1)},U=O=>{O.preventDefault(),O.metaKey?le(0):O.altKey?Y(-1):G(-1)};return A.createElement(Xr.div,{ref:e,tabIndex:-1,...v,"cmdk-root":"",onKeyDown:O=>{var ee;if((ee=v.onKeyDown)==null||ee.call(v,O),!O.defaultPrevented)switch(O.key){case"n":case"j":{x&&O.ctrlKey&&fe(O);break}case"ArrowDown":{fe(O);break}case"p":case"k":{x&&O.ctrlKey&&U(O);break}case"ArrowUp":{U(O);break}case"Home":{O.preventDefault(),le(0);break}case"End":{O.preventDefault(),Q();break}case"Enter":if(!O.nativeEvent.isComposing&&O.keyCode!==229){O.preventDefault();let oe=N();if(oe){let ae=new Event(yb);oe.dispatchEvent(ae)}}}}},A.createElement("label",{"cmdk-label":"",htmlFor:K.inputId,id:K.labelId,style:kW},u),ag(t,O=>A.createElement(_8.Provider,{value:$},A.createElement(A8.Provider,{value:K},O))))}),hW=A.forwardRef((t,e)=>{var n,r;let i=A.useId(),s=A.useRef(null),o=A.useContext(R8),a=Ff(),u=O8(t),c=(r=(n=u.current)==null?void 0:n.forceMount)!=null?r:o==null?void 0:o.forceMount;Ra(()=>{if(!c)return a.item(i,o==null?void 0:o.id)},[c]);let d=I8(i,s,[t.value,t.children,s],t.keywords),h=yx(),p=Na(B=>B.value&&B.value===d.current),m=Na(B=>c||a.filter()===!1?!0:B.search?B.filtered.items.get(i)>0:!0);A.useEffect(()=>{let B=s.current;if(!(!B||t.disabled))return B.addEventListener(yb,w),()=>B.removeEventListener(yb,w)},[m,t.onSelect,t.disabled]);function w(){var B,$;y(),($=(B=u.current).onSelect)==null||$.call(B,d.current)}function y(){h.setState("value",d.current,!0)}if(!m)return null;let{disabled:x,value:v,onSelect:S,forceMount:k,keywords:E,...R}=t;return A.createElement(Xr.div,{ref:lf([s,e]),...R,id:i,"cmdk-item":"",role:"option","aria-disabled":!!x,"aria-selected":!!p,"data-disabled":!!x,"data-selected":!!p,onPointerMove:x||a.disablePointerSelection?void 0:y,onClick:x?void 0:w},t.children)}),pW=A.forwardRef((t,e)=>{let{heading:n,children:r,forceMount:i,...s}=t,o=A.useId(),a=A.useRef(null),u=A.useRef(null),c=A.useId(),d=Ff(),h=Na(m=>i||d.filter()===!1?!0:m.search?m.filtered.groups.has(o):!0);Ra(()=>d.group(o),[]),I8(o,a,[t.value,t.heading,u]);let p=A.useMemo(()=>({id:o,forceMount:i}),[i]);return A.createElement(Xr.div,{ref:lf([a,e]),...s,"cmdk-group":"",role:"presentation",hidden:h?void 0:!0},n&&A.createElement("div",{ref:u,"cmdk-group-heading":"","aria-hidden":!0,id:c},n),ag(t,m=>A.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?c:void 0},A.createElement(R8.Provider,{value:p},m))))}),mW=A.forwardRef((t,e)=>{let{alwaysRender:n,...r}=t,i=A.useRef(null),s=Na(o=>!o.search);return!n&&!s?null:A.createElement(Xr.div,{ref:lf([i,e]),...r,"cmdk-separator":"",role:"separator"})}),gW=A.forwardRef((t,e)=>{let{onValueChange:n,...r}=t,i=t.value!=null,s=yx(),o=Na(d=>d.search),a=Na(d=>d.value),u=Ff(),c=A.useMemo(()=>{var d;let h=(d=u.listInnerRef.current)==null?void 0:d.querySelector(`${gx}[${ia}="${encodeURIComponent(a)}"]`);return h==null?void 0:h.getAttribute("id")},[]);return A.useEffect(()=>{t.value!=null&&s.setState("search",t.value)},[t.value]),A.createElement(Xr.input,{ref:e,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":u.listId,"aria-labelledby":u.labelId,"aria-activedescendant":c,id:u.inputId,type:"text",value:i?t.value:o,onChange:d=>{i||s.setState("search",d.target.value),n==null||n(d.target.value)}})}),yW=A.forwardRef((t,e)=>{let{children:n,label:r="Suggestions",...i}=t,s=A.useRef(null),o=A.useRef(null),a=Ff();return A.useEffect(()=>{if(o.current&&s.current){let u=o.current,c=s.current,d,h=new ResizeObserver(()=>{d=requestAnimationFrame(()=>{let p=u.offsetHeight;c.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return h.observe(u),()=>{cancelAnimationFrame(d),h.unobserve(u)}}},[]),A.createElement(Xr.div,{ref:lf([s,e]),...i,"cmdk-list":"",role:"listbox","aria-label":r,id:a.listId},ag(t,u=>A.createElement("div",{ref:lf([o,a.listInnerRef]),"cmdk-list-sizer":""},u)))}),wW=A.forwardRef((t,e)=>{let{open:n,onOpenChange:r,overlayClassName:i,contentClassName:s,container:o,...a}=t;return A.createElement(aW,{open:n,onOpenChange:r},A.createElement(lW,{container:o},A.createElement(uW,{"cmdk-overlay":"",className:i}),A.createElement(cW,{"aria-label":t.label,"cmdk-dialog":"",className:s},A.createElement(N8,{ref:e,...a}))))}),vW=A.forwardRef((t,e)=>Na(n=>n.filtered.count===0)?A.createElement(Xr.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),bW=A.forwardRef((t,e)=>{let{progress:n,children:r,label:i="Loading...",...s}=t;return A.createElement(Xr.div,{ref:e,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},ag(t,o=>A.createElement("div",{"aria-hidden":!0},o)))}),vr=Object.assign(N8,{List:yW,Item:hW,Input:gW,Group:pW,Separator:mW,Dialog:wW,Empty:vW,Loading:bW});function xW(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return n;n=n.nextElementSibling}}function EW(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return n;n=n.previousElementSibling}}function O8(t){let e=A.useRef(t);return Ra(()=>{e.current=t}),e}var Ra=typeof window>"u"?A.useEffect:A.useLayoutEffect;function Nl(t){let e=A.useRef();return e.current===void 0&&(e.current=t()),e}function lf(t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}function Na(t){let e=yx(),n=()=>t(e.snapshot());return A.useSyncExternalStore(e.subscribe,n,n)}function I8(t,e,n,r=[]){let i=A.useRef(),s=Ff();return Ra(()=>{var o;let a=(()=>{var c;for(let d of n){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(c=d.current.textContent)==null?void 0:c.trim():i.current}})(),u=r.map(c=>c.trim());s.value(t,a,u),(o=e.current)==null||o.setAttribute(ia,a),i.current=a}),i}var CW=()=>{let[t,e]=A.useState(),n=Nl(()=>new Map);return Ra(()=>{n.current.forEach(r=>r()),n.current=new Map},[t]),(r,i)=>{n.current.set(r,i),e({})}};function SW(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function ag({asChild:t,children:e},n){return t&&A.isValidElement(e)?A.cloneElement(SW(e),{ref:e.ref},n(e.props.children)):n(e)}var kW={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TW=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),M8=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var AW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _W=A.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},u)=>A.createElement("svg",{ref:u,...AW,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:M8("lucide",i),...a},[...o.map(([c,d])=>A.createElement(c,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=(t,e)=>{const n=A.forwardRef(({className:r,...i},s)=>A.createElement(_W,{ref:s,iconNode:e,className:M8(`lucide-${TW(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RW=[["path",{d:"M4 20h16",key:"14thso"}],["path",{d:"m6 16 6-12 6 12",key:"1b4byz"}],["path",{d:"M8 12h8",key:"1wcyev"}]],NW=Bf("Baseline",RW);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OW=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],IW=Bf("Ellipsis",OW);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MW=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],DW=Bf("Move",MW);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LW=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],PW=Bf("Search",LW);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FW=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],BW=Bf("X",FW);function mo(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function k5(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function D8(...t){return e=>{let n=!1;const r=t.map(i=>{const s=k5(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():k5(t[i],null)}}}}function za(...t){return A.useCallback(D8(...t),t)}function jW(t,e){const n=A.createContext(e),r=s=>{const{children:o,...a}=s,u=A.useMemo(()=>a,Object.values(a));return z.jsx(n.Provider,{value:u,children:o})};r.displayName=t+"Provider";function i(s){const o=A.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function HW(t,e=[]){let n=[];function r(s,o){const a=A.createContext(o),u=n.length;n=[...n,o];const c=h=>{var v;const{scope:p,children:m,...w}=h,y=((v=p==null?void 0:p[t])==null?void 0:v[u])||a,x=A.useMemo(()=>w,Object.values(w));return z.jsx(y.Provider,{value:x,children:m})};c.displayName=s+"Provider";function d(h,p){var y;const m=((y=p==null?void 0:p[t])==null?void 0:y[u])||a,w=A.useContext(m);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[c,d]}const i=()=>{const s=n.map(o=>A.createContext(o));return function(a){const u=(a==null?void 0:a[t])||s;return A.useMemo(()=>({[`__scope${t}`]:{...a,[t]:u}}),[a,u])}};return i.scopeName=t,[r,$W(i,...e)]}function $W(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:u,scopeName:c})=>{const h=u(s)[`__scope${c}`];return{...a,...h}},{});return A.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var wb=globalThis!=null&&globalThis.document?A.useLayoutEffect:()=>{};function uf(t){const e=A.useRef(t);return A.useEffect(()=>{e.current=t}),A.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}var lg=A.forwardRef((t,e)=>{const{children:n,...r}=t,i=A.Children.toArray(n),s=i.find(UW);if(s){const o=s.props.children,a=i.map(u=>u===s?A.Children.count(o)>1?A.Children.only(null):A.isValidElement(o)?o.props.children:null:u);return z.jsx(vb,{...r,ref:e,children:A.isValidElement(o)?A.cloneElement(o,void 0,a):null})}return z.jsx(vb,{...r,ref:e,children:n})});lg.displayName="Slot";var vb=A.forwardRef((t,e)=>{const{children:n,...r}=t;if(A.isValidElement(n)){const i=WW(n),s=VW(r,n.props);return n.type!==A.Fragment&&(s.ref=e?D8(e,i):i),A.cloneElement(n,s)}return A.Children.count(n)>1?A.Children.only(null):null});vb.displayName="SlotClone";var zW=({children:t})=>z.jsx(z.Fragment,{children:t});function UW(t){return A.isValidElement(t)&&t.type===zW}function VW(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function WW(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var KW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ys=KW.reduce((t,e)=>{const n=A.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?lg:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),z.jsx(a,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function qW(t,e){t&&Fa.flushSync(()=>t.dispatchEvent(e))}function GW(t,e=globalThis==null?void 0:globalThis.document){const n=uf(t);A.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var XW="DismissableLayer",bb="dismissableLayer.update",YW="dismissableLayer.pointerDownOutside",ZW="dismissableLayer.focusOutside",T5,L8=A.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),P8=A.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...u}=t,c=A.useContext(L8),[d,h]=A.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=A.useState({}),w=za(e,$=>h($)),y=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=y.indexOf(x),S=d?y.indexOf(d):-1,k=c.layersWithOutsidePointerEventsDisabled.size>0,E=S>=v,R=eK($=>{const K=$.target,F=[...c.branches].some(ie=>ie.contains(K));!E||F||(i==null||i($),o==null||o($),$.defaultPrevented||a==null||a())},p),B=tK($=>{const K=$.target;[...c.branches].some(ie=>ie.contains(K))||(s==null||s($),o==null||o($),$.defaultPrevented||a==null||a())},p);return GW($=>{S===c.layers.size-1&&(r==null||r($),!$.defaultPrevented&&a&&($.preventDefault(),a()))},p),A.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(T5=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),A5(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=T5)}},[d,p,n,c]),A.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),A5())},[d,c]),A.useEffect(()=>{const $=()=>m({});return document.addEventListener(bb,$),()=>document.removeEventListener(bb,$)},[]),z.jsx(ys.div,{...u,ref:w,style:{pointerEvents:k?E?"auto":"none":void 0,...t.style},onFocusCapture:mo(t.onFocusCapture,B.onFocusCapture),onBlurCapture:mo(t.onBlurCapture,B.onBlurCapture),onPointerDownCapture:mo(t.onPointerDownCapture,R.onPointerDownCapture)})});P8.displayName=XW;var JW="DismissableLayerBranch",QW=A.forwardRef((t,e)=>{const n=A.useContext(L8),r=A.useRef(null),i=za(e,r);return A.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),z.jsx(ys.div,{...t,ref:i})});QW.displayName=JW;function eK(t,e=globalThis==null?void 0:globalThis.document){const n=uf(t),r=A.useRef(!1),i=A.useRef(()=>{});return A.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let u=function(){F8(YW,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function tK(t,e=globalThis==null?void 0:globalThis.document){const n=uf(t),r=A.useRef(!1);return A.useEffect(()=>{const i=s=>{s.target&&!r.current&&F8(ZW,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function A5(){const t=new CustomEvent(bb);document.dispatchEvent(t)}function F8(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?qW(i,s):i.dispatchEvent(s)}var y0="focusScope.autoFocusOnMount",w0="focusScope.autoFocusOnUnmount",_5={bubbles:!1,cancelable:!0},nK="FocusScope",B8=A.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,u]=A.useState(null),c=uf(i),d=uf(s),h=A.useRef(null),p=za(e,y=>u(y)),m=A.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;A.useEffect(()=>{if(r){let y=function(k){if(m.paused||!a)return;const E=k.target;a.contains(E)?h.current=E:Gs(h.current,{select:!0})},x=function(k){if(m.paused||!a)return;const E=k.relatedTarget;E!==null&&(a.contains(E)||Gs(h.current,{select:!0}))},v=function(k){if(document.activeElement===document.body)for(const R of k)R.removedNodes.length>0&&Gs(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",x);const S=new MutationObserver(v);return a&&S.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",x),S.disconnect()}}},[r,a,m.paused]),A.useEffect(()=>{if(a){N5.add(m);const y=document.activeElement;if(!a.contains(y)){const v=new CustomEvent(y0,_5);a.addEventListener(y0,c),a.dispatchEvent(v),v.defaultPrevented||(rK(lK(j8(a)),{select:!0}),document.activeElement===y&&Gs(a))}return()=>{a.removeEventListener(y0,c),setTimeout(()=>{const v=new CustomEvent(w0,_5);a.addEventListener(w0,d),a.dispatchEvent(v),v.defaultPrevented||Gs(y??document.body,{select:!0}),a.removeEventListener(w0,d),N5.remove(m)},0)}}},[a,c,d,m]);const w=A.useCallback(y=>{if(!n&&!r||m.paused)return;const x=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,v=document.activeElement;if(x&&v){const S=y.currentTarget,[k,E]=iK(S);k&&E?!y.shiftKey&&v===E?(y.preventDefault(),n&&Gs(k,{select:!0})):y.shiftKey&&v===k&&(y.preventDefault(),n&&Gs(E,{select:!0})):v===S&&y.preventDefault()}},[n,r,m.paused]);return z.jsx(ys.div,{tabIndex:-1,...o,ref:p,onKeyDown:w})});B8.displayName=nK;function rK(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Gs(r,{select:e}),document.activeElement!==n)return}function iK(t){const e=j8(t),n=R5(e,t),r=R5(e.reverse(),t);return[n,r]}function j8(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function R5(t,e){for(const n of t)if(!sK(n,{upTo:e}))return n}function sK(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function oK(t){return t instanceof HTMLInputElement&&"select"in t}function Gs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&oK(t)&&e&&t.select()}}var N5=aK();function aK(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=O5(t,e),t.unshift(e)},remove(e){var n;t=O5(t,e),(n=t[0])==null||n.resume()}}}function O5(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function lK(t){return t.filter(e=>e.tagName!=="A")}var uK="Portal",H8=A.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=A.useState(!1);wb(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?$2.createPortal(z.jsx(ys.div,{...r,ref:e}),o):null});H8.displayName=uK;function cK(t,e){return A.useReducer((n,r)=>e[n][r]??n,t)}var ug=t=>{const{present:e,children:n}=t,r=fK(e),i=typeof n=="function"?n({present:r.isPresent}):A.Children.only(n),s=za(r.ref,dK(i));return typeof n=="function"||r.isPresent?A.cloneElement(i,{ref:s}):null};ug.displayName="Presence";function fK(t){const[e,n]=A.useState(),r=A.useRef({}),i=A.useRef(t),s=A.useRef("none"),o=t?"mounted":"unmounted",[a,u]=cK(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return A.useEffect(()=>{const c=Th(r.current);s.current=a==="mounted"?c:"none"},[a]),wb(()=>{const c=r.current,d=i.current;if(d!==t){const p=s.current,m=Th(c);t?u("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?u("UNMOUNT"):u(d&&p!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,u]),wb(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,h=m=>{const y=Th(r.current).includes(m.animationName);if(m.target===e&&y&&(u("ANIMATION_END"),!i.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},p=m=>{m.target===e&&(s.current=Th(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:A.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Th(t){return(t==null?void 0:t.animationName)||"none"}function dK(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var v0=0;function hK(){A.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??I5()),document.body.insertAdjacentElement("beforeend",t[1]??I5()),v0++,()=>{v0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),v0--}},[])}function I5(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var $8=c8(),b0=function(){},cg=A.forwardRef(function(t,e){var n=A.useRef(null),r=A.useState({onScrollCapture:b0,onWheelCapture:b0,onTouchMoveCapture:b0}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,u=t.className,c=t.removeScrollBar,d=t.enabled,h=t.shards,p=t.sideCar,m=t.noIsolation,w=t.inert,y=t.allowPinchZoom,x=t.as,v=x===void 0?"div":x,S=t.gapMode,k=px(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=p,R=u8([n,e]),B=Bn(Bn({},k),i);return A.createElement(A.Fragment,null,d&&A.createElement(E,{sideCar:$8,removeScrollBar:c,shards:h,noIsolation:m,inert:w,setCallbacks:s,allowPinchZoom:!!y,lockRef:n,gapMode:S}),o?A.cloneElement(A.Children.only(a),Bn(Bn({},B),{ref:R})):A.createElement(v,Bn({},B,{className:u,ref:R}),a))});cg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};cg.classNames={fullWidth:Bc,zeroRight:Fc};var xb=!1;if(typeof window<"u")try{var Ah=Object.defineProperty({},"passive",{get:function(){return xb=!0,!0}});window.addEventListener("test",Ah,Ah),window.removeEventListener("test",Ah,Ah)}catch{xb=!1}var Cl=xb?{passive:!1}:!1,pK=function(t){return t.tagName==="TEXTAREA"},z8=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!pK(t)&&n[e]==="visible")},mK=function(t){return z8(t,"overflowY")},gK=function(t){return z8(t,"overflowX")},M5=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=U8(t,r);if(i){var s=V8(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},yK=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},wK=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},U8=function(t,e){return t==="v"?mK(e):gK(e)},V8=function(t,e){return t==="v"?yK(e):wK(e)},vK=function(t,e){return t==="h"&&e==="rtl"?-1:1},bK=function(t,e,n,r,i){var s=vK(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,u=e.contains(a),c=!1,d=o>0,h=0,p=0;do{var m=V8(t,a),w=m[0],y=m[1],x=m[2],v=y-x-s*w;(w||v)&&U8(t,a)&&(h+=v,p+=w),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!u&&a!==document.body||u&&(e.contains(a)||e===a));return(d&&Math.abs(h)<1||!d&&Math.abs(p)<1)&&(c=!0),c},_h=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},D5=function(t){return[t.deltaX,t.deltaY]},L5=function(t){return t&&"current"in t?t.current:t},xK=function(t,e){return t[0]===e[0]&&t[1]===e[1]},EK=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},CK=0,Sl=[];function SK(t){var e=A.useRef([]),n=A.useRef([0,0]),r=A.useRef(),i=A.useState(CK++)[0],s=A.useState(mx)[0],o=A.useRef(t);A.useEffect(function(){o.current=t},[t]),A.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var y=l8([t.lockRef.current],(t.shards||[]).map(L5),!0).filter(Boolean);return y.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=A.useCallback(function(y,x){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var v=_h(y),S=n.current,k="deltaX"in y?y.deltaX:S[0]-v[0],E="deltaY"in y?y.deltaY:S[1]-v[1],R,B=y.target,$=Math.abs(k)>Math.abs(E)?"h":"v";if("touches"in y&&$==="h"&&B.type==="range")return!1;var K=M5($,B);if(!K)return!0;if(K?R=$:(R=$==="v"?"h":"v",K=M5($,B)),!K)return!1;if(!r.current&&"changedTouches"in y&&(k||E)&&(r.current=R),!R)return!0;var F=r.current||R;return bK(F,x,y,F==="h"?k:E)},[]),u=A.useCallback(function(y){var x=y;if(!(!Sl.length||Sl[Sl.length-1]!==s)){var v="deltaY"in x?D5(x):_h(x),S=e.current.filter(function(R){return R.name===x.type&&(R.target===x.target||x.target===R.shadowParent)&&xK(R.delta,v)})[0];if(S&&S.should){x.cancelable&&x.preventDefault();return}if(!S){var k=(o.current.shards||[]).map(L5).filter(Boolean).filter(function(R){return R.contains(x.target)}),E=k.length>0?a(x,k[0]):!o.current.noIsolation;E&&x.cancelable&&x.preventDefault()}}},[]),c=A.useCallback(function(y,x,v,S){var k={name:y,delta:x,target:v,should:S,shadowParent:kK(v)};e.current.push(k),setTimeout(function(){e.current=e.current.filter(function(E){return E!==k})},1)},[]),d=A.useCallback(function(y){n.current=_h(y),r.current=void 0},[]),h=A.useCallback(function(y){c(y.type,D5(y),y.target,a(y,t.lockRef.current))},[]),p=A.useCallback(function(y){c(y.type,_h(y),y.target,a(y,t.lockRef.current))},[]);A.useEffect(function(){return Sl.push(s),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",u,Cl),document.addEventListener("touchmove",u,Cl),document.addEventListener("touchstart",d,Cl),function(){Sl=Sl.filter(function(y){return y!==s}),document.removeEventListener("wheel",u,Cl),document.removeEventListener("touchmove",u,Cl),document.removeEventListener("touchstart",d,Cl)}},[]);var m=t.removeScrollBar,w=t.inert;return A.createElement(A.Fragment,null,w?A.createElement(s,{styles:EK(i)}):null,m?A.createElement(p8,{gapMode:t.gapMode}):null)}function kK(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const TK=d8($8,SK);var W8=A.forwardRef(function(t,e){return A.createElement(cg,Bn({},t,{ref:e,sideCar:TK}))});W8.classNames=cg.classNames;var K8="Dialog",[q8,dae]=HW(K8),[hae,hi]=q8(K8),G8="DialogTrigger",AK=A.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=hi(G8,n),s=za(e,i.triggerRef);return z.jsx(ys.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":bx(i.open),...r,ref:s,onClick:mo(t.onClick,i.onOpenToggle)})});AK.displayName=G8;var wx="DialogPortal",[_K,X8]=q8(wx,{forceMount:void 0}),Y8=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=hi(wx,e);return z.jsx(_K,{scope:e,forceMount:n,children:A.Children.map(r,o=>z.jsx(ug,{present:n||s.open,children:z.jsx(H8,{asChild:!0,container:i,children:o})}))})};Y8.displayName=wx;var zp="DialogOverlay",Z8=A.forwardRef((t,e)=>{const n=X8(zp,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=hi(zp,t.__scopeDialog);return s.modal?z.jsx(ug,{present:r||s.open,children:z.jsx(RK,{...i,ref:e})}):null});Z8.displayName=zp;var RK=A.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=hi(zp,n);return z.jsx(W8,{as:lg,allowPinchZoom:!0,shards:[i.contentRef],children:z.jsx(ys.div,{"data-state":bx(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Oa="DialogContent",J8=A.forwardRef((t,e)=>{const n=X8(Oa,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=hi(Oa,t.__scopeDialog);return z.jsx(ug,{present:r||s.open,children:s.modal?z.jsx(NK,{...i,ref:e}):z.jsx(OK,{...i,ref:e})})});J8.displayName=Oa;var NK=A.forwardRef((t,e)=>{const n=hi(Oa,t.__scopeDialog),r=A.useRef(null),i=za(e,n.contentRef,r);return A.useEffect(()=>{const s=r.current;if(s)return b8(s)},[]),z.jsx(Q8,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:mo(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:mo(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:mo(t.onFocusOutside,s=>s.preventDefault())})}),OK=A.forwardRef((t,e)=>{const n=hi(Oa,t.__scopeDialog),r=A.useRef(!1),i=A.useRef(!1);return z.jsx(Q8,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var u,c;(u=t.onInteractOutside)==null||u.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),Q8=A.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=hi(Oa,n),u=A.useRef(null),c=za(e,u);return hK(),z.jsxs(z.Fragment,{children:[z.jsx(B8,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:z.jsx(P8,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":bx(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),z.jsxs(z.Fragment,{children:[z.jsx(IK,{titleId:a.titleId}),z.jsx(DK,{contentRef:u,descriptionId:a.descriptionId})]})]})}),vx="DialogTitle",eR=A.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=hi(vx,n);return z.jsx(ys.h2,{id:i.titleId,...r,ref:e})});eR.displayName=vx;var tR="DialogDescription",nR=A.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=hi(tR,n);return z.jsx(ys.p,{id:i.descriptionId,...r,ref:e})});nR.displayName=tR;var rR="DialogClose",iR=A.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=hi(rR,n);return z.jsx(ys.button,{type:"button",...r,ref:e,onClick:mo(t.onClick,()=>i.onOpenChange(!1))})});iR.displayName=rR;function bx(t){return t?"open":"closed"}var sR="DialogTitleWarning",[pae,oR]=jW(sR,{contentName:Oa,titleName:vx,docsSlug:"dialog"}),IK=({titleId:t})=>{const e=oR(sR),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return A.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},MK="DialogDescriptionWarning",DK=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${oR(MK).contentName}}.`;return A.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},LK=Y8,aR=Z8,lR=J8,uR=eR,cR=nR,PK=iR;const FK=LK,fR=A.forwardRef(({className:t,...e},n)=>z.jsx(aR,{ref:n,className:wn("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));fR.displayName=aR.displayName;const BK=A.forwardRef(({className:t,children:e,...n},r)=>z.jsxs(FK,{children:[z.jsx(fR,{}),z.jsxs(lR,{ref:r,className:wn("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,z.jsxs(PK,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[z.jsx(BW,{className:"h-4 w-4"}),z.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));BK.displayName=lR.displayName;const jK=A.forwardRef(({className:t,...e},n)=>z.jsx(uR,{ref:n,className:wn("text-lg font-semibold leading-none tracking-tight",t),...e}));jK.displayName=uR.displayName;const HK=A.forwardRef(({className:t,...e},n)=>z.jsx(cR,{ref:n,className:wn("text-sm text-muted-foreground",t),...e}));HK.displayName=cR.displayName;const dR=A.forwardRef(({className:t,...e},n)=>z.jsx(vr,{ref:n,className:wn("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...e}));dR.displayName=vr.displayName;const hR=A.forwardRef(({className:t,...e},n)=>z.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[z.jsx(PW,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),z.jsx(vr.Input,{ref:n,className:wn("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...e})]}));hR.displayName=vr.Input.displayName;const pR=A.forwardRef(({className:t,...e},n)=>z.jsx(vr.List,{ref:n,className:wn("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...e}));pR.displayName=vr.List.displayName;const mR=A.forwardRef((t,e)=>z.jsx(vr.Empty,{ref:e,className:"py-6 text-center text-sm",...t}));mR.displayName=vr.Empty.displayName;const gR=A.forwardRef(({className:t,...e},n)=>z.jsx(vr.Group,{ref:n,className:wn("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...e}));gR.displayName=vr.Group.displayName;const yR=A.forwardRef(({className:t,...e},n)=>z.jsx(vr.Separator,{ref:n,className:wn("-mx-1 h-px bg-border",t),...e}));yR.displayName=vr.Separator.displayName;const wR=A.forwardRef(({className:t,...e},n)=>z.jsx(vr.Item,{ref:n,className:wn("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 cursor-pointer",t),...e}));wR.displayName=vr.Item.displayName;const vR=A.forwardRef(({className:t,type:e,...n},r)=>z.jsx("input",{type:e,className:wn("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));vR.displayName="Input";const P5=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,F5=X_,$K=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return F5(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const d=n==null?void 0:n[c],h=s==null?void 0:s[c];if(d===null)return null;const p=P5(d)||P5(h);return i[c][p]}),a=n&&Object.entries(n).reduce((c,d)=>{let[h,p]=d;return p===void 0||(c[h]=p),c},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:h,className:p,...m}=d;return Object.entries(m).every(w=>{let[y,x]=w;return Array.isArray(x)?x.includes({...s,...a}[y]):{...s,...a}[y]===x})?[...c,h,p]:c},[]);return F5(t,o,u,n==null?void 0:n.class,n==null?void 0:n.className)},zK=$K("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),bR=A.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?lg:"button";return z.jsx(o,{className:wn(zK({variant:e,size:n,className:t})),ref:s,...i})});bR.displayName="Button";function UK({children:t}){return z.jsxs(z.Fragment,{children:[z.jsx(Df,{asChild:!0,children:z.jsx(bR,{size:"sm",variant:"secondary",className:"h-8 w-8 p-0 shadow-lg border bg-background hover:bg-accent rounded-full",children:z.jsx(IW,{className:"h-4 w-4"})})}),z.jsx(Lf,{className:"w-auto p-2",align:"start",side:"bottom",children:z.jsx("div",{className:"flex-column items-center gap-1 p-2",children:t})})]})}class xR{constructor(e){this.editor=e}get state(){return this.editor.state}get selection(){return this.state.selection}getSelectionPosition(){const e=this.selection.from,n=this.selection.to;return{from:e,to:n}}getSelectionNode(){const e=this.selection.$from.node(),{id:n}=e.attrs;return{id:n}}getAllNodesFromSelection(){const{from:e,to:n}=this.selection,r=[];return this.state.doc.nodesBetween(e,n,i=>{i.attrs.id&&r.push(i)}),r}changeSelectionNodeHTML(e){const{id:n}=this.getSelectionNode(),r=document.querySelector(`[data-id="${n}"]`);r&&(r.innerHTML=e)}changeNodeHTMLText(e,n){const r=document.querySelector(`[data-id="${n}"]`);r&&(r.innerHTML=e)}getDomFromSelection(){const{from:e}=this.getSelectionPosition(),n=this.editor.view.domAtPos(e),{node:r,offset:i}=n;return{node:r,offset:i}}replaceSelectedParagraph(e){const{from:n,to:r}=this.getSelectionPosition();this.editor.chain().focus().setTextSelection({from:n,to:r}).insertContent(e).run()}getNodeByItsDataId(e){const n=document.querySelector(`[data-id="${e}"]`);if(!n)return;const r=this.editor.view.posAtDOM(n,0);console.log("nodePos: ",r);const i=this.editor.state.doc.nodeAt(r-1);return console.log("tiptapNode: ",i),i}addTextAfterNode(e,n){let r=null;if(this.editor.state.doc.descendants((s,o)=>{if(s.attrs.id===n)return r={node:s,pos:o},!1}),!r)return;const i=r.pos+r.node.nodeSize-1;this.editor.chain().focus().setTextSelection(i).setParagraph().insertContent(`

`+e).run()}}class VK{constructor(e){ah(this,"tipTap",new xR(this.editor));this.editor=e}initialize(){window.inicializarEditor=this.inicializarEditor,window.pedirTextoAtualizado=this.pedirTextoAtualizado,window.pedirCopiarTexto=this.pedirCopiarTexto,window.textoAlteradoIA=this.textoAlteradoIA,window.pedirDownloadDocumento=this.pedirDownloadDocumento,window.textoAdicionarIA=this.textoAdicionarIA}inicializarEditor(e){this.funcaoFoiChamada(this.inicializarEditor.name),console.log("NOVA BUILD DE 18:11"),this.editor.commands.setContent(e.param1)}async pedirCopiarTexto(){this.funcaoFoiChamada(this.pedirCopiarTexto.name);const e=this.editor.getHTML(),n=new Blob([e],{type:"text/html"}),r=[new ClipboardItem({"text/html":n})];await navigator.clipboard.write(r)}pedirTextoAtualizado(e){this.funcaoFoiChamada(this.pedirTextoAtualizado.name);const n=this.editor.getHTML();console.log("properties.param2: ",e.param2),Cb.enviarTextoAtualizado(n,e.param2)}textoAlteradoIA(e){if(this.funcaoFoiChamada(this.textoAlteradoIA.name),!this.editor)return;JSON.parse(e.param1).forEach(({id:r,texto:i})=>{this.tipTap.changeNodeHTMLText(i,r)})}textoAdicionarIA({param1:e,param2:n}){if(this.funcaoFoiChamada(this.textoAdicionarIA.name),!this.editor)return;const r=this.tipTap,i=e,s=n;r.addTextAfterNode(i,s)}pedirDownloadDocumento(e){var r;this.funcaoFoiChamada(this.pedirDownloadDocumento.name);const n=i=>{const s=(e==null?void 0:e.param1)??"arquivo-documento",o=new Blob([i],{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}),a=URL.createObjectURL(o),u=document.createElement("a");u.href=a,u.download=`${s??"arquivo-documento"}.docx`,u.click(),URL.revokeObjectURL(a)};(r=this.editor)==null||r.chain().exportDocx({onCompleteExport:n}).run()}funcaoFoiChamada(e){console.log(`FUNÇÃO ${e} FOI CHAMADA`)}}class Eb{constructor(e){this.editor=e}static createSendParams(e,n,r,i){return{output1:e,output2:n,output3:r,output4:i}}loadAllBubbleIntegrations(){new VK(this.editor).initialize()}}class Cb{static enviarTextoAtualizado(e,n){const r=Eb.createSendParams(e,n);bubble_fn_enviarTextoAtualizado(r)}static alterarTextoIA(e,n,r,i){const s=JSON.stringify(e),o=Eb.createSendParams(s,n,r,i);bubble_fn_alterarTextoIA(o)}static editorFoiInicializado(){bubble_fn_editorFoiInicializado(),console.log("INICIOU APP")}}class ER{constructor(e){ah(this,"tipTap");ah(this,"editor");this.editor=e,this.tipTap=new xR(e)}alterarTextoIA(e){if(console.log("alterarTextoIA FOI CHAMADO"),!this.editor)return;const r=this.tipTap.getAllNodesFromSelection();console.log("nodes: ",r);const i=r.map(s=>({id:s.attrs.id,texto:s.textContent??"Não pegou nenhum texto no parágrafo :("}));console.log("textoASerAlterado: ",i),Cb.alterarTextoIA(i,"modificar",e)}adicionarTextoIA(){var i;if(!this.editor)return;console.log("adicionarTextoIA FOI CHAMADO");const r=this.tipTap.getAllNodesFromSelection().map(s=>({id:s.attrs.id,texto:s.textContent??"Não pegou nenhum texto no parágrafo :("}));console.log("textoASerAlterado: ",r),Cb.alterarTextoIA(r,"adicionar","melhorarescrita",(i=r.at(-1))==null?void 0:i.id)}}const WK=[{heading:"Escrita",items:[{name:"Melhorar escrita",onClick:t=>Rh(t).alterarTextoIA("melhorarescrita")},{name:"Tornar mais sucinto",onClick:t=>Rh(t).alterarTextoIA("maissucinto")},{name:"Tornar texto maior",onClick:t=>Rh(t).alterarTextoIA("aumentartexto")},{name:"Tornar mais formal",onClick:t=>Rh(t).alterarTextoIA("maisformal")}]}];function Rh(t){return new ER(t)}function KK(){const{editor:t}=Ba(),[e,n]=A.useState(!1);if(t)return z.jsx(IH,{editor:t,tippyOptions:{placement:"right"},children:z.jsx(ig,{open:e,onOpenChange:n,children:z.jsxs(UK,{children:[z.jsx(vR,{placeholder:"Peça para a IA fazer algo...",className:"mb-5"}),z.jsx(t8,{children:z.jsx(n8,{className:"my-8 flex flex-col",children:z.jsxs(dR,{children:[z.jsx(hR,{placeholder:"Ache o que procura"}),z.jsxs(pR,{children:[z.jsx(mR,{children:"Nenhum resultado encontrado"}),WK.map(({heading:r,items:i})=>z.jsxs(z.Fragment,{children:[z.jsx(gR,{heading:r,children:i.map(({name:s,onClick:o})=>z.jsx(wR,{children:z.jsx("p",{onClick:()=>o(t),children:s})},s))},r),z.jsx(yR,{})]}))]})]})})})]})})})}const B5="PAGINATION_META_KEY",qK=ht.create({name:"PaginationPlus",addOptions(){return{pageHeight:800,pageGap:50,pageGapBorderSize:1,pageBreakBackground:"#ffffff",pageHeaderHeight:10,footerRight:"{page}",footerLeft:"",headerRight:"",headerLeft:""}},onCreate(){const t=this.editor.view.dom;t.classList.add("rm-with-pagination");const e={attributes:!0},n=this.options.pageHeaderHeight,r=this.options.pageHeight-n*2,i=document.createElement("style");i.dataset.rmPaginationStyle="",i.textContent=`
      .rm-with-pagination {
        counter-reset: page-number;
      }
      .rm-with-pagination .rm-page-footer {
        counter-increment: page-number;
      }
      .rm-with-pagination .rm-page-break.last-page ~ .rm-page-break {
        display: none;
      }
      .rm-with-pagination .rm-page-break.last-page .rm-pagination-gap {
        display: none;
      }
      .rm-with-pagination .rm-page-break.last-page .rm-page-header {
        display: none;
      }
      .rm-with-pagination table tr td,
      .rm-with-pagination table tr th {
        word-break: break-all;
      }
      .rm-with-pagination table > tr {
        display: grid;
        min-width: 100%;
      }
      .rm-with-pagination table {
        border-collapse: collapse;
        width: 100%;
        display: contents;
      }
      .rm-with-pagination table tbody{
        display: table;
        max-height: 300px;
        overflow-y: auto;
      }
      .rm-with-pagination table tbody > tr{
        display: table-row !important;
      }
      .rm-with-pagination p:has(br.ProseMirror-trailingBreak:only-child) {
        display: table;
        width: 100%;
      }
      .rm-with-pagination .table-row-group {
        max-height: ${r}px;
        overflow-y: auto;
        width: 100%;
      }
      .rm-with-pagination .rm-page-footer-left,
      .rm-with-pagination .rm-page-footer-right,
      .rm-with-pagination .rm-page-header-left,
      .rm-with-pagination .rm-page-header-right {
        display: inline-block;
      }
      .rm-with-pagination .rm-page-header-left,
      .rm-with-pagination .rm-page-header-right{
        padding-top: 15px !important;
      }

      .rm-with-pagination .rm-page-header-left,
      .rm-with-pagination .rm-page-footer-left{
        float: left;
        margin-left: 25px;
      }
      .rm-with-pagination .rm-page-header-right,
      .rm-with-pagination .rm-page-footer-right{
        float: right;
        margin-right: 25px;
      }
      .rm-with-pagination .rm-page-number::before {
        content: counter(page-number);
      }
      .rm-with-pagination .rm-first-page-header{
        display: inline-flex;
        justify-content: space-between;
        width: 100%;
        padding-top: 15px !important;
      }
    `,document.head.appendChild(i);const s=this.options.pageGap,o=this.options.pageGapBorderSize,a=d=>{const h=Array.from(d.children).find(S=>S.id==="pages");if(!h)return;const p=[...h.querySelectorAll(".page")],m=[...d.children],w=p.map(S=>S.offsetTop).filter(S=>S!==0);w.push(1/0);const y=new Set;for(let S=2;S<m.length-1;S++){const k=m[S].offsetTop;for(let E=0;E<w.length-1;E++)if(k>=w[E]&&k<w[E+1]){y.add(E+1);break}}const x=y.size>0?Math.max(...Array.from(y)):0,v=x+2;d.style.minHeight=`${v*this.options.pageHeight+(v-1)*(s+2*o)}px`,x+1 in h.children&&h.children[x+1].classList.add("last-page")},u=(d,h)=>{if(d.length>0&&d[0].target){const p=d[0].target;p.classList.contains("rm-with-pagination")&&a(p)}};new MutationObserver(u).observe(t,e),a(t),this.editor.view.dispatch(this.editor.view.state.tr.setMeta(B5,!0))},addProseMirrorPlugins(){const t=this.options;return[new gt({key:new xt("pagination"),state:{init(e,n){const r=j5(n,t);return Mt.create(n.doc,r)},apply(e,n,r,i){if(e.docChanged||e.getMeta(B5)){const s=j5(i,t);return Mt.create(i.doc,[...s])}return n}},props:{decorations(e){return this.getState(e)}}})]}});function j5(t,e){const n=Nn.widget(0,s=>{const a=e.pageGap,u=e.pageHeaderHeight,c=e.pageHeight-u*2,d=e.pageBreakBackground,h=e.pageGapBorderSize,p=s.dom.children;let m=0;for(let F=2;F<p.length-1;F++)m+=p[F].scrollHeight;const w=document.querySelector("[data-rm-pagination]");let y=w?w.children.length:0;y=y>5?y-5:0;const x=a+u+u;let v=m-y*(x+h*2),S=Math.ceil(v/c);S=S>0?S-1:0;const k=s.dom.clientWidth,E=document.createElement("div");E.dataset.rmPagination="true";const R=({firstPage:F=!1,lastPage:ie=!1})=>{const me=document.createElement("div");me.classList.add("rm-page-break");const H=document.createElement("div");H.classList.add("page"),H.style.position="relative",H.style.float="left",H.style.clear="both",H.style.marginTop=F?`calc(${u}px + ${c}px)`:c+"px";const X=document.createElement("div");X.classList.add("breaker"),X.style.width=`calc(${k}px)`,X.style.marginLeft=`calc(calc(calc(${k}px - 100%) / 2) - calc(${k}px - 100%))`,X.style.marginRight=`calc(calc(calc(${k}px - 100%) / 2) - calc(${k}px - 100%))`,X.style.position="relative",X.style.float="left",X.style.clear="both",X.style.left="0px",X.style.right="0px",X.style.zIndex="2";const N=document.createElement("div");N.classList.add("rm-page-footer"),N.style.height=u+"px";const Z=e.footerRight.replace("{page}",'<span class="rm-page-number"></span>'),le=e.footerLeft.replace("{page}",'<span class="rm-page-number"></span>'),G=document.createElement("div");G.classList.add("rm-page-footer-left"),G.innerHTML=le;const Y=document.createElement("div");Y.classList.add("rm-page-footer-right"),Y.innerHTML=Z,N.append(G),N.append(Y);const Q=document.createElement("div");Q.classList.add("rm-pagination-gap"),Q.style.height=a+"px",Q.style.borderLeft="1px solid",Q.style.borderRight="1px solid",Q.style.position="relative",Q.style.setProperty("width","calc(100% + 2px)","important"),Q.style.left="-1px",Q.style.backgroundColor=d,Q.style.borderLeftColor=d,Q.style.borderRightColor=d;const fe=document.createElement("div");fe.classList.add("rm-page-header"),fe.style.height=u+"px";const U=document.createElement("div");U.classList.add("rm-page-header-left"),U.innerHTML=e.headerLeft;const O=document.createElement("div");return O.classList.add("rm-page-header-right"),O.innerHTML=e.headerRight,fe.append(U,O),X.append(N,Q,fe),me.append(H,X),me},B=R({firstPage:!1,lastPage:!1}),$=R({firstPage:!0,lastPage:!1}),K=document.createDocumentFragment();for(let F=0;F<S+5;F++)F===0?K.appendChild($.cloneNode(!0)):K.appendChild(B.cloneNode(!0));return E.append(K),E.id="pages",E},{side:-1}),r=Nn.widget(0,()=>{const s=document.createElement("div");s.style.position="relative",s.classList.add("rm-first-page-header");const o=document.createElement("div");o.classList.add("rm-first-page-header-left"),o.innerHTML=e.headerLeft,s.append(o);const a=document.createElement("div");return a.classList.add("rm-first-page-header-right"),a.innerHTML=e.headerRight,s.append(a),s.style.height=`${e.pageHeaderHeight}px`,s},{side:-1}),i=Nn.widget(t.doc.content.size,()=>{const s=document.createElement("div");return s.style.height=`${e.pageHeaderHeight}px`,s},{side:1});return[n,r,i]}const GK=/^\s*>\s$/,XK=er.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",kt(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[tu({find:GK,type:this.type})]}}),YK=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,ZK=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,JK=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,QK=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,eq=yr.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",kt(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Sa({find:YK,type:this.type}),Sa({find:JK,type:this.type})]},addPasteRules(){return[yo({find:ZK,type:this.type}),yo({find:QK,type:this.type})]}}),tq="listItem",H5="textStyle",$5=/^\s*([-+*])\s$/,nq=er.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",kt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(tq,this.editor.getAttributes(H5)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=tu({find:$5,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=tu({find:$5,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(H5),editor:this.editor})),[t]}}),rq=/(^|[^`])`([^`]+)`(?!`)/,iq=/(^|[^`])`([^`]+)`(?!`)/g,sq=yr.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",kt(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Sa({find:rq,type:this.type})]},addPasteRules(){return[yo({find:iq,type:this.type})]}}),oq=/^```([a-z]+)?[\s\n]$/,aq=/^~~~([a-z]+)?[\s\n]$/,lq=er.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,s=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(o=>o.startsWith(n)).map(o=>o.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",kt(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,o=r.parent.textContent.endsWith(`

`);return!s||!o?!1:t.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:s}=n;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const a=i.after();return a===void 0?!1:r.nodeAt(a)?t.commands.command(({tr:c})=>(c.setSelection(Qe.near(r.resolve(a))),!0)):t.commands.exitCode()}}},addInputRules(){return[Xv({find:oq,type:this.type,getAttributes:t=>({language:t[1]})}),Xv({find:aq,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new gt({key:new xt("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i==null?void 0:i.mode;if(!n||!s)return!1;const{tr:o,schema:a}=t.state,u=a.text(n.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:s},u)),o.selection.$from.parent.type!==this.type&&o.setSelection(Ye.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),t.dispatch(o),!0}}})]}}),uq=er.create({name:"doc",topNode:!0,content:"block+"});function cq(t={}){return new gt({view(e){return new fq(e,t)}})}class fq{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=o=>{this[i](o)};return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r;if(n){let a=e.nodeBefore,u=e.nodeAfter;if(a||u){let c=this.editorView.nodeDOM(this.cursorPos-(a?a.nodeSize:0));if(c){let d=c.getBoundingClientRect(),h=a?d.bottom:d.top;a&&u&&(h=(h+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:d.left,right:d.right,top:h-this.width/2,bottom:h+this.width/2}}}}if(!r){let a=this.editorView.coordsAtPos(this.cursorPos);r={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}let i=this.editorView.dom.offsetParent;this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let s,o;if(!i||i==document.body&&getComputedStyle(i).position=="static")s=-pageXOffset,o=-pageYOffset;else{let a=i.getBoundingClientRect();s=a.left-i.scrollLeft,o=a.top-i.scrollTop}this.element.style.left=r.left-s+"px",this.element.style.top=r.top-o+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!s){let o=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=x6(this.editorView.state.doc,o,this.editorView.dragging.slice);a!=null&&(o=a)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const dq=ht.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[cq(this.options)]}});class Vt extends Qe{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return Vt.valid(r)?new Vt(r):Qe.near(r)}content(){return Le.empty}eq(e){return e instanceof Vt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Vt(e.resolve(n.pos))}getBookmark(){return new xx(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!hq(e)||!pq(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&Vt.valid(e))return e;let i=e.pos,s=null;for(let o=e.depth;;o--){let a=e.node(o);if(n>0?e.indexAfter(o)<a.childCount:e.index(o)>0){s=a.child(n>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;i+=n;let u=e.doc.resolve(i);if(Vt.valid(u))return u}for(;;){let o=n>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!Ke.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=o,i+=n;let a=e.doc.resolve(i);if(Vt.valid(a))return a}return null}}}Vt.prototype.visible=!1;Vt.findFrom=Vt.findGapCursorFrom;Qe.jsonID("gapcursor",Vt);class xx{constructor(e){this.pos=e}map(e){return new xx(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return Vt.valid(n)?new Vt(n):Qe.near(n)}}function hq(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function pq(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function mq(){return new gt({props:{decorations:vq,createSelectionBetween(t,e,n){return e.pos==n.pos&&Vt.valid(n)?new Vt(n):null},handleClick:yq,handleKeyDown:gq,handleDOMEvents:{beforeinput:wq}}})}const gq=u7({ArrowLeft:Nh("horiz",-1),ArrowRight:Nh("horiz",1),ArrowUp:Nh("vert",-1),ArrowDown:Nh("vert",1)});function Nh(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let o=r.selection,a=e>0?o.$to:o.$from,u=o.empty;if(o instanceof Ye){if(!s.endOfTextblock(n)||a.depth==0)return!1;u=!1,a=r.doc.resolve(e>0?a.after():a.before())}let c=Vt.findGapCursorFrom(a,e,u);return c?(i&&i(r.tr.setSelection(new Vt(c))),!0):!1}}function yq(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!Vt.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&Ke.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Vt(r))),!0)}function wq(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Vt))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=Ae.empty;for(let o=r.length-1;o>=0;o--)i=Ae.from(r[o].createAndFill(null,i));let s=t.state.tr.replace(n.pos,n.pos,new Le(i,0,0));return s.setSelection(Ye.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function vq(t){if(!(t.selection instanceof Vt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Mt.create(t.doc,[Nn.widget(t.selection.head,e,{key:"gapcursor"})])}const bq=ht.create({name:"gapCursor",addProseMirrorPlugins(){return[mq()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=rt(ze(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),xq=er.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",kt(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:s}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:a}=r.extensionManager,u=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:d})=>{if(d&&u&&o){const h=u.filter(p=>a.includes(p.type.name));c.ensureMarks(h)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Eq=er.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,kt(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>Xv({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var Up=200,mn=function(){};mn.prototype.append=function(e){return e.length?(e=mn.from(e),!this.length&&e||e.length<Up&&this.leafAppend(e)||this.length<Up&&e.leafPrepend(this)||this.appendInner(e)):this};mn.prototype.prepend=function(e){return e.length?mn.from(e).append(this):this};mn.prototype.appendInner=function(e){return new Cq(this,e)};mn.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?mn.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};mn.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};mn.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};mn.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,o){return i.push(e(s,o))},n,r),i};mn.from=function(e){return e instanceof mn?e:e&&e.length?new CR(e):mn.empty};var CR=function(t){function e(r){t.call(this),this.values=r}e.__proto__=t,e.prototype=Object.create(t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,o,a){for(var u=s;u<o;u++)if(i(this.values[u],a+u)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,o,a){for(var u=s-1;u>=o;u--)if(i(this.values[u],a+u)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Up)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Up)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(mn);mn.empty=new CR([]);var Cq=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return e.__proto__=t,e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,o){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(s,a),o)===!1||s>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,s)-a,o+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,o){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(s,a)-a,o+a)===!1||s<a&&this.left.forEachInvertedInner(r,Math.min(i,a),s,o)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(mn);const Sq=500;class ii{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let o=e.tr,a,u,c=[],d=[];return this.items.forEach((h,p)=>{if(!h.step){i||(i=this.remapping(r,p+1),s=i.maps.length),s--,d.push(h);return}if(i){d.push(new Vs(h.map));let m=h.step.map(i.slice(s)),w;m&&o.maybeStep(m).doc&&(w=o.mapping.maps[o.mapping.maps.length-1],c.push(new Vs(w,void 0,void 0,c.length+d.length))),s--,w&&i.appendMap(w,s)}else o.maybeStep(h.step);if(h.selection)return a=i?h.selection.map(i.slice(s)):h.selection,u=new ii(this.items.slice(0,r).append(d.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:u,transform:o,selection:a}}addTransform(e,n,r,i){let s=[],o=this.eventCount,a=this.items,u=!i&&a.length?a.get(a.length-1):null;for(let d=0;d<e.steps.length;d++){let h=e.steps[d].invert(e.docs[d]),p=new Vs(e.mapping.maps[d],h,n),m;(m=u&&u.merge(p))&&(p=m,d?s.pop():a=a.slice(0,a.length-1)),s.push(p),n&&(o++,n=void 0),i||(u=p)}let c=o-r.depth;return c>Tq&&(a=kq(a,c),o-=c),new ii(a.append(s),o)}remapping(e,n){let r=new Zc;return this.items.forEach((i,s)=>{let o=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,o)},e,n),r}addMaps(e){return this.eventCount==0?this:new ii(this.items.append(e.map(n=>new Vs(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=e.mapping,o=e.steps.length,a=this.eventCount;this.items.forEach(p=>{p.selection&&a--},i);let u=n;this.items.forEach(p=>{let m=s.getMirror(--u);if(m==null)return;o=Math.min(o,m);let w=s.maps[m];if(p.step){let y=e.steps[m].invert(e.docs[m]),x=p.selection&&p.selection.map(s.slice(u+1,m));x&&a++,r.push(new Vs(w,y,x))}else r.push(new Vs(w))},i);let c=[];for(let p=n;p<o;p++)c.push(new Vs(s.maps[p]));let d=this.items.slice(0,i).append(c).append(r),h=new ii(d,a);return h.emptyItemCount()>Sq&&(h=h.compress(this.items.length-r.length)),h}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],s=0;return this.items.forEach((o,a)=>{if(a>=e)i.push(o),o.selection&&s++;else if(o.step){let u=o.step.map(n.slice(r)),c=u&&u.getMap();if(r--,c&&n.appendMap(c,r),u){let d=o.selection&&o.selection.map(n.slice(r));d&&s++;let h=new Vs(c.invert(),u,d),p,m=i.length-1;(p=i.length&&i[m].merge(h))?i[m]=p:i.push(h)}}else o.map&&r--},this.items.length,0),new ii(mn.from(i.reverse()),s)}}ii.empty=new ii(mn.empty,0);function kq(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}let Vs=class SR{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new SR(n.getMap().invert(),n,this.selection)}}};class Js{constructor(e,n,r,i,s){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const Tq=20;function Aq(t,e,n,r){let i=n.getMeta(wa),s;if(i)return i.historyState;n.getMeta(Nq)&&(t=new Js(t.done,t.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(o&&o.getMeta(wa))return o.getMeta(wa).redo?new Js(t.done.addTransform(n,void 0,r,ap(e)),t.undone,z5(n.mapping.maps),t.prevTime,t.prevComposition):new Js(t.done,t.undone.addTransform(n,void 0,r,ap(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),u=t.prevTime==0||!o&&t.prevComposition!=a&&(t.prevTime<(n.time||0)-r.newGroupDelay||!_q(n,t.prevRanges)),c=o?x0(t.prevRanges,n.mapping):z5(n.mapping.maps);return new Js(t.done.addTransform(n,u?e.selection.getBookmark():void 0,r,ap(e)),ii.empty,c,n.time,a??t.prevComposition)}else return(s=n.getMeta("rebased"))?new Js(t.done.rebased(n,s),t.undone.rebased(n,s),x0(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Js(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),x0(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function _q(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(n=!0)}),n}function z5(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,s,o)=>e.push(s,o));return e}function x0(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),s=e.map(t[r+1],-1);i<=s&&n.push(i,s)}return n}function Rq(t,e,n){let r=ap(e),i=wa.get(e).spec.config,s=(n?t.undone:t.done).popEvent(e,r);if(!s)return null;let o=s.selection.resolve(s.transform.doc),a=(n?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),u=new Js(n?a:s.remaining,n?s.remaining:a,null,0,-1);return s.transform.setSelection(o).setMeta(wa,{redo:n,historyState:u})}let E0=!1,U5=null;function ap(t){let e=t.plugins;if(U5!=e){E0=!1,U5=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){E0=!0;break}}return E0}const wa=new xt("history"),Nq=new xt("closeHistory");function Oq(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new gt({key:wa,state:{init(){return new Js(ii.empty,ii.empty,null,0,-1)},apply(e,n,r){return Aq(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?TR:r=="historyRedo"?AR:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function kR(t,e){return(n,r)=>{let i=wa.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let s=Rq(i,n,t);s&&r(e?s.scrollIntoView():s)}return!0}}const TR=kR(!1,!0),AR=kR(!0,!0),Iq=ht.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>TR(t,e),redo:()=>({state:t,dispatch:e})=>AR(t,e)}},addProseMirrorPlugins(){return[Oq(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),Mq=er.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",kt(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{const{selection:n}=e,{$from:r,$to:i}=n,s=t();return r.parentOffset===0?s.insertContentAt({from:Math.max(r.pos-1,0),to:i.pos},{type:this.name}):Gr(n)?s.insertContentAt(i.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({tr:o,dispatch:a})=>{var u;if(a){const{$to:c}=o.selection,d=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?o.setSelection(Ye.create(o.doc,c.pos+1)):c.nodeAfter.isBlock?o.setSelection(Ke.create(o.doc,c.pos)):o.setSelection(Ye.create(o.doc,c.pos));else{const h=(u=c.parent.type.contentMatch.defaultType)===null||u===void 0?void 0:u.create();h&&(o.insert(d,h),o.setSelection(Ye.create(o.doc,d+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[N7({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),Dq=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Lq=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,Pq=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,Fq=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Bq=yr.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",kt(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Sa({find:Dq,type:this.type}),Sa({find:Pq,type:this.type})]},addPasteRules(){return[yo({find:Lq,type:this.type}),yo({find:Fq,type:this.type})]}}),jq=er.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",kt(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Hq="listItem",V5="textStyle",W5=/^(\d+)\.\s$/,$q=er.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",kt(this.options.HTMLAttributes,n),0]:["ol",kt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Hq,this.editor.getAttributes(V5)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=tu({find:W5,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=tu({find:W5,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(V5)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),zq=er.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",kt(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Uq=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,Vq=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Wq=yr.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",kt(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Sa({find:Uq,type:this.type})]},addPasteRules(){return[yo({find:Vq,type:this.type})]}}),Kq=er.create({name:"text",group:"inline"}),qq=ht.create({name:"starterKit",addExtensions(){const t=[];return this.options.bold!==!1&&t.push(eq.configure(this.options.bold)),this.options.blockquote!==!1&&t.push(XK.configure(this.options.blockquote)),this.options.bulletList!==!1&&t.push(nq.configure(this.options.bulletList)),this.options.code!==!1&&t.push(sq.configure(this.options.code)),this.options.codeBlock!==!1&&t.push(lq.configure(this.options.codeBlock)),this.options.document!==!1&&t.push(uq.configure(this.options.document)),this.options.dropcursor!==!1&&t.push(dq.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&t.push(bq.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&t.push(xq.configure(this.options.hardBreak)),this.options.heading!==!1&&t.push(Eq.configure(this.options.heading)),this.options.history!==!1&&t.push(Iq.configure(this.options.history)),this.options.horizontalRule!==!1&&t.push(Mq.configure(this.options.horizontalRule)),this.options.italic!==!1&&t.push(Bq.configure(this.options.italic)),this.options.listItem!==!1&&t.push(jq.configure(this.options.listItem)),this.options.orderedList!==!1&&t.push($q.configure(this.options.orderedList)),this.options.paragraph!==!1&&t.push(zq.configure(this.options.paragraph)),this.options.strike!==!1&&t.push(Wq.configure(this.options.strike)),this.options.text!==!1&&t.push(Kq.configure(this.options.text)),t}}),Gq=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,Xq=er.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",kt(this.options.HTMLAttributes,t)]},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[N7({find:Gq,type:this.type,getAttributes:t=>{const[,,e,n,r]=t;return{src:n,alt:e,title:r}}})]}}),Yq=/^\s*(\[([( |x])?\])\s$/,Zq=er.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList"}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",kt(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const i=document.createElement("li"),s=document.createElement("label"),o=document.createElement("span"),a=document.createElement("input"),u=document.createElement("div");return s.contentEditable="false",a.type="checkbox",a.addEventListener("mousedown",c=>c.preventDefault()),a.addEventListener("change",c=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){a.checked=!a.checked;return}const{checked:d}=c.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:h})=>{const p=n();if(typeof p!="number")return!1;const m=h.doc.nodeAt(p);return h.setNodeMarkup(p,void 0,{...m==null?void 0:m.attrs,checked:d}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,d)||(a.checked=!a.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([c,d])=>{i.setAttribute(c,d)}),i.dataset.checked=t.attrs.checked,a.checked=t.attrs.checked,s.append(a,o),i.append(s,u),Object.entries(e).forEach(([c,d])=>{i.setAttribute(c,d)}),{dom:i,contentDOM:u,update:c=>c.type!==this.type?!1:(i.dataset.checked=c.attrs.checked,a.checked=c.attrs.checked,!0)}}},addInputRules(){return[tu({find:Yq,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),Jq=er.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",kt(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}}),Qq=ht.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(n=>e.updateAttributes(n,{textAlign:t})).every(n=>n):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).every(e=>e),toggleTextAlign:t=>({editor:e,commands:n})=>this.options.alignments.includes(t)?e.isActive({textAlign:t})?n.unsetTextAlign():n.setTextAlign(t):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),eG=t=>Kt({find:/--$/,replace:t??"—"}),tG=t=>Kt({find:/\.\.\.$/,replace:t??"…"}),nG=t=>Kt({find:/(?:^|[\s{[(<'"\u2018\u201C])(")$/,replace:t??"“"}),rG=t=>Kt({find:/"$/,replace:t??"”"}),iG=t=>Kt({find:/(?:^|[\s{[(<'"\u2018\u201C])(')$/,replace:t??"‘"}),sG=t=>Kt({find:/'$/,replace:t??"’"}),oG=t=>Kt({find:/<-$/,replace:t??"←"}),aG=t=>Kt({find:/->$/,replace:t??"→"}),lG=t=>Kt({find:/\(c\)$/,replace:t??"©"}),uG=t=>Kt({find:/\(tm\)$/,replace:t??"™"}),cG=t=>Kt({find:/\(sm\)$/,replace:t??"℠"}),fG=t=>Kt({find:/\(r\)$/,replace:t??"®"}),dG=t=>Kt({find:/(?:^|\s)(1\/2)\s$/,replace:t??"½"}),hG=t=>Kt({find:/\+\/-$/,replace:t??"±"}),pG=t=>Kt({find:/!=$/,replace:t??"≠"}),mG=t=>Kt({find:/<<$/,replace:t??"«"}),gG=t=>Kt({find:/>>$/,replace:t??"»"}),yG=t=>Kt({find:/\d+\s?([*x])\s?\d+$/,replace:t??"×"}),wG=t=>Kt({find:/\^2$/,replace:t??"²"}),vG=t=>Kt({find:/\^3$/,replace:t??"³"}),bG=t=>Kt({find:/(?:^|\s)(1\/4)\s$/,replace:t??"¼"}),xG=t=>Kt({find:/(?:^|\s)(3\/4)\s$/,replace:t??"¾"}),EG=ht.create({name:"typography",addOptions(){return{closeDoubleQuote:"”",closeSingleQuote:"’",copyright:"©",ellipsis:"…",emDash:"—",laquo:"«",leftArrow:"←",multiplication:"×",notEqual:"≠",oneHalf:"½",oneQuarter:"¼",openDoubleQuote:"“",openSingleQuote:"‘",plusMinus:"±",raquo:"»",registeredTrademark:"®",rightArrow:"→",servicemark:"℠",superscriptThree:"³",superscriptTwo:"²",threeQuarters:"¾",trademark:"™"}},addInputRules(){const t=[];return this.options.emDash!==!1&&t.push(eG(this.options.emDash)),this.options.ellipsis!==!1&&t.push(tG(this.options.ellipsis)),this.options.openDoubleQuote!==!1&&t.push(nG(this.options.openDoubleQuote)),this.options.closeDoubleQuote!==!1&&t.push(rG(this.options.closeDoubleQuote)),this.options.openSingleQuote!==!1&&t.push(iG(this.options.openSingleQuote)),this.options.closeSingleQuote!==!1&&t.push(sG(this.options.closeSingleQuote)),this.options.leftArrow!==!1&&t.push(oG(this.options.leftArrow)),this.options.rightArrow!==!1&&t.push(aG(this.options.rightArrow)),this.options.copyright!==!1&&t.push(lG(this.options.copyright)),this.options.trademark!==!1&&t.push(uG(this.options.trademark)),this.options.servicemark!==!1&&t.push(cG(this.options.servicemark)),this.options.registeredTrademark!==!1&&t.push(fG(this.options.registeredTrademark)),this.options.oneHalf!==!1&&t.push(dG(this.options.oneHalf)),this.options.plusMinus!==!1&&t.push(hG(this.options.plusMinus)),this.options.notEqual!==!1&&t.push(pG(this.options.notEqual)),this.options.laquo!==!1&&t.push(mG(this.options.laquo)),this.options.raquo!==!1&&t.push(gG(this.options.raquo)),this.options.multiplication!==!1&&t.push(yG(this.options.multiplication)),this.options.superscriptTwo!==!1&&t.push(wG(this.options.superscriptTwo)),this.options.superscriptThree!==!1&&t.push(vG(this.options.superscriptThree)),this.options.oneQuarter!==!1&&t.push(bG(this.options.oneQuarter)),this.options.threeQuarters!==!1&&t.push(xG(this.options.threeQuarters)),t}}),CG=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,SG=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,kG=yr.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:t=>t.getAttribute("data-color")||t.style.backgroundColor,renderHTML:t=>t.color?{"data-color":t.color,style:`background-color: ${t.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:t}){return["mark",kt(this.options.HTMLAttributes,t),0]},addCommands(){return{setHighlight:t=>({commands:e})=>e.setMark(this.name,t),toggleHighlight:t=>({commands:e})=>e.toggleMark(this.name,t),unsetHighlight:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[Sa({find:CG,type:this.type})]},addPasteRules(){return[yo({find:SG,type:this.type})]}}),TG=yr.create({name:"subscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sub"},{style:"vertical-align",getAttrs(t){return t!=="sub"?!1:null}}]},renderHTML({HTMLAttributes:t}){return["sub",kt(this.options.HTMLAttributes,t),0]},addCommands(){return{setSubscript:()=>({commands:t})=>t.setMark(this.name),toggleSubscript:()=>({commands:t})=>t.toggleMark(this.name),unsetSubscript:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-,":()=>this.editor.commands.toggleSubscript()}}}),AG=yr.create({name:"superscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sup"},{style:"vertical-align",getAttrs(t){return t!=="super"?!1:null}}]},renderHTML({HTMLAttributes:t}){return["sup",kt(this.options.HTMLAttributes,t),0]},addCommands(){return{setSuperscript:()=>({commands:t})=>t.setMark(this.name),toggleSuperscript:()=>({commands:t})=>t.toggleMark(this.name),unsetSuperscript:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-.":()=>this.editor.commands.toggleSuperscript()}}}),_G=yr.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",kt(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),RG="modulepreload",NG=function(t){return"/"+t},K5={},OG=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(u=>{if(u=NG(u),u in K5)return;K5[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":RG,c||(h.as="script"),h.crossOrigin="",h.href=u,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((p,m)=>{h.addEventListener("load",p),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};var IG=Object.defineProperty,MG=Object.defineProperties,DG=Object.getOwnPropertyDescriptors,q5=Object.getOwnPropertySymbols,LG=Object.prototype.hasOwnProperty,PG=Object.prototype.propertyIsEnumerable,Sb=(t,e,n)=>e in t?IG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nt=(t,e)=>{for(var n in e||(e={}))LG.call(e,n)&&Sb(t,n,e[n]);if(q5)for(var n of q5(e))PG.call(e,n)&&Sb(t,n,e[n]);return t},ps=(t,e)=>MG(t,DG(e)),Ce=(t,e,n)=>Sb(t,typeof e!="symbol"?e+"":e,n),FG=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{a(n.next(u))}catch(c){i(c)}},o=u=>{try{a(n.throw(u))}catch(c){i(c)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);a((n=n.apply(t,e)).next())});class Vp{constructor(e){Ce(this,"rootKey"),this.rootKey=e}}const BG=Object.seal({});class Se extends Vp{constructor(e){super(e),Ce(this,"root"),this.root=new Array}prepForXml(e){var n;e.stack.push(this);const r=this.root.map(i=>i instanceof Vp?i.prepForXml(e):i).filter(i=>i!==void 0);return e.stack.pop(),{[this.rootKey]:r.length?r.length===1&&((n=r[0])!=null&&n._attr)?r[0]:r:BG}}addChildElement(e){return this.root.push(e),this}}class ws extends Se{prepForXml(e){const n=super.prepForXml(e);if(n&&(typeof n[this.rootKey]!="object"||Object.keys(n[this.rootKey]).length))return n}}class Be extends Vp{constructor(e){super("_attr"),Ce(this,"xmlKeys"),this.root=e}prepForXml(e){const n={};return Object.entries(this.root).forEach(([r,i])=>{if(i!==void 0){const s=this.xmlKeys&&this.xmlKeys[r]||r;n[s]=i}}),{_attr:n}}}class vs extends Vp{constructor(e){super("_attr"),this.root=e}prepForXml(e){return{_attr:Object.values(this.root).filter(({value:r})=>r!==void 0).reduce((r,{key:i,value:s})=>ps(nt({},r),{[i]:s}),{})}}}class qt extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}}var Ri=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ex(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var C0={},Oh={exports:{}},G5;function Cx(){if(G5)return Oh.exports;G5=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(R,B,$){return Function.prototype.apply.call(R,B,$)},n;t&&typeof t.ownKeys=="function"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function(R){return Object.getOwnPropertyNames(R).concat(Object.getOwnPropertySymbols(R))}:n=function(R){return Object.getOwnPropertyNames(R)};function r(E){console&&console.warn&&console.warn(E)}var i=Number.isNaN||function(R){return R!==R};function s(){s.init.call(this)}Oh.exports=s,Oh.exports.once=v,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(E){if(typeof E!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof E)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(E){if(typeof E!="number"||E<0||i(E))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+E+".");o=E}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(R){if(typeof R!="number"||R<0||i(R))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+R+".");return this._maxListeners=R,this};function u(E){return E._maxListeners===void 0?s.defaultMaxListeners:E._maxListeners}s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(R){for(var B=[],$=1;$<arguments.length;$++)B.push(arguments[$]);var K=R==="error",F=this._events;if(F!==void 0)K=K&&F.error===void 0;else if(!K)return!1;if(K){var ie;if(B.length>0&&(ie=B[0]),ie instanceof Error)throw ie;var me=new Error("Unhandled error."+(ie?" ("+ie.message+")":""));throw me.context=ie,me}var H=F[R];if(H===void 0)return!1;if(typeof H=="function")e(H,this,B);else for(var X=H.length,N=w(H,X),$=0;$<X;++$)e(N[$],this,B);return!0};function c(E,R,B,$){var K,F,ie;if(a(B),F=E._events,F===void 0?(F=E._events=Object.create(null),E._eventsCount=0):(F.newListener!==void 0&&(E.emit("newListener",R,B.listener?B.listener:B),F=E._events),ie=F[R]),ie===void 0)ie=F[R]=B,++E._eventsCount;else if(typeof ie=="function"?ie=F[R]=$?[B,ie]:[ie,B]:$?ie.unshift(B):ie.push(B),K=u(E),K>0&&ie.length>K&&!ie.warned){ie.warned=!0;var me=new Error("Possible EventEmitter memory leak detected. "+ie.length+" "+String(R)+" listeners added. Use emitter.setMaxListeners() to increase limit");me.name="MaxListenersExceededWarning",me.emitter=E,me.type=R,me.count=ie.length,r(me)}return E}s.prototype.addListener=function(R,B){return c(this,R,B,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(R,B){return c(this,R,B,!0)};function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(E,R,B){var $={fired:!1,wrapFn:void 0,target:E,type:R,listener:B},K=d.bind($);return K.listener=B,$.wrapFn=K,K}s.prototype.once=function(R,B){return a(B),this.on(R,h(this,R,B)),this},s.prototype.prependOnceListener=function(R,B){return a(B),this.prependListener(R,h(this,R,B)),this},s.prototype.removeListener=function(R,B){var $,K,F,ie,me;if(a(B),K=this._events,K===void 0)return this;if($=K[R],$===void 0)return this;if($===B||$.listener===B)--this._eventsCount===0?this._events=Object.create(null):(delete K[R],K.removeListener&&this.emit("removeListener",R,$.listener||B));else if(typeof $!="function"){for(F=-1,ie=$.length-1;ie>=0;ie--)if($[ie]===B||$[ie].listener===B){me=$[ie].listener,F=ie;break}if(F<0)return this;F===0?$.shift():y($,F),$.length===1&&(K[R]=$[0]),K.removeListener!==void 0&&this.emit("removeListener",R,me||B)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(R){var B,$,K;if($=this._events,$===void 0)return this;if($.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):$[R]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete $[R]),this;if(arguments.length===0){var F=Object.keys($),ie;for(K=0;K<F.length;++K)ie=F[K],ie!=="removeListener"&&this.removeAllListeners(ie);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(B=$[R],typeof B=="function")this.removeListener(R,B);else if(B!==void 0)for(K=B.length-1;K>=0;K--)this.removeListener(R,B[K]);return this};function p(E,R,B){var $=E._events;if($===void 0)return[];var K=$[R];return K===void 0?[]:typeof K=="function"?B?[K.listener||K]:[K]:B?x(K):w(K,K.length)}s.prototype.listeners=function(R){return p(this,R,!0)},s.prototype.rawListeners=function(R){return p(this,R,!1)},s.listenerCount=function(E,R){return typeof E.listenerCount=="function"?E.listenerCount(R):m.call(E,R)},s.prototype.listenerCount=m;function m(E){var R=this._events;if(R!==void 0){var B=R[E];if(typeof B=="function")return 1;if(B!==void 0)return B.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function w(E,R){for(var B=new Array(R),$=0;$<R;++$)B[$]=E[$];return B}function y(E,R){for(;R+1<E.length;R++)E[R]=E[R+1];E.pop()}function x(E){for(var R=new Array(E.length),B=0;B<R.length;++B)R[B]=E[B].listener||E[B];return R}function v(E,R){return new Promise(function(B,$){function K(ie){E.removeListener(R,F),$(ie)}function F(){typeof E.removeListener=="function"&&E.removeListener("error",K),B([].slice.call(arguments))}k(E,R,F,{once:!0}),R!=="error"&&S(E,K,{once:!0})})}function S(E,R,B){typeof E.on=="function"&&k(E,"error",R,B)}function k(E,R,B,$){if(typeof E.on=="function")$.once?E.once(R,B):E.on(R,B);else if(typeof E.addEventListener=="function")E.addEventListener(R,function K(F){$.once&&E.removeEventListener(R,K),B(F)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof E)}return Oh.exports}var Ih={exports:{}},X5;function _o(){return X5||(X5=1,typeof Object.create=="function"?Ih.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Ih.exports=function(e,n){if(n){e.super_=n;var r=function(){};r.prototype=n.prototype,e.prototype=new r,e.prototype.constructor=e}}),Ih.exports}function jG(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _R={exports:{}},Qt=_R.exports={},Si,ki;function kb(){throw new Error("setTimeout has not been defined")}function Tb(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Si=setTimeout:Si=kb}catch{Si=kb}try{typeof clearTimeout=="function"?ki=clearTimeout:ki=Tb}catch{ki=Tb}})();function RR(t){if(Si===setTimeout)return setTimeout(t,0);if((Si===kb||!Si)&&setTimeout)return Si=setTimeout,setTimeout(t,0);try{return Si(t,0)}catch{try{return Si.call(null,t,0)}catch{return Si.call(this,t,0)}}}function HG(t){if(ki===clearTimeout)return clearTimeout(t);if((ki===Tb||!ki)&&clearTimeout)return ki=clearTimeout,clearTimeout(t);try{return ki(t)}catch{try{return ki.call(null,t)}catch{return ki.call(this,t)}}}var ss=[],Vl=!1,la,lp=-1;function $G(){!Vl||!la||(Vl=!1,la.length?ss=la.concat(ss):lp=-1,ss.length&&NR())}function NR(){if(!Vl){var t=RR($G);Vl=!0;for(var e=ss.length;e;){for(la=ss,ss=[];++lp<e;)la&&la[lp].run();lp=-1,e=ss.length}la=null,Vl=!1,HG(t)}}Qt.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];ss.push(new OR(t,e)),ss.length===1&&!Vl&&RR(NR)};function OR(t,e){this.fun=t,this.array=e}OR.prototype.run=function(){this.fun.apply(null,this.array)};Qt.title="browser";Qt.browser=!0;Qt.env={};Qt.argv=[];Qt.version="";Qt.versions={};function bs(){}Qt.on=bs;Qt.addListener=bs;Qt.once=bs;Qt.off=bs;Qt.removeListener=bs;Qt.removeAllListeners=bs;Qt.emit=bs;Qt.prependListener=bs;Qt.prependOnceListener=bs;Qt.listeners=function(t){return[]};Qt.binding=function(t){throw new Error("process.binding is not supported")};Qt.cwd=function(){return"/"};Qt.chdir=function(t){throw new Error("process.chdir is not supported")};Qt.umask=function(){return 0};var zG=_R.exports;const it=jG(zG);var S0,Y5;function IR(){return Y5||(Y5=1,S0=Cx().EventEmitter),S0}var k0={},pc={},Z5;function UG(){if(Z5)return pc;Z5=1,pc.byteLength=a,pc.toByteArray=c,pc.fromByteArray=p;for(var t=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=r.length;i<s;++i)t[i]=r[i],e[r.charCodeAt(i)]=i;e[45]=62,e[95]=63;function o(m){var w=m.length;if(w%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=m.indexOf("=");y===-1&&(y=w);var x=y===w?0:4-y%4;return[y,x]}function a(m){var w=o(m),y=w[0],x=w[1];return(y+x)*3/4-x}function u(m,w,y){return(w+y)*3/4-y}function c(m){var w,y=o(m),x=y[0],v=y[1],S=new n(u(m,x,v)),k=0,E=v>0?x-4:x,R;for(R=0;R<E;R+=4)w=e[m.charCodeAt(R)]<<18|e[m.charCodeAt(R+1)]<<12|e[m.charCodeAt(R+2)]<<6|e[m.charCodeAt(R+3)],S[k++]=w>>16&255,S[k++]=w>>8&255,S[k++]=w&255;return v===2&&(w=e[m.charCodeAt(R)]<<2|e[m.charCodeAt(R+1)]>>4,S[k++]=w&255),v===1&&(w=e[m.charCodeAt(R)]<<10|e[m.charCodeAt(R+1)]<<4|e[m.charCodeAt(R+2)]>>2,S[k++]=w>>8&255,S[k++]=w&255),S}function d(m){return t[m>>18&63]+t[m>>12&63]+t[m>>6&63]+t[m&63]}function h(m,w,y){for(var x,v=[],S=w;S<y;S+=3)x=(m[S]<<16&16711680)+(m[S+1]<<8&65280)+(m[S+2]&255),v.push(d(x));return v.join("")}function p(m){for(var w,y=m.length,x=y%3,v=[],S=16383,k=0,E=y-x;k<E;k+=S)v.push(h(m,k,k+S>E?E:k+S));return x===1?(w=m[y-1],v.push(t[w>>2]+t[w<<4&63]+"==")):x===2&&(w=(m[y-2]<<8)+m[y-1],v.push(t[w>>10]+t[w>>4&63]+t[w<<2&63]+"=")),v.join("")}return pc}var Mh={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var J5;function VG(){return J5||(J5=1,Mh.read=function(t,e,n,r,i){var s,o,a=i*8-r-1,u=(1<<a)-1,c=u>>1,d=-7,h=n?i-1:0,p=n?-1:1,m=t[e+h];for(h+=p,s=m&(1<<-d)-1,m>>=-d,d+=a;d>0;s=s*256+t[e+h],h+=p,d-=8);for(o=s&(1<<-d)-1,s>>=-d,d+=r;d>0;o=o*256+t[e+h],h+=p,d-=8);if(s===0)s=1-c;else{if(s===u)return o?NaN:(m?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-c}return(m?-1:1)*o*Math.pow(2,s-r)},Mh.write=function(t,e,n,r,i,s){var o,a,u,c=s*8-i-1,d=(1<<c)-1,h=d>>1,p=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=r?0:s-1,w=r?1:-1,y=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=d):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),o+h>=1?e+=p/u:e+=p*Math.pow(2,1-h),e*u>=2&&(o++,u/=2),o+h>=d?(a=0,o=d):o+h>=1?(a=(e*u-1)*Math.pow(2,i),o=o+h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;t[n+m]=a&255,m+=w,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;t[n+m]=o&255,m+=w,o/=256,c-=8);t[n+m-w]|=y*128}),Mh}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Q5;function fg(){return Q5||(Q5=1,function(t){var e=UG(),n=VG(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=S,t.INSPECT_MAX_BYTES=50;var i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{var j=new Uint8Array(1),C={foo:function(){return 42}};return Object.setPrototypeOf(C,Uint8Array.prototype),Object.setPrototypeOf(j,C),j.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(j){if(j>i)throw new RangeError('The value "'+j+'" is invalid for option "size"');var C=new Uint8Array(j);return Object.setPrototypeOf(C,a.prototype),C}function a(j,C,T){if(typeof j=="number"){if(typeof C=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(j)}return u(j,C,T)}a.poolSize=8192;function u(j,C,T){if(typeof j=="string")return p(j,C);if(ArrayBuffer.isView(j))return w(j);if(j==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof j);if(de(j,ArrayBuffer)||j&&de(j.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(de(j,SharedArrayBuffer)||j&&de(j.buffer,SharedArrayBuffer)))return y(j,C,T);if(typeof j=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var D=j.valueOf&&j.valueOf();if(D!=null&&D!==j)return a.from(D,C,T);var J=x(j);if(J)return J;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof j[Symbol.toPrimitive]=="function")return a.from(j[Symbol.toPrimitive]("string"),C,T);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof j)}a.from=function(j,C,T){return u(j,C,T)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(j){if(typeof j!="number")throw new TypeError('"size" argument must be of type number');if(j<0)throw new RangeError('The value "'+j+'" is invalid for option "size"')}function d(j,C,T){return c(j),j<=0?o(j):C!==void 0?typeof T=="string"?o(j).fill(C,T):o(j).fill(C):o(j)}a.alloc=function(j,C,T){return d(j,C,T)};function h(j){return c(j),o(j<0?0:v(j)|0)}a.allocUnsafe=function(j){return h(j)},a.allocUnsafeSlow=function(j){return h(j)};function p(j,C){if((typeof C!="string"||C==="")&&(C="utf8"),!a.isEncoding(C))throw new TypeError("Unknown encoding: "+C);var T=k(j,C)|0,D=o(T),J=D.write(j,C);return J!==T&&(D=D.slice(0,J)),D}function m(j){for(var C=j.length<0?0:v(j.length)|0,T=o(C),D=0;D<C;D+=1)T[D]=j[D]&255;return T}function w(j){if(de(j,Uint8Array)){var C=new Uint8Array(j);return y(C.buffer,C.byteOffset,C.byteLength)}return m(j)}function y(j,C,T){if(C<0||j.byteLength<C)throw new RangeError('"offset" is outside of buffer bounds');if(j.byteLength<C+(T||0))throw new RangeError('"length" is outside of buffer bounds');var D;return C===void 0&&T===void 0?D=new Uint8Array(j):T===void 0?D=new Uint8Array(j,C):D=new Uint8Array(j,C,T),Object.setPrototypeOf(D,a.prototype),D}function x(j){if(a.isBuffer(j)){var C=v(j.length)|0,T=o(C);return T.length===0||j.copy(T,0,0,C),T}if(j.length!==void 0)return typeof j.length!="number"||M(j.length)?o(0):m(j);if(j.type==="Buffer"&&Array.isArray(j.data))return m(j.data)}function v(j){if(j>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return j|0}function S(j){return+j!=j&&(j=0),a.alloc(+j)}a.isBuffer=function(C){return C!=null&&C._isBuffer===!0&&C!==a.prototype},a.compare=function(C,T){if(de(C,Uint8Array)&&(C=a.from(C,C.offset,C.byteLength)),de(T,Uint8Array)&&(T=a.from(T,T.offset,T.byteLength)),!a.isBuffer(C)||!a.isBuffer(T))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(C===T)return 0;for(var D=C.length,J=T.length,ce=0,ne=Math.min(D,J);ce<ne;++ce)if(C[ce]!==T[ce]){D=C[ce],J=T[ce];break}return D<J?-1:J<D?1:0},a.isEncoding=function(C){switch(String(C).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(C,T){if(!Array.isArray(C))throw new TypeError('"list" argument must be an Array of Buffers');if(C.length===0)return a.alloc(0);var D;if(T===void 0)for(T=0,D=0;D<C.length;++D)T+=C[D].length;var J=a.allocUnsafe(T),ce=0;for(D=0;D<C.length;++D){var ne=C[D];if(de(ne,Uint8Array))ce+ne.length>J.length?a.from(ne).copy(J,ce):Uint8Array.prototype.set.call(J,ne,ce);else if(a.isBuffer(ne))ne.copy(J,ce);else throw new TypeError('"list" argument must be an Array of Buffers');ce+=ne.length}return J};function k(j,C){if(a.isBuffer(j))return j.length;if(ArrayBuffer.isView(j)||de(j,ArrayBuffer))return j.byteLength;if(typeof j!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof j);var T=j.length,D=arguments.length>2&&arguments[2]===!0;if(!D&&T===0)return 0;for(var J=!1;;)switch(C){case"ascii":case"latin1":case"binary":return T;case"utf8":case"utf-8":return L(j).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T*2;case"hex":return T>>>1;case"base64":return V(j).length;default:if(J)return D?-1:L(j).length;C=(""+C).toLowerCase(),J=!0}}a.byteLength=k;function E(j,C,T){var D=!1;if((C===void 0||C<0)&&(C=0),C>this.length||((T===void 0||T>this.length)&&(T=this.length),T<=0)||(T>>>=0,C>>>=0,T<=C))return"";for(j||(j="utf8");;)switch(j){case"hex":return Q(this,C,T);case"utf8":case"utf-8":return N(this,C,T);case"ascii":return G(this,C,T);case"latin1":case"binary":return Y(this,C,T);case"base64":return X(this,C,T);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fe(this,C,T);default:if(D)throw new TypeError("Unknown encoding: "+j);j=(j+"").toLowerCase(),D=!0}}a.prototype._isBuffer=!0;function R(j,C,T){var D=j[C];j[C]=j[T],j[T]=D}a.prototype.swap16=function(){var C=this.length;if(C%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var T=0;T<C;T+=2)R(this,T,T+1);return this},a.prototype.swap32=function(){var C=this.length;if(C%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var T=0;T<C;T+=4)R(this,T,T+3),R(this,T+1,T+2);return this},a.prototype.swap64=function(){var C=this.length;if(C%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var T=0;T<C;T+=8)R(this,T,T+7),R(this,T+1,T+6),R(this,T+2,T+5),R(this,T+3,T+4);return this},a.prototype.toString=function(){var C=this.length;return C===0?"":arguments.length===0?N(this,0,C):E.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(C){if(!a.isBuffer(C))throw new TypeError("Argument must be a Buffer");return this===C?!0:a.compare(this,C)===0},a.prototype.inspect=function(){var C="",T=t.INSPECT_MAX_BYTES;return C=this.toString("hex",0,T).replace(/(.{2})/g,"$1 ").trim(),this.length>T&&(C+=" ... "),"<Buffer "+C+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(C,T,D,J,ce){if(de(C,Uint8Array)&&(C=a.from(C,C.offset,C.byteLength)),!a.isBuffer(C))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof C);if(T===void 0&&(T=0),D===void 0&&(D=C?C.length:0),J===void 0&&(J=0),ce===void 0&&(ce=this.length),T<0||D>C.length||J<0||ce>this.length)throw new RangeError("out of range index");if(J>=ce&&T>=D)return 0;if(J>=ce)return-1;if(T>=D)return 1;if(T>>>=0,D>>>=0,J>>>=0,ce>>>=0,this===C)return 0;for(var ne=ce-J,ye=D-T,we=Math.min(ne,ye),xe=this.slice(J,ce),Te=C.slice(T,D),Me=0;Me<we;++Me)if(xe[Me]!==Te[Me]){ne=xe[Me],ye=Te[Me];break}return ne<ye?-1:ye<ne?1:0};function B(j,C,T,D,J){if(j.length===0)return-1;if(typeof T=="string"?(D=T,T=0):T>2147483647?T=2147483647:T<-2147483648&&(T=-2147483648),T=+T,M(T)&&(T=J?0:j.length-1),T<0&&(T=j.length+T),T>=j.length){if(J)return-1;T=j.length-1}else if(T<0)if(J)T=0;else return-1;if(typeof C=="string"&&(C=a.from(C,D)),a.isBuffer(C))return C.length===0?-1:$(j,C,T,D,J);if(typeof C=="number")return C=C&255,typeof Uint8Array.prototype.indexOf=="function"?J?Uint8Array.prototype.indexOf.call(j,C,T):Uint8Array.prototype.lastIndexOf.call(j,C,T):$(j,[C],T,D,J);throw new TypeError("val must be string, number or Buffer")}function $(j,C,T,D,J){var ce=1,ne=j.length,ye=C.length;if(D!==void 0&&(D=String(D).toLowerCase(),D==="ucs2"||D==="ucs-2"||D==="utf16le"||D==="utf-16le")){if(j.length<2||C.length<2)return-1;ce=2,ne/=2,ye/=2,T/=2}function we(Tt,Bt){return ce===1?Tt[Bt]:Tt.readUInt16BE(Bt*ce)}var xe;if(J){var Te=-1;for(xe=T;xe<ne;xe++)if(we(j,xe)===we(C,Te===-1?0:xe-Te)){if(Te===-1&&(Te=xe),xe-Te+1===ye)return Te*ce}else Te!==-1&&(xe-=xe-Te),Te=-1}else for(T+ye>ne&&(T=ne-ye),xe=T;xe>=0;xe--){for(var Me=!0,Ue=0;Ue<ye;Ue++)if(we(j,xe+Ue)!==we(C,Ue)){Me=!1;break}if(Me)return xe}return-1}a.prototype.includes=function(C,T,D){return this.indexOf(C,T,D)!==-1},a.prototype.indexOf=function(C,T,D){return B(this,C,T,D,!0)},a.prototype.lastIndexOf=function(C,T,D){return B(this,C,T,D,!1)};function K(j,C,T,D){T=Number(T)||0;var J=j.length-T;D?(D=Number(D),D>J&&(D=J)):D=J;var ce=C.length;D>ce/2&&(D=ce/2);for(var ne=0;ne<D;++ne){var ye=parseInt(C.substr(ne*2,2),16);if(M(ye))return ne;j[T+ne]=ye}return ne}function F(j,C,T,D){return q(L(C,j.length-T),j,T,D)}function ie(j,C,T,D){return q(se(C),j,T,D)}function me(j,C,T,D){return q(V(C),j,T,D)}function H(j,C,T,D){return q(te(C,j.length-T),j,T,D)}a.prototype.write=function(C,T,D,J){if(T===void 0)J="utf8",D=this.length,T=0;else if(D===void 0&&typeof T=="string")J=T,D=this.length,T=0;else if(isFinite(T))T=T>>>0,isFinite(D)?(D=D>>>0,J===void 0&&(J="utf8")):(J=D,D=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ce=this.length-T;if((D===void 0||D>ce)&&(D=ce),C.length>0&&(D<0||T<0)||T>this.length)throw new RangeError("Attempt to write outside buffer bounds");J||(J="utf8");for(var ne=!1;;)switch(J){case"hex":return K(this,C,T,D);case"utf8":case"utf-8":return F(this,C,T,D);case"ascii":case"latin1":case"binary":return ie(this,C,T,D);case"base64":return me(this,C,T,D);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,C,T,D);default:if(ne)throw new TypeError("Unknown encoding: "+J);J=(""+J).toLowerCase(),ne=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function X(j,C,T){return C===0&&T===j.length?e.fromByteArray(j):e.fromByteArray(j.slice(C,T))}function N(j,C,T){T=Math.min(j.length,T);for(var D=[],J=C;J<T;){var ce=j[J],ne=null,ye=ce>239?4:ce>223?3:ce>191?2:1;if(J+ye<=T){var we,xe,Te,Me;switch(ye){case 1:ce<128&&(ne=ce);break;case 2:we=j[J+1],(we&192)===128&&(Me=(ce&31)<<6|we&63,Me>127&&(ne=Me));break;case 3:we=j[J+1],xe=j[J+2],(we&192)===128&&(xe&192)===128&&(Me=(ce&15)<<12|(we&63)<<6|xe&63,Me>2047&&(Me<55296||Me>57343)&&(ne=Me));break;case 4:we=j[J+1],xe=j[J+2],Te=j[J+3],(we&192)===128&&(xe&192)===128&&(Te&192)===128&&(Me=(ce&15)<<18|(we&63)<<12|(xe&63)<<6|Te&63,Me>65535&&Me<1114112&&(ne=Me))}}ne===null?(ne=65533,ye=1):ne>65535&&(ne-=65536,D.push(ne>>>10&1023|55296),ne=56320|ne&1023),D.push(ne),J+=ye}return le(D)}var Z=4096;function le(j){var C=j.length;if(C<=Z)return String.fromCharCode.apply(String,j);for(var T="",D=0;D<C;)T+=String.fromCharCode.apply(String,j.slice(D,D+=Z));return T}function G(j,C,T){var D="";T=Math.min(j.length,T);for(var J=C;J<T;++J)D+=String.fromCharCode(j[J]&127);return D}function Y(j,C,T){var D="";T=Math.min(j.length,T);for(var J=C;J<T;++J)D+=String.fromCharCode(j[J]);return D}function Q(j,C,T){var D=j.length;(!C||C<0)&&(C=0),(!T||T<0||T>D)&&(T=D);for(var J="",ce=C;ce<T;++ce)J+=pe[j[ce]];return J}function fe(j,C,T){for(var D=j.slice(C,T),J="",ce=0;ce<D.length-1;ce+=2)J+=String.fromCharCode(D[ce]+D[ce+1]*256);return J}a.prototype.slice=function(C,T){var D=this.length;C=~~C,T=T===void 0?D:~~T,C<0?(C+=D,C<0&&(C=0)):C>D&&(C=D),T<0?(T+=D,T<0&&(T=0)):T>D&&(T=D),T<C&&(T=C);var J=this.subarray(C,T);return Object.setPrototypeOf(J,a.prototype),J};function U(j,C,T){if(j%1!==0||j<0)throw new RangeError("offset is not uint");if(j+C>T)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(C,T,D){C=C>>>0,T=T>>>0,D||U(C,T,this.length);for(var J=this[C],ce=1,ne=0;++ne<T&&(ce*=256);)J+=this[C+ne]*ce;return J},a.prototype.readUintBE=a.prototype.readUIntBE=function(C,T,D){C=C>>>0,T=T>>>0,D||U(C,T,this.length);for(var J=this[C+--T],ce=1;T>0&&(ce*=256);)J+=this[C+--T]*ce;return J},a.prototype.readUint8=a.prototype.readUInt8=function(C,T){return C=C>>>0,T||U(C,1,this.length),this[C]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(C,T){return C=C>>>0,T||U(C,2,this.length),this[C]|this[C+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(C,T){return C=C>>>0,T||U(C,2,this.length),this[C]<<8|this[C+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(C,T){return C=C>>>0,T||U(C,4,this.length),(this[C]|this[C+1]<<8|this[C+2]<<16)+this[C+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(C,T){return C=C>>>0,T||U(C,4,this.length),this[C]*16777216+(this[C+1]<<16|this[C+2]<<8|this[C+3])},a.prototype.readIntLE=function(C,T,D){C=C>>>0,T=T>>>0,D||U(C,T,this.length);for(var J=this[C],ce=1,ne=0;++ne<T&&(ce*=256);)J+=this[C+ne]*ce;return ce*=128,J>=ce&&(J-=Math.pow(2,8*T)),J},a.prototype.readIntBE=function(C,T,D){C=C>>>0,T=T>>>0,D||U(C,T,this.length);for(var J=T,ce=1,ne=this[C+--J];J>0&&(ce*=256);)ne+=this[C+--J]*ce;return ce*=128,ne>=ce&&(ne-=Math.pow(2,8*T)),ne},a.prototype.readInt8=function(C,T){return C=C>>>0,T||U(C,1,this.length),this[C]&128?(255-this[C]+1)*-1:this[C]},a.prototype.readInt16LE=function(C,T){C=C>>>0,T||U(C,2,this.length);var D=this[C]|this[C+1]<<8;return D&32768?D|4294901760:D},a.prototype.readInt16BE=function(C,T){C=C>>>0,T||U(C,2,this.length);var D=this[C+1]|this[C]<<8;return D&32768?D|4294901760:D},a.prototype.readInt32LE=function(C,T){return C=C>>>0,T||U(C,4,this.length),this[C]|this[C+1]<<8|this[C+2]<<16|this[C+3]<<24},a.prototype.readInt32BE=function(C,T){return C=C>>>0,T||U(C,4,this.length),this[C]<<24|this[C+1]<<16|this[C+2]<<8|this[C+3]},a.prototype.readFloatLE=function(C,T){return C=C>>>0,T||U(C,4,this.length),n.read(this,C,!0,23,4)},a.prototype.readFloatBE=function(C,T){return C=C>>>0,T||U(C,4,this.length),n.read(this,C,!1,23,4)},a.prototype.readDoubleLE=function(C,T){return C=C>>>0,T||U(C,8,this.length),n.read(this,C,!0,52,8)},a.prototype.readDoubleBE=function(C,T){return C=C>>>0,T||U(C,8,this.length),n.read(this,C,!1,52,8)};function O(j,C,T,D,J,ce){if(!a.isBuffer(j))throw new TypeError('"buffer" argument must be a Buffer instance');if(C>J||C<ce)throw new RangeError('"value" argument is out of bounds');if(T+D>j.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(C,T,D,J){if(C=+C,T=T>>>0,D=D>>>0,!J){var ce=Math.pow(2,8*D)-1;O(this,C,T,D,ce,0)}var ne=1,ye=0;for(this[T]=C&255;++ye<D&&(ne*=256);)this[T+ye]=C/ne&255;return T+D},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(C,T,D,J){if(C=+C,T=T>>>0,D=D>>>0,!J){var ce=Math.pow(2,8*D)-1;O(this,C,T,D,ce,0)}var ne=D-1,ye=1;for(this[T+ne]=C&255;--ne>=0&&(ye*=256);)this[T+ne]=C/ye&255;return T+D},a.prototype.writeUint8=a.prototype.writeUInt8=function(C,T,D){return C=+C,T=T>>>0,D||O(this,C,T,1,255,0),this[T]=C&255,T+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(C,T,D){return C=+C,T=T>>>0,D||O(this,C,T,2,65535,0),this[T]=C&255,this[T+1]=C>>>8,T+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(C,T,D){return C=+C,T=T>>>0,D||O(this,C,T,2,65535,0),this[T]=C>>>8,this[T+1]=C&255,T+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(C,T,D){return C=+C,T=T>>>0,D||O(this,C,T,4,4294967295,0),this[T+3]=C>>>24,this[T+2]=C>>>16,this[T+1]=C>>>8,this[T]=C&255,T+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(C,T,D){return C=+C,T=T>>>0,D||O(this,C,T,4,4294967295,0),this[T]=C>>>24,this[T+1]=C>>>16,this[T+2]=C>>>8,this[T+3]=C&255,T+4},a.prototype.writeIntLE=function(C,T,D,J){if(C=+C,T=T>>>0,!J){var ce=Math.pow(2,8*D-1);O(this,C,T,D,ce-1,-ce)}var ne=0,ye=1,we=0;for(this[T]=C&255;++ne<D&&(ye*=256);)C<0&&we===0&&this[T+ne-1]!==0&&(we=1),this[T+ne]=(C/ye>>0)-we&255;return T+D},a.prototype.writeIntBE=function(C,T,D,J){if(C=+C,T=T>>>0,!J){var ce=Math.pow(2,8*D-1);O(this,C,T,D,ce-1,-ce)}var ne=D-1,ye=1,we=0;for(this[T+ne]=C&255;--ne>=0&&(ye*=256);)C<0&&we===0&&this[T+ne+1]!==0&&(we=1),this[T+ne]=(C/ye>>0)-we&255;return T+D},a.prototype.writeInt8=function(C,T,D){return C=+C,T=T>>>0,D||O(this,C,T,1,127,-128),C<0&&(C=255+C+1),this[T]=C&255,T+1},a.prototype.writeInt16LE=function(C,T,D){return C=+C,T=T>>>0,D||O(this,C,T,2,32767,-32768),this[T]=C&255,this[T+1]=C>>>8,T+2},a.prototype.writeInt16BE=function(C,T,D){return C=+C,T=T>>>0,D||O(this,C,T,2,32767,-32768),this[T]=C>>>8,this[T+1]=C&255,T+2},a.prototype.writeInt32LE=function(C,T,D){return C=+C,T=T>>>0,D||O(this,C,T,4,2147483647,-2147483648),this[T]=C&255,this[T+1]=C>>>8,this[T+2]=C>>>16,this[T+3]=C>>>24,T+4},a.prototype.writeInt32BE=function(C,T,D){return C=+C,T=T>>>0,D||O(this,C,T,4,2147483647,-2147483648),C<0&&(C=4294967295+C+1),this[T]=C>>>24,this[T+1]=C>>>16,this[T+2]=C>>>8,this[T+3]=C&255,T+4};function ee(j,C,T,D,J,ce){if(T+D>j.length)throw new RangeError("Index out of range");if(T<0)throw new RangeError("Index out of range")}function oe(j,C,T,D,J){return C=+C,T=T>>>0,J||ee(j,C,T,4),n.write(j,C,T,D,23,4),T+4}a.prototype.writeFloatLE=function(C,T,D){return oe(this,C,T,!0,D)},a.prototype.writeFloatBE=function(C,T,D){return oe(this,C,T,!1,D)};function ae(j,C,T,D,J){return C=+C,T=T>>>0,J||ee(j,C,T,8),n.write(j,C,T,D,52,8),T+8}a.prototype.writeDoubleLE=function(C,T,D){return ae(this,C,T,!0,D)},a.prototype.writeDoubleBE=function(C,T,D){return ae(this,C,T,!1,D)},a.prototype.copy=function(C,T,D,J){if(!a.isBuffer(C))throw new TypeError("argument should be a Buffer");if(D||(D=0),!J&&J!==0&&(J=this.length),T>=C.length&&(T=C.length),T||(T=0),J>0&&J<D&&(J=D),J===D||C.length===0||this.length===0)return 0;if(T<0)throw new RangeError("targetStart out of bounds");if(D<0||D>=this.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("sourceEnd out of bounds");J>this.length&&(J=this.length),C.length-T<J-D&&(J=C.length-T+D);var ce=J-D;return this===C&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(T,D,J):Uint8Array.prototype.set.call(C,this.subarray(D,J),T),ce},a.prototype.fill=function(C,T,D,J){if(typeof C=="string"){if(typeof T=="string"?(J=T,T=0,D=this.length):typeof D=="string"&&(J=D,D=this.length),J!==void 0&&typeof J!="string")throw new TypeError("encoding must be a string");if(typeof J=="string"&&!a.isEncoding(J))throw new TypeError("Unknown encoding: "+J);if(C.length===1){var ce=C.charCodeAt(0);(J==="utf8"&&ce<128||J==="latin1")&&(C=ce)}}else typeof C=="number"?C=C&255:typeof C=="boolean"&&(C=Number(C));if(T<0||this.length<T||this.length<D)throw new RangeError("Out of range index");if(D<=T)return this;T=T>>>0,D=D===void 0?this.length:D>>>0,C||(C=0);var ne;if(typeof C=="number")for(ne=T;ne<D;++ne)this[ne]=C;else{var ye=a.isBuffer(C)?C:a.from(C,J),we=ye.length;if(we===0)throw new TypeError('The value "'+C+'" is invalid for argument "value"');for(ne=0;ne<D-T;++ne)this[ne+T]=ye[ne%we]}return this};var re=/[^+/0-9A-Za-z-_]/g;function P(j){if(j=j.split("=")[0],j=j.trim().replace(re,""),j.length<2)return"";for(;j.length%4!==0;)j=j+"=";return j}function L(j,C){C=C||1/0;for(var T,D=j.length,J=null,ce=[],ne=0;ne<D;++ne){if(T=j.charCodeAt(ne),T>55295&&T<57344){if(!J){if(T>56319){(C-=3)>-1&&ce.push(239,191,189);continue}else if(ne+1===D){(C-=3)>-1&&ce.push(239,191,189);continue}J=T;continue}if(T<56320){(C-=3)>-1&&ce.push(239,191,189),J=T;continue}T=(J-55296<<10|T-56320)+65536}else J&&(C-=3)>-1&&ce.push(239,191,189);if(J=null,T<128){if((C-=1)<0)break;ce.push(T)}else if(T<2048){if((C-=2)<0)break;ce.push(T>>6|192,T&63|128)}else if(T<65536){if((C-=3)<0)break;ce.push(T>>12|224,T>>6&63|128,T&63|128)}else if(T<1114112){if((C-=4)<0)break;ce.push(T>>18|240,T>>12&63|128,T>>6&63|128,T&63|128)}else throw new Error("Invalid code point")}return ce}function se(j){for(var C=[],T=0;T<j.length;++T)C.push(j.charCodeAt(T)&255);return C}function te(j,C){for(var T,D,J,ce=[],ne=0;ne<j.length&&!((C-=2)<0);++ne)T=j.charCodeAt(ne),D=T>>8,J=T%256,ce.push(J),ce.push(D);return ce}function V(j){return e.toByteArray(P(j))}function q(j,C,T,D){for(var J=0;J<D&&!(J+T>=C.length||J>=j.length);++J)C[J+T]=j[J];return J}function de(j,C){return j instanceof C||j!=null&&j.constructor!=null&&j.constructor.name!=null&&j.constructor.name===C.name}function M(j){return j!==j}var pe=function(){for(var j="0123456789abcdef",C=new Array(256),T=0;T<16;++T)for(var D=T*16,J=0;J<16;++J)C[D+J]=j[T]+j[J];return C}()}(k0)),k0}var T0={},A0={},_0,e3;function MR(){return e3||(e3=1,_0=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[n]=i;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,n);if(a.value!==i||a.enumerable!==!0)return!1}return!0}),_0}var R0,t3;function Sx(){if(t3)return R0;t3=1;var t=MR();return R0=function(){return t()&&!!Symbol.toStringTag},R0}var N0,n3;function DR(){return n3||(n3=1,N0=Object),N0}var O0,r3;function WG(){return r3||(r3=1,O0=Error),O0}var I0,i3;function KG(){return i3||(i3=1,I0=EvalError),I0}var M0,s3;function qG(){return s3||(s3=1,M0=RangeError),M0}var D0,o3;function GG(){return o3||(o3=1,D0=ReferenceError),D0}var L0,a3;function LR(){return a3||(a3=1,L0=SyntaxError),L0}var P0,l3;function jf(){return l3||(l3=1,P0=TypeError),P0}var F0,u3;function XG(){return u3||(u3=1,F0=URIError),F0}var B0,c3;function YG(){return c3||(c3=1,B0=Math.abs),B0}var j0,f3;function ZG(){return f3||(f3=1,j0=Math.floor),j0}var H0,d3;function JG(){return d3||(d3=1,H0=Math.max),H0}var $0,h3;function QG(){return h3||(h3=1,$0=Math.min),$0}var z0,p3;function eX(){return p3||(p3=1,z0=Math.pow),z0}var U0,m3;function tX(){return m3||(m3=1,U0=Math.round),U0}var V0,g3;function nX(){return g3||(g3=1,V0=Number.isNaN||function(e){return e!==e}),V0}var W0,y3;function rX(){if(y3)return W0;y3=1;var t=nX();return W0=function(n){return t(n)||n===0?n:n<0?-1:1},W0}var K0,w3;function iX(){return w3||(w3=1,K0=Object.getOwnPropertyDescriptor),K0}var q0,v3;function Hf(){if(v3)return q0;v3=1;var t=iX();if(t)try{t([],"length")}catch{t=null}return q0=t,q0}var G0,b3;function dg(){if(b3)return G0;b3=1;var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return G0=t,G0}var X0,x3;function sX(){if(x3)return X0;x3=1;var t=typeof Symbol<"u"&&Symbol,e=MR();return X0=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},X0}var Y0,E3;function PR(){return E3||(E3=1,Y0=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Y0}var Z0,C3;function FR(){if(C3)return Z0;C3=1;var t=DR();return Z0=t.getPrototypeOf||null,Z0}var J0,S3;function oX(){if(S3)return J0;S3=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,n=Math.max,r="[object Function]",i=function(u,c){for(var d=[],h=0;h<u.length;h+=1)d[h]=u[h];for(var p=0;p<c.length;p+=1)d[p+u.length]=c[p];return d},s=function(u,c){for(var d=[],h=c,p=0;h<u.length;h+=1,p+=1)d[p]=u[h];return d},o=function(a,u){for(var c="",d=0;d<a.length;d+=1)c+=a[d],d+1<a.length&&(c+=u);return c};return J0=function(u){var c=this;if(typeof c!="function"||e.apply(c)!==r)throw new TypeError(t+c);for(var d=s(arguments,1),h,p=function(){if(this instanceof h){var v=c.apply(this,i(d,arguments));return Object(v)===v?v:this}return c.apply(u,i(d,arguments))},m=n(0,c.length-d.length),w=[],y=0;y<m;y++)w[y]="$"+y;if(h=Function("binder","return function ("+o(w,",")+"){ return binder.apply(this,arguments); }")(p),c.prototype){var x=function(){};x.prototype=c.prototype,h.prototype=new x,x.prototype=null}return h},J0}var Q0,k3;function $f(){if(k3)return Q0;k3=1;var t=oX();return Q0=Function.prototype.bind||t,Q0}var ew,T3;function kx(){return T3||(T3=1,ew=Function.prototype.call),ew}var tw,A3;function BR(){return A3||(A3=1,tw=Function.prototype.apply),tw}var nw,_3;function aX(){return _3||(_3=1,nw=typeof Reflect<"u"&&Reflect&&Reflect.apply),nw}var rw,R3;function lX(){if(R3)return rw;R3=1;var t=$f(),e=BR(),n=kx(),r=aX();return rw=r||t.call(n,e),rw}var iw,N3;function uX(){if(N3)return iw;N3=1;var t=$f(),e=jf(),n=kx(),r=lX();return iw=function(s){if(s.length<1||typeof s[0]!="function")throw new e("a function is required");return r(t,n,s)},iw}var sw,O3;function cX(){if(O3)return sw;O3=1;var t=uX(),e=Hf(),n;try{n=[].__proto__===Array.prototype}catch(o){if(!o||typeof o!="object"||!("code"in o)||o.code!=="ERR_PROTO_ACCESS")throw o}var r=!!n&&e&&e(Object.prototype,"__proto__"),i=Object,s=i.getPrototypeOf;return sw=r&&typeof r.get=="function"?t([r.get]):typeof s=="function"?function(a){return s(a==null?a:i(a))}:!1,sw}var ow,I3;function fX(){if(I3)return ow;I3=1;var t=PR(),e=FR(),n=cX();return ow=t?function(i){return t(i)}:e?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return e(i)}:n?function(i){return n(i)}:null,ow}var aw,M3;function dX(){if(M3)return aw;M3=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,n=$f();return aw=n.call(t,e),aw}var lw,D3;function Tx(){if(D3)return lw;D3=1;var t,e=DR(),n=WG(),r=KG(),i=qG(),s=GG(),o=LR(),a=jf(),u=XG(),c=YG(),d=ZG(),h=JG(),p=QG(),m=eX(),w=tX(),y=rX(),x=Function,v=function(se){try{return x('"use strict"; return ('+se+").constructor;")()}catch{}},S=Hf(),k=dg(),E=function(){throw new a},R=S?function(){try{return arguments.callee,E}catch{try{return S(arguments,"callee").get}catch{return E}}}():E,B=sX()(),$=fX(),K=FR(),F=PR(),ie=BR(),me=kx(),H={},X=typeof Uint8Array>"u"||!$?t:$(Uint8Array),N={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":B&&$?$([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":H,"%AsyncGenerator%":H,"%AsyncGeneratorFunction%":H,"%AsyncIteratorPrototype%":H,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":n,"%eval%":eval,"%EvalError%":r,"%Float16Array%":typeof Float16Array>"u"?t:Float16Array,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":x,"%GeneratorFunction%":H,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":B&&$?$($([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!B||!$?t:$(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":S,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":i,"%ReferenceError%":s,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!B||!$?t:$(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":B&&$?$(""[Symbol.iterator]()):t,"%Symbol%":B?Symbol:t,"%SyntaxError%":o,"%ThrowTypeError%":R,"%TypedArray%":X,"%TypeError%":a,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":u,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet,"%Function.prototype.call%":me,"%Function.prototype.apply%":ie,"%Object.defineProperty%":k,"%Object.getPrototypeOf%":K,"%Math.abs%":c,"%Math.floor%":d,"%Math.max%":h,"%Math.min%":p,"%Math.pow%":m,"%Math.round%":w,"%Math.sign%":y,"%Reflect.getPrototypeOf%":F};if($)try{null.error}catch(se){var Z=$($(se));N["%Error.prototype%"]=Z}var le=function se(te){var V;if(te==="%AsyncFunction%")V=v("async function () {}");else if(te==="%GeneratorFunction%")V=v("function* () {}");else if(te==="%AsyncGeneratorFunction%")V=v("async function* () {}");else if(te==="%AsyncGenerator%"){var q=se("%AsyncGeneratorFunction%");q&&(V=q.prototype)}else if(te==="%AsyncIteratorPrototype%"){var de=se("%AsyncGenerator%");de&&$&&(V=$(de.prototype))}return N[te]=V,V},G={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Y=$f(),Q=dX(),fe=Y.call(me,Array.prototype.concat),U=Y.call(ie,Array.prototype.splice),O=Y.call(me,String.prototype.replace),ee=Y.call(me,String.prototype.slice),oe=Y.call(me,RegExp.prototype.exec),ae=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,re=/\\(\\)?/g,P=function(te){var V=ee(te,0,1),q=ee(te,-1);if(V==="%"&&q!=="%")throw new o("invalid intrinsic syntax, expected closing `%`");if(q==="%"&&V!=="%")throw new o("invalid intrinsic syntax, expected opening `%`");var de=[];return O(te,ae,function(M,pe,j,C){de[de.length]=j?O(C,re,"$1"):pe||M}),de},L=function(te,V){var q=te,de;if(Q(G,q)&&(de=G[q],q="%"+de[0]+"%"),Q(N,q)){var M=N[q];if(M===H&&(M=le(q)),typeof M>"u"&&!V)throw new a("intrinsic "+te+" exists, but is not available. Please file an issue!");return{alias:de,name:q,value:M}}throw new o("intrinsic "+te+" does not exist!")};return lw=function(te,V){if(typeof te!="string"||te.length===0)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof V!="boolean")throw new a('"allowMissing" argument must be a boolean');if(oe(/^%?[^%]*%?$/,te)===null)throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var q=P(te),de=q.length>0?q[0]:"",M=L("%"+de+"%",V),pe=M.name,j=M.value,C=!1,T=M.alias;T&&(de=T[0],U(q,fe([0,1],T)));for(var D=1,J=!0;D<q.length;D+=1){var ce=q[D],ne=ee(ce,0,1),ye=ee(ce,-1);if((ne==='"'||ne==="'"||ne==="`"||ye==='"'||ye==="'"||ye==="`")&&ne!==ye)throw new o("property names with quotes must have matching quotes");if((ce==="constructor"||!J)&&(C=!0),de+="."+ce,pe="%"+de+"%",Q(N,pe))j=N[pe];else if(j!=null){if(!(ce in j)){if(!V)throw new a("base intrinsic for "+te+" exists, but the property is not available.");return}if(S&&D+1>=q.length){var we=S(j,ce);J=!!we,J&&"get"in we&&!("originalValue"in we.get)?j=we.get:j=j[ce]}else J=Q(j,ce),j=j[ce];J&&!C&&(N[pe]=j)}}return j},lw}var uw={exports:{}},cw,L3;function hX(){if(L3)return cw;L3=1;var t=dg(),e=LR(),n=jf(),r=Hf();return cw=function(s,o,a){if(!s||typeof s!="object"&&typeof s!="function")throw new n("`obj` must be an object or a function`");if(typeof o!="string"&&typeof o!="symbol")throw new n("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new n("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new n("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new n("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new n("`loose`, if provided, must be a boolean");var u=arguments.length>3?arguments[3]:null,c=arguments.length>4?arguments[4]:null,d=arguments.length>5?arguments[5]:null,h=arguments.length>6?arguments[6]:!1,p=!!r&&r(s,o);if(t)t(s,o,{configurable:d===null&&p?p.configurable:!d,enumerable:u===null&&p?p.enumerable:!u,value:a,writable:c===null&&p?p.writable:!c});else if(h||!u&&!c&&!d)s[o]=a;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},cw}var fw,P3;function pX(){if(P3)return fw;P3=1;var t=dg(),e=function(){return!!t};return e.hasArrayLengthDefineBug=function(){if(!t)return null;try{return t([],"length",{value:1}).length!==1}catch{return!0}},fw=e,fw}var dw,F3;function mX(){if(F3)return dw;F3=1;var t=Tx(),e=hX(),n=pX()(),r=Hf(),i=jf(),s=t("%Math.floor%");return dw=function(a,u){if(typeof a!="function")throw new i("`fn` is not a function");if(typeof u!="number"||u<0||u>4294967295||s(u)!==u)throw new i("`length` must be a positive 32-bit integer");var c=arguments.length>2&&!!arguments[2],d=!0,h=!0;if("length"in a&&r){var p=r(a,"length");p&&!p.configurable&&(d=!1),p&&!p.writable&&(h=!1)}return(d||h||!c)&&(n?e(a,"length",u,!0,!0):e(a,"length",u)),a},dw}var B3;function jR(){return B3||(B3=1,function(t){var e=$f(),n=Tx(),r=mX(),i=jf(),s=n("%Function.prototype.apply%"),o=n("%Function.prototype.call%"),a=n("%Reflect.apply%",!0)||e.call(o,s),u=dg(),c=n("%Math.max%");t.exports=function(p){if(typeof p!="function")throw new i("a function is required");var m=a(e,o,arguments);return r(m,1+c(0,p.length-(arguments.length-1)),!0)};var d=function(){return a(e,s,arguments)};u?u(t.exports,"apply",{value:d}):t.exports.apply=d}(uw)),uw.exports}var hw,j3;function HR(){if(j3)return hw;j3=1;var t=Tx(),e=jR(),n=e(t("String.prototype.indexOf"));return hw=function(i,s){var o=t(i,!!s);return typeof o=="function"&&n(i,".prototype.")>-1?e(o):o},hw}var pw,H3;function gX(){if(H3)return pw;H3=1;var t=Sx()(),e=HR(),n=e("Object.prototype.toString"),r=function(a){return t&&a&&typeof a=="object"&&Symbol.toStringTag in a?!1:n(a)==="[object Arguments]"},i=function(a){return r(a)?!0:a!==null&&typeof a=="object"&&typeof a.length=="number"&&a.length>=0&&n(a)!=="[object Array]"&&n(a.callee)==="[object Function]"},s=function(){return r(arguments)}();return r.isLegacyArguments=i,pw=s?r:i,pw}var mw,$3;function yX(){if($3)return mw;$3=1;var t=Object.prototype.toString,e=Function.prototype.toString,n=/^\s*(?:function)?\*/,r=Sx()(),i=Object.getPrototypeOf,s=function(){if(!r)return!1;try{return Function("return function*() {}")()}catch{}},o;return mw=function(u){if(typeof u!="function")return!1;if(n.test(e.call(u)))return!0;if(!r){var c=t.call(u);return c==="[object GeneratorFunction]"}if(!i)return!1;if(typeof o>"u"){var d=s();o=d?i(d):!1}return i(u)===o},mw}var gw,z3;function wX(){if(z3)return gw;z3=1;var t=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,n,r;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{n=Object.defineProperty({},"length",{get:function(){throw r}}),r={},e(function(){throw 42},null,n)}catch(S){S!==r&&(e=null)}else e=null;var i=/^\s*class\b/,s=function(k){try{var E=t.call(k);return i.test(E)}catch{return!1}},o=function(k){try{return s(k)?!1:(t.call(k),!0)}catch{return!1}},a=Object.prototype.toString,u="[object Object]",c="[object Function]",d="[object GeneratorFunction]",h="[object HTMLAllCollection]",p="[object HTML document.all class]",m="[object HTMLCollection]",w=typeof Symbol=="function"&&!!Symbol.toStringTag,y=!(0 in[,]),x=function(){return!1};if(typeof document=="object"){var v=document.all;a.call(v)===a.call(document.all)&&(x=function(k){if((y||!k)&&(typeof k>"u"||typeof k=="object"))try{var E=a.call(k);return(E===h||E===p||E===m||E===u)&&k("")==null}catch{}return!1})}return gw=e?function(k){if(x(k))return!0;if(!k||typeof k!="function"&&typeof k!="object")return!1;try{e(k,null,n)}catch(E){if(E!==r)return!1}return!s(k)&&o(k)}:function(k){if(x(k))return!0;if(!k||typeof k!="function"&&typeof k!="object")return!1;if(w)return o(k);if(s(k))return!1;var E=a.call(k);return E!==c&&E!==d&&!/^\[object HTML/.test(E)?!1:o(k)},gw}var yw,U3;function vX(){if(U3)return yw;U3=1;var t=wX(),e=Object.prototype.toString,n=Object.prototype.hasOwnProperty,r=function(u,c,d){for(var h=0,p=u.length;h<p;h++)n.call(u,h)&&(d==null?c(u[h],h,u):c.call(d,u[h],h,u))},i=function(u,c,d){for(var h=0,p=u.length;h<p;h++)d==null?c(u.charAt(h),h,u):c.call(d,u.charAt(h),h,u)},s=function(u,c,d){for(var h in u)n.call(u,h)&&(d==null?c(u[h],h,u):c.call(d,u[h],h,u))},o=function(u,c,d){if(!t(c))throw new TypeError("iterator must be a function");var h;arguments.length>=3&&(h=d),e.call(u)==="[object Array]"?r(u,c,h):typeof u=="string"?i(u,c,h):s(u,c,h)};return yw=o,yw}var ww,V3;function bX(){return V3||(V3=1,ww=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),ww}var vw,W3;function xX(){if(W3)return vw;W3=1;var t=bX(),e=typeof globalThis>"u"?Ri:globalThis;return vw=function(){for(var r=[],i=0;i<t.length;i++)typeof e[t[i]]=="function"&&(r[r.length]=t[i]);return r},vw}var bw,K3;function $R(){if(K3)return bw;K3=1;var t=vX(),e=xX(),n=jR(),r=HR(),i=Hf(),s=r("Object.prototype.toString"),o=Sx()(),a=typeof globalThis>"u"?Ri:globalThis,u=e(),c=r("String.prototype.slice"),d=Object.getPrototypeOf,h=r("Array.prototype.indexOf",!0)||function(x,v){for(var S=0;S<x.length;S+=1)if(x[S]===v)return S;return-1},p={__proto__:null};o&&i&&d?t(u,function(y){var x=new a[y];if(Symbol.toStringTag in x){var v=d(x),S=i(v,Symbol.toStringTag);if(!S){var k=d(v);S=i(k,Symbol.toStringTag)}p["$"+y]=n(S.get)}}):t(u,function(y){var x=new a[y],v=x.slice||x.set;v&&(p["$"+y]=n(v))});var m=function(x){var v=!1;return t(p,function(S,k){if(!v)try{"$"+S(x)===k&&(v=c(k,1))}catch{}}),v},w=function(x){var v=!1;return t(p,function(S,k){if(!v)try{S(x),v=c(k,1)}catch{}}),v};return bw=function(x){if(!x||typeof x!="object")return!1;if(!o){var v=c(s(x),8,-1);return h(u,v)>-1?v:v!=="Object"?!1:w(x)}return i?m(x):null},bw}var xw,q3;function EX(){if(q3)return xw;q3=1;var t=$R();return xw=function(n){return!!t(n)},xw}var G3;function CX(){return G3||(G3=1,function(t){var e=gX(),n=yX(),r=$R(),i=EX();function s(D){return D.call.bind(D)}var o=typeof BigInt<"u",a=typeof Symbol<"u",u=s(Object.prototype.toString),c=s(Number.prototype.valueOf),d=s(String.prototype.valueOf),h=s(Boolean.prototype.valueOf);if(o)var p=s(BigInt.prototype.valueOf);if(a)var m=s(Symbol.prototype.valueOf);function w(D,J){if(typeof D!="object")return!1;try{return J(D),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=n,t.isTypedArray=i;function y(D){return typeof Promise<"u"&&D instanceof Promise||D!==null&&typeof D=="object"&&typeof D.then=="function"&&typeof D.catch=="function"}t.isPromise=y;function x(D){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(D):i(D)||ee(D)}t.isArrayBufferView=x;function v(D){return r(D)==="Uint8Array"}t.isUint8Array=v;function S(D){return r(D)==="Uint8ClampedArray"}t.isUint8ClampedArray=S;function k(D){return r(D)==="Uint16Array"}t.isUint16Array=k;function E(D){return r(D)==="Uint32Array"}t.isUint32Array=E;function R(D){return r(D)==="Int8Array"}t.isInt8Array=R;function B(D){return r(D)==="Int16Array"}t.isInt16Array=B;function $(D){return r(D)==="Int32Array"}t.isInt32Array=$;function K(D){return r(D)==="Float32Array"}t.isFloat32Array=K;function F(D){return r(D)==="Float64Array"}t.isFloat64Array=F;function ie(D){return r(D)==="BigInt64Array"}t.isBigInt64Array=ie;function me(D){return r(D)==="BigUint64Array"}t.isBigUint64Array=me;function H(D){return u(D)==="[object Map]"}H.working=typeof Map<"u"&&H(new Map);function X(D){return typeof Map>"u"?!1:H.working?H(D):D instanceof Map}t.isMap=X;function N(D){return u(D)==="[object Set]"}N.working=typeof Set<"u"&&N(new Set);function Z(D){return typeof Set>"u"?!1:N.working?N(D):D instanceof Set}t.isSet=Z;function le(D){return u(D)==="[object WeakMap]"}le.working=typeof WeakMap<"u"&&le(new WeakMap);function G(D){return typeof WeakMap>"u"?!1:le.working?le(D):D instanceof WeakMap}t.isWeakMap=G;function Y(D){return u(D)==="[object WeakSet]"}Y.working=typeof WeakSet<"u"&&Y(new WeakSet);function Q(D){return Y(D)}t.isWeakSet=Q;function fe(D){return u(D)==="[object ArrayBuffer]"}fe.working=typeof ArrayBuffer<"u"&&fe(new ArrayBuffer);function U(D){return typeof ArrayBuffer>"u"?!1:fe.working?fe(D):D instanceof ArrayBuffer}t.isArrayBuffer=U;function O(D){return u(D)==="[object DataView]"}O.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&O(new DataView(new ArrayBuffer(1),0,1));function ee(D){return typeof DataView>"u"?!1:O.working?O(D):D instanceof DataView}t.isDataView=ee;var oe=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ae(D){return u(D)==="[object SharedArrayBuffer]"}function re(D){return typeof oe>"u"?!1:(typeof ae.working>"u"&&(ae.working=ae(new oe)),ae.working?ae(D):D instanceof oe)}t.isSharedArrayBuffer=re;function P(D){return u(D)==="[object AsyncFunction]"}t.isAsyncFunction=P;function L(D){return u(D)==="[object Map Iterator]"}t.isMapIterator=L;function se(D){return u(D)==="[object Set Iterator]"}t.isSetIterator=se;function te(D){return u(D)==="[object Generator]"}t.isGeneratorObject=te;function V(D){return u(D)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=V;function q(D){return w(D,c)}t.isNumberObject=q;function de(D){return w(D,d)}t.isStringObject=de;function M(D){return w(D,h)}t.isBooleanObject=M;function pe(D){return o&&w(D,p)}t.isBigIntObject=pe;function j(D){return a&&w(D,m)}t.isSymbolObject=j;function C(D){return q(D)||de(D)||M(D)||pe(D)||j(D)}t.isBoxedPrimitive=C;function T(D){return typeof Uint8Array<"u"&&(U(D)||re(D))}t.isAnyArrayBuffer=T,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(D){Object.defineProperty(t,D,{enumerable:!1,value:function(){throw new Error(D+" is not supported in userland")}})})}(A0)),A0}var Ew,X3;function SX(){return X3||(X3=1,Ew=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),Ew}var Y3;function zR(){return Y3||(Y3=1,function(t){var e=Object.getOwnPropertyDescriptors||function(ee){for(var oe=Object.keys(ee),ae={},re=0;re<oe.length;re++)ae[oe[re]]=Object.getOwnPropertyDescriptor(ee,oe[re]);return ae},n=/%[sdj%]/g;t.format=function(O){if(!R(O)){for(var ee=[],oe=0;oe<arguments.length;oe++)ee.push(o(arguments[oe]));return ee.join(" ")}for(var oe=1,ae=arguments,re=ae.length,P=String(O).replace(n,function(se){if(se==="%%")return"%";if(oe>=re)return se;switch(se){case"%s":return String(ae[oe++]);case"%d":return Number(ae[oe++]);case"%j":try{return JSON.stringify(ae[oe++])}catch{return"[Circular]"}default:return se}}),L=ae[oe];oe<re;L=ae[++oe])S(L)||!F(L)?P+=" "+L:P+=" "+o(L);return P},t.deprecate=function(O,ee){if(typeof it<"u"&&it.noDeprecation===!0)return O;if(typeof it>"u")return function(){return t.deprecate(O,ee).apply(this,arguments)};var oe=!1;function ae(){if(!oe){if(it.throwDeprecation)throw new Error(ee);it.traceDeprecation?console.trace(ee):console.error(ee),oe=!0}return O.apply(this,arguments)}return ae};var r={},i=/^$/;if(it.env.NODE_DEBUG){var s=it.env.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+s+"$","i")}t.debuglog=function(O){if(O=O.toUpperCase(),!r[O])if(i.test(O)){var ee=it.pid;r[O]=function(){var oe=t.format.apply(t,arguments);console.error("%s %d: %s",O,ee,oe)}}else r[O]=function(){};return r[O]};function o(O,ee){var oe={seen:[],stylize:u};return arguments.length>=3&&(oe.depth=arguments[2]),arguments.length>=4&&(oe.colors=arguments[3]),v(ee)?oe.showHidden=ee:ee&&t._extend(oe,ee),$(oe.showHidden)&&(oe.showHidden=!1),$(oe.depth)&&(oe.depth=2),$(oe.colors)&&(oe.colors=!1),$(oe.customInspect)&&(oe.customInspect=!0),oe.colors&&(oe.stylize=a),d(oe,O,oe.depth)}t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function a(O,ee){var oe=o.styles[ee];return oe?"\x1B["+o.colors[oe][0]+"m"+O+"\x1B["+o.colors[oe][1]+"m":O}function u(O,ee){return O}function c(O){var ee={};return O.forEach(function(oe,ae){ee[oe]=!0}),ee}function d(O,ee,oe){if(O.customInspect&&ee&&H(ee.inspect)&&ee.inspect!==t.inspect&&!(ee.constructor&&ee.constructor.prototype===ee)){var ae=ee.inspect(oe,O);return R(ae)||(ae=d(O,ae,oe)),ae}var re=h(O,ee);if(re)return re;var P=Object.keys(ee),L=c(P);if(O.showHidden&&(P=Object.getOwnPropertyNames(ee)),me(ee)&&(P.indexOf("message")>=0||P.indexOf("description")>=0))return p(ee);if(P.length===0){if(H(ee)){var se=ee.name?": "+ee.name:"";return O.stylize("[Function"+se+"]","special")}if(K(ee))return O.stylize(RegExp.prototype.toString.call(ee),"regexp");if(ie(ee))return O.stylize(Date.prototype.toString.call(ee),"date");if(me(ee))return p(ee)}var te="",V=!1,q=["{","}"];if(x(ee)&&(V=!0,q=["[","]"]),H(ee)){var de=ee.name?": "+ee.name:"";te=" [Function"+de+"]"}if(K(ee)&&(te=" "+RegExp.prototype.toString.call(ee)),ie(ee)&&(te=" "+Date.prototype.toUTCString.call(ee)),me(ee)&&(te=" "+p(ee)),P.length===0&&(!V||ee.length==0))return q[0]+te+q[1];if(oe<0)return K(ee)?O.stylize(RegExp.prototype.toString.call(ee),"regexp"):O.stylize("[Object]","special");O.seen.push(ee);var M;return V?M=m(O,ee,oe,L,P):M=P.map(function(pe){return w(O,ee,oe,L,pe,V)}),O.seen.pop(),y(M,te,q)}function h(O,ee){if($(ee))return O.stylize("undefined","undefined");if(R(ee)){var oe="'"+JSON.stringify(ee).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return O.stylize(oe,"string")}if(E(ee))return O.stylize(""+ee,"number");if(v(ee))return O.stylize(""+ee,"boolean");if(S(ee))return O.stylize("null","null")}function p(O){return"["+Error.prototype.toString.call(O)+"]"}function m(O,ee,oe,ae,re){for(var P=[],L=0,se=ee.length;L<se;++L)Y(ee,String(L))?P.push(w(O,ee,oe,ae,String(L),!0)):P.push("");return re.forEach(function(te){te.match(/^\d+$/)||P.push(w(O,ee,oe,ae,te,!0))}),P}function w(O,ee,oe,ae,re,P){var L,se,te;if(te=Object.getOwnPropertyDescriptor(ee,re)||{value:ee[re]},te.get?te.set?se=O.stylize("[Getter/Setter]","special"):se=O.stylize("[Getter]","special"):te.set&&(se=O.stylize("[Setter]","special")),Y(ae,re)||(L="["+re+"]"),se||(O.seen.indexOf(te.value)<0?(S(oe)?se=d(O,te.value,null):se=d(O,te.value,oe-1),se.indexOf(`
`)>-1&&(P?se=se.split(`
`).map(function(V){return"  "+V}).join(`
`).slice(2):se=`
`+se.split(`
`).map(function(V){return"   "+V}).join(`
`))):se=O.stylize("[Circular]","special")),$(L)){if(P&&re.match(/^\d+$/))return se;L=JSON.stringify(""+re),L.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(L=L.slice(1,-1),L=O.stylize(L,"name")):(L=L.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),L=O.stylize(L,"string"))}return L+": "+se}function y(O,ee,oe){var ae=O.reduce(function(re,P){return P.indexOf(`
`)>=0,re+P.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ae>60?oe[0]+(ee===""?"":ee+`
 `)+" "+O.join(`,
  `)+" "+oe[1]:oe[0]+ee+" "+O.join(", ")+" "+oe[1]}t.types=CX();function x(O){return Array.isArray(O)}t.isArray=x;function v(O){return typeof O=="boolean"}t.isBoolean=v;function S(O){return O===null}t.isNull=S;function k(O){return O==null}t.isNullOrUndefined=k;function E(O){return typeof O=="number"}t.isNumber=E;function R(O){return typeof O=="string"}t.isString=R;function B(O){return typeof O=="symbol"}t.isSymbol=B;function $(O){return O===void 0}t.isUndefined=$;function K(O){return F(O)&&N(O)==="[object RegExp]"}t.isRegExp=K,t.types.isRegExp=K;function F(O){return typeof O=="object"&&O!==null}t.isObject=F;function ie(O){return F(O)&&N(O)==="[object Date]"}t.isDate=ie,t.types.isDate=ie;function me(O){return F(O)&&(N(O)==="[object Error]"||O instanceof Error)}t.isError=me,t.types.isNativeError=me;function H(O){return typeof O=="function"}t.isFunction=H;function X(O){return O===null||typeof O=="boolean"||typeof O=="number"||typeof O=="string"||typeof O=="symbol"||typeof O>"u"}t.isPrimitive=X,t.isBuffer=SX();function N(O){return Object.prototype.toString.call(O)}function Z(O){return O<10?"0"+O.toString(10):O.toString(10)}var le=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function G(){var O=new Date,ee=[Z(O.getHours()),Z(O.getMinutes()),Z(O.getSeconds())].join(":");return[O.getDate(),le[O.getMonth()],ee].join(" ")}t.log=function(){console.log("%s - %s",G(),t.format.apply(t,arguments))},t.inherits=_o(),t._extend=function(O,ee){if(!ee||!F(ee))return O;for(var oe=Object.keys(ee),ae=oe.length;ae--;)O[oe[ae]]=ee[oe[ae]];return O};function Y(O,ee){return Object.prototype.hasOwnProperty.call(O,ee)}var Q=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(ee){if(typeof ee!="function")throw new TypeError('The "original" argument must be of type Function');if(Q&&ee[Q]){var oe=ee[Q];if(typeof oe!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(oe,Q,{value:oe,enumerable:!1,writable:!1,configurable:!0}),oe}function oe(){for(var ae,re,P=new Promise(function(te,V){ae=te,re=V}),L=[],se=0;se<arguments.length;se++)L.push(arguments[se]);L.push(function(te,V){te?re(te):ae(V)});try{ee.apply(this,L)}catch(te){re(te)}return P}return Object.setPrototypeOf(oe,Object.getPrototypeOf(ee)),Q&&Object.defineProperty(oe,Q,{value:oe,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(oe,e(ee))},t.promisify.custom=Q;function fe(O,ee){if(!O){var oe=new Error("Promise was rejected with a falsy value");oe.reason=O,O=oe}return ee(O)}function U(O){if(typeof O!="function")throw new TypeError('The "original" argument must be of type Function');function ee(){for(var oe=[],ae=0;ae<arguments.length;ae++)oe.push(arguments[ae]);var re=oe.pop();if(typeof re!="function")throw new TypeError("The last argument must be of type Function");var P=this,L=function(){return re.apply(P,arguments)};O.apply(this,oe).then(function(se){it.nextTick(L.bind(null,null,se))},function(se){it.nextTick(fe.bind(null,se,L))})}return Object.setPrototypeOf(ee,Object.getPrototypeOf(O)),Object.defineProperties(ee,e(O)),ee}t.callbackify=U}(T0)),T0}var Cw,Z3;function kX(){if(Z3)return Cw;Z3=1;function t(p,m){var w=Object.keys(p);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(p);m&&(y=y.filter(function(x){return Object.getOwnPropertyDescriptor(p,x).enumerable})),w.push.apply(w,y)}return w}function e(p){for(var m=1;m<arguments.length;m++){var w=arguments[m]!=null?arguments[m]:{};m%2?t(Object(w),!0).forEach(function(y){n(p,y,w[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(w)):t(Object(w)).forEach(function(y){Object.defineProperty(p,y,Object.getOwnPropertyDescriptor(w,y))})}return p}function n(p,m,w){return m in p?Object.defineProperty(p,m,{value:w,enumerable:!0,configurable:!0,writable:!0}):p[m]=w,p}function r(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function i(p,m){for(var w=0;w<m.length;w++){var y=m[w];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,y.key,y)}}function s(p,m,w){return i(p.prototype,m),p}var o=fg(),a=o.Buffer,u=zR(),c=u.inspect,d=c&&c.custom||"inspect";function h(p,m,w){a.prototype.copy.call(p,m,w)}return Cw=function(){function p(){r(this,p),this.head=null,this.tail=null,this.length=0}return s(p,[{key:"push",value:function(w){var y={data:w,next:null};this.length>0?this.tail.next=y:this.head=y,this.tail=y,++this.length}},{key:"unshift",value:function(w){var y={data:w,next:this.head};this.length===0&&(this.tail=y),this.head=y,++this.length}},{key:"shift",value:function(){if(this.length!==0){var w=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,w}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(w){if(this.length===0)return"";for(var y=this.head,x=""+y.data;y=y.next;)x+=w+y.data;return x}},{key:"concat",value:function(w){if(this.length===0)return a.alloc(0);for(var y=a.allocUnsafe(w>>>0),x=this.head,v=0;x;)h(x.data,y,v),v+=x.data.length,x=x.next;return y}},{key:"consume",value:function(w,y){var x;return w<this.head.data.length?(x=this.head.data.slice(0,w),this.head.data=this.head.data.slice(w)):w===this.head.data.length?x=this.shift():x=y?this._getString(w):this._getBuffer(w),x}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(w){var y=this.head,x=1,v=y.data;for(w-=v.length;y=y.next;){var S=y.data,k=w>S.length?S.length:w;if(k===S.length?v+=S:v+=S.slice(0,w),w-=k,w===0){k===S.length?(++x,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=S.slice(k));break}++x}return this.length-=x,v}},{key:"_getBuffer",value:function(w){var y=a.allocUnsafe(w),x=this.head,v=1;for(x.data.copy(y),w-=x.data.length;x=x.next;){var S=x.data,k=w>S.length?S.length:w;if(S.copy(y,y.length-w,0,k),w-=k,w===0){k===S.length?(++v,x.next?this.head=x.next:this.head=this.tail=null):(this.head=x,x.data=S.slice(k));break}++v}return this.length-=v,y}},{key:d,value:function(w,y){return c(this,e({},y,{depth:0,customInspect:!1}))}}]),p}(),Cw}var Sw,J3;function UR(){if(J3)return Sw;J3=1;function t(o,a){var u=this,c=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return c||d?(a?a(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,it.nextTick(i,this,o)):it.nextTick(i,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(h){!a&&h?u._writableState?u._writableState.errorEmitted?it.nextTick(n,u):(u._writableState.errorEmitted=!0,it.nextTick(e,u,h)):it.nextTick(e,u,h):a?(it.nextTick(n,u),a(h)):it.nextTick(n,u)}),this)}function e(o,a){i(o,a),n(o)}function n(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}function r(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(o,a){o.emit("error",a)}function s(o,a){var u=o._readableState,c=o._writableState;u&&u.autoDestroy||c&&c.autoDestroy?o.destroy(a):o.emit("error",a)}return Sw={destroy:t,undestroy:r,errorOrDestroy:s},Sw}var kw={},Q3;function xu(){if(Q3)return kw;Q3=1;function t(a,u){a.prototype=Object.create(u.prototype),a.prototype.constructor=a,a.__proto__=u}var e={};function n(a,u,c){c||(c=Error);function d(p,m,w){return typeof u=="string"?u:u(p,m,w)}var h=function(p){t(m,p);function m(w,y,x){return p.call(this,d(w,y,x))||this}return m}(c);h.prototype.name=c.name,h.prototype.code=a,e[a]=h}function r(a,u){if(Array.isArray(a)){var c=a.length;return a=a.map(function(d){return String(d)}),c>2?"one of ".concat(u," ").concat(a.slice(0,c-1).join(", "),", or ")+a[c-1]:c===2?"one of ".concat(u," ").concat(a[0]," or ").concat(a[1]):"of ".concat(u," ").concat(a[0])}else return"of ".concat(u," ").concat(String(a))}function i(a,u,c){return a.substr(0,u.length)===u}function s(a,u,c){return(c===void 0||c>a.length)&&(c=a.length),a.substring(c-u.length,c)===u}function o(a,u,c){return typeof c!="number"&&(c=0),c+u.length>a.length?!1:a.indexOf(u,c)!==-1}return n("ERR_INVALID_OPT_VALUE",function(a,u){return'The value "'+u+'" is invalid for option "'+a+'"'},TypeError),n("ERR_INVALID_ARG_TYPE",function(a,u,c){var d;typeof u=="string"&&i(u,"not ")?(d="must not be",u=u.replace(/^not /,"")):d="must be";var h;if(s(a," argument"))h="The ".concat(a," ").concat(d," ").concat(r(u,"type"));else{var p=o(a,".")?"property":"argument";h='The "'.concat(a,'" ').concat(p," ").concat(d," ").concat(r(u,"type"))}return h+=". Received type ".concat(typeof c),h},TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",function(a){return"The "+a+" method is not implemented"}),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",function(a){return"Cannot call "+a+" after a stream was destroyed"}),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",function(a){return"Unknown encoding: "+a},TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),kw.codes=e,kw}var Tw,eT;function VR(){if(eT)return Tw;eT=1;var t=xu().codes.ERR_INVALID_OPT_VALUE;function e(r,i,s){return r.highWaterMark!=null?r.highWaterMark:i?r[s]:null}function n(r,i,s,o){var a=e(i,o,s);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var u=o?s:"highWaterMark";throw new t(u,a)}return Math.floor(a)}return r.objectMode?16:16*1024}return Tw={getHighWaterMark:n},Tw}var Aw,tT;function TX(){if(tT)return Aw;tT=1,Aw=t;function t(n,r){if(e("noDeprecation"))return n;var i=!1;function s(){if(!i){if(e("throwDeprecation"))throw new Error(r);e("traceDeprecation")?console.trace(r):console.warn(r),i=!0}return n.apply(this,arguments)}return s}function e(n){try{if(!Ri.localStorage)return!1}catch{return!1}var r=Ri.localStorage[n];return r==null?!1:String(r).toLowerCase()==="true"}return Aw}var _w,nT;function WR(){if(nT)return _w;nT=1,_w=K;function t(re){var P=this;this.next=null,this.entry=null,this.finish=function(){ae(P,re)}}var e;K.WritableState=B;var n={deprecate:TX()},r=IR(),i=fg().Buffer,s=Ri.Uint8Array||function(){};function o(re){return i.from(re)}function a(re){return i.isBuffer(re)||re instanceof s}var u=UR(),c=VR(),d=c.getHighWaterMark,h=xu().codes,p=h.ERR_INVALID_ARG_TYPE,m=h.ERR_METHOD_NOT_IMPLEMENTED,w=h.ERR_MULTIPLE_CALLBACK,y=h.ERR_STREAM_CANNOT_PIPE,x=h.ERR_STREAM_DESTROYED,v=h.ERR_STREAM_NULL_VALUES,S=h.ERR_STREAM_WRITE_AFTER_END,k=h.ERR_UNKNOWN_ENCODING,E=u.errorOrDestroy;_o()(K,r);function R(){}function B(re,P,L){e=e||lu(),re=re||{},typeof L!="boolean"&&(L=P instanceof e),this.objectMode=!!re.objectMode,L&&(this.objectMode=this.objectMode||!!re.writableObjectMode),this.highWaterMark=d(this,re,"writableHighWaterMark",L),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var se=re.decodeStrings===!1;this.decodeStrings=!se,this.defaultEncoding=re.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(te){le(P,te)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=re.emitClose!==!1,this.autoDestroy=!!re.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}B.prototype.getBuffer=function(){for(var P=this.bufferedRequest,L=[];P;)L.push(P),P=P.next;return L},function(){try{Object.defineProperty(B.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var $;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?($=Function.prototype[Symbol.hasInstance],Object.defineProperty(K,Symbol.hasInstance,{value:function(P){return $.call(this,P)?!0:this!==K?!1:P&&P._writableState instanceof B}})):$=function(P){return P instanceof this};function K(re){e=e||lu();var P=this instanceof e;if(!P&&!$.call(K,this))return new K(re);this._writableState=new B(re,this,P),this.writable=!0,re&&(typeof re.write=="function"&&(this._write=re.write),typeof re.writev=="function"&&(this._writev=re.writev),typeof re.destroy=="function"&&(this._destroy=re.destroy),typeof re.final=="function"&&(this._final=re.final)),r.call(this)}K.prototype.pipe=function(){E(this,new y)};function F(re,P){var L=new S;E(re,L),it.nextTick(P,L)}function ie(re,P,L,se){var te;return L===null?te=new v:typeof L!="string"&&!P.objectMode&&(te=new p("chunk",["string","Buffer"],L)),te?(E(re,te),it.nextTick(se,te),!1):!0}K.prototype.write=function(re,P,L){var se=this._writableState,te=!1,V=!se.objectMode&&a(re);return V&&!i.isBuffer(re)&&(re=o(re)),typeof P=="function"&&(L=P,P=null),V?P="buffer":P||(P=se.defaultEncoding),typeof L!="function"&&(L=R),se.ending?F(this,L):(V||ie(this,se,re,L))&&(se.pendingcb++,te=H(this,se,V,re,P,L)),te},K.prototype.cork=function(){this._writableState.corked++},K.prototype.uncork=function(){var re=this._writableState;re.corked&&(re.corked--,!re.writing&&!re.corked&&!re.bufferProcessing&&re.bufferedRequest&&Q(this,re))},K.prototype.setDefaultEncoding=function(P){if(typeof P=="string"&&(P=P.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((P+"").toLowerCase())>-1))throw new k(P);return this._writableState.defaultEncoding=P,this},Object.defineProperty(K.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function me(re,P,L){return!re.objectMode&&re.decodeStrings!==!1&&typeof P=="string"&&(P=i.from(P,L)),P}Object.defineProperty(K.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function H(re,P,L,se,te,V){if(!L){var q=me(P,se,te);se!==q&&(L=!0,te="buffer",se=q)}var de=P.objectMode?1:se.length;P.length+=de;var M=P.length<P.highWaterMark;if(M||(P.needDrain=!0),P.writing||P.corked){var pe=P.lastBufferedRequest;P.lastBufferedRequest={chunk:se,encoding:te,isBuf:L,callback:V,next:null},pe?pe.next=P.lastBufferedRequest:P.bufferedRequest=P.lastBufferedRequest,P.bufferedRequestCount+=1}else X(re,P,!1,de,se,te,V);return M}function X(re,P,L,se,te,V,q){P.writelen=se,P.writecb=q,P.writing=!0,P.sync=!0,P.destroyed?P.onwrite(new x("write")):L?re._writev(te,P.onwrite):re._write(te,V,P.onwrite),P.sync=!1}function N(re,P,L,se,te){--P.pendingcb,L?(it.nextTick(te,se),it.nextTick(ee,re,P),re._writableState.errorEmitted=!0,E(re,se)):(te(se),re._writableState.errorEmitted=!0,E(re,se),ee(re,P))}function Z(re){re.writing=!1,re.writecb=null,re.length-=re.writelen,re.writelen=0}function le(re,P){var L=re._writableState,se=L.sync,te=L.writecb;if(typeof te!="function")throw new w;if(Z(L),P)N(re,L,se,P,te);else{var V=fe(L)||re.destroyed;!V&&!L.corked&&!L.bufferProcessing&&L.bufferedRequest&&Q(re,L),se?it.nextTick(G,re,L,V,te):G(re,L,V,te)}}function G(re,P,L,se){L||Y(re,P),P.pendingcb--,se(),ee(re,P)}function Y(re,P){P.length===0&&P.needDrain&&(P.needDrain=!1,re.emit("drain"))}function Q(re,P){P.bufferProcessing=!0;var L=P.bufferedRequest;if(re._writev&&L&&L.next){var se=P.bufferedRequestCount,te=new Array(se),V=P.corkedRequestsFree;V.entry=L;for(var q=0,de=!0;L;)te[q]=L,L.isBuf||(de=!1),L=L.next,q+=1;te.allBuffers=de,X(re,P,!0,P.length,te,"",V.finish),P.pendingcb++,P.lastBufferedRequest=null,V.next?(P.corkedRequestsFree=V.next,V.next=null):P.corkedRequestsFree=new t(P),P.bufferedRequestCount=0}else{for(;L;){var M=L.chunk,pe=L.encoding,j=L.callback,C=P.objectMode?1:M.length;if(X(re,P,!1,C,M,pe,j),L=L.next,P.bufferedRequestCount--,P.writing)break}L===null&&(P.lastBufferedRequest=null)}P.bufferedRequest=L,P.bufferProcessing=!1}K.prototype._write=function(re,P,L){L(new m("_write()"))},K.prototype._writev=null,K.prototype.end=function(re,P,L){var se=this._writableState;return typeof re=="function"?(L=re,re=null,P=null):typeof P=="function"&&(L=P,P=null),re!=null&&this.write(re,P),se.corked&&(se.corked=1,this.uncork()),se.ending||oe(this,se,L),this},Object.defineProperty(K.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function fe(re){return re.ending&&re.length===0&&re.bufferedRequest===null&&!re.finished&&!re.writing}function U(re,P){re._final(function(L){P.pendingcb--,L&&E(re,L),P.prefinished=!0,re.emit("prefinish"),ee(re,P)})}function O(re,P){!P.prefinished&&!P.finalCalled&&(typeof re._final=="function"&&!P.destroyed?(P.pendingcb++,P.finalCalled=!0,it.nextTick(U,re,P)):(P.prefinished=!0,re.emit("prefinish")))}function ee(re,P){var L=fe(P);if(L&&(O(re,P),P.pendingcb===0&&(P.finished=!0,re.emit("finish"),P.autoDestroy))){var se=re._readableState;(!se||se.autoDestroy&&se.endEmitted)&&re.destroy()}return L}function oe(re,P,L){P.ending=!0,ee(re,P),L&&(P.finished?it.nextTick(L):re.once("finish",L)),P.ended=!0,re.writable=!1}function ae(re,P,L){var se=re.entry;for(re.entry=null;se;){var te=se.callback;P.pendingcb--,te(L),se=se.next}P.corkedRequestsFree.next=re}return Object.defineProperty(K.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(P){this._writableState&&(this._writableState.destroyed=P)}}),K.prototype.destroy=u.destroy,K.prototype._undestroy=u.undestroy,K.prototype._destroy=function(re,P){P(re)},_w}var Rw,rT;function lu(){if(rT)return Rw;rT=1;var t=Object.keys||function(c){var d=[];for(var h in c)d.push(h);return d};Rw=o;var e=KR(),n=WR();_o()(o,e);for(var r=t(n.prototype),i=0;i<r.length;i++){var s=r[i];o.prototype[s]||(o.prototype[s]=n.prototype[s])}function o(c){if(!(this instanceof o))return new o(c);e.call(this,c),n.call(this,c),this.allowHalfOpen=!0,c&&(c.readable===!1&&(this.readable=!1),c.writable===!1&&(this.writable=!1),c.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||it.nextTick(u,this)}function u(c){c.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(d){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=d,this._writableState.destroyed=d)}}),Rw}var Nw={},Dh={exports:{}},iT;function AX(){return iT||(iT=1,function(t,e){var n=fg(),r=n.Buffer;function i(o,a){for(var u in o)a[u]=o[u]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=s);function s(o,a,u){return r(o,a,u)}i(r,s),s.from=function(o,a,u){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,a,u)},s.alloc=function(o,a,u){if(typeof o!="number")throw new TypeError("Argument must be a number");var c=r(o);return a!==void 0?typeof u=="string"?c.fill(a,u):c.fill(a):c.fill(0),c},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}}(Dh,Dh.exports)),Dh.exports}var sT;function Ab(){if(sT)return Nw;sT=1;var t=AX().Buffer,e=t.isEncoding||function(v){switch(v=""+v,v&&v.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(v){if(!v)return"utf8";for(var S;;)switch(v){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return v;default:if(S)return;v=(""+v).toLowerCase(),S=!0}}function r(v){var S=n(v);if(typeof S!="string"&&(t.isEncoding===e||!e(v)))throw new Error("Unknown encoding: "+v);return S||v}Nw.StringDecoder=i;function i(v){this.encoding=r(v);var S;switch(this.encoding){case"utf16le":this.text=h,this.end=p,S=4;break;case"utf8":this.fillLast=u,S=4;break;case"base64":this.text=m,this.end=w,S=3;break;default:this.write=y,this.end=x;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(S)}i.prototype.write=function(v){if(v.length===0)return"";var S,k;if(this.lastNeed){if(S=this.fillLast(v),S===void 0)return"";k=this.lastNeed,this.lastNeed=0}else k=0;return k<v.length?S?S+this.text(v,k):this.text(v,k):S||""},i.prototype.end=d,i.prototype.text=c,i.prototype.fillLast=function(v){if(this.lastNeed<=v.length)return v.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);v.copy(this.lastChar,this.lastTotal-this.lastNeed,0,v.length),this.lastNeed-=v.length};function s(v){return v<=127?0:v>>5===6?2:v>>4===14?3:v>>3===30?4:v>>6===2?-1:-2}function o(v,S,k){var E=S.length-1;if(E<k)return 0;var R=s(S[E]);return R>=0?(R>0&&(v.lastNeed=R-1),R):--E<k||R===-2?0:(R=s(S[E]),R>=0?(R>0&&(v.lastNeed=R-2),R):--E<k||R===-2?0:(R=s(S[E]),R>=0?(R>0&&(R===2?R=0:v.lastNeed=R-3),R):0))}function a(v,S,k){if((S[0]&192)!==128)return v.lastNeed=0,"�";if(v.lastNeed>1&&S.length>1){if((S[1]&192)!==128)return v.lastNeed=1,"�";if(v.lastNeed>2&&S.length>2&&(S[2]&192)!==128)return v.lastNeed=2,"�"}}function u(v){var S=this.lastTotal-this.lastNeed,k=a(this,v);if(k!==void 0)return k;if(this.lastNeed<=v.length)return v.copy(this.lastChar,S,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);v.copy(this.lastChar,S,0,v.length),this.lastNeed-=v.length}function c(v,S){var k=o(this,v,S);if(!this.lastNeed)return v.toString("utf8",S);this.lastTotal=k;var E=v.length-(k-this.lastNeed);return v.copy(this.lastChar,0,E),v.toString("utf8",S,E)}function d(v){var S=v&&v.length?this.write(v):"";return this.lastNeed?S+"�":S}function h(v,S){if((v.length-S)%2===0){var k=v.toString("utf16le",S);if(k){var E=k.charCodeAt(k.length-1);if(E>=55296&&E<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=v[v.length-2],this.lastChar[1]=v[v.length-1],k.slice(0,-1)}return k}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=v[v.length-1],v.toString("utf16le",S,v.length-1)}function p(v){var S=v&&v.length?this.write(v):"";if(this.lastNeed){var k=this.lastTotal-this.lastNeed;return S+this.lastChar.toString("utf16le",0,k)}return S}function m(v,S){var k=(v.length-S)%3;return k===0?v.toString("base64",S):(this.lastNeed=3-k,this.lastTotal=3,k===1?this.lastChar[0]=v[v.length-1]:(this.lastChar[0]=v[v.length-2],this.lastChar[1]=v[v.length-1]),v.toString("base64",S,v.length-k))}function w(v){var S=v&&v.length?this.write(v):"";return this.lastNeed?S+this.lastChar.toString("base64",0,3-this.lastNeed):S}function y(v){return v.toString(this.encoding)}function x(v){return v&&v.length?this.write(v):""}return Nw}var Ow,oT;function Ax(){if(oT)return Ow;oT=1;var t=xu().codes.ERR_STREAM_PREMATURE_CLOSE;function e(s){var o=!1;return function(){if(!o){o=!0;for(var a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];s.apply(this,u)}}}function n(){}function r(s){return s.setHeader&&typeof s.abort=="function"}function i(s,o,a){if(typeof o=="function")return i(s,null,o);o||(o={}),a=e(a||n);var u=o.readable||o.readable!==!1&&s.readable,c=o.writable||o.writable!==!1&&s.writable,d=function(){s.writable||p()},h=s._writableState&&s._writableState.finished,p=function(){c=!1,h=!0,u||a.call(s)},m=s._readableState&&s._readableState.endEmitted,w=function(){u=!1,m=!0,c||a.call(s)},y=function(k){a.call(s,k)},x=function(){var k;if(u&&!m)return(!s._readableState||!s._readableState.ended)&&(k=new t),a.call(s,k);if(c&&!h)return(!s._writableState||!s._writableState.ended)&&(k=new t),a.call(s,k)},v=function(){s.req.on("finish",p)};return r(s)?(s.on("complete",p),s.on("abort",x),s.req?v():s.on("request",v)):c&&!s._writableState&&(s.on("end",d),s.on("close",d)),s.on("end",w),s.on("finish",p),o.error!==!1&&s.on("error",y),s.on("close",x),function(){s.removeListener("complete",p),s.removeListener("abort",x),s.removeListener("request",v),s.req&&s.req.removeListener("finish",p),s.removeListener("end",d),s.removeListener("close",d),s.removeListener("finish",p),s.removeListener("end",w),s.removeListener("error",y),s.removeListener("close",x)}}return Ow=i,Ow}var Iw,aT;function _X(){if(aT)return Iw;aT=1;var t;function e(v,S,k){return S in v?Object.defineProperty(v,S,{value:k,enumerable:!0,configurable:!0,writable:!0}):v[S]=k,v}var n=Ax(),r=Symbol("lastResolve"),i=Symbol("lastReject"),s=Symbol("error"),o=Symbol("ended"),a=Symbol("lastPromise"),u=Symbol("handlePromise"),c=Symbol("stream");function d(v,S){return{value:v,done:S}}function h(v){var S=v[r];if(S!==null){var k=v[c].read();k!==null&&(v[a]=null,v[r]=null,v[i]=null,S(d(k,!1)))}}function p(v){it.nextTick(h,v)}function m(v,S){return function(k,E){v.then(function(){if(S[o]){k(d(void 0,!0));return}S[u](k,E)},E)}}var w=Object.getPrototypeOf(function(){}),y=Object.setPrototypeOf((t={get stream(){return this[c]},next:function(){var S=this,k=this[s];if(k!==null)return Promise.reject(k);if(this[o])return Promise.resolve(d(void 0,!0));if(this[c].destroyed)return new Promise(function($,K){it.nextTick(function(){S[s]?K(S[s]):$(d(void 0,!0))})});var E=this[a],R;if(E)R=new Promise(m(E,this));else{var B=this[c].read();if(B!==null)return Promise.resolve(d(B,!1));R=new Promise(this[u])}return this[a]=R,R}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var S=this;return new Promise(function(k,E){S[c].destroy(null,function(R){if(R){E(R);return}k(d(void 0,!0))})})}),t),w),x=function(S){var k,E=Object.create(y,(k={},e(k,c,{value:S,writable:!0}),e(k,r,{value:null,writable:!0}),e(k,i,{value:null,writable:!0}),e(k,s,{value:null,writable:!0}),e(k,o,{value:S._readableState.endEmitted,writable:!0}),e(k,u,{value:function(B,$){var K=E[c].read();K?(E[a]=null,E[r]=null,E[i]=null,B(d(K,!1))):(E[r]=B,E[i]=$)},writable:!0}),k));return E[a]=null,n(S,function(R){if(R&&R.code!=="ERR_STREAM_PREMATURE_CLOSE"){var B=E[i];B!==null&&(E[a]=null,E[r]=null,E[i]=null,B(R)),E[s]=R;return}var $=E[r];$!==null&&(E[a]=null,E[r]=null,E[i]=null,$(d(void 0,!0))),E[o]=!0}),S.on("readable",p.bind(null,E)),E};return Iw=x,Iw}var Mw,lT;function RX(){return lT||(lT=1,Mw=function(){throw new Error("Readable.from is not available in the browser")}),Mw}var Dw,uT;function KR(){if(uT)return Dw;uT=1,Dw=F;var t;F.ReadableState=K,Cx().EventEmitter;var e=function(q,de){return q.listeners(de).length},n=IR(),r=fg().Buffer,i=Ri.Uint8Array||function(){};function s(V){return r.from(V)}function o(V){return r.isBuffer(V)||V instanceof i}var a=zR(),u;a&&a.debuglog?u=a.debuglog("stream"):u=function(){};var c=kX(),d=UR(),h=VR(),p=h.getHighWaterMark,m=xu().codes,w=m.ERR_INVALID_ARG_TYPE,y=m.ERR_STREAM_PUSH_AFTER_EOF,x=m.ERR_METHOD_NOT_IMPLEMENTED,v=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,S,k,E;_o()(F,n);var R=d.errorOrDestroy,B=["error","close","destroy","pause","resume"];function $(V,q,de){if(typeof V.prependListener=="function")return V.prependListener(q,de);!V._events||!V._events[q]?V.on(q,de):Array.isArray(V._events[q])?V._events[q].unshift(de):V._events[q]=[de,V._events[q]]}function K(V,q,de){t=t||lu(),V=V||{},typeof de!="boolean"&&(de=q instanceof t),this.objectMode=!!V.objectMode,de&&(this.objectMode=this.objectMode||!!V.readableObjectMode),this.highWaterMark=p(this,V,"readableHighWaterMark",de),this.buffer=new c,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=V.emitClose!==!1,this.autoDestroy=!!V.autoDestroy,this.destroyed=!1,this.defaultEncoding=V.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,V.encoding&&(S||(S=Ab().StringDecoder),this.decoder=new S(V.encoding),this.encoding=V.encoding)}function F(V){if(t=t||lu(),!(this instanceof F))return new F(V);var q=this instanceof t;this._readableState=new K(V,this,q),this.readable=!0,V&&(typeof V.read=="function"&&(this._read=V.read),typeof V.destroy=="function"&&(this._destroy=V.destroy)),n.call(this)}Object.defineProperty(F.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(q){this._readableState&&(this._readableState.destroyed=q)}}),F.prototype.destroy=d.destroy,F.prototype._undestroy=d.undestroy,F.prototype._destroy=function(V,q){q(V)},F.prototype.push=function(V,q){var de=this._readableState,M;return de.objectMode?M=!0:typeof V=="string"&&(q=q||de.defaultEncoding,q!==de.encoding&&(V=r.from(V,q),q=""),M=!0),ie(this,V,q,!1,M)},F.prototype.unshift=function(V){return ie(this,V,null,!0,!1)};function ie(V,q,de,M,pe){u("readableAddChunk",q);var j=V._readableState;if(q===null)j.reading=!1,le(V,j);else{var C;if(pe||(C=H(j,q)),C)R(V,C);else if(j.objectMode||q&&q.length>0)if(typeof q!="string"&&!j.objectMode&&Object.getPrototypeOf(q)!==r.prototype&&(q=s(q)),M)j.endEmitted?R(V,new v):me(V,j,q,!0);else if(j.ended)R(V,new y);else{if(j.destroyed)return!1;j.reading=!1,j.decoder&&!de?(q=j.decoder.write(q),j.objectMode||q.length!==0?me(V,j,q,!1):Q(V,j)):me(V,j,q,!1)}else M||(j.reading=!1,Q(V,j))}return!j.ended&&(j.length<j.highWaterMark||j.length===0)}function me(V,q,de,M){q.flowing&&q.length===0&&!q.sync?(q.awaitDrain=0,V.emit("data",de)):(q.length+=q.objectMode?1:de.length,M?q.buffer.unshift(de):q.buffer.push(de),q.needReadable&&G(V)),Q(V,q)}function H(V,q){var de;return!o(q)&&typeof q!="string"&&q!==void 0&&!V.objectMode&&(de=new w("chunk",["string","Buffer","Uint8Array"],q)),de}F.prototype.isPaused=function(){return this._readableState.flowing===!1},F.prototype.setEncoding=function(V){S||(S=Ab().StringDecoder);var q=new S(V);this._readableState.decoder=q,this._readableState.encoding=this._readableState.decoder.encoding;for(var de=this._readableState.buffer.head,M="";de!==null;)M+=q.write(de.data),de=de.next;return this._readableState.buffer.clear(),M!==""&&this._readableState.buffer.push(M),this._readableState.length=M.length,this};var X=1073741824;function N(V){return V>=X?V=X:(V--,V|=V>>>1,V|=V>>>2,V|=V>>>4,V|=V>>>8,V|=V>>>16,V++),V}function Z(V,q){return V<=0||q.length===0&&q.ended?0:q.objectMode?1:V!==V?q.flowing&&q.length?q.buffer.head.data.length:q.length:(V>q.highWaterMark&&(q.highWaterMark=N(V)),V<=q.length?V:q.ended?q.length:(q.needReadable=!0,0))}F.prototype.read=function(V){u("read",V),V=parseInt(V,10);var q=this._readableState,de=V;if(V!==0&&(q.emittedReadable=!1),V===0&&q.needReadable&&((q.highWaterMark!==0?q.length>=q.highWaterMark:q.length>0)||q.ended))return u("read: emitReadable",q.length,q.ended),q.length===0&&q.ended?L(this):G(this),null;if(V=Z(V,q),V===0&&q.ended)return q.length===0&&L(this),null;var M=q.needReadable;u("need readable",M),(q.length===0||q.length-V<q.highWaterMark)&&(M=!0,u("length less than watermark",M)),q.ended||q.reading?(M=!1,u("reading or ended",M)):M&&(u("do read"),q.reading=!0,q.sync=!0,q.length===0&&(q.needReadable=!0),this._read(q.highWaterMark),q.sync=!1,q.reading||(V=Z(de,q)));var pe;return V>0?pe=P(V,q):pe=null,pe===null?(q.needReadable=q.length<=q.highWaterMark,V=0):(q.length-=V,q.awaitDrain=0),q.length===0&&(q.ended||(q.needReadable=!0),de!==V&&q.ended&&L(this)),pe!==null&&this.emit("data",pe),pe};function le(V,q){if(u("onEofChunk"),!q.ended){if(q.decoder){var de=q.decoder.end();de&&de.length&&(q.buffer.push(de),q.length+=q.objectMode?1:de.length)}q.ended=!0,q.sync?G(V):(q.needReadable=!1,q.emittedReadable||(q.emittedReadable=!0,Y(V)))}}function G(V){var q=V._readableState;u("emitReadable",q.needReadable,q.emittedReadable),q.needReadable=!1,q.emittedReadable||(u("emitReadable",q.flowing),q.emittedReadable=!0,it.nextTick(Y,V))}function Y(V){var q=V._readableState;u("emitReadable_",q.destroyed,q.length,q.ended),!q.destroyed&&(q.length||q.ended)&&(V.emit("readable"),q.emittedReadable=!1),q.needReadable=!q.flowing&&!q.ended&&q.length<=q.highWaterMark,re(V)}function Q(V,q){q.readingMore||(q.readingMore=!0,it.nextTick(fe,V,q))}function fe(V,q){for(;!q.reading&&!q.ended&&(q.length<q.highWaterMark||q.flowing&&q.length===0);){var de=q.length;if(u("maybeReadMore read 0"),V.read(0),de===q.length)break}q.readingMore=!1}F.prototype._read=function(V){R(this,new x("_read()"))},F.prototype.pipe=function(V,q){var de=this,M=this._readableState;switch(M.pipesCount){case 0:M.pipes=V;break;case 1:M.pipes=[M.pipes,V];break;default:M.pipes.push(V);break}M.pipesCount+=1,u("pipe count=%d opts=%j",M.pipesCount,q);var pe=(!q||q.end!==!1)&&V!==it.stdout&&V!==it.stderr,j=pe?T:Te;M.endEmitted?it.nextTick(j):de.once("end",j),V.on("unpipe",C);function C(Me,Ue){u("onunpipe"),Me===de&&Ue&&Ue.hasUnpiped===!1&&(Ue.hasUnpiped=!0,ce())}function T(){u("onend"),V.end()}var D=U(de);V.on("drain",D);var J=!1;function ce(){u("cleanup"),V.removeListener("close",we),V.removeListener("finish",xe),V.removeListener("drain",D),V.removeListener("error",ye),V.removeListener("unpipe",C),de.removeListener("end",T),de.removeListener("end",Te),de.removeListener("data",ne),J=!0,M.awaitDrain&&(!V._writableState||V._writableState.needDrain)&&D()}de.on("data",ne);function ne(Me){u("ondata");var Ue=V.write(Me);u("dest.write",Ue),Ue===!1&&((M.pipesCount===1&&M.pipes===V||M.pipesCount>1&&te(M.pipes,V)!==-1)&&!J&&(u("false write response, pause",M.awaitDrain),M.awaitDrain++),de.pause())}function ye(Me){u("onerror",Me),Te(),V.removeListener("error",ye),e(V,"error")===0&&R(V,Me)}$(V,"error",ye);function we(){V.removeListener("finish",xe),Te()}V.once("close",we);function xe(){u("onfinish"),V.removeListener("close",we),Te()}V.once("finish",xe);function Te(){u("unpipe"),de.unpipe(V)}return V.emit("pipe",de),M.flowing||(u("pipe resume"),de.resume()),V};function U(V){return function(){var de=V._readableState;u("pipeOnDrain",de.awaitDrain),de.awaitDrain&&de.awaitDrain--,de.awaitDrain===0&&e(V,"data")&&(de.flowing=!0,re(V))}}F.prototype.unpipe=function(V){var q=this._readableState,de={hasUnpiped:!1};if(q.pipesCount===0)return this;if(q.pipesCount===1)return V&&V!==q.pipes?this:(V||(V=q.pipes),q.pipes=null,q.pipesCount=0,q.flowing=!1,V&&V.emit("unpipe",this,de),this);if(!V){var M=q.pipes,pe=q.pipesCount;q.pipes=null,q.pipesCount=0,q.flowing=!1;for(var j=0;j<pe;j++)M[j].emit("unpipe",this,{hasUnpiped:!1});return this}var C=te(q.pipes,V);return C===-1?this:(q.pipes.splice(C,1),q.pipesCount-=1,q.pipesCount===1&&(q.pipes=q.pipes[0]),V.emit("unpipe",this,de),this)},F.prototype.on=function(V,q){var de=n.prototype.on.call(this,V,q),M=this._readableState;return V==="data"?(M.readableListening=this.listenerCount("readable")>0,M.flowing!==!1&&this.resume()):V==="readable"&&!M.endEmitted&&!M.readableListening&&(M.readableListening=M.needReadable=!0,M.flowing=!1,M.emittedReadable=!1,u("on readable",M.length,M.reading),M.length?G(this):M.reading||it.nextTick(ee,this)),de},F.prototype.addListener=F.prototype.on,F.prototype.removeListener=function(V,q){var de=n.prototype.removeListener.call(this,V,q);return V==="readable"&&it.nextTick(O,this),de},F.prototype.removeAllListeners=function(V){var q=n.prototype.removeAllListeners.apply(this,arguments);return(V==="readable"||V===void 0)&&it.nextTick(O,this),q};function O(V){var q=V._readableState;q.readableListening=V.listenerCount("readable")>0,q.resumeScheduled&&!q.paused?q.flowing=!0:V.listenerCount("data")>0&&V.resume()}function ee(V){u("readable nexttick read 0"),V.read(0)}F.prototype.resume=function(){var V=this._readableState;return V.flowing||(u("resume"),V.flowing=!V.readableListening,oe(this,V)),V.paused=!1,this};function oe(V,q){q.resumeScheduled||(q.resumeScheduled=!0,it.nextTick(ae,V,q))}function ae(V,q){u("resume",q.reading),q.reading||V.read(0),q.resumeScheduled=!1,V.emit("resume"),re(V),q.flowing&&!q.reading&&V.read(0)}F.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function re(V){var q=V._readableState;for(u("flow",q.flowing);q.flowing&&V.read()!==null;);}F.prototype.wrap=function(V){var q=this,de=this._readableState,M=!1;V.on("end",function(){if(u("wrapped end"),de.decoder&&!de.ended){var C=de.decoder.end();C&&C.length&&q.push(C)}q.push(null)}),V.on("data",function(C){if(u("wrapped data"),de.decoder&&(C=de.decoder.write(C)),!(de.objectMode&&C==null)&&!(!de.objectMode&&(!C||!C.length))){var T=q.push(C);T||(M=!0,V.pause())}});for(var pe in V)this[pe]===void 0&&typeof V[pe]=="function"&&(this[pe]=function(T){return function(){return V[T].apply(V,arguments)}}(pe));for(var j=0;j<B.length;j++)V.on(B[j],this.emit.bind(this,B[j]));return this._read=function(C){u("wrapped _read",C),M&&(M=!1,V.resume())},this},typeof Symbol=="function"&&(F.prototype[Symbol.asyncIterator]=function(){return k===void 0&&(k=_X()),k(this)}),Object.defineProperty(F.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(F.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(F.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(q){this._readableState&&(this._readableState.flowing=q)}}),F._fromList=P,Object.defineProperty(F.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function P(V,q){if(q.length===0)return null;var de;return q.objectMode?de=q.buffer.shift():!V||V>=q.length?(q.decoder?de=q.buffer.join(""):q.buffer.length===1?de=q.buffer.first():de=q.buffer.concat(q.length),q.buffer.clear()):de=q.buffer.consume(V,q.decoder),de}function L(V){var q=V._readableState;u("endReadable",q.endEmitted),q.endEmitted||(q.ended=!0,it.nextTick(se,q,V))}function se(V,q){if(u("endReadableNT",V.endEmitted,V.length),!V.endEmitted&&V.length===0&&(V.endEmitted=!0,q.readable=!1,q.emit("end"),V.autoDestroy)){var de=q._writableState;(!de||de.autoDestroy&&de.finished)&&q.destroy()}}typeof Symbol=="function"&&(F.from=function(V,q){return E===void 0&&(E=RX()),E(F,V,q)});function te(V,q){for(var de=0,M=V.length;de<M;de++)if(V[de]===q)return de;return-1}return Dw}var Lw,cT;function qR(){if(cT)return Lw;cT=1,Lw=a;var t=xu().codes,e=t.ERR_METHOD_NOT_IMPLEMENTED,n=t.ERR_MULTIPLE_CALLBACK,r=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=t.ERR_TRANSFORM_WITH_LENGTH_0,s=lu();_o()(a,s);function o(d,h){var p=this._transformState;p.transforming=!1;var m=p.writecb;if(m===null)return this.emit("error",new n);p.writechunk=null,p.writecb=null,h!=null&&this.push(h),m(d);var w=this._readableState;w.reading=!1,(w.needReadable||w.length<w.highWaterMark)&&this._read(w.highWaterMark)}function a(d){if(!(this instanceof a))return new a(d);s.call(this,d),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,d&&(typeof d.transform=="function"&&(this._transform=d.transform),typeof d.flush=="function"&&(this._flush=d.flush)),this.on("prefinish",u)}function u(){var d=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(h,p){c(d,h,p)}):c(this,null,null)}a.prototype.push=function(d,h){return this._transformState.needTransform=!1,s.prototype.push.call(this,d,h)},a.prototype._transform=function(d,h,p){p(new e("_transform()"))},a.prototype._write=function(d,h,p){var m=this._transformState;if(m.writecb=p,m.writechunk=d,m.writeencoding=h,!m.transforming){var w=this._readableState;(m.needTransform||w.needReadable||w.length<w.highWaterMark)&&this._read(w.highWaterMark)}},a.prototype._read=function(d){var h=this._transformState;h.writechunk!==null&&!h.transforming?(h.transforming=!0,this._transform(h.writechunk,h.writeencoding,h.afterTransform)):h.needTransform=!0},a.prototype._destroy=function(d,h){s.prototype._destroy.call(this,d,function(p){h(p)})};function c(d,h,p){if(h)return d.emit("error",h);if(p!=null&&d.push(p),d._writableState.length)throw new i;if(d._transformState.transforming)throw new r;return d.push(null)}return Lw}var Pw,fT;function NX(){if(fT)return Pw;fT=1,Pw=e;var t=qR();_o()(e,t);function e(n){if(!(this instanceof e))return new e(n);t.call(this,n)}return e.prototype._transform=function(n,r,i){i(null,n)},Pw}var Fw,dT;function OX(){if(dT)return Fw;dT=1;var t;function e(p){var m=!1;return function(){m||(m=!0,p.apply(void 0,arguments))}}var n=xu().codes,r=n.ERR_MISSING_ARGS,i=n.ERR_STREAM_DESTROYED;function s(p){if(p)throw p}function o(p){return p.setHeader&&typeof p.abort=="function"}function a(p,m,w,y){y=e(y);var x=!1;p.on("close",function(){x=!0}),t===void 0&&(t=Ax()),t(p,{readable:m,writable:w},function(S){if(S)return y(S);x=!0,y()});var v=!1;return function(S){if(!x&&!v){if(v=!0,o(p))return p.abort();if(typeof p.destroy=="function")return p.destroy();y(S||new i("pipe"))}}}function u(p){p()}function c(p,m){return p.pipe(m)}function d(p){return!p.length||typeof p[p.length-1]!="function"?s:p.pop()}function h(){for(var p=arguments.length,m=new Array(p),w=0;w<p;w++)m[w]=arguments[w];var y=d(m);if(Array.isArray(m[0])&&(m=m[0]),m.length<2)throw new r("streams");var x,v=m.map(function(S,k){var E=k<m.length-1,R=k>0;return a(S,E,R,function(B){x||(x=B),B&&v.forEach(u),!E&&(v.forEach(u),y(x))})});return m.reduce(c)}return Fw=h,Fw}var Bw,hT;function _x(){if(hT)return Bw;hT=1,Bw=n;var t=Cx().EventEmitter,e=_o();e(n,t),n.Readable=KR(),n.Writable=WR(),n.Duplex=lu(),n.Transform=qR(),n.PassThrough=NX(),n.finished=Ax(),n.pipeline=OX(),n.Stream=n;function n(){t.call(this)}return n.prototype.pipe=function(r,i){var s=this;function o(m){r.writable&&r.write(m)===!1&&s.pause&&s.pause()}s.on("data",o);function a(){s.readable&&s.resume&&s.resume()}r.on("drain",a),!r._isStdio&&(!i||i.end!==!1)&&(s.on("end",c),s.on("close",d));var u=!1;function c(){u||(u=!0,r.end())}function d(){u||(u=!0,typeof r.destroy=="function"&&r.destroy())}function h(m){if(p(),t.listenerCount(this,"error")===0)throw m}s.on("error",h),r.on("error",h);function p(){s.removeListener("data",o),r.removeListener("drain",a),s.removeListener("end",c),s.removeListener("close",d),s.removeListener("error",h),r.removeListener("error",h),s.removeListener("end",p),s.removeListener("close",p),r.removeListener("close",p)}return s.on("end",p),s.on("close",p),r.on("close",p),r.emit("pipe",s),r},Bw}var pT;function IX(){return pT||(pT=1,function(t){(function(e){e.parser=function(P,L){return new r(P,L)},e.SAXParser=r,e.SAXStream=d,e.createStream=c,e.MAX_BUFFER_LENGTH=64*1024;var n=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function r(P,L){if(!(this instanceof r))return new r(P,L);var se=this;s(se),se.q=se.c="",se.bufferCheckPosition=e.MAX_BUFFER_LENGTH,se.opt=L||{},se.opt.lowercase=se.opt.lowercase||se.opt.lowercasetags,se.looseCase=se.opt.lowercase?"toLowerCase":"toUpperCase",se.tags=[],se.closed=se.closedRoot=se.sawRoot=!1,se.tag=se.error=null,se.strict=!!P,se.noscript=!!(P||se.opt.noscript),se.state=F.BEGIN,se.strictEntities=se.opt.strictEntities,se.ENTITIES=se.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),se.attribList=[],se.opt.xmlns&&(se.ns=Object.create(y)),se.trackPosition=se.opt.position!==!1,se.trackPosition&&(se.position=se.line=se.column=0),me(se,"onready")}Object.create||(Object.create=function(P){function L(){}L.prototype=P;var se=new L;return se}),Object.keys||(Object.keys=function(P){var L=[];for(var se in P)P.hasOwnProperty(se)&&L.push(se);return L});function i(P){for(var L=Math.max(e.MAX_BUFFER_LENGTH,10),se=0,te=0,V=n.length;te<V;te++){var q=P[n[te]].length;if(q>L)switch(n[te]){case"textNode":X(P);break;case"cdata":H(P,"oncdata",P.cdata),P.cdata="";break;case"script":H(P,"onscript",P.script),P.script="";break;default:Z(P,"Max buffer length exceeded: "+n[te])}se=Math.max(se,q)}var de=e.MAX_BUFFER_LENGTH-se;P.bufferCheckPosition=de+P.position}function s(P){for(var L=0,se=n.length;L<se;L++)P[n[L]]=""}function o(P){X(P),P.cdata!==""&&(H(P,"oncdata",P.cdata),P.cdata=""),P.script!==""&&(H(P,"onscript",P.script),P.script="")}r.prototype={end:function(){le(this)},write:re,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){o(this)}};var a;try{a=_x().Stream}catch{a=function(){}}var u=e.EVENTS.filter(function(P){return P!=="error"&&P!=="end"});function c(P,L){return new d(P,L)}function d(P,L){if(!(this instanceof d))return new d(P,L);a.apply(this),this._parser=new r(P,L),this.writable=!0,this.readable=!0;var se=this;this._parser.onend=function(){se.emit("end")},this._parser.onerror=function(te){se.emit("error",te),se._parser.error=null},this._decoder=null,u.forEach(function(te){Object.defineProperty(se,"on"+te,{get:function(){return se._parser["on"+te]},set:function(V){if(!V)return se.removeAllListeners(te),se._parser["on"+te]=V,V;se.on(te,V)},enumerable:!0,configurable:!1})})}d.prototype=Object.create(a.prototype,{constructor:{value:d}}),d.prototype.write=function(P){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(P)){if(!this._decoder){var L=Ab().StringDecoder;this._decoder=new L("utf8")}P=this._decoder.write(P)}return this._parser.write(P.toString()),this.emit("data",P),!0},d.prototype.end=function(P){return P&&P.length&&this.write(P),this._parser.end(),!0},d.prototype.on=function(P,L){var se=this;return!se._parser["on"+P]&&u.indexOf(P)!==-1&&(se._parser["on"+P]=function(){var te=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);te.splice(0,0,P),se.emit.apply(se,te)}),a.prototype.on.call(se,P,L)};var h="[CDATA[",p="DOCTYPE",m="http://www.w3.org/XML/1998/namespace",w="http://www.w3.org/2000/xmlns/",y={xml:m,xmlns:w},x=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,v=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,S=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,k=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function E(P){return P===" "||P===`
`||P==="\r"||P==="	"}function R(P){return P==='"'||P==="'"}function B(P){return P===">"||E(P)}function $(P,L){return P.test(L)}function K(P,L){return!$(P,L)}var F=0;e.STATE={BEGIN:F++,BEGIN_WHITESPACE:F++,TEXT:F++,TEXT_ENTITY:F++,OPEN_WAKA:F++,SGML_DECL:F++,SGML_DECL_QUOTED:F++,DOCTYPE:F++,DOCTYPE_QUOTED:F++,DOCTYPE_DTD:F++,DOCTYPE_DTD_QUOTED:F++,COMMENT_STARTING:F++,COMMENT:F++,COMMENT_ENDING:F++,COMMENT_ENDED:F++,CDATA:F++,CDATA_ENDING:F++,CDATA_ENDING_2:F++,PROC_INST:F++,PROC_INST_BODY:F++,PROC_INST_ENDING:F++,OPEN_TAG:F++,OPEN_TAG_SLASH:F++,ATTRIB:F++,ATTRIB_NAME:F++,ATTRIB_NAME_SAW_WHITE:F++,ATTRIB_VALUE:F++,ATTRIB_VALUE_QUOTED:F++,ATTRIB_VALUE_CLOSED:F++,ATTRIB_VALUE_UNQUOTED:F++,ATTRIB_VALUE_ENTITY_Q:F++,ATTRIB_VALUE_ENTITY_U:F++,CLOSE_TAG:F++,CLOSE_TAG_SAW_WHITE:F++,SCRIPT:F++,SCRIPT_ENDING:F++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(P){var L=e.ENTITIES[P],se=typeof L=="number"?String.fromCharCode(L):L;e.ENTITIES[P]=se});for(var ie in e.STATE)e.STATE[e.STATE[ie]]=ie;F=e.STATE;function me(P,L,se){P[L]&&P[L](se)}function H(P,L,se){P.textNode&&X(P),me(P,L,se)}function X(P){P.textNode=N(P.opt,P.textNode),P.textNode&&me(P,"ontext",P.textNode),P.textNode=""}function N(P,L){return P.trim&&(L=L.trim()),P.normalize&&(L=L.replace(/\s+/g," ")),L}function Z(P,L){return X(P),P.trackPosition&&(L+=`
Line: `+P.line+`
Column: `+P.column+`
Char: `+P.c),L=new Error(L),P.error=L,me(P,"onerror",L),P}function le(P){return P.sawRoot&&!P.closedRoot&&G(P,"Unclosed root tag"),P.state!==F.BEGIN&&P.state!==F.BEGIN_WHITESPACE&&P.state!==F.TEXT&&Z(P,"Unexpected end"),X(P),P.c="",P.closed=!0,me(P,"onend"),r.call(P,P.strict,P.opt),P}function G(P,L){if(typeof P!="object"||!(P instanceof r))throw new Error("bad call to strictFail");P.strict&&Z(P,L)}function Y(P){P.strict||(P.tagName=P.tagName[P.looseCase]());var L=P.tags[P.tags.length-1]||P,se=P.tag={name:P.tagName,attributes:{}};P.opt.xmlns&&(se.ns=L.ns),P.attribList.length=0,H(P,"onopentagstart",se)}function Q(P,L){var se=P.indexOf(":"),te=se<0?["",P]:P.split(":"),V=te[0],q=te[1];return L&&P==="xmlns"&&(V="xmlns",q=""),{prefix:V,local:q}}function fe(P){if(P.strict||(P.attribName=P.attribName[P.looseCase]()),P.attribList.indexOf(P.attribName)!==-1||P.tag.attributes.hasOwnProperty(P.attribName)){P.attribName=P.attribValue="";return}if(P.opt.xmlns){var L=Q(P.attribName,!0),se=L.prefix,te=L.local;if(se==="xmlns")if(te==="xml"&&P.attribValue!==m)G(P,"xml: prefix must be bound to "+m+`
Actual: `+P.attribValue);else if(te==="xmlns"&&P.attribValue!==w)G(P,"xmlns: prefix must be bound to "+w+`
Actual: `+P.attribValue);else{var V=P.tag,q=P.tags[P.tags.length-1]||P;V.ns===q.ns&&(V.ns=Object.create(q.ns)),V.ns[te]=P.attribValue}P.attribList.push([P.attribName,P.attribValue])}else P.tag.attributes[P.attribName]=P.attribValue,H(P,"onattribute",{name:P.attribName,value:P.attribValue});P.attribName=P.attribValue=""}function U(P,L){if(P.opt.xmlns){var se=P.tag,te=Q(P.tagName);se.prefix=te.prefix,se.local=te.local,se.uri=se.ns[te.prefix]||"",se.prefix&&!se.uri&&(G(P,"Unbound namespace prefix: "+JSON.stringify(P.tagName)),se.uri=te.prefix);var V=P.tags[P.tags.length-1]||P;se.ns&&V.ns!==se.ns&&Object.keys(se.ns).forEach(function(ne){H(P,"onopennamespace",{prefix:ne,uri:se.ns[ne]})});for(var q=0,de=P.attribList.length;q<de;q++){var M=P.attribList[q],pe=M[0],j=M[1],C=Q(pe,!0),T=C.prefix,D=C.local,J=T===""?"":se.ns[T]||"",ce={name:pe,value:j,prefix:T,local:D,uri:J};T&&T!=="xmlns"&&!J&&(G(P,"Unbound namespace prefix: "+JSON.stringify(T)),ce.uri=T),P.tag.attributes[pe]=ce,H(P,"onattribute",ce)}P.attribList.length=0}P.tag.isSelfClosing=!!L,P.sawRoot=!0,P.tags.push(P.tag),H(P,"onopentag",P.tag),L||(!P.noscript&&P.tagName.toLowerCase()==="script"?P.state=F.SCRIPT:P.state=F.TEXT,P.tag=null,P.tagName=""),P.attribName=P.attribValue="",P.attribList.length=0}function O(P){if(!P.tagName){G(P,"Weird empty close tag."),P.textNode+="</>",P.state=F.TEXT;return}if(P.script){if(P.tagName!=="script"){P.script+="</"+P.tagName+">",P.tagName="",P.state=F.SCRIPT;return}H(P,"onscript",P.script),P.script=""}var L=P.tags.length,se=P.tagName;P.strict||(se=se[P.looseCase]());for(var te=se;L--;){var V=P.tags[L];if(V.name!==te)G(P,"Unexpected close tag");else break}if(L<0){G(P,"Unmatched closing tag: "+P.tagName),P.textNode+="</"+P.tagName+">",P.state=F.TEXT;return}P.tagName=se;for(var q=P.tags.length;q-- >L;){var de=P.tag=P.tags.pop();P.tagName=P.tag.name,H(P,"onclosetag",P.tagName);var M={};for(var pe in de.ns)M[pe]=de.ns[pe];var j=P.tags[P.tags.length-1]||P;P.opt.xmlns&&de.ns!==j.ns&&Object.keys(de.ns).forEach(function(C){var T=de.ns[C];H(P,"onclosenamespace",{prefix:C,uri:T})})}L===0&&(P.closedRoot=!0),P.tagName=P.attribValue=P.attribName="",P.attribList.length=0,P.state=F.TEXT}function ee(P){var L=P.entity,se=L.toLowerCase(),te,V="";return P.ENTITIES[L]?P.ENTITIES[L]:P.ENTITIES[se]?P.ENTITIES[se]:(L=se,L.charAt(0)==="#"&&(L.charAt(1)==="x"?(L=L.slice(2),te=parseInt(L,16),V=te.toString(16)):(L=L.slice(1),te=parseInt(L,10),V=te.toString(10))),L=L.replace(/^0+/,""),isNaN(te)||V.toLowerCase()!==L?(G(P,"Invalid character entity"),"&"+P.entity+";"):String.fromCodePoint(te))}function oe(P,L){L==="<"?(P.state=F.OPEN_WAKA,P.startTagPosition=P.position):E(L)||(G(P,"Non-whitespace before first tag."),P.textNode=L,P.state=F.TEXT)}function ae(P,L){var se="";return L<P.length&&(se=P.charAt(L)),se}function re(P){var L=this;if(this.error)throw this.error;if(L.closed)return Z(L,"Cannot write after close. Assign an onready handler.");if(P===null)return le(L);typeof P=="object"&&(P=P.toString());for(var se=0,te="";te=ae(P,se++),L.c=te,!!te;)switch(L.trackPosition&&(L.position++,te===`
`?(L.line++,L.column=0):L.column++),L.state){case F.BEGIN:if(L.state=F.BEGIN_WHITESPACE,te==="\uFEFF")continue;oe(L,te);continue;case F.BEGIN_WHITESPACE:oe(L,te);continue;case F.TEXT:if(L.sawRoot&&!L.closedRoot){for(var V=se-1;te&&te!=="<"&&te!=="&";)te=ae(P,se++),te&&L.trackPosition&&(L.position++,te===`
`?(L.line++,L.column=0):L.column++);L.textNode+=P.substring(V,se-1)}te==="<"&&!(L.sawRoot&&L.closedRoot&&!L.strict)?(L.state=F.OPEN_WAKA,L.startTagPosition=L.position):(!E(te)&&(!L.sawRoot||L.closedRoot)&&G(L,"Text data outside of root node."),te==="&"?L.state=F.TEXT_ENTITY:L.textNode+=te);continue;case F.SCRIPT:te==="<"?L.state=F.SCRIPT_ENDING:L.script+=te;continue;case F.SCRIPT_ENDING:te==="/"?L.state=F.CLOSE_TAG:(L.script+="<"+te,L.state=F.SCRIPT);continue;case F.OPEN_WAKA:if(te==="!")L.state=F.SGML_DECL,L.sgmlDecl="";else if(!E(te))if($(x,te))L.state=F.OPEN_TAG,L.tagName=te;else if(te==="/")L.state=F.CLOSE_TAG,L.tagName="";else if(te==="?")L.state=F.PROC_INST,L.procInstName=L.procInstBody="";else{if(G(L,"Unencoded <"),L.startTagPosition+1<L.position){var q=L.position-L.startTagPosition;te=new Array(q).join(" ")+te}L.textNode+="<"+te,L.state=F.TEXT}continue;case F.SGML_DECL:(L.sgmlDecl+te).toUpperCase()===h?(H(L,"onopencdata"),L.state=F.CDATA,L.sgmlDecl="",L.cdata=""):L.sgmlDecl+te==="--"?(L.state=F.COMMENT,L.comment="",L.sgmlDecl=""):(L.sgmlDecl+te).toUpperCase()===p?(L.state=F.DOCTYPE,(L.doctype||L.sawRoot)&&G(L,"Inappropriately located doctype declaration"),L.doctype="",L.sgmlDecl=""):te===">"?(H(L,"onsgmldeclaration",L.sgmlDecl),L.sgmlDecl="",L.state=F.TEXT):(R(te)&&(L.state=F.SGML_DECL_QUOTED),L.sgmlDecl+=te);continue;case F.SGML_DECL_QUOTED:te===L.q&&(L.state=F.SGML_DECL,L.q=""),L.sgmlDecl+=te;continue;case F.DOCTYPE:te===">"?(L.state=F.TEXT,H(L,"ondoctype",L.doctype),L.doctype=!0):(L.doctype+=te,te==="["?L.state=F.DOCTYPE_DTD:R(te)&&(L.state=F.DOCTYPE_QUOTED,L.q=te));continue;case F.DOCTYPE_QUOTED:L.doctype+=te,te===L.q&&(L.q="",L.state=F.DOCTYPE);continue;case F.DOCTYPE_DTD:L.doctype+=te,te==="]"?L.state=F.DOCTYPE:R(te)&&(L.state=F.DOCTYPE_DTD_QUOTED,L.q=te);continue;case F.DOCTYPE_DTD_QUOTED:L.doctype+=te,te===L.q&&(L.state=F.DOCTYPE_DTD,L.q="");continue;case F.COMMENT:te==="-"?L.state=F.COMMENT_ENDING:L.comment+=te;continue;case F.COMMENT_ENDING:te==="-"?(L.state=F.COMMENT_ENDED,L.comment=N(L.opt,L.comment),L.comment&&H(L,"oncomment",L.comment),L.comment=""):(L.comment+="-"+te,L.state=F.COMMENT);continue;case F.COMMENT_ENDED:te!==">"?(G(L,"Malformed comment"),L.comment+="--"+te,L.state=F.COMMENT):L.state=F.TEXT;continue;case F.CDATA:te==="]"?L.state=F.CDATA_ENDING:L.cdata+=te;continue;case F.CDATA_ENDING:te==="]"?L.state=F.CDATA_ENDING_2:(L.cdata+="]"+te,L.state=F.CDATA);continue;case F.CDATA_ENDING_2:te===">"?(L.cdata&&H(L,"oncdata",L.cdata),H(L,"onclosecdata"),L.cdata="",L.state=F.TEXT):te==="]"?L.cdata+="]":(L.cdata+="]]"+te,L.state=F.CDATA);continue;case F.PROC_INST:te==="?"?L.state=F.PROC_INST_ENDING:E(te)?L.state=F.PROC_INST_BODY:L.procInstName+=te;continue;case F.PROC_INST_BODY:if(!L.procInstBody&&E(te))continue;te==="?"?L.state=F.PROC_INST_ENDING:L.procInstBody+=te;continue;case F.PROC_INST_ENDING:te===">"?(H(L,"onprocessinginstruction",{name:L.procInstName,body:L.procInstBody}),L.procInstName=L.procInstBody="",L.state=F.TEXT):(L.procInstBody+="?"+te,L.state=F.PROC_INST_BODY);continue;case F.OPEN_TAG:$(v,te)?L.tagName+=te:(Y(L),te===">"?U(L):te==="/"?L.state=F.OPEN_TAG_SLASH:(E(te)||G(L,"Invalid character in tag name"),L.state=F.ATTRIB));continue;case F.OPEN_TAG_SLASH:te===">"?(U(L,!0),O(L)):(G(L,"Forward-slash in opening tag not followed by >"),L.state=F.ATTRIB);continue;case F.ATTRIB:if(E(te))continue;te===">"?U(L):te==="/"?L.state=F.OPEN_TAG_SLASH:$(x,te)?(L.attribName=te,L.attribValue="",L.state=F.ATTRIB_NAME):G(L,"Invalid attribute name");continue;case F.ATTRIB_NAME:te==="="?L.state=F.ATTRIB_VALUE:te===">"?(G(L,"Attribute without value"),L.attribValue=L.attribName,fe(L),U(L)):E(te)?L.state=F.ATTRIB_NAME_SAW_WHITE:$(v,te)?L.attribName+=te:G(L,"Invalid attribute name");continue;case F.ATTRIB_NAME_SAW_WHITE:if(te==="=")L.state=F.ATTRIB_VALUE;else{if(E(te))continue;G(L,"Attribute without value"),L.tag.attributes[L.attribName]="",L.attribValue="",H(L,"onattribute",{name:L.attribName,value:""}),L.attribName="",te===">"?U(L):$(x,te)?(L.attribName=te,L.state=F.ATTRIB_NAME):(G(L,"Invalid attribute name"),L.state=F.ATTRIB)}continue;case F.ATTRIB_VALUE:if(E(te))continue;R(te)?(L.q=te,L.state=F.ATTRIB_VALUE_QUOTED):(G(L,"Unquoted attribute value"),L.state=F.ATTRIB_VALUE_UNQUOTED,L.attribValue=te);continue;case F.ATTRIB_VALUE_QUOTED:if(te!==L.q){te==="&"?L.state=F.ATTRIB_VALUE_ENTITY_Q:L.attribValue+=te;continue}fe(L),L.q="",L.state=F.ATTRIB_VALUE_CLOSED;continue;case F.ATTRIB_VALUE_CLOSED:E(te)?L.state=F.ATTRIB:te===">"?U(L):te==="/"?L.state=F.OPEN_TAG_SLASH:$(x,te)?(G(L,"No whitespace between attributes"),L.attribName=te,L.attribValue="",L.state=F.ATTRIB_NAME):G(L,"Invalid attribute name");continue;case F.ATTRIB_VALUE_UNQUOTED:if(!B(te)){te==="&"?L.state=F.ATTRIB_VALUE_ENTITY_U:L.attribValue+=te;continue}fe(L),te===">"?U(L):L.state=F.ATTRIB;continue;case F.CLOSE_TAG:if(L.tagName)te===">"?O(L):$(v,te)?L.tagName+=te:L.script?(L.script+="</"+L.tagName,L.tagName="",L.state=F.SCRIPT):(E(te)||G(L,"Invalid tagname in closing tag"),L.state=F.CLOSE_TAG_SAW_WHITE);else{if(E(te))continue;K(x,te)?L.script?(L.script+="</"+te,L.state=F.SCRIPT):G(L,"Invalid tagname in closing tag."):L.tagName=te}continue;case F.CLOSE_TAG_SAW_WHITE:if(E(te))continue;te===">"?O(L):G(L,"Invalid characters in closing tag");continue;case F.TEXT_ENTITY:case F.ATTRIB_VALUE_ENTITY_Q:case F.ATTRIB_VALUE_ENTITY_U:var de,M;switch(L.state){case F.TEXT_ENTITY:de=F.TEXT,M="textNode";break;case F.ATTRIB_VALUE_ENTITY_Q:de=F.ATTRIB_VALUE_QUOTED,M="attribValue";break;case F.ATTRIB_VALUE_ENTITY_U:de=F.ATTRIB_VALUE_UNQUOTED,M="attribValue";break}te===";"?(L[M]+=ee(L),L.entity="",L.state=de):$(L.entity.length?k:S,te)?L.entity+=te:(G(L,"Invalid character in entity name"),L[M]+="&"+L.entity+te,L.entity="",L.state=de);continue;default:throw new Error(L,"Unknown state: "+L.state)}return L.position>=L.bufferCheckPosition&&i(L),L}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var P=String.fromCharCode,L=Math.floor,se=function(){var te=16384,V=[],q,de,M=-1,pe=arguments.length;if(!pe)return"";for(var j="";++M<pe;){var C=Number(arguments[M]);if(!isFinite(C)||C<0||C>1114111||L(C)!==C)throw RangeError("Invalid code point: "+C);C<=65535?V.push(C):(C-=65536,q=(C>>10)+55296,de=C%1024+56320,V.push(q,de)),(M+1===pe||V.length>te)&&(j+=P.apply(null,V),V.length=0)}return j};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:se,configurable:!0,writable:!0}):String.fromCodePoint=se}()})(t)}(C0)),C0}var jw,mT;function Rx(){return mT||(mT=1,jw={isArray:function(t){return Array.isArray?Array.isArray(t):Object.prototype.toString.call(t)==="[object Array]"}}),jw}var Hw,gT;function Nx(){if(gT)return Hw;gT=1;var t=Rx().isArray;return Hw={copyOptions:function(e){var n,r={};for(n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);return r},ensureFlagExists:function(e,n){(!(e in n)||typeof n[e]!="boolean")&&(n[e]=!1)},ensureSpacesExists:function(e){(!("spaces"in e)||typeof e.spaces!="number"&&typeof e.spaces!="string")&&(e.spaces=0)},ensureAlwaysArrayExists:function(e){(!("alwaysArray"in e)||typeof e.alwaysArray!="boolean"&&!t(e.alwaysArray))&&(e.alwaysArray=!1)},ensureKeyExists:function(e,n){(!(e+"Key"in n)||typeof n[e+"Key"]!="string")&&(n[e+"Key"]=n.compact?"_"+e:e)},checkFnExists:function(e,n){return e+"Fn"in n}},Hw}var $w,yT;function GR(){if(yT)return $w;yT=1;var t=IX(),e=Nx(),n=Rx().isArray,r,i;function s(v){return r=e.copyOptions(v),e.ensureFlagExists("ignoreDeclaration",r),e.ensureFlagExists("ignoreInstruction",r),e.ensureFlagExists("ignoreAttributes",r),e.ensureFlagExists("ignoreText",r),e.ensureFlagExists("ignoreComment",r),e.ensureFlagExists("ignoreCdata",r),e.ensureFlagExists("ignoreDoctype",r),e.ensureFlagExists("compact",r),e.ensureFlagExists("alwaysChildren",r),e.ensureFlagExists("addParent",r),e.ensureFlagExists("trim",r),e.ensureFlagExists("nativeType",r),e.ensureFlagExists("nativeTypeAttributes",r),e.ensureFlagExists("sanitize",r),e.ensureFlagExists("instructionHasAttributes",r),e.ensureFlagExists("captureSpacesBetweenElements",r),e.ensureAlwaysArrayExists(r),e.ensureKeyExists("declaration",r),e.ensureKeyExists("instruction",r),e.ensureKeyExists("attributes",r),e.ensureKeyExists("text",r),e.ensureKeyExists("comment",r),e.ensureKeyExists("cdata",r),e.ensureKeyExists("doctype",r),e.ensureKeyExists("type",r),e.ensureKeyExists("name",r),e.ensureKeyExists("elements",r),e.ensureKeyExists("parent",r),e.checkFnExists("doctype",r),e.checkFnExists("instruction",r),e.checkFnExists("cdata",r),e.checkFnExists("comment",r),e.checkFnExists("text",r),e.checkFnExists("instructionName",r),e.checkFnExists("elementName",r),e.checkFnExists("attributeName",r),e.checkFnExists("attributeValue",r),e.checkFnExists("attributes",r),r}function o(v){var S=Number(v);if(!isNaN(S))return S;var k=v.toLowerCase();return k==="true"?!0:k==="false"?!1:v}function a(v,S){var k;if(r.compact){if(!i[r[v+"Key"]]&&(n(r.alwaysArray)?r.alwaysArray.indexOf(r[v+"Key"])!==-1:r.alwaysArray)&&(i[r[v+"Key"]]=[]),i[r[v+"Key"]]&&!n(i[r[v+"Key"]])&&(i[r[v+"Key"]]=[i[r[v+"Key"]]]),v+"Fn"in r&&typeof S=="string"&&(S=r[v+"Fn"](S,i)),v==="instruction"&&("instructionFn"in r||"instructionNameFn"in r)){for(k in S)if(S.hasOwnProperty(k))if("instructionFn"in r)S[k]=r.instructionFn(S[k],k,i);else{var E=S[k];delete S[k],S[r.instructionNameFn(k,E,i)]=E}}n(i[r[v+"Key"]])?i[r[v+"Key"]].push(S):i[r[v+"Key"]]=S}else{i[r.elementsKey]||(i[r.elementsKey]=[]);var R={};if(R[r.typeKey]=v,v==="instruction"){for(k in S)if(S.hasOwnProperty(k))break;R[r.nameKey]="instructionNameFn"in r?r.instructionNameFn(k,S,i):k,r.instructionHasAttributes?(R[r.attributesKey]=S[k][r.attributesKey],"instructionFn"in r&&(R[r.attributesKey]=r.instructionFn(R[r.attributesKey],k,i))):("instructionFn"in r&&(S[k]=r.instructionFn(S[k],k,i)),R[r.instructionKey]=S[k])}else v+"Fn"in r&&(S=r[v+"Fn"](S,i)),R[r[v+"Key"]]=S;r.addParent&&(R[r.parentKey]=i),i[r.elementsKey].push(R)}}function u(v){if("attributesFn"in r&&v&&(v=r.attributesFn(v,i)),(r.trim||"attributeValueFn"in r||"attributeNameFn"in r||r.nativeTypeAttributes)&&v){var S;for(S in v)if(v.hasOwnProperty(S)&&(r.trim&&(v[S]=v[S].trim()),r.nativeTypeAttributes&&(v[S]=o(v[S])),"attributeValueFn"in r&&(v[S]=r.attributeValueFn(v[S],S,i)),"attributeNameFn"in r)){var k=v[S];delete v[S],v[r.attributeNameFn(S,v[S],i)]=k}}return v}function c(v){var S={};if(v.body&&(v.name.toLowerCase()==="xml"||r.instructionHasAttributes)){for(var k=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,E;(E=k.exec(v.body))!==null;)S[E[1]]=E[2]||E[3]||E[4];S=u(S)}if(v.name.toLowerCase()==="xml"){if(r.ignoreDeclaration)return;i[r.declarationKey]={},Object.keys(S).length&&(i[r.declarationKey][r.attributesKey]=S),r.addParent&&(i[r.declarationKey][r.parentKey]=i)}else{if(r.ignoreInstruction)return;r.trim&&(v.body=v.body.trim());var R={};r.instructionHasAttributes&&Object.keys(S).length?(R[v.name]={},R[v.name][r.attributesKey]=S):R[v.name]=v.body,a("instruction",R)}}function d(v,S){var k;if(typeof v=="object"&&(S=v.attributes,v=v.name),S=u(S),"elementNameFn"in r&&(v=r.elementNameFn(v,i)),r.compact){if(k={},!r.ignoreAttributes&&S&&Object.keys(S).length){k[r.attributesKey]={};var E;for(E in S)S.hasOwnProperty(E)&&(k[r.attributesKey][E]=S[E])}!(v in i)&&(n(r.alwaysArray)?r.alwaysArray.indexOf(v)!==-1:r.alwaysArray)&&(i[v]=[]),i[v]&&!n(i[v])&&(i[v]=[i[v]]),n(i[v])?i[v].push(k):i[v]=k}else i[r.elementsKey]||(i[r.elementsKey]=[]),k={},k[r.typeKey]="element",k[r.nameKey]=v,!r.ignoreAttributes&&S&&Object.keys(S).length&&(k[r.attributesKey]=S),r.alwaysChildren&&(k[r.elementsKey]=[]),i[r.elementsKey].push(k);k[r.parentKey]=i,i=k}function h(v){r.ignoreText||!v.trim()&&!r.captureSpacesBetweenElements||(r.trim&&(v=v.trim()),r.nativeType&&(v=o(v)),r.sanitize&&(v=v.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),a("text",v))}function p(v){r.ignoreComment||(r.trim&&(v=v.trim()),a("comment",v))}function m(v){var S=i[r.parentKey];r.addParent||delete i[r.parentKey],i=S}function w(v){r.ignoreCdata||(r.trim&&(v=v.trim()),a("cdata",v))}function y(v){r.ignoreDoctype||(v=v.replace(/^ /,""),r.trim&&(v=v.trim()),a("doctype",v))}function x(v){v.note=v}return $w=function(v,S){var k=t.parser(!0,{}),E={};if(i=E,r=s(S),k.opt={strictEntities:!0},k.onopentag=d,k.ontext=h,k.oncomment=p,k.onclosetag=m,k.onerror=x,k.oncdata=w,k.ondoctype=y,k.onprocessinginstruction=c,k.write(v).close(),E[r.elementsKey]){var R=E[r.elementsKey];delete E[r.elementsKey],E[r.elementsKey]=R,delete E.text}return E},$w}var zw,wT;function MX(){if(wT)return zw;wT=1;var t=Nx(),e=GR();function n(r){var i=t.copyOptions(r);return t.ensureSpacesExists(i),i}return zw=function(r,i){var s,o,a,u;return s=n(i),o=e(r,s),u="compact"in s&&s.compact?"_parent":"parent","addParent"in s&&s.addParent?a=JSON.stringify(o,function(c,d){return c===u?"_":d},s.spaces):a=JSON.stringify(o,null,s.spaces),a.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},zw}var Uw,vT;function XR(){if(vT)return Uw;vT=1;var t=Nx(),e=Rx().isArray,n,r;function i(k){var E=t.copyOptions(k);return t.ensureFlagExists("ignoreDeclaration",E),t.ensureFlagExists("ignoreInstruction",E),t.ensureFlagExists("ignoreAttributes",E),t.ensureFlagExists("ignoreText",E),t.ensureFlagExists("ignoreComment",E),t.ensureFlagExists("ignoreCdata",E),t.ensureFlagExists("ignoreDoctype",E),t.ensureFlagExists("compact",E),t.ensureFlagExists("indentText",E),t.ensureFlagExists("indentCdata",E),t.ensureFlagExists("indentAttributes",E),t.ensureFlagExists("indentInstruction",E),t.ensureFlagExists("fullTagEmptyElement",E),t.ensureFlagExists("noQuotesForNativeAttributes",E),t.ensureSpacesExists(E),typeof E.spaces=="number"&&(E.spaces=Array(E.spaces+1).join(" ")),t.ensureKeyExists("declaration",E),t.ensureKeyExists("instruction",E),t.ensureKeyExists("attributes",E),t.ensureKeyExists("text",E),t.ensureKeyExists("comment",E),t.ensureKeyExists("cdata",E),t.ensureKeyExists("doctype",E),t.ensureKeyExists("type",E),t.ensureKeyExists("name",E),t.ensureKeyExists("elements",E),t.checkFnExists("doctype",E),t.checkFnExists("instruction",E),t.checkFnExists("cdata",E),t.checkFnExists("comment",E),t.checkFnExists("text",E),t.checkFnExists("instructionName",E),t.checkFnExists("elementName",E),t.checkFnExists("attributeName",E),t.checkFnExists("attributeValue",E),t.checkFnExists("attributes",E),t.checkFnExists("fullTagEmptyElement",E),E}function s(k,E,R){return(!R&&k.spaces?`
`:"")+Array(E+1).join(k.spaces)}function o(k,E,R){if(E.ignoreAttributes)return"";"attributesFn"in E&&(k=E.attributesFn(k,r,n));var B,$,K,F,ie=[];for(B in k)k.hasOwnProperty(B)&&k[B]!==null&&k[B]!==void 0&&(F=E.noQuotesForNativeAttributes&&typeof k[B]!="string"?"":'"',$=""+k[B],$=$.replace(/"/g,"&quot;"),K="attributeNameFn"in E?E.attributeNameFn(B,$,r,n):B,ie.push(E.spaces&&E.indentAttributes?s(E,R+1,!1):" "),ie.push(K+"="+F+("attributeValueFn"in E?E.attributeValueFn($,B,r,n):$)+F));return k&&Object.keys(k).length&&E.spaces&&E.indentAttributes&&ie.push(s(E,R,!1)),ie.join("")}function a(k,E,R){return n=k,r="xml",E.ignoreDeclaration?"":"<?xml"+o(k[E.attributesKey],E,R)+"?>"}function u(k,E,R){if(E.ignoreInstruction)return"";var B;for(B in k)if(k.hasOwnProperty(B))break;var $="instructionNameFn"in E?E.instructionNameFn(B,k[B],r,n):B;if(typeof k[B]=="object")return n=k,r=$,"<?"+$+o(k[B][E.attributesKey],E,R)+"?>";var K=k[B]?k[B]:"";return"instructionFn"in E&&(K=E.instructionFn(K,B,r,n)),"<?"+$+(K?" "+K:"")+"?>"}function c(k,E){return E.ignoreComment?"":"<!--"+("commentFn"in E?E.commentFn(k,r,n):k)+"-->"}function d(k,E){return E.ignoreCdata?"":"<![CDATA["+("cdataFn"in E?E.cdataFn(k,r,n):k.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function h(k,E){return E.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in E?E.doctypeFn(k,r,n):k)+">"}function p(k,E){return E.ignoreText?"":(k=""+k,k=k.replace(/&amp;/g,"&"),k=k.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in E?E.textFn(k,r,n):k)}function m(k,E){var R;if(k.elements&&k.elements.length)for(R=0;R<k.elements.length;++R)switch(k.elements[R][E.typeKey]){case"text":if(E.indentText)return!0;break;case"cdata":if(E.indentCdata)return!0;break;case"instruction":if(E.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function w(k,E,R){n=k,r=k.name;var B=[],$="elementNameFn"in E?E.elementNameFn(k.name,k):k.name;B.push("<"+$),k[E.attributesKey]&&B.push(o(k[E.attributesKey],E,R));var K=k[E.elementsKey]&&k[E.elementsKey].length||k[E.attributesKey]&&k[E.attributesKey]["xml:space"]==="preserve";return K||("fullTagEmptyElementFn"in E?K=E.fullTagEmptyElementFn(k.name,k):K=E.fullTagEmptyElement),K?(B.push(">"),k[E.elementsKey]&&k[E.elementsKey].length&&(B.push(y(k[E.elementsKey],E,R+1)),n=k,r=k.name),B.push(E.spaces&&m(k,E)?`
`+Array(R+1).join(E.spaces):""),B.push("</"+$+">")):B.push("/>"),B.join("")}function y(k,E,R,B){return k.reduce(function($,K){var F=s(E,R,B&&!$);switch(K.type){case"element":return $+F+w(K,E,R);case"comment":return $+F+c(K[E.commentKey],E);case"doctype":return $+F+h(K[E.doctypeKey],E);case"cdata":return $+(E.indentCdata?F:"")+d(K[E.cdataKey],E);case"text":return $+(E.indentText?F:"")+p(K[E.textKey],E);case"instruction":var ie={};return ie[K[E.nameKey]]=K[E.attributesKey]?K:K[E.instructionKey],$+(E.indentInstruction?F:"")+u(ie,E,R)}},"")}function x(k,E,R){var B;for(B in k)if(k.hasOwnProperty(B))switch(B){case E.parentKey:case E.attributesKey:break;case E.textKey:if(E.indentText||R)return!0;break;case E.cdataKey:if(E.indentCdata||R)return!0;break;case E.instructionKey:if(E.indentInstruction||R)return!0;break;case E.doctypeKey:case E.commentKey:return!0;default:return!0}return!1}function v(k,E,R,B,$){n=k,r=E;var K="elementNameFn"in R?R.elementNameFn(E,k):E;if(typeof k>"u"||k===null||k==="")return"fullTagEmptyElementFn"in R&&R.fullTagEmptyElementFn(E,k)||R.fullTagEmptyElement?"<"+K+"></"+K+">":"<"+K+"/>";var F=[];if(E){if(F.push("<"+K),typeof k!="object")return F.push(">"+p(k,R)+"</"+K+">"),F.join("");k[R.attributesKey]&&F.push(o(k[R.attributesKey],R,B));var ie=x(k,R,!0)||k[R.attributesKey]&&k[R.attributesKey]["xml:space"]==="preserve";if(ie||("fullTagEmptyElementFn"in R?ie=R.fullTagEmptyElementFn(E,k):ie=R.fullTagEmptyElement),ie)F.push(">");else return F.push("/>"),F.join("")}return F.push(S(k,R,B+1,!1)),n=k,r=E,E&&F.push(($?s(R,B,!1):"")+"</"+K+">"),F.join("")}function S(k,E,R,B){var $,K,F,ie=[];for(K in k)if(k.hasOwnProperty(K))for(F=e(k[K])?k[K]:[k[K]],$=0;$<F.length;++$){switch(K){case E.declarationKey:ie.push(a(F[$],E,R));break;case E.instructionKey:ie.push((E.indentInstruction?s(E,R,B):"")+u(F[$],E,R));break;case E.attributesKey:case E.parentKey:break;case E.textKey:ie.push((E.indentText?s(E,R,B):"")+p(F[$],E));break;case E.cdataKey:ie.push((E.indentCdata?s(E,R,B):"")+d(F[$],E));break;case E.doctypeKey:ie.push(s(E,R,B)+h(F[$],E));break;case E.commentKey:ie.push(s(E,R,B)+c(F[$],E));break;default:ie.push(s(E,R,B)+v(F[$],K,E,R,x(F[$],E)))}B=B&&!ie.length}return ie.join("")}return Uw=function(k,E){E=i(E);var R=[];return n=k,r="_root_",E.compact?R.push(S(k,E,0,!0)):(k[E.declarationKey]&&R.push(a(k[E.declarationKey],E,0)),k[E.elementsKey]&&k[E.elementsKey].length&&R.push(y(k[E.elementsKey],E,0,!R.length))),R.join("")},Uw}var Vw,bT;function DX(){if(bT)return Vw;bT=1;var t=XR();return Vw=function(e,n){e instanceof Buffer&&(e=e.toString());var r=null;if(typeof e=="string")try{r=JSON.parse(e)}catch{throw new Error("The JSON structure is invalid")}else r=e;return t(r,n)},Vw}var Ww,xT;function LX(){if(xT)return Ww;xT=1;var t=GR(),e=MX(),n=XR(),r=DX();return Ww={xml2js:t,xml2json:e,js2xml:n,json2xml:r},Ww}var YR=LX();const Ox=t=>{switch(t.type){case void 0:case"element":const e=new FX(t.name,t.attributes),n=t.elements||[];for(const r of n){const i=Ox(r);i!==void 0&&e.push(i)}return e;case"text":return t.text;default:return}};class PX extends Be{}class FX extends Se{static fromXmlString(e){const n=YR.xml2js(e,{compact:!1});return Ox(n)}constructor(e,n){super(e),n&&this.root.push(new PX(n))}push(e){this.root.push(e)}}class BX extends Se{constructor(e){super(""),this._attr=e}prepForXml(e){return{_attr:this._attr}}}class ZR extends Se{constructor(e,n){super(e),n&&(this.root=n.root)}}const zn=t=>{if(isNaN(t))throw new Error(`Invalid value '${t}' specified. Must be an integer.`);return Math.floor(t)},hg=t=>{const e=zn(t);if(e<0)throw new Error(`Invalid value '${t}' specified. Must be a positive integer.`);return e},JR=(t,e)=>{const n=e*2;if(t.length!==n||isNaN(+`0x${t}`))throw new Error(`Invalid hex value '${t}'. Expected ${n} digit hex value`);return t},ET=t=>JR(t,1),Ix=t=>{const e=t.slice(-2),n=t.substring(0,t.length-2);return`${Number(n)}${e}`},QR=t=>{const e=Ix(t);if(parseFloat(e)<0)throw new Error(`Invalid value '${e}' specified. Expected a positive number.`);return e},uu=t=>{if(t==="auto")return t;const e=t.charAt(0)==="#"?t.substring(1):t;return JR(e,3)},as=t=>typeof t=="string"?Ix(t):zn(t),jX=t=>typeof t=="string"?QR(t):hg(t),Rn=t=>typeof t=="string"?QR(t):hg(t),HX=t=>{const e=t.substring(0,t.length-1);return`${Number(e)}%`},eN=t=>typeof t=="number"?zn(t):t.slice(-1)==="%"?HX(t):Ix(t),$X=hg,zX=hg,UX=t=>t.toISOString();class _e extends Se{constructor(e,n=!0){super(e),n!==!0&&this.root.push(new qt({val:n}))}}class Kw extends Se{constructor(e,n){super(e),this.root.push(new qt({val:jX(n)}))}}class va extends Se{constructor(e,n){super(e),this.root.push(new qt({val:n}))}}const mc=(t,e)=>new dt({name:t,attributes:{value:{key:"w:val",value:e}}});class jc extends Se{constructor(e,n){super(e),this.root.push(new qt({val:n}))}}class VX extends Se{constructor(e,n){super(e),this.root.push(new qt({val:n}))}}class qo extends Se{constructor(e,n){super(e),this.root.push(n)}}class dt extends Se{constructor({name:e,attributes:n,children:r}){super(e),n&&this.root.push(new vs(n)),r&&this.root.push(...r)}}const zt={START:"start",CENTER:"center",END:"end",BOTH:"both",MEDIUM_KASHIDA:"mediumKashida",DISTRIBUTE:"distribute",NUM_TAB:"numTab",HIGH_KASHIDA:"highKashida",LOW_KASHIDA:"lowKashida",THAI_DISTRIBUTE:"thaiDistribute",LEFT:"left",RIGHT:"right",JUSTIFIED:"both"};class WX extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{val:"w:val"})}}class tN extends Se{constructor(e){super("w:jc"),this.root.push(new WX({val:e}))}}class wt extends Se{constructor(e,{color:n,size:r,space:i,style:s}){super(e),this.root.push(new KX({style:s,color:n===void 0?void 0:uu(n),size:r===void 0?void 0:$X(r),space:i===void 0?void 0:zX(i)}))}}class KX extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}}const Mx={SINGLE:"single",DASH_DOT_STROKED:"dashDotStroked",DASHED:"dashed",DASH_SMALL_GAP:"dashSmallGap",DOT_DASH:"dotDash",DOT_DOT_DASH:"dotDotDash",DOTTED:"dotted",DOUBLE:"double",DOUBLE_WAVE:"doubleWave",INSET:"inset",NIL:"nil",NONE:"none",OUTSET:"outset",THICK:"thick",THICK_THIN_LARGE_GAP:"thickThinLargeGap",THICK_THIN_MEDIUM_GAP:"thickThinMediumGap",THICK_THIN_SMALL_GAP:"thickThinSmallGap",THIN_THICK_LARGE_GAP:"thinThickLargeGap",THIN_THICK_MEDIUM_GAP:"thinThickMediumGap",THIN_THICK_SMALL_GAP:"thinThickSmallGap",THIN_THICK_THIN_LARGE_GAP:"thinThickThinLargeGap",THIN_THICK_THIN_MEDIUM_GAP:"thinThickThinMediumGap",THIN_THICK_THIN_SMALL_GAP:"thinThickThinSmallGap",THREE_D_EMBOSS:"threeDEmboss",THREE_D_ENGRAVE:"threeDEngrave",TRIPLE:"triple",WAVE:"wave"};class qX extends ws{constructor(e){super("w:pBdr"),e.top&&this.root.push(new wt("w:top",e.top)),e.bottom&&this.root.push(new wt("w:bottom",e.bottom)),e.left&&this.root.push(new wt("w:left",e.left)),e.right&&this.root.push(new wt("w:right",e.right))}}class GX extends Se{constructor(){super("w:pBdr");const e=new wt("w:bottom",{color:"auto",space:1,style:Mx.SINGLE,size:6});this.root.push(e)}}class XX extends Se{constructor({start:e,end:n,left:r,right:i,hanging:s,firstLine:o}){super("w:ind"),this.root.push(new vs({start:{key:"w:start",value:e===void 0?void 0:as(e)},end:{key:"w:end",value:n===void 0?void 0:as(n)},left:{key:"w:left",value:r===void 0?void 0:as(r)},right:{key:"w:right",value:i===void 0?void 0:as(i)},hanging:{key:"w:hanging",value:s===void 0?void 0:Rn(s)},firstLine:{key:"w:firstLine",value:o===void 0?void 0:Rn(o)}}))}}let YX=class extends Se{constructor(){super("w:br")}};const Dx={BEGIN:"begin",END:"end",SEPARATE:"separate"};class Lx extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}}class Lh extends Se{constructor(e){super("w:fldChar"),this.root.push(new Lx({type:Dx.BEGIN,dirty:e}))}}class Ph extends Se{constructor(e){super("w:fldChar"),this.root.push(new Lx({type:Dx.SEPARATE,dirty:e}))}}class Fh extends Se{constructor(e){super("w:fldChar"),this.root.push(new Lx({type:Dx.END,dirty:e}))}}const cu={DEFAULT:"default",PRESERVE:"preserve"};class fu extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{space:"xml:space"})}}class ZX extends Se{constructor(){super("w:instrText"),this.root.push(new fu({space:cu.PRESERVE})),this.root.push("PAGE")}}class JX extends Se{constructor(){super("w:instrText"),this.root.push(new fu({space:cu.PRESERVE})),this.root.push("NUMPAGES")}}class QX extends Se{constructor(){super("w:instrText"),this.root.push(new fu({space:cu.PRESERVE})),this.root.push("SECTIONPAGES")}}class eY extends Se{constructor(){super("w:instrText"),this.root.push(new fu({space:cu.PRESERVE})),this.root.push("SECTION")}}class tY extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}}class pg extends Se{constructor({fill:e,color:n,type:r}){super("w:shd"),this.root.push(new tY({fill:e===void 0?void 0:uu(e),color:n===void 0?void 0:uu(n),type:r}))}}const nY={CLEAR:"clear",DIAGONAL_CROSS:"diagCross",DIAGONAL_STRIPE:"diagStripe",HORIZONTAL_CROSS:"horzCross",HORIZONTAL_STRIPE:"horzStripe",NIL:"nil",PERCENT_5:"pct5",PERCENT_10:"pct10",PERCENT_12:"pct12",PERCENT_15:"pct15",PERCENT_20:"pct20",PERCENT_25:"pct25",PERCENT_30:"pct30",PERCENT_35:"pct35",PERCENT_37:"pct37",PERCENT_40:"pct40",PERCENT_45:"pct45",PERCENT_50:"pct50",PERCENT_55:"pct55",PERCENT_60:"pct60",PERCENT_62:"pct62",PERCENT_65:"pct65",PERCENT_70:"pct70",PERCENT_75:"pct75",PERCENT_80:"pct80",PERCENT_85:"pct85",PERCENT_87:"pct87",PERCENT_90:"pct90",PERCENT_95:"pct95",REVERSE_DIAGONAL_STRIPE:"reverseDiagStripe",SOLID:"solid",THIN_DIAGONAL_CROSS:"thinDiagCross",THIN_DIAGONAL_STRIPE:"thinDiagStripe",THIN_HORIZONTAL_CROSS:"thinHorzCross",THIN_REVERSE_DIAGONAL_STRIPE:"thinReverseDiagStripe",THIN_VERTICAL_STRIPE:"thinVertStripe",VERTICAL_STRIPE:"vertStripe"};class rY extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}}const iY={DOT:"dot"};class sY extends Se{constructor(e){super("w:em"),this.root.push(new qt({val:e}))}}class oY extends sY{constructor(e=iY.DOT){super(e)}}class aY extends Se{constructor(e){super("w:spacing"),this.root.push(new qt({val:as(e)}))}}let lY=class extends Se{constructor(e){super("w:color"),this.root.push(new qt({val:uu(e)}))}};class uY extends Se{constructor(e){super("w:highlight"),this.root.push(new qt({val:e}))}}class cY extends Se{constructor(e){super("w:highlightCs"),this.root.push(new qt({val:e}))}}const fY=t=>new dt({name:"w:lang",attributes:{value:{key:"w:val",value:t.value},eastAsia:{key:"w:eastAsia",value:t.eastAsia},bidirectional:{key:"w:bidi",value:t.bidirectional}}});class CT extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}}class qw extends Se{constructor(e,n){if(super("w:rFonts"),typeof e=="string"){const r=e;this.root.push(new CT({ascii:r,cs:r,eastAsia:r,hAnsi:r,hint:n}))}else{const r=e;this.root.push(new CT(r))}}}let nN=class extends Se{constructor(e){super("w:vertAlign"),this.root.push(new qt({val:e}))}};class dY extends nN{constructor(){super("superscript")}}class hY extends nN{constructor(){super("subscript")}}const Px={SINGLE:"single",WORDS:"words",DOUBLE:"double",THICK:"thick",DOTTED:"dotted",DOTTEDHEAVY:"dottedHeavy",DASH:"dash",DASHEDHEAVY:"dashedHeavy",DASHLONG:"dashLong",DASHLONGHEAVY:"dashLongHeavy",DOTDASH:"dotDash",DASHDOTHEAVY:"dashDotHeavy",DOTDOTDASH:"dotDotDash",DASHDOTDOTHEAVY:"dashDotDotHeavy",WAVE:"wave",WAVYHEAVY:"wavyHeavy",WAVYDOUBLE:"wavyDouble",NONE:"none"};class pY extends Se{constructor(e=Px.SINGLE,n){super("w:u"),this.root.push(new qt({val:e,color:n===void 0?void 0:uu(n)}))}}const mY={BLACK:"black",BLUE:"blue",CYAN:"cyan",DARK_BLUE:"darkBlue",DARK_CYAN:"darkCyan",DARK_GRAY:"darkGray",DARK_GREEN:"darkGreen",DARK_MAGENTA:"darkMagenta",DARK_RED:"darkRed",DARK_YELLOW:"darkYellow",GREEN:"green",LIGHT_GRAY:"lightGray",MAGENTA:"magenta",NONE:"none",RED:"red",WHITE:"white",YELLOW:"yellow"};class Ua extends ws{constructor(e){var n,r;if(super("w:rPr"),!e)return;e.noProof!==void 0&&this.push(new _e("w:noProof",e.noProof)),e.bold!==void 0&&this.push(new _e("w:b",e.bold)),(e.boldComplexScript===void 0&&e.bold!==void 0||e.boldComplexScript)&&this.push(new _e("w:bCs",(n=e.boldComplexScript)!=null?n:e.bold)),e.italics!==void 0&&this.push(new _e("w:i",e.italics)),(e.italicsComplexScript===void 0&&e.italics!==void 0||e.italicsComplexScript)&&this.push(new _e("w:iCs",(r=e.italicsComplexScript)!=null?r:e.italics)),e.underline&&this.push(new pY(e.underline.type,e.underline.color)),e.effect&&this.push(new va("w:effect",e.effect)),e.emphasisMark&&this.push(new oY(e.emphasisMark.type)),e.color&&this.push(new lY(e.color)),e.kern&&this.push(new Kw("w:kern",e.kern)),e.position&&this.push(new va("w:position",e.position)),e.size!==void 0&&this.push(new Kw("w:sz",e.size));const i=e.sizeComplexScript===void 0||e.sizeComplexScript===!0?e.size:e.sizeComplexScript;i&&this.push(new Kw("w:szCs",i)),e.rightToLeft!==void 0&&this.push(new _e("w:rtl",e.rightToLeft)),e.smallCaps!==void 0?this.push(new _e("w:smallCaps",e.smallCaps)):e.allCaps!==void 0&&this.push(new _e("w:caps",e.allCaps)),e.strike!==void 0&&this.push(new _e("w:strike",e.strike)),e.doubleStrike!==void 0&&this.push(new _e("w:dstrike",e.doubleStrike)),e.subScript&&this.push(new hY),e.superScript&&this.push(new dY),e.style&&this.push(new va("w:rStyle",e.style)),e.font&&(typeof e.font=="string"?this.push(new qw(e.font)):"name"in e.font?this.push(new qw(e.font.name,e.font.hint)):this.push(new qw(e.font))),e.highlight&&this.push(new uY(e.highlight));const s=e.highlightComplexScript===void 0||e.highlightComplexScript===!0?e.highlight:e.highlightComplexScript;s&&this.push(new cY(s)),e.characterSpacing&&this.push(new aY(e.characterSpacing)),e.emboss!==void 0&&this.push(new _e("w:emboss",e.emboss)),e.imprint!==void 0&&this.push(new _e("w:imprint",e.imprint)),e.shading&&this.push(new pg(e.shading)),e.revision&&this.push(new gY(e.revision)),e.border&&this.push(new wt("w:bdr",e.border)),e.snapToGrid!==void 0&&this.push(new _e("w:snapToGrid",e.snapToGrid)),e.vanish&&this.push(new _e("w:vanish",e.vanish)),e.specVanish&&this.push(new _e("w:specVanish",e.vanish)),e.scale!==void 0&&this.push(new jc("w:w",e.scale)),e.language&&this.push(fY(e.language)),e.math&&this.push(new _e("w:oMath",e.math))}push(e){this.root.push(e)}}class gY extends Se{constructor(e){super("w:rPrChange"),this.root.push(new rY({id:e.id,author:e.author,date:e.date})),this.addChildElement(new Ua(e))}}let ST=class extends Se{constructor(e){var n;super("w:t"),typeof e=="string"?(this.root.push(new fu({space:cu.PRESERVE})),this.root.push(e)):(this.root.push(new fu({space:(n=e.space)!=null?n:cu.DEFAULT})),this.root.push(e.text))}};const Bh={CURRENT:"CURRENT",TOTAL_PAGES:"TOTAL_PAGES",TOTAL_PAGES_IN_SECTION:"TOTAL_PAGES_IN_SECTION",CURRENT_SECTION:"SECTION"};class Eu extends Se{constructor(e){if(super("w:r"),Ce(this,"properties"),this.properties=new Ua(e),this.root.push(this.properties),e.break)for(let n=0;n<e.break;n++)this.root.push(new YX);if(e.children)for(const n of e.children){if(typeof n=="string"){switch(n){case Bh.CURRENT:this.root.push(new Lh),this.root.push(new ZX),this.root.push(new Ph),this.root.push(new Fh);break;case Bh.TOTAL_PAGES:this.root.push(new Lh),this.root.push(new JX),this.root.push(new Ph),this.root.push(new Fh);break;case Bh.TOTAL_PAGES_IN_SECTION:this.root.push(new Lh),this.root.push(new QX),this.root.push(new Ph),this.root.push(new Fh);break;case Bh.CURRENT_SECTION:this.root.push(new Lh),this.root.push(new eY),this.root.push(new Ph),this.root.push(new Fh);break;default:this.root.push(new ST(n));break}continue}this.root.push(n)}else e.text!==void 0&&this.root.push(new ST(e.text))}}class _b extends Eu{constructor(e){super(typeof e=="string"?{text:e}:e)}}var Gw={},yt={},Xw,kT;function zf(){if(kT)return Xw;kT=1,Xw=t;function t(e,n){if(!e)throw new Error(n||"Assertion failed")}return t.equal=function(n,r,i){if(n!=r)throw new Error(i||"Assertion failed: "+n+" != "+r)},Xw}var TT;function Fi(){if(TT)return yt;TT=1;var t=zf(),e=_o();yt.inherits=e;function n(H,X){return(H.charCodeAt(X)&64512)!==55296||X<0||X+1>=H.length?!1:(H.charCodeAt(X+1)&64512)===56320}function r(H,X){if(Array.isArray(H))return H.slice();if(!H)return[];var N=[];if(typeof H=="string")if(X){if(X==="hex")for(H=H.replace(/[^a-z0-9]+/ig,""),H.length%2!==0&&(H="0"+H),le=0;le<H.length;le+=2)N.push(parseInt(H[le]+H[le+1],16))}else for(var Z=0,le=0;le<H.length;le++){var G=H.charCodeAt(le);G<128?N[Z++]=G:G<2048?(N[Z++]=G>>6|192,N[Z++]=G&63|128):n(H,le)?(G=65536+((G&1023)<<10)+(H.charCodeAt(++le)&1023),N[Z++]=G>>18|240,N[Z++]=G>>12&63|128,N[Z++]=G>>6&63|128,N[Z++]=G&63|128):(N[Z++]=G>>12|224,N[Z++]=G>>6&63|128,N[Z++]=G&63|128)}else for(le=0;le<H.length;le++)N[le]=H[le]|0;return N}yt.toArray=r;function i(H){for(var X="",N=0;N<H.length;N++)X+=a(H[N].toString(16));return X}yt.toHex=i;function s(H){var X=H>>>24|H>>>8&65280|H<<8&16711680|(H&255)<<24;return X>>>0}yt.htonl=s;function o(H,X){for(var N="",Z=0;Z<H.length;Z++){var le=H[Z];X==="little"&&(le=s(le)),N+=u(le.toString(16))}return N}yt.toHex32=o;function a(H){return H.length===1?"0"+H:H}yt.zero2=a;function u(H){return H.length===7?"0"+H:H.length===6?"00"+H:H.length===5?"000"+H:H.length===4?"0000"+H:H.length===3?"00000"+H:H.length===2?"000000"+H:H.length===1?"0000000"+H:H}yt.zero8=u;function c(H,X,N,Z){var le=N-X;t(le%4===0);for(var G=new Array(le/4),Y=0,Q=X;Y<G.length;Y++,Q+=4){var fe;Z==="big"?fe=H[Q]<<24|H[Q+1]<<16|H[Q+2]<<8|H[Q+3]:fe=H[Q+3]<<24|H[Q+2]<<16|H[Q+1]<<8|H[Q],G[Y]=fe>>>0}return G}yt.join32=c;function d(H,X){for(var N=new Array(H.length*4),Z=0,le=0;Z<H.length;Z++,le+=4){var G=H[Z];X==="big"?(N[le]=G>>>24,N[le+1]=G>>>16&255,N[le+2]=G>>>8&255,N[le+3]=G&255):(N[le+3]=G>>>24,N[le+2]=G>>>16&255,N[le+1]=G>>>8&255,N[le]=G&255)}return N}yt.split32=d;function h(H,X){return H>>>X|H<<32-X}yt.rotr32=h;function p(H,X){return H<<X|H>>>32-X}yt.rotl32=p;function m(H,X){return H+X>>>0}yt.sum32=m;function w(H,X,N){return H+X+N>>>0}yt.sum32_3=w;function y(H,X,N,Z){return H+X+N+Z>>>0}yt.sum32_4=y;function x(H,X,N,Z,le){return H+X+N+Z+le>>>0}yt.sum32_5=x;function v(H,X,N,Z){var le=H[X],G=H[X+1],Y=Z+G>>>0,Q=(Y<Z?1:0)+N+le;H[X]=Q>>>0,H[X+1]=Y}yt.sum64=v;function S(H,X,N,Z){var le=X+Z>>>0,G=(le<X?1:0)+H+N;return G>>>0}yt.sum64_hi=S;function k(H,X,N,Z){var le=X+Z;return le>>>0}yt.sum64_lo=k;function E(H,X,N,Z,le,G,Y,Q){var fe=0,U=X;U=U+Z>>>0,fe+=U<X?1:0,U=U+G>>>0,fe+=U<G?1:0,U=U+Q>>>0,fe+=U<Q?1:0;var O=H+N+le+Y+fe;return O>>>0}yt.sum64_4_hi=E;function R(H,X,N,Z,le,G,Y,Q){var fe=X+Z+G+Q;return fe>>>0}yt.sum64_4_lo=R;function B(H,X,N,Z,le,G,Y,Q,fe,U){var O=0,ee=X;ee=ee+Z>>>0,O+=ee<X?1:0,ee=ee+G>>>0,O+=ee<G?1:0,ee=ee+Q>>>0,O+=ee<Q?1:0,ee=ee+U>>>0,O+=ee<U?1:0;var oe=H+N+le+Y+fe+O;return oe>>>0}yt.sum64_5_hi=B;function $(H,X,N,Z,le,G,Y,Q,fe,U){var O=X+Z+G+Q+U;return O>>>0}yt.sum64_5_lo=$;function K(H,X,N){var Z=X<<32-N|H>>>N;return Z>>>0}yt.rotr64_hi=K;function F(H,X,N){var Z=H<<32-N|X>>>N;return Z>>>0}yt.rotr64_lo=F;function ie(H,X,N){return H>>>N}yt.shr64_hi=ie;function me(H,X,N){var Z=H<<32-N|X>>>N;return Z>>>0}return yt.shr64_lo=me,yt}var Yw={},AT;function Uf(){if(AT)return Yw;AT=1;var t=Fi(),e=zf();function n(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return Yw.BlockHash=n,n.prototype.update=function(i,s){if(i=t.toArray(i,s),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var o=i.length%this._delta8;this.pending=i.slice(i.length-o,i.length),this.pending.length===0&&(this.pending=null),i=t.join32(i,0,i.length-o,this.endian);for(var a=0;a<i.length;a+=this._delta32)this._update(i,a,a+this._delta32)}return this},n.prototype.digest=function(i){return this.update(this._pad()),e(this.pending===null),this._digest(i)},n.prototype._pad=function(){var i=this.pendingTotal,s=this._delta8,o=s-(i+this.padLength)%s,a=new Array(o+this.padLength);a[0]=128;for(var u=1;u<o;u++)a[u]=0;if(i<<=3,this.endian==="big"){for(var c=8;c<this.padLength;c++)a[u++]=0;a[u++]=0,a[u++]=0,a[u++]=0,a[u++]=0,a[u++]=i>>>24&255,a[u++]=i>>>16&255,a[u++]=i>>>8&255,a[u++]=i&255}else for(a[u++]=i&255,a[u++]=i>>>8&255,a[u++]=i>>>16&255,a[u++]=i>>>24&255,a[u++]=0,a[u++]=0,a[u++]=0,a[u++]=0,c=8;c<this.padLength;c++)a[u++]=0;return a},Yw}var Go={},bi={},_T;function rN(){if(_T)return bi;_T=1;var t=Fi(),e=t.rotr32;function n(d,h,p,m){if(d===0)return r(h,p,m);if(d===1||d===3)return s(h,p,m);if(d===2)return i(h,p,m)}bi.ft_1=n;function r(d,h,p){return d&h^~d&p}bi.ch32=r;function i(d,h,p){return d&h^d&p^h&p}bi.maj32=i;function s(d,h,p){return d^h^p}bi.p32=s;function o(d){return e(d,2)^e(d,13)^e(d,22)}bi.s0_256=o;function a(d){return e(d,6)^e(d,11)^e(d,25)}bi.s1_256=a;function u(d){return e(d,7)^e(d,18)^d>>>3}bi.g0_256=u;function c(d){return e(d,17)^e(d,19)^d>>>10}return bi.g1_256=c,bi}var Zw,RT;function yY(){if(RT)return Zw;RT=1;var t=Fi(),e=Uf(),n=rN(),r=t.rotl32,i=t.sum32,s=t.sum32_5,o=n.ft_1,a=e.BlockHash,u=[1518500249,1859775393,2400959708,3395469782];function c(){if(!(this instanceof c))return new c;a.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return t.inherits(c,a),Zw=c,c.blockSize=512,c.outSize=160,c.hmacStrength=80,c.padLength=64,c.prototype._update=function(h,p){for(var m=this.W,w=0;w<16;w++)m[w]=h[p+w];for(;w<m.length;w++)m[w]=r(m[w-3]^m[w-8]^m[w-14]^m[w-16],1);var y=this.h[0],x=this.h[1],v=this.h[2],S=this.h[3],k=this.h[4];for(w=0;w<m.length;w++){var E=~~(w/20),R=s(r(y,5),o(E,x,v,S),k,m[w],u[E]);k=S,S=v,v=r(x,30),x=y,y=R}this.h[0]=i(this.h[0],y),this.h[1]=i(this.h[1],x),this.h[2]=i(this.h[2],v),this.h[3]=i(this.h[3],S),this.h[4]=i(this.h[4],k)},c.prototype._digest=function(h){return h==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},Zw}var Jw,NT;function iN(){if(NT)return Jw;NT=1;var t=Fi(),e=Uf(),n=rN(),r=zf(),i=t.sum32,s=t.sum32_4,o=t.sum32_5,a=n.ch32,u=n.maj32,c=n.s0_256,d=n.s1_256,h=n.g0_256,p=n.g1_256,m=e.BlockHash,w=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function y(){if(!(this instanceof y))return new y;m.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=w,this.W=new Array(64)}return t.inherits(y,m),Jw=y,y.blockSize=512,y.outSize=256,y.hmacStrength=192,y.padLength=64,y.prototype._update=function(v,S){for(var k=this.W,E=0;E<16;E++)k[E]=v[S+E];for(;E<k.length;E++)k[E]=s(p(k[E-2]),k[E-7],h(k[E-15]),k[E-16]);var R=this.h[0],B=this.h[1],$=this.h[2],K=this.h[3],F=this.h[4],ie=this.h[5],me=this.h[6],H=this.h[7];for(r(this.k.length===k.length),E=0;E<k.length;E++){var X=o(H,d(F),a(F,ie,me),this.k[E],k[E]),N=i(c(R),u(R,B,$));H=me,me=ie,ie=F,F=i(K,X),K=$,$=B,B=R,R=i(X,N)}this.h[0]=i(this.h[0],R),this.h[1]=i(this.h[1],B),this.h[2]=i(this.h[2],$),this.h[3]=i(this.h[3],K),this.h[4]=i(this.h[4],F),this.h[5]=i(this.h[5],ie),this.h[6]=i(this.h[6],me),this.h[7]=i(this.h[7],H)},y.prototype._digest=function(v){return v==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},Jw}var Qw,OT;function wY(){if(OT)return Qw;OT=1;var t=Fi(),e=iN();function n(){if(!(this instanceof n))return new n;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return t.inherits(n,e),Qw=n,n.blockSize=512,n.outSize=224,n.hmacStrength=192,n.padLength=64,n.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,7),"big"):t.split32(this.h.slice(0,7),"big")},Qw}var ev,IT;function sN(){if(IT)return ev;IT=1;var t=Fi(),e=Uf(),n=zf(),r=t.rotr64_hi,i=t.rotr64_lo,s=t.shr64_hi,o=t.shr64_lo,a=t.sum64,u=t.sum64_hi,c=t.sum64_lo,d=t.sum64_4_hi,h=t.sum64_4_lo,p=t.sum64_5_hi,m=t.sum64_5_lo,w=e.BlockHash,y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function x(){if(!(this instanceof x))return new x;w.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=y,this.W=new Array(160)}t.inherits(x,w),ev=x,x.blockSize=1024,x.outSize=512,x.hmacStrength=192,x.padLength=128,x.prototype._prepareBlock=function(N,Z){for(var le=this.W,G=0;G<32;G++)le[G]=N[Z+G];for(;G<le.length;G+=2){var Y=me(le[G-4],le[G-3]),Q=H(le[G-4],le[G-3]),fe=le[G-14],U=le[G-13],O=F(le[G-30],le[G-29]),ee=ie(le[G-30],le[G-29]),oe=le[G-32],ae=le[G-31];le[G]=d(Y,Q,fe,U,O,ee,oe,ae),le[G+1]=h(Y,Q,fe,U,O,ee,oe,ae)}},x.prototype._update=function(N,Z){this._prepareBlock(N,Z);var le=this.W,G=this.h[0],Y=this.h[1],Q=this.h[2],fe=this.h[3],U=this.h[4],O=this.h[5],ee=this.h[6],oe=this.h[7],ae=this.h[8],re=this.h[9],P=this.h[10],L=this.h[11],se=this.h[12],te=this.h[13],V=this.h[14],q=this.h[15];n(this.k.length===le.length);for(var de=0;de<le.length;de+=2){var M=V,pe=q,j=$(ae,re),C=K(ae,re),T=v(ae,re,P,L,se),D=S(ae,re,P,L,se,te),J=this.k[de],ce=this.k[de+1],ne=le[de],ye=le[de+1],we=p(M,pe,j,C,T,D,J,ce,ne,ye),xe=m(M,pe,j,C,T,D,J,ce,ne,ye);M=R(G,Y),pe=B(G,Y),j=k(G,Y,Q,fe,U),C=E(G,Y,Q,fe,U,O);var Te=u(M,pe,j,C),Me=c(M,pe,j,C);V=se,q=te,se=P,te=L,P=ae,L=re,ae=u(ee,oe,we,xe),re=c(oe,oe,we,xe),ee=U,oe=O,U=Q,O=fe,Q=G,fe=Y,G=u(we,xe,Te,Me),Y=c(we,xe,Te,Me)}a(this.h,0,G,Y),a(this.h,2,Q,fe),a(this.h,4,U,O),a(this.h,6,ee,oe),a(this.h,8,ae,re),a(this.h,10,P,L),a(this.h,12,se,te),a(this.h,14,V,q)},x.prototype._digest=function(N){return N==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")};function v(X,N,Z,le,G){var Y=X&Z^~X&G;return Y<0&&(Y+=4294967296),Y}function S(X,N,Z,le,G,Y){var Q=N&le^~N&Y;return Q<0&&(Q+=4294967296),Q}function k(X,N,Z,le,G){var Y=X&Z^X&G^Z&G;return Y<0&&(Y+=4294967296),Y}function E(X,N,Z,le,G,Y){var Q=N&le^N&Y^le&Y;return Q<0&&(Q+=4294967296),Q}function R(X,N){var Z=r(X,N,28),le=r(N,X,2),G=r(N,X,7),Y=Z^le^G;return Y<0&&(Y+=4294967296),Y}function B(X,N){var Z=i(X,N,28),le=i(N,X,2),G=i(N,X,7),Y=Z^le^G;return Y<0&&(Y+=4294967296),Y}function $(X,N){var Z=r(X,N,14),le=r(X,N,18),G=r(N,X,9),Y=Z^le^G;return Y<0&&(Y+=4294967296),Y}function K(X,N){var Z=i(X,N,14),le=i(X,N,18),G=i(N,X,9),Y=Z^le^G;return Y<0&&(Y+=4294967296),Y}function F(X,N){var Z=r(X,N,1),le=r(X,N,8),G=s(X,N,7),Y=Z^le^G;return Y<0&&(Y+=4294967296),Y}function ie(X,N){var Z=i(X,N,1),le=i(X,N,8),G=o(X,N,7),Y=Z^le^G;return Y<0&&(Y+=4294967296),Y}function me(X,N){var Z=r(X,N,19),le=r(N,X,29),G=s(X,N,6),Y=Z^le^G;return Y<0&&(Y+=4294967296),Y}function H(X,N){var Z=i(X,N,19),le=i(N,X,29),G=o(X,N,6),Y=Z^le^G;return Y<0&&(Y+=4294967296),Y}return ev}var tv,MT;function vY(){if(MT)return tv;MT=1;var t=Fi(),e=sN();function n(){if(!(this instanceof n))return new n;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return t.inherits(n,e),tv=n,n.blockSize=1024,n.outSize=384,n.hmacStrength=192,n.padLength=128,n.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,12),"big"):t.split32(this.h.slice(0,12),"big")},tv}var DT;function bY(){return DT||(DT=1,Go.sha1=yY(),Go.sha224=wY(),Go.sha256=iN(),Go.sha384=vY(),Go.sha512=sN()),Go}var nv={},LT;function xY(){if(LT)return nv;LT=1;var t=Fi(),e=Uf(),n=t.rotl32,r=t.sum32,i=t.sum32_3,s=t.sum32_4,o=e.BlockHash;function a(){if(!(this instanceof a))return new a;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}t.inherits(a,o),nv.ripemd160=a,a.blockSize=512,a.outSize=160,a.hmacStrength=192,a.padLength=64,a.prototype._update=function(x,v){for(var S=this.h[0],k=this.h[1],E=this.h[2],R=this.h[3],B=this.h[4],$=S,K=k,F=E,ie=R,me=B,H=0;H<80;H++){var X=r(n(s(S,u(H,k,E,R),x[h[H]+v],c(H)),m[H]),B);S=B,B=R,R=n(E,10),E=k,k=X,X=r(n(s($,u(79-H,K,F,ie),x[p[H]+v],d(H)),w[H]),me),$=me,me=ie,ie=n(F,10),F=K,K=X}X=i(this.h[1],E,ie),this.h[1]=i(this.h[2],R,me),this.h[2]=i(this.h[3],B,$),this.h[3]=i(this.h[4],S,K),this.h[4]=i(this.h[0],k,F),this.h[0]=X},a.prototype._digest=function(x){return x==="hex"?t.toHex32(this.h,"little"):t.split32(this.h,"little")};function u(y,x,v,S){return y<=15?x^v^S:y<=31?x&v|~x&S:y<=47?(x|~v)^S:y<=63?x&S|v&~S:x^(v|~S)}function c(y){return y<=15?0:y<=31?1518500249:y<=47?1859775393:y<=63?2400959708:2840853838}function d(y){return y<=15?1352829926:y<=31?1548603684:y<=47?1836072691:y<=63?2053994217:0}var h=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],p=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],w=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return nv}var rv,PT;function EY(){if(PT)return rv;PT=1;var t=Fi(),e=zf();function n(r,i,s){if(!(this instanceof n))return new n(r,i,s);this.Hash=r,this.blockSize=r.blockSize/8,this.outSize=r.outSize/8,this.inner=null,this.outer=null,this._init(t.toArray(i,s))}return rv=n,n.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),e(i.length<=this.blockSize);for(var s=i.length;s<this.blockSize;s++)i.push(0);for(s=0;s<i.length;s++)i[s]^=54;for(this.inner=new this.Hash().update(i),s=0;s<i.length;s++)i[s]^=106;this.outer=new this.Hash().update(i)},n.prototype.update=function(i,s){return this.inner.update(i,s),this},n.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)},rv}var FT;function CY(){return FT||(FT=1,function(t){var e=t;e.utils=Fi(),e.common=Uf(),e.sha=bY(),e.ripemd=xY(),e.hmac=EY(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(Gw)),Gw}var SY=CY();const kY=Ex(SY);let TY="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",AY=(t,e=21)=>(n=e)=>{let r="",i=n|0;for(;i--;)r+=t[Math.random()*t.length|0];return r},_Y=(t=21)=>{let e="",n=t|0;for(;n--;)e+=TY[Math.random()*64|0];return e};const ri=t=>Math.floor(t*72*20),mg=(t=0)=>{let e=t;return()=>++e},RY=()=>mg(),NY=()=>mg(1),OY=()=>mg(),IY=()=>mg(),MY=()=>_Y().toLowerCase(),BT=t=>kY.sha1().update(t instanceof ArrayBuffer?new Uint8Array(t):t).digest("hex"),gc=t=>AY("1234567890abcdef",t)(),DY=()=>`${gc(8)}-${gc(4)}-${gc(4)}-${gc(4)}-${gc(12)}`,LY={CHARACTER:"character",COLUMN:"column",INSIDE_MARGIN:"insideMargin",LEFT_MARGIN:"leftMargin",MARGIN:"margin",OUTSIDE_MARGIN:"outsideMargin",PAGE:"page",RIGHT_MARGIN:"rightMargin"},PY={BOTTOM_MARGIN:"bottomMargin",INSIDE_MARGIN:"insideMargin",LINE:"line",MARGIN:"margin",OUTSIDE_MARGIN:"outsideMargin",PAGE:"page",PARAGRAPH:"paragraph",TOP_MARGIN:"topMargin"},FY=()=>new dt({name:"wp:simplePos",attributes:{x:{key:"x",value:0},y:{key:"y",value:0}}}),oN=t=>new dt({name:"wp:align",children:[t]}),aN=t=>new dt({name:"wp:posOffset",children:[t.toString()]}),BY=({relative:t,align:e,offset:n})=>new dt({name:"wp:positionH",attributes:{relativeFrom:{key:"relativeFrom",value:t??LY.PAGE}},children:[(()=>{if(e)return oN(e);if(n!==void 0)return aN(n);throw new Error("There is no configuration provided for floating position (Align or offset)")})()]}),jY=({relative:t,align:e,offset:n})=>new dt({name:"wp:positionV",attributes:{relativeFrom:{key:"relativeFrom",value:t??PY.PAGE}},children:[(()=>{if(e)return oN(e);if(n!==void 0)return aN(n);throw new Error("There is no configuration provided for floating position (Align or offset)")})()]});class HY extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{uri:"uri"})}}const $Y=t=>new dt({name:"asvg:svgBlip",attributes:{asvg:{key:"xmlns:asvg",value:"http://schemas.microsoft.com/office/drawing/2016/SVG/main"},embed:{key:"r:embed",value:`rId{${t.fileName}}`}}}),zY=t=>new dt({name:"a:ext",attributes:{uri:{key:"uri",value:"{96DAC541-7B7A-43D3-8B79-37D633B846F1}"}},children:[$Y(t)]}),UY=t=>new dt({name:"a:extLst",children:[zY(t)]}),VY=t=>new dt({name:"a:blip",attributes:{embed:{key:"r:embed",value:`rId{${t.type==="svg"?t.fallback.fileName:t.fileName}}`},cstate:{key:"cstate",value:"none"}},children:t.type==="svg"?[UY(t)]:[]});class WY extends Se{constructor(){super("a:srcRect")}}class KY extends Se{constructor(){super("a:fillRect")}}class qY extends Se{constructor(){super("a:stretch"),this.root.push(new KY)}}class GY extends Se{constructor(e){super("pic:blipFill"),this.root.push(VY(e)),this.root.push(new WY),this.root.push(new qY)}}class XY extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{noChangeAspect:"noChangeAspect",noChangeArrowheads:"noChangeArrowheads"})}}class YY extends Se{constructor(){super("a:picLocks"),this.root.push(new XY({noChangeAspect:1,noChangeArrowheads:1}))}}class ZY extends Se{constructor(){super("pic:cNvPicPr"),this.root.push(new YY)}}const lN=(t,e)=>new dt({name:"a:hlinkClick",attributes:ps(nt({},e?{xmlns:{key:"xmlns:a",value:"http://schemas.openxmlformats.org/drawingml/2006/main"}}:{}),{id:{key:"r:id",value:`rId${t}`}})});class JY extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{id:"id",name:"name",descr:"descr"})}}class QY extends Se{constructor(){super("pic:cNvPr"),this.root.push(new JY({id:0,name:"",descr:""}))}prepForXml(e){for(let n=e.stack.length-1;n>=0;n--){const r=e.stack[n];if(r instanceof Fx){this.root.push(lN(r.linkId,!1));break}}return super.prepForXml(e)}}class eZ extends Se{constructor(){super("pic:nvPicPr"),this.root.push(new QY),this.root.push(new ZY)}}class tZ extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{xmlns:"xmlns:pic"})}}class nZ extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{cx:"cx",cy:"cy"})}}class rZ extends Se{constructor(e,n){super("a:ext"),Ce(this,"attributes"),this.attributes=new nZ({cx:e,cy:n}),this.root.push(this.attributes)}}class iZ extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{x:"x",y:"y"})}}class sZ extends Se{constructor(){super("a:off"),this.root.push(new iZ({x:0,y:0}))}}class oZ extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{flipVertical:"flipV",flipHorizontal:"flipH",rotation:"rot"})}}class aZ extends Se{constructor(e){var n,r;super("a:xfrm"),Ce(this,"extents"),this.root.push(new oZ({flipVertical:(n=e.flip)==null?void 0:n.vertical,flipHorizontal:(r=e.flip)==null?void 0:r.horizontal,rotation:e.rotation})),this.extents=new rZ(e.emus.x,e.emus.y),this.root.push(new sZ),this.root.push(this.extents)}}const uN=()=>new dt({name:"a:noFill"}),lZ=t=>new dt({name:"a:srgbClr",attributes:{value:{key:"val",value:t.value}}}),uZ=t=>new dt({name:"a:schemeClr",attributes:{value:{key:"val",value:t.value}}}),jT=t=>new dt({name:"a:solidFill",children:[t.type==="rgb"?lZ(t):uZ(t)]}),cZ=t=>new dt({name:"a:ln",attributes:{width:{key:"w",value:t.width},cap:{key:"cap",value:t.cap},compoundLine:{key:"cmpd",value:t.compoundLine},align:{key:"algn",value:t.align}},children:[t.type==="noFill"?uN():t.solidFillType==="rgb"?jT({type:"rgb",value:t.value}):jT({type:"scheme",value:t.value})]});class fZ extends Se{constructor(){super("a:avLst")}}class dZ extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{prst:"prst"})}}class hZ extends Se{constructor(){super("a:prstGeom"),this.root.push(new dZ({prst:"rect"})),this.root.push(new fZ)}}class pZ extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{bwMode:"bwMode"})}}class mZ extends Se{constructor({outline:e,transform:n}){super("pic:spPr"),Ce(this,"form"),this.root.push(new pZ({bwMode:"auto"})),this.form=new aZ(n),this.root.push(this.form),this.root.push(new hZ),e&&(this.root.push(uN()),this.root.push(cZ(e)))}}class gZ extends Se{constructor({mediaData:e,transform:n,outline:r}){super("pic:pic"),this.root.push(new tZ({xmlns:"http://schemas.openxmlformats.org/drawingml/2006/picture"})),this.root.push(new eZ),this.root.push(new GY(e)),this.root.push(new mZ({transform:n,outline:r}))}}class yZ extends Se{constructor({mediaData:e,transform:n,outline:r}){super("a:graphicData"),Ce(this,"pic"),this.root.push(new HY({uri:"http://schemas.openxmlformats.org/drawingml/2006/picture"})),this.pic=new gZ({mediaData:e,transform:n,outline:r}),this.root.push(this.pic)}}class wZ extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{a:"xmlns:a"})}}class cN extends Se{constructor({mediaData:e,transform:n,outline:r}){super("a:graphic"),Ce(this,"data"),this.root.push(new wZ({a:"http://schemas.openxmlformats.org/drawingml/2006/main"})),this.data=new yZ({mediaData:e,transform:n,outline:r}),this.root.push(this.data)}}const jh={NONE:0,SQUARE:1,TIGHT:2,TOP_AND_BOTTOM:3},vZ={BOTH_SIDES:"bothSides",LEFT:"left",RIGHT:"right",LARGEST:"largest"};class HT extends Se{constructor(){super("wp:wrapNone")}}class bZ extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{distT:"distT",distB:"distB",distL:"distL",distR:"distR",wrapText:"wrapText"})}}class xZ extends Se{constructor(e,n={top:0,bottom:0,left:0,right:0}){super("wp:wrapSquare"),this.root.push(new bZ({wrapText:e.side||vZ.BOTH_SIDES,distT:n.top,distB:n.bottom,distL:n.left,distR:n.right}))}}class EZ extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{distT:"distT",distB:"distB"})}}class CZ extends Se{constructor(e={top:0,bottom:0}){super("wp:wrapTight"),this.root.push(new EZ({distT:e.top,distB:e.bottom}))}}class SZ extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{distT:"distT",distB:"distB"})}}class kZ extends Se{constructor(e={top:0,bottom:0}){super("wp:wrapTopAndBottom"),this.root.push(new SZ({distT:e.top,distB:e.bottom}))}}class fN extends Se{constructor({name:e,description:n,title:r}={name:"",description:"",title:""}){super("wp:docPr"),Ce(this,"docPropertiesUniqueNumericId",OY());const i={id:{key:"id",value:this.docPropertiesUniqueNumericId()},name:{key:"name",value:e}};n!=null&&(i.description={key:"descr",value:n}),r!=null&&(i.title={key:"title",value:r}),this.root.push(new vs(i))}prepForXml(e){for(let n=e.stack.length-1;n>=0;n--){const r=e.stack[n];if(r instanceof Fx){this.root.push(lN(r.linkId,!0));break}}return super.prepForXml(e)}}const dN=({top:t,right:e,bottom:n,left:r})=>new dt({name:"wp:effectExtent",attributes:{top:{key:"t",value:t},right:{key:"r",value:e},bottom:{key:"b",value:n},left:{key:"l",value:r}}}),hN=({x:t,y:e})=>new dt({name:"wp:extent",attributes:{x:{key:"cx",value:t},y:{key:"cy",value:e}}});class TZ extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{xmlns:"xmlns:a",noChangeAspect:"noChangeAspect"})}}class AZ extends Se{constructor(){super("a:graphicFrameLocks"),this.root.push(new TZ({xmlns:"http://schemas.openxmlformats.org/drawingml/2006/main",noChangeAspect:1}))}}const pN=()=>new dt({name:"wp:cNvGraphicFramePr",children:[new AZ]});class _Z extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{distT:"distT",distB:"distB",distL:"distL",distR:"distR",allowOverlap:"allowOverlap",behindDoc:"behindDoc",layoutInCell:"layoutInCell",locked:"locked",relativeHeight:"relativeHeight",simplePos:"simplePos"})}}class RZ extends Se{constructor({mediaData:e,transform:n,drawingOptions:r}){super("wp:anchor");const i=nt({allowOverlap:!0,behindDocument:!1,lockAnchor:!1,layoutInCell:!0,verticalPosition:{},horizontalPosition:{}},r.floating);if(this.root.push(new _Z({distT:i.margins&&i.margins.top||0,distB:i.margins&&i.margins.bottom||0,distL:i.margins&&i.margins.left||0,distR:i.margins&&i.margins.right||0,simplePos:"0",allowOverlap:i.allowOverlap===!0?"1":"0",behindDoc:i.behindDocument===!0?"1":"0",locked:i.lockAnchor===!0?"1":"0",layoutInCell:i.layoutInCell===!0?"1":"0",relativeHeight:i.zIndex?i.zIndex:n.emus.y})),this.root.push(FY()),this.root.push(BY(i.horizontalPosition)),this.root.push(jY(i.verticalPosition)),this.root.push(hN({x:n.emus.x,y:n.emus.y})),this.root.push(dN({top:0,right:0,bottom:0,left:0})),r.floating!==void 0&&r.floating.wrap!==void 0)switch(r.floating.wrap.type){case jh.SQUARE:this.root.push(new xZ(r.floating.wrap,r.floating.margins));break;case jh.TIGHT:this.root.push(new CZ(r.floating.margins));break;case jh.TOP_AND_BOTTOM:this.root.push(new kZ(r.floating.margins));break;case jh.NONE:default:this.root.push(new HT)}else this.root.push(new HT);this.root.push(new fN(r.docProperties)),this.root.push(pN()),this.root.push(new cN({mediaData:e,transform:n,outline:r.outline}))}}const NZ=({mediaData:t,transform:e,docProperties:n,outline:r})=>{var i,s,o,a;return new dt({name:"wp:inline",attributes:{distanceTop:{key:"distT",value:0},distanceBottom:{key:"distB",value:0},distanceLeft:{key:"distL",value:0},distanceRight:{key:"distR",value:0}},children:[hN({x:e.emus.x,y:e.emus.y}),dN(r?{top:((i=r.width)!=null?i:9525)*2,right:((s=r.width)!=null?s:9525)*2,bottom:((o=r.width)!=null?o:9525)*2,left:((a=r.width)!=null?a:9525)*2}:{top:0,right:0,bottom:0,left:0}),new fN(n),pN(),new cN({mediaData:t,transform:e,outline:r})]})};class OZ extends Se{constructor(e,n={}){super("w:drawing"),n.floating?this.root.push(new RZ({mediaData:e,transform:e.transformation,drawingOptions:n})):this.root.push(NZ({mediaData:e,transform:e.transformation,docProperties:n.docProperties,outline:n.outline}))}}const IZ=t=>{if(typeof atob=="function"){const e=";base64,",n=t.indexOf(e),r=n===-1?0:n+e.length;return new Uint8Array(atob(t.substring(r)).split("").map(i=>i.charCodeAt(0)))}else{const e=require("buffer");return new e.Buffer(t,"base64")}},MZ=t=>typeof t=="string"?IZ(t):t,iv=(t,e)=>({data:MZ(t.data),fileName:e,transformation:{pixels:{x:Math.round(t.transformation.width),y:Math.round(t.transformation.height)},emus:{x:Math.round(t.transformation.width*9525),y:Math.round(t.transformation.height*9525)},flip:t.transformation.flip,rotation:t.transformation.rotation?t.transformation.rotation*6e4:void 0}});class DZ extends Eu{constructor(e){super({}),Ce(this,"imageData");const r=`${BT(e.data)}.${e.type}`;this.imageData=e.type==="svg"?ps(nt({type:e.type},iv(e,r)),{fallback:nt({type:e.fallback.type},iv(ps(nt({},e.fallback),{transformation:e.transformation}),`${BT(e.fallback.data)}.${e.fallback.type}`))}):nt({type:e.type},iv(e,r));const i=new OZ(this.imageData,{floating:e.floating,docProperties:e.altText,outline:e.outline});this.root.push(i)}prepForXml(e){return e.file.Media.addImage(this.imageData.fileName,this.imageData),this.imageData.type==="svg"&&e.file.Media.addImage(this.imageData.fallback.fileName,this.imageData.fallback),super.prepForXml(e)}}class LZ extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{xmlns:"xmlns"})}}class PZ extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}}const FZ={EXTERNAL:"External"};class BZ extends Se{constructor(e,n,r,i){super("Relationship"),this.root.push(new PZ({id:e,type:n,target:r,targetMode:i}))}}class Va extends Se{constructor(){super("Relationships"),this.root.push(new LZ({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(e,n,r,i){const s=new BZ(`rId${e}`,n,r,i);return this.root.push(s),s}get RelationshipCount(){return this.root.length-1}}class jZ extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}}class HZ extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}}class $Z extends Se{constructor({id:e,initials:n,author:r,date:i=new Date,children:s}){super("w:comment"),this.root.push(new jZ({id:e,initials:n,author:r,date:i.toISOString()}));for(const o of s)this.root.push(o)}}class zZ extends Se{constructor({children:e}){super("w:comments"),Ce(this,"relationships"),this.root.push(new HZ({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const n of e)this.root.push(new $Z(n));this.relationships=new Va}get Relationships(){return this.relationships}}class UZ extends Se{constructor(){super("w:pageBreakBefore")}}const Rb={AT_LEAST:"atLeast",EXACTLY:"exactly",EXACT:"exact",AUTO:"auto"};class VZ extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule",beforeAutoSpacing:"w:beforeAutospacing",afterAutoSpacing:"w:afterAutospacing"})}}class WZ extends Se{constructor(e){super("w:spacing"),this.root.push(new VZ(e))}}const Xo={HEADING_1:"Heading1",HEADING_2:"Heading2",HEADING_3:"Heading3",HEADING_4:"Heading4",HEADING_5:"Heading5",HEADING_6:"Heading6",TITLE:"Title"};let Hh=class extends Se{constructor(e){super("w:pStyle"),this.root.push(new qt({val:e}))}};class KZ extends Se{constructor(e){super("w:tabs");for(const n of e)this.root.push(new GZ(n))}}const $T={LEFT:"left",RIGHT:"right",CENTER:"center",BAR:"bar",CLEAR:"clear",DECIMAL:"decimal",END:"end",NUM:"num",START:"start"};class qZ extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}}class GZ extends Se{constructor({type:e,position:n,leader:r}){super("w:tab"),this.root.push(new qZ({val:e,pos:n,leader:r}))}}class sv extends Se{constructor(e,n){super("w:numPr"),this.root.push(new XZ(n)),this.root.push(new YZ(e))}}class XZ extends Se{constructor(e){if(super("w:ilvl"),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new qt({val:e}))}}class YZ extends Se{constructor(e){super("w:numId"),this.root.push(new qt({val:typeof e=="string"?`{${e}}`:e}))}}class mN extends Se{constructor(){super(...arguments),Ce(this,"fileChild",Symbol())}}class ZZ extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}}class Fx extends Se{constructor(e,n,r){super("w:hyperlink"),Ce(this,"linkId"),this.linkId=n;const i={history:1,anchor:r||void 0,id:r?void 0:`rId${this.linkId}`},s=new ZZ(i);this.root.push(s),e.forEach(o=>{this.root.push(o)})}}class gN extends Se{constructor(e){super("w:externalHyperlink"),this.options=e}}class JZ extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{id:"w:id",name:"w:name"})}}class QZ extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{id:"w:id"})}}class eJ{constructor(e){Ce(this,"bookmarkUniqueNumericId",IY()),Ce(this,"start"),Ce(this,"children"),Ce(this,"end");const n=this.bookmarkUniqueNumericId();this.start=new tJ(e.id,n),this.children=e.children,this.end=new nJ(n)}}class tJ extends Se{constructor(e,n){super("w:bookmarkStart");const r=new JZ({name:e,id:n});this.root.push(r)}}class nJ extends Se{constructor(e){super("w:bookmarkEnd");const n=new QZ({id:e});this.root.push(n)}}class rJ extends Se{constructor(e){super("w:outlineLvl"),this.level=e,this.root.push(new qt({val:e}))}}const iJ={TOP:"top",CENTER:"center",BOTTOM:"bottom"};ps(nt({},iJ),{BOTH:"both"});class sJ extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{verticalAlign:"w:val"})}}class yN extends Se{constructor(e){super("w:vAlign"),this.root.push(new sJ({verticalAlign:e}))}}class oJ extends Se{constructor({space:e,count:n,separate:r,equalWidth:i,children:s}){super("w:cols"),this.root.push(new vs({space:{key:"w:space",value:e===void 0?void 0:Rn(e)},count:{key:"w:num",value:n===void 0?void 0:zn(n)},separate:{key:"w:sep",value:r},equalWidth:{key:"w:equalWidth",value:i}})),!i&&s&&s.forEach(o=>this.addChildElement(o))}}const aJ=({type:t,linePitch:e,charSpace:n})=>new dt({name:"w:docGrid",attributes:{type:{key:"w:type",value:t},linePitch:{key:"w:linePitch",value:zn(e)},charSpace:{key:"w:charSpace",value:n?zn(n):void 0}}}),Wl={DEFAULT:"default",FIRST:"first",EVEN:"even"};class lJ extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{type:"w:type",id:"r:id"})}}const zT={HEADER:"w:headerReference",FOOTER:"w:footerReference"};class ov extends Se{constructor(e,n){super(e),this.root.push(new lJ({type:n.type||Wl.DEFAULT,id:`rId${n.id}`}))}}const uJ=({countBy:t,start:e,restart:n,distance:r})=>new dt({name:"w:lnNumType",attributes:{countBy:{key:"w:countBy",value:t===void 0?void 0:zn(t)},start:{key:"w:start",value:e===void 0?void 0:zn(e)},restart:{key:"w:restart",value:n},distance:{key:"w:distance",value:r===void 0?void 0:Rn(r)}}});class UT extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}}class cJ extends ws{constructor(e){if(super("w:pgBorders"),!e)return this;e.pageBorders?this.root.push(new UT({display:e.pageBorders.display,offsetFrom:e.pageBorders.offsetFrom,zOrder:e.pageBorders.zOrder})):this.root.push(new UT({})),e.pageBorderTop&&this.root.push(new wt("w:top",e.pageBorderTop)),e.pageBorderLeft&&this.root.push(new wt("w:left",e.pageBorderLeft)),e.pageBorderBottom&&this.root.push(new wt("w:bottom",e.pageBorderBottom)),e.pageBorderRight&&this.root.push(new wt("w:right",e.pageBorderRight))}}class fJ extends Se{constructor(e,n,r,i,s,o,a){super("w:pgMar"),this.root.push(new vs({top:{key:"w:top",value:as(e)},right:{key:"w:right",value:Rn(n)},bottom:{key:"w:bottom",value:as(r)},left:{key:"w:left",value:Rn(i)},header:{key:"w:header",value:Rn(s)},footer:{key:"w:footer",value:Rn(o)},gutter:{key:"w:gutter",value:Rn(a)}}))}}class dJ extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}}class hJ extends Se{constructor({start:e,formatType:n,separator:r}){super("w:pgNumType"),this.root.push(new dJ({start:e===void 0?void 0:zn(e),formatType:n,separator:r}))}}const Nb={PORTRAIT:"portrait",LANDSCAPE:"landscape"},pJ=({width:t,height:e,orientation:n,code:r})=>{const i=Rn(t),s=Rn(e);return new dt({name:"w:pgSz",attributes:{width:{key:"w:w",value:n===Nb.LANDSCAPE?s:i},height:{key:"w:h",value:n===Nb.LANDSCAPE?i:s},orientation:{key:"w:orient",value:n},code:{key:"w:code",value:r}}})};class mJ extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{val:"w:val"})}}class gJ extends Se{constructor(e){super("w:textDirection"),this.root.push(new mJ({val:e}))}}class yJ extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{val:"w:val"})}}class wJ extends Se{constructor(e){super("w:type"),this.root.push(new yJ({val:e}))}}const Yo={TOP:1440,RIGHT:1440,BOTTOM:1440,LEFT:1440,HEADER:708,FOOTER:708,GUTTER:0},av={WIDTH:11906,HEIGHT:16838,ORIENTATION:Nb.PORTRAIT};class vJ extends Se{constructor({page:{size:{width:e=av.WIDTH,height:n=av.HEIGHT,orientation:r=av.ORIENTATION}={},margin:{top:i=Yo.TOP,right:s=Yo.RIGHT,bottom:o=Yo.BOTTOM,left:a=Yo.LEFT,header:u=Yo.HEADER,footer:c=Yo.FOOTER,gutter:d=Yo.GUTTER}={},pageNumbers:h={},borders:p,textDirection:m}={},grid:{linePitch:w=360,charSpace:y,type:x}={},headerWrapperGroup:v={},footerWrapperGroup:S={},lineNumbers:k,titlePage:E,verticalAlign:R,column:B,type:$}={}){super("w:sectPr"),this.addHeaderFooterGroup(zT.HEADER,v),this.addHeaderFooterGroup(zT.FOOTER,S),$&&this.root.push(new wJ($)),this.root.push(pJ({width:e,height:n,orientation:r})),this.root.push(new fJ(i,s,o,a,u,c,d)),p&&this.root.push(new cJ(p)),k&&this.root.push(uJ(k)),this.root.push(new hJ(h)),B&&this.root.push(new oJ(B)),R&&this.root.push(new yN(R)),E!==void 0&&this.root.push(new _e("w:titlePg",E)),m&&this.root.push(new gJ(m)),this.root.push(aJ({linePitch:w,charSpace:y,type:x}))}addHeaderFooterGroup(e,n){n.default&&this.root.push(new ov(e,{type:Wl.DEFAULT,id:n.default.View.ReferenceId})),n.first&&this.root.push(new ov(e,{type:Wl.FIRST,id:n.first.View.ReferenceId})),n.even&&this.root.push(new ov(e,{type:Wl.EVEN,id:n.even.View.ReferenceId}))}}class bJ extends Se{constructor(){super("w:body"),Ce(this,"sections",[])}addSection(e){const n=this.sections.pop();this.root.push(this.createSectionParagraph(n)),this.sections.push(new vJ(e))}prepForXml(e){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(e)}push(e){this.root.push(e)}createSectionParagraph(e){const n=new Gn({}),r=new du({});return r.push(e),n.addChildElement(r),n}}const VT={wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"};class gg extends Be{constructor(e,n){super(nt({Ignorable:n},Object.fromEntries(e.map(r=>[r,VT[r]])))),Ce(this,"xmlKeys",nt({Ignorable:"mc:Ignorable"},Object.fromEntries(Object.keys(VT).map(r=>[r,`xmlns:${r}`]))))}}class xJ extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}}class EJ extends Se{constructor(e){super("w:background"),this.root.push(new xJ({color:e.color===void 0?void 0:uu(e.color),themeColor:e.themeColor,themeShade:e.themeShade===void 0?void 0:ET(e.themeShade),themeTint:e.themeTint===void 0?void 0:ET(e.themeTint)}))}}class CJ extends Se{constructor(e){super("w:document"),Ce(this,"body"),this.root.push(new gg(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps","cx","cx1","cx2","cx3","cx4","cx5","cx6","cx7","cx8","aink","am3d","w16cex","w16cid","w16","w16sdtdh","w16se"],"w14 w15 wp14")),this.body=new bJ,e.background&&this.root.push(new EJ(e.background)),this.root.push(this.body)}add(e){return this.body.push(e),this}get Body(){return this.body}}class wN{constructor(e){Ce(this,"document"),Ce(this,"relationships"),this.document=new CJ(e),this.relationships=new Va}get View(){return this.document}get Relationships(){return this.relationships}}class SJ extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{val:"w:val"})}}class kJ extends Se{constructor(){super("w:wordWrap"),this.root.push(new SJ({val:0}))}}const TJ=t=>{var e,n;return new dt({name:"w:framePr",attributes:{anchorLock:{key:"w:anchorLock",value:t.anchorLock},dropCap:{key:"w:dropCap",value:t.dropCap},width:{key:"w:w",value:t.width},height:{key:"w:h",value:t.height},x:{key:"w:x",value:t.position?t.position.x:void 0},y:{key:"w:y",value:t.position?t.position.y:void 0},anchorHorizontal:{key:"w:hAnchor",value:t.anchor.horizontal},anchorVertical:{key:"w:vAnchor",value:t.anchor.vertical},spaceHorizontal:{key:"w:hSpace",value:(e=t.space)==null?void 0:e.horizontal},spaceVertical:{key:"w:vSpace",value:(n=t.space)==null?void 0:n.vertical},rule:{key:"w:hRule",value:t.rule},alignmentX:{key:"w:xAlign",value:t.alignment?t.alignment.x:void 0},alignmentY:{key:"w:yAlign",value:t.alignment?t.alignment.y:void 0},lines:{key:"w:lines",value:t.lines},wrap:{key:"w:wrap",value:t.wrap}}})};class du extends ws{constructor(e){var n,r;if(super("w:pPr"),Ce(this,"numberingReferences",[]),!e)return this;e.heading&&this.push(new Hh(e.heading)),e.bullet&&this.push(new Hh("ListParagraph")),e.numbering&&!e.style&&!e.heading&&(e.numbering.custom||this.push(new Hh("ListParagraph"))),e.style&&this.push(new Hh(e.style)),e.keepNext!==void 0&&this.push(new _e("w:keepNext",e.keepNext)),e.keepLines!==void 0&&this.push(new _e("w:keepLines",e.keepLines)),e.pageBreakBefore&&this.push(new UZ),e.frame&&this.push(TJ(e.frame)),e.widowControl!==void 0&&this.push(new _e("w:widowControl",e.widowControl)),e.bullet&&this.push(new sv(1,e.bullet.level)),e.numbering?(this.numberingReferences.push({reference:e.numbering.reference,instance:(n=e.numbering.instance)!=null?n:0}),this.push(new sv(`${e.numbering.reference}-${(r=e.numbering.instance)!=null?r:0}`,e.numbering.level))):e.numbering===!1&&this.push(new sv(0,0)),e.border&&this.push(new qX(e.border)),e.thematicBreak&&this.push(new GX),e.shading&&this.push(new pg(e.shading)),e.wordWrap&&this.push(new kJ),e.overflowPunctuation&&this.push(new _e("w:overflowPunct",e.overflowPunctuation));const i=[...e.rightTabStop!==void 0?[{type:$T.RIGHT,position:e.rightTabStop}]:[],...e.tabStops?e.tabStops:[],...e.leftTabStop!==void 0?[{type:$T.LEFT,position:e.leftTabStop}]:[]];i.length>0&&this.push(new KZ(i)),e.bidirectional!==void 0&&this.push(new _e("w:bidi",e.bidirectional)),e.spacing&&this.push(new WZ(e.spacing)),e.indent&&this.push(new XX(e.indent)),e.contextualSpacing!==void 0&&this.push(new _e("w:contextualSpacing",e.contextualSpacing)),e.alignment&&this.push(new tN(e.alignment)),e.outlineLevel!==void 0&&this.push(new rJ(e.outlineLevel)),e.suppressLineNumbers!==void 0&&this.push(new _e("w:suppressLineNumbers",e.suppressLineNumbers)),e.autoSpaceEastAsianText!==void 0&&this.push(new _e("w:autoSpaceDN",e.autoSpaceEastAsianText)),e.run&&this.push(new Ua(e.run))}push(e){this.root.push(e)}prepForXml(e){if(e.viewWrapper instanceof wN)for(const n of this.numberingReferences)e.file.Numbering.createConcreteNumberingInstance(n.reference,n.instance);return super.prepForXml(e)}}class Gn extends mN{constructor(e){if(super("w:p"),Ce(this,"properties"),typeof e=="string")return this.properties=new du({}),this.root.push(this.properties),this.root.push(new _b(e)),this;if(this.properties=new du(e),this.root.push(this.properties),e.text&&this.root.push(new _b(e.text)),e.children)for(const n of e.children){if(n instanceof eJ){this.root.push(n.start);for(const r of n.children)this.root.push(r);this.root.push(n.end);continue}this.root.push(n)}}prepForXml(e){for(const n of this.root)if(n instanceof gN){const r=this.root.indexOf(n),i=new Fx(n.options.children,MY());e.viewWrapper.Relationships.createRelationship(i.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",n.options.link,FZ.EXTERNAL),this.root[r]=i}return super.prepForXml(e)}addRunToFront(e){return this.root.splice(1,0,e),this}}class AJ extends Se{constructor(e){super("w:tblGrid");for(const n of e)this.root.push(new _J(n))}}class _J extends Se{constructor(e){super("w:gridCol"),e!==void 0&&this.root.push(new vs({width:{key:"w:w",value:Rn(e)}}))}}const vN={TABLE:"w:tblCellMar",TABLE_CELL:"w:tcMar"};class bN extends ws{constructor(e,{marginUnitType:n=Wp.DXA,top:r,left:i,bottom:s,right:o}){super(e),r!==void 0&&this.root.push(new ua("w:top",{type:n,size:r})),i!==void 0&&this.root.push(new ua("w:left",{type:n,size:i})),s!==void 0&&this.root.push(new ua("w:bottom",{type:n,size:s})),o!==void 0&&this.root.push(new ua("w:right",{type:n,size:o}))}}const Wp={AUTO:"auto",DXA:"dxa",NIL:"nil",PERCENTAGE:"pct"};class ua extends Se{constructor(e,{type:n=Wp.AUTO,size:r}){super(e);let i=r;n===Wp.PERCENTAGE&&typeof r=="number"&&(i=`${r}%`),this.root.push(new vs({type:{key:"w:type",value:n},size:{key:"w:w",value:eN(i)}}))}}class RJ extends ws{constructor(e){super("w:tcBorders"),e.top&&this.root.push(new wt("w:top",e.top)),e.start&&this.root.push(new wt("w:start",e.start)),e.left&&this.root.push(new wt("w:left",e.left)),e.bottom&&this.root.push(new wt("w:bottom",e.bottom)),e.end&&this.root.push(new wt("w:end",e.end)),e.right&&this.root.push(new wt("w:right",e.right))}}class NJ extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{val:"w:val"})}}class OJ extends Se{constructor(e){super("w:gridSpan"),this.root.push(new NJ({val:zn(e)}))}}const xN={CONTINUE:"continue",RESTART:"restart"};class IJ extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{val:"w:val"})}}class WT extends Se{constructor(e){super("w:vMerge"),this.root.push(new IJ({val:e}))}}class MJ extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{val:"w:val"})}}class DJ extends Se{constructor(e){super("w:textDirection"),this.root.push(new MJ({val:e}))}}class LJ extends ws{constructor(e){super("w:tcPr"),e.width&&this.root.push(new ua("w:tcW",e.width)),e.columnSpan&&this.root.push(new OJ(e.columnSpan)),e.verticalMerge?this.root.push(new WT(e.verticalMerge)):e.rowSpan&&e.rowSpan>1&&this.root.push(new WT(xN.RESTART)),e.borders&&this.root.push(new RJ(e.borders)),e.shading&&this.root.push(new pg(e.shading)),e.margins&&this.root.push(new bN(vN.TABLE_CELL,e.margins)),e.textDirection&&this.root.push(new DJ(e.textDirection)),e.verticalAlign&&this.root.push(new yN(e.verticalAlign))}}class Bx extends Se{constructor(e){super("w:tc"),this.options=e,this.root.push(new LJ(e));for(const n of e.children)this.root.push(n)}prepForXml(e){return this.root[this.root.length-1]instanceof Gn||this.root.push(new Gn({})),super.prepForXml(e)}}const kl={style:Mx.NONE,size:0,color:"auto"},Tl={style:Mx.SINGLE,size:4,color:"auto"};class EN extends Se{constructor(e){super("w:tblBorders"),e.top?this.root.push(new wt("w:top",e.top)):this.root.push(new wt("w:top",Tl)),e.left?this.root.push(new wt("w:left",e.left)):this.root.push(new wt("w:left",Tl)),e.bottom?this.root.push(new wt("w:bottom",e.bottom)):this.root.push(new wt("w:bottom",Tl)),e.right?this.root.push(new wt("w:right",e.right)):this.root.push(new wt("w:right",Tl)),e.insideHorizontal?this.root.push(new wt("w:insideH",e.insideHorizontal)):this.root.push(new wt("w:insideH",Tl)),e.insideVertical?this.root.push(new wt("w:insideV",e.insideVertical)):this.root.push(new wt("w:insideV",Tl))}}Ce(EN,"NONE",{top:kl,bottom:kl,left:kl,right:kl,insideHorizontal:kl,insideVertical:kl});class PJ extends Se{constructor({horizontalAnchor:e,verticalAnchor:n,absoluteHorizontalPosition:r,relativeHorizontalPosition:i,absoluteVerticalPosition:s,relativeVerticalPosition:o,bottomFromText:a,topFromText:u,leftFromText:c,rightFromText:d,overlap:h}){super("w:tblpPr"),this.root.push(new vs({leftFromText:{key:"w:leftFromText",value:c===void 0?void 0:Rn(c)},rightFromText:{key:"w:rightFromText",value:d===void 0?void 0:Rn(d)},topFromText:{key:"w:topFromText",value:u===void 0?void 0:Rn(u)},bottomFromText:{key:"w:bottomFromText",value:a===void 0?void 0:Rn(a)},absoluteHorizontalPosition:{key:"w:tblpX",value:r===void 0?void 0:as(r)},absoluteVerticalPosition:{key:"w:tblpY",value:s===void 0?void 0:as(s)},horizontalAnchor:{key:"w:horzAnchor",value:e===void 0?void 0:e},relativeHorizontalPosition:{key:"w:tblpXSpec",value:i},relativeVerticalPosition:{key:"w:tblpYSpec",value:o},verticalAnchor:{key:"w:vertAnchor",value:n}})),h&&this.root.push(new VX("w:tblOverlap",h))}}class FJ extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{type:"w:type"})}}class BJ extends Se{constructor(e){super("w:tblLayout"),this.root.push(new FJ({type:e}))}}const jJ={DXA:"dxa"};class CN extends Se{constructor({type:e=jJ.DXA,value:n}){super("w:tblCellSpacing"),this.root.push(new vs({type:{key:"w:type",value:e},value:{key:"w:w",value:eN(n)}}))}}class HJ extends ws{constructor(e){super("w:tblPr"),e.style&&this.root.push(new va("w:tblStyle",e.style)),e.float&&this.root.push(new PJ(e.float)),e.visuallyRightToLeft!==void 0&&this.root.push(new _e("w:bidiVisual",e.visuallyRightToLeft)),e.width&&this.root.push(new ua("w:tblW",e.width)),e.alignment&&this.root.push(new tN(e.alignment)),e.indent&&this.root.push(new ua("w:tblInd",e.indent)),e.borders&&this.root.push(new EN(e.borders)),e.shading&&this.root.push(new pg(e.shading)),e.layout&&this.root.push(new BJ(e.layout)),e.cellMargin&&this.root.push(new bN(vN.TABLE,e.cellMargin)),e.cellSpacing&&this.root.push(new CN(e.cellSpacing))}}class SN extends mN{constructor({rows:e,width:n,columnWidths:r=Array(Math.max(...e.map(m=>m.CellCount))).fill(100),margins:i,indent:s,float:o,layout:a,style:u,borders:c,alignment:d,visuallyRightToLeft:h,cellSpacing:p}){super("w:tbl"),this.root.push(new HJ({borders:c??{},width:n??{size:100},indent:s,float:o,layout:a,style:u,alignment:d,cellMargin:i,visuallyRightToLeft:h,cellSpacing:p})),this.root.push(new AJ(r));for(const m of e)this.root.push(m);e.forEach((m,w)=>{if(w===e.length-1)return;let y=0;m.cells.forEach(x=>{if(x.options.rowSpan&&x.options.rowSpan>1){const v=new Bx({rowSpan:x.options.rowSpan-1,columnSpan:x.options.columnSpan,borders:x.options.borders,children:[],verticalMerge:xN.CONTINUE});e[w+1].addCellToColumnIndex(v,y)}y+=x.options.columnSpan||1})})}}class $J extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{value:"w:val",rule:"w:hRule"})}}class zJ extends Se{constructor(e,n){super("w:trHeight"),this.root.push(new $J({value:Rn(e),rule:n}))}}class UJ extends ws{constructor(e){super("w:trPr"),e.cantSplit!==void 0&&this.root.push(new _e("w:cantSplit",e.cantSplit)),e.tableHeader!==void 0&&this.root.push(new _e("w:tblHeader",e.tableHeader)),e.height&&this.root.push(new zJ(e.height.value,e.height.rule)),e.cellSpacing&&this.root.push(new CN(e.cellSpacing))}}class VJ extends Se{constructor(e){super("w:tr"),this.options=e,this.root.push(new UJ(e));for(const n of e.children)this.root.push(n)}get CellCount(){return this.options.children.length}get cells(){return this.root.filter(e=>e instanceof Bx)}addCellToIndex(e,n){this.root.splice(n+1,0,e)}addCellToColumnIndex(e,n){const r=this.columnIndexToRootIndex(n,!0);this.addCellToIndex(e,r-1)}rootIndexToColumnIndex(e){if(e<1||e>=this.root.length)throw new Error(`cell 'rootIndex' should between 1 to ${this.root.length-1}`);let n=0;for(let r=1;r<e;r++){const i=this.root[r];n+=i.options.columnSpan||1}return n}columnIndexToRootIndex(e,n=!1){if(e<0)throw new Error("cell 'columnIndex' should not less than zero");let r=0,i=1;for(;r<=e;){if(i>=this.root.length){if(n)return this.root.length;throw new Error(`cell 'columnIndex' should not great than ${r-1}`)}const s=this.root[i];i+=1,r+=s&&s.options.columnSpan||1}return i-1}}class WJ extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class KJ extends Se{constructor(){super("Properties"),this.root.push(new WJ({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class qJ extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{xmlns:"xmlns"})}}class GJ extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}}class Xi extends Se{constructor(e,n){super("Default"),this.root.push(new GJ({contentType:e,extension:n}))}}class XJ extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}}class Pr extends Se{constructor(e,n){super("Override"),this.root.push(new XJ({contentType:e,partName:n}))}}class YJ extends Se{constructor(){super("Types"),this.root.push(new qJ({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new Xi("image/png","png")),this.root.push(new Xi("image/jpeg","jpeg")),this.root.push(new Xi("image/jpeg","jpg")),this.root.push(new Xi("image/bmp","bmp")),this.root.push(new Xi("image/gif","gif")),this.root.push(new Xi("image/svg+xml","svg")),this.root.push(new Xi("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new Xi("application/xml","xml")),this.root.push(new Xi("application/vnd.openxmlformats-officedocument.obfuscatedFont","odttf")),this.root.push(new Pr("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new Pr("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new Pr("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new Pr("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new Pr("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new Pr("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new Pr("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new Pr("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new Pr("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml")),this.root.push(new Pr("application/vnd.openxmlformats-officedocument.wordprocessingml.fontTable+xml","/word/fontTable.xml"))}addFooter(e){this.root.push(new Pr("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${e}.xml`))}addHeader(e){this.root.push(new Pr("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${e}.xml`))}}class ZJ extends Se{constructor(e){super("cp:coreProperties"),this.root.push(new gg(["cp","dc","dcterms","dcmitype","xsi"])),e.title&&this.root.push(new qo("dc:title",e.title)),e.subject&&this.root.push(new qo("dc:subject",e.subject)),e.creator&&this.root.push(new qo("dc:creator",e.creator)),e.keywords&&this.root.push(new qo("cp:keywords",e.keywords)),e.description&&this.root.push(new qo("dc:description",e.description)),e.lastModifiedBy&&this.root.push(new qo("cp:lastModifiedBy",e.lastModifiedBy)),e.revision&&this.root.push(new qo("cp:revision",String(e.revision))),this.root.push(new KT("dcterms:created")),this.root.push(new KT("dcterms:modified"))}}class JJ extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{type:"xsi:type"})}}class KT extends Se{constructor(e){super(e),this.root.push(new JJ({type:"dcterms:W3CDTF"})),this.root.push(UX(new Date))}}class QJ extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class eQ extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}}class tQ extends Se{constructor(e,n){super("property"),this.root.push(new eQ({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:e.toString(),name:n.name})),this.root.push(new nQ(n.value))}}class nQ extends Se{constructor(e){super("vt:lpwstr"),this.root.push(e)}}class rQ extends Se{constructor(e){super("Properties"),Ce(this,"nextId"),Ce(this,"properties",[]),this.root.push(new QJ({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const n of e)this.addCustomProperty(n)}prepForXml(e){return this.properties.forEach(n=>this.root.push(n)),super.prepForXml(e)}addCustomProperty(e){this.properties.push(new tQ(this.nextId++,e))}}const $h=({id:t,fontKey:e,subsetted:n},r)=>new dt({name:r,attributes:nt({id:{key:"r:id",value:t}},e?{fontKey:{key:"w:fontKey",value:`{${e}}`}}:{}),children:[...n?[new _e("w:subsetted",n)]:[]]}),iQ=({name:t,altName:e,panose1:n,charset:r,family:i,notTrueType:s,pitch:o,sig:a,embedRegular:u,embedBold:c,embedItalic:d,embedBoldItalic:h})=>new dt({name:"w:font",attributes:{name:{key:"w:name",value:t}},children:[...e?[mc("w:altName",e)]:[],...n?[mc("w:panose1",n)]:[],...r?[mc("w:charset",r)]:[],mc("w:family",i),...s?[new _e("w:notTrueType",s)]:[],mc("w:pitch",o),...a?[new dt({name:"w:sig",attributes:{usb0:{key:"w:usb0",value:a.usb0},usb1:{key:"w:usb1",value:a.usb1},usb2:{key:"w:usb2",value:a.usb2},usb3:{key:"w:usb3",value:a.usb3},csb0:{key:"w:csb0",value:a.csb0},csb1:{key:"w:csb1",value:a.csb1}}})]:[],...u?[$h(u,"w:embedRegular")]:[],...c?[$h(c,"w:embedBold")]:[],...d?[$h(d,"w:embedItalic")]:[],...h?[$h(h,"w:embedBoldItalic")]:[]]}),sQ=({name:t,index:e,fontKey:n,characterSet:r})=>iQ({name:t,sig:{usb0:"E0002AFF",usb1:"C000247B",usb2:"00000009",usb3:"00000000",csb0:"000001FF",csb1:"00000000"},charset:r,family:"auto",pitch:"variable",embedRegular:{fontKey:n,id:`rId${e}`}}),oQ=t=>new dt({name:"w:fonts",attributes:{mc:{key:"xmlns:mc",value:"http://schemas.openxmlformats.org/markup-compatibility/2006"},r:{key:"xmlns:r",value:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"},w:{key:"xmlns:w",value:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},w14:{key:"xmlns:w14",value:"http://schemas.microsoft.com/office/word/2010/wordml"},w15:{key:"xmlns:w15",value:"http://schemas.microsoft.com/office/word/2012/wordml"},w16cex:{key:"xmlns:w16cex",value:"http://schemas.microsoft.com/office/word/2018/wordml/cex"},w16cid:{key:"xmlns:w16cid",value:"http://schemas.microsoft.com/office/word/2016/wordml/cid"},w16:{key:"xmlns:w16",value:"http://schemas.microsoft.com/office/word/2018/wordml"},w16sdtdh:{key:"xmlns:w16sdtdh",value:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash"},w16se:{key:"xmlns:w16se",value:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ignorable:{key:"mc:Ignorable",value:"w14 w15 w16se w16cid w16 w16cex w16sdtdh"}},children:t.map((e,n)=>sQ({name:e.name,index:n+1,fontKey:e.fontKey}))});class aQ{constructor(e){Ce(this,"fontTable"),Ce(this,"relationships"),Ce(this,"fontOptionsWithKey",[]),this.options=e,this.fontOptionsWithKey=e.map(n=>ps(nt({},n),{fontKey:DY()})),this.fontTable=oQ(this.fontOptionsWithKey),this.relationships=new Va;for(let n=0;n<e.length;n++)this.relationships.createRelationship(n+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/font",`fonts/${e[n].name}.odttf`)}get View(){return this.fontTable}get Relationships(){return this.relationships}}class lQ extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}}let uQ=class extends ZR{constructor(e,n){super("w:ftr",n),Ce(this,"refId"),this.refId=e,n||this.root.push(new lQ({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class cQ{constructor(e,n,r){Ce(this,"footer"),Ce(this,"relationships"),this.media=e,this.footer=new uQ(n,r),this.relationships=new Va}add(e){this.footer.add(e)}addChildElement(e){this.footer.addChildElement(e)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class fQ extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{type:"w:type",id:"w:id"})}}class dQ extends Se{constructor(){super("w:footnoteRef")}}class hQ extends Eu{constructor(){super({style:"FootnoteReference"}),this.root.push(new dQ)}}const qT={SEPERATOR:"separator",CONTINUATION_SEPERATOR:"continuationSeparator"};class lv extends Se{constructor(e){super("w:footnote"),this.root.push(new fQ({type:e.type,id:e.id}));for(let n=0;n<e.children.length;n++){const r=e.children[n];n===0&&r.addRunToFront(new hQ),this.root.push(r)}}}class pQ extends Se{constructor(){super("w:continuationSeparator")}}class mQ extends Eu{constructor(){super({}),this.root.push(new pQ)}}class gQ extends Se{constructor(){super("w:separator")}}class yQ extends Eu{constructor(){super({}),this.root.push(new gQ)}}class wQ extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class vQ extends Se{constructor(){super("w:footnotes"),this.root.push(new wQ({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const e=new lv({id:-1,type:qT.SEPERATOR,children:[new Gn({spacing:{after:0,line:240,lineRule:Rb.AUTO},children:[new yQ]})]});this.root.push(e);const n=new lv({id:0,type:qT.CONTINUATION_SEPERATOR,children:[new Gn({spacing:{after:0,line:240,lineRule:Rb.AUTO},children:[new mQ]})]});this.root.push(n)}createFootNote(e,n){const r=new lv({id:e,children:n});this.root.push(r)}}class bQ{constructor(){Ce(this,"footnotess"),Ce(this,"relationships"),this.footnotess=new vQ,this.relationships=new Va}get View(){return this.footnotess}get Relationships(){return this.relationships}}class xQ extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}}let EQ=class extends ZR{constructor(e,n){super("w:hdr",n),Ce(this,"refId"),this.refId=e,n||this.root.push(new xQ({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class CQ{constructor(e,n,r){Ce(this,"header"),Ce(this,"relationships"),this.media=e,this.header=new EQ(n,r),this.relationships=new Va}add(e){return this.header.add(e),this}addChildElement(e){this.header.addChildElement(e)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class SQ{constructor(){Ce(this,"map"),this.map=new Map}addImage(e,n){this.map.set(e,n)}get Array(){return Array.from(this.map.values())}}const dn={DECIMAL:"decimal",UPPER_ROMAN:"upperRoman",LOWER_ROMAN:"lowerRoman",UPPER_LETTER:"upperLetter",LOWER_LETTER:"lowerLetter",ORDINAL:"ordinal",CARDINAL_TEXT:"cardinalText",ORDINAL_TEXT:"ordinalText",HEX:"hex",CHICAGO:"chicago",IDEOGRAPH__DIGITAL:"ideographDigital",JAPANESE_COUNTING:"japaneseCounting",AIUEO:"aiueo",IROHA:"iroha",DECIMAL_FULL_WIDTH:"decimalFullWidth",DECIMAL_HALF_WIDTH:"decimalHalfWidth",JAPANESE_LEGAL:"japaneseLegal",JAPANESE_DIGITAL_TEN_THOUSAND:"japaneseDigitalTenThousand",DECIMAL_ENCLOSED_CIRCLE:"decimalEnclosedCircle",DECIMAL_FULL_WIDTH2:"decimalFullWidth2",AIUEO_FULL_WIDTH:"aiueoFullWidth",IROHA_FULL_WIDTH:"irohaFullWidth",DECIMAL_ZERO:"decimalZero",BULLET:"bullet",GANADA:"ganada",CHOSUNG:"chosung",DECIMAL_ENCLOSED_FULLSTOP:"decimalEnclosedFullstop",DECIMAL_ENCLOSED_PARENTHESES:"decimalEnclosedParen",DECIMAL_ENCLOSED_CIRCLE_CHINESE:"decimalEnclosedCircleChinese",IDEOGRAPH_ENCLOSED_CIRCLE:"ideographEnclosedCircle",IDEOGRAPH_TRADITIONAL:"ideographTraditional",IDEOGRAPH_ZODIAC:"ideographZodiac",IDEOGRAPH_ZODIAC_TRADITIONAL:"ideographZodiacTraditional",TAIWANESE_COUNTING:"taiwaneseCounting",IDEOGRAPH_LEGAL_TRADITIONAL:"ideographLegalTraditional",TAIWANESE_COUNTING_THOUSAND:"taiwaneseCountingThousand",TAIWANESE_DIGITAL:"taiwaneseDigital",CHINESE_COUNTING:"chineseCounting",CHINESE_LEGAL_SIMPLIFIED:"chineseLegalSimplified",CHINESE_COUNTING_THOUSAND:"chineseCountingThousand",KOREAN_DIGITAL:"koreanDigital",KOREAN_COUNTING:"koreanCounting",KOREAN_LEGAL:"koreanLegal",KOREAN_DIGITAL2:"koreanDigital2",VIETNAMESE_COUNTING:"vietnameseCounting",RUSSIAN_LOWER:"russianLower",RUSSIAN_UPPER:"russianUpper",NONE:"none",NUMBER_IN_DASH:"numberInDash",HEBREW1:"hebrew1",HEBREW2:"hebrew2",ARABIC_ALPHA:"arabicAlpha",ARABIC_ABJAD:"arabicAbjad",HINDI_VOWELS:"hindiVowels",HINDI_CONSONANTS:"hindiConsonants",HINDI_NUMBERS:"hindiNumbers",HINDI_COUNTING:"hindiCounting",THAI_LETTERS:"thaiLetters",THAI_NUMBERS:"thaiNumbers",THAI_COUNTING:"thaiCounting",BAHT_TEXT:"bahtText",DOLLAR_TEXT:"dollarText",CUSTOM:"custom"};class kQ extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}}class TQ extends Se{constructor(e){super("w:numFmt"),this.root.push(new qt({val:e}))}}class AQ extends Se{constructor(e){super("w:lvlText"),this.root.push(new qt({val:e}))}}class _Q extends Se{constructor(e){super("w:lvlJc"),this.root.push(new qt({val:e}))}}class RQ extends Se{constructor(e){super("w:suff"),this.root.push(new qt({val:e}))}}class NQ extends Se{constructor(){super("w:isLgl")}}class OQ extends Se{constructor({level:e,format:n,text:r,alignment:i=zt.START,start:s=1,style:o,suffix:a,isLegalNumberingStyle:u}){if(super("w:lvl"),Ce(this,"paragraphProperties"),Ce(this,"runProperties"),this.root.push(new jc("w:start",zn(s))),n&&this.root.push(new TQ(n)),a&&this.root.push(new RQ(a)),u&&this.root.push(new NQ),r&&this.root.push(new AQ(r)),this.root.push(new _Q(i)),this.paragraphProperties=new du(o&&o.paragraph),this.runProperties=new Ua(o&&o.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new kQ({ilvl:zn(e),tentative:1}))}}class IQ extends OQ{}class MQ extends Se{constructor(e){super("w:multiLevelType"),this.root.push(new qt({val:e}))}}class DQ extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}}class GT extends Se{constructor(e,n){super("w:abstractNum"),Ce(this,"id"),this.root.push(new DQ({abstractNumId:zn(e),restartNumberingAfterBreak:0})),this.root.push(new MQ("hybridMultilevel")),this.id=e;for(const r of n)this.root.push(new IQ(r))}}class LQ extends Se{constructor(e){super("w:abstractNumId"),this.root.push(new qt({val:e}))}}class PQ extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{numId:"w:numId"})}}class XT extends Se{constructor(e){if(super("w:num"),Ce(this,"numId"),Ce(this,"reference"),Ce(this,"instance"),this.numId=e.numId,this.reference=e.reference,this.instance=e.instance,this.root.push(new PQ({numId:zn(e.numId)})),this.root.push(new LQ(zn(e.abstractNumId))),e.overrideLevels&&e.overrideLevels.length)for(const n of e.overrideLevels)this.root.push(new BQ(n.num,n.start))}}class FQ extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{ilvl:"w:ilvl"})}}class BQ extends Se{constructor(e,n){super("w:lvlOverride"),this.root.push(new FQ({ilvl:e})),n!==void 0&&this.root.push(new HQ(n))}}class jQ extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{val:"w:val"})}}class HQ extends Se{constructor(e){super("w:startOverride"),this.root.push(new jQ({val:e}))}}class $Q extends Se{constructor(e){super("w:numbering"),Ce(this,"abstractNumberingMap",new Map),Ce(this,"concreteNumberingMap",new Map),Ce(this,"referenceConfigMap",new Map),Ce(this,"abstractNumUniqueNumericId",RY()),Ce(this,"concreteNumUniqueNumericId",NY()),this.root.push(new gg(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps"],"w14 w15 wp14"));const n=new GT(this.abstractNumUniqueNumericId(),[{level:0,format:dn.BULLET,text:"●",alignment:zt.LEFT,style:{paragraph:{indent:{left:ri(.5),hanging:ri(.25)}}}},{level:1,format:dn.BULLET,text:"○",alignment:zt.LEFT,style:{paragraph:{indent:{left:ri(1),hanging:ri(.25)}}}},{level:2,format:dn.BULLET,text:"■",alignment:zt.LEFT,style:{paragraph:{indent:{left:2160,hanging:ri(.25)}}}},{level:3,format:dn.BULLET,text:"●",alignment:zt.LEFT,style:{paragraph:{indent:{left:2880,hanging:ri(.25)}}}},{level:4,format:dn.BULLET,text:"○",alignment:zt.LEFT,style:{paragraph:{indent:{left:3600,hanging:ri(.25)}}}},{level:5,format:dn.BULLET,text:"■",alignment:zt.LEFT,style:{paragraph:{indent:{left:4320,hanging:ri(.25)}}}},{level:6,format:dn.BULLET,text:"●",alignment:zt.LEFT,style:{paragraph:{indent:{left:5040,hanging:ri(.25)}}}},{level:7,format:dn.BULLET,text:"●",alignment:zt.LEFT,style:{paragraph:{indent:{left:5760,hanging:ri(.25)}}}},{level:8,format:dn.BULLET,text:"●",alignment:zt.LEFT,style:{paragraph:{indent:{left:6480,hanging:ri(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new XT({numId:1,abstractNumId:n.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",n);for(const r of e.config)this.abstractNumberingMap.set(r.reference,new GT(this.abstractNumUniqueNumericId(),r.levels)),this.referenceConfigMap.set(r.reference,r.levels)}prepForXml(e){for(const n of this.abstractNumberingMap.values())this.root.push(n);for(const n of this.concreteNumberingMap.values())this.root.push(n);return super.prepForXml(e)}createConcreteNumberingInstance(e,n){const r=this.abstractNumberingMap.get(e);if(!r)return;const i=`${e}-${n}`;if(this.concreteNumberingMap.has(i))return;const s=this.referenceConfigMap.get(e),o=s&&s[0].start,a={numId:this.concreteNumUniqueNumericId(),abstractNumId:r.id,reference:e,instance:n,overrideLevels:[o&&Number.isInteger(o)?{num:0,start:o}:{num:0,start:1}]};this.concreteNumberingMap.set(i,new XT(a))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class zQ extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}}class UQ extends Se{constructor(e){super("w:compatSetting"),this.root.push(new zQ({version:e,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class VQ extends Se{constructor(e){super("w:compat"),e.version&&this.root.push(new UQ(e.version)),e.useSingleBorderforContiguousCells&&this.root.push(new _e("w:useSingleBorderforContiguousCells",e.useSingleBorderforContiguousCells)),e.wordPerfectJustification&&this.root.push(new _e("w:wpJustification",e.wordPerfectJustification)),e.noTabStopForHangingIndent&&this.root.push(new _e("w:noTabHangInd",e.noTabStopForHangingIndent)),e.noLeading&&this.root.push(new _e("w:noLeading",e.noLeading)),e.spaceForUnderline&&this.root.push(new _e("w:spaceForUL",e.spaceForUnderline)),e.noColumnBalance&&this.root.push(new _e("w:noColumnBalance",e.noColumnBalance)),e.balanceSingleByteDoubleByteWidth&&this.root.push(new _e("w:balanceSingleByteDoubleByteWidth",e.balanceSingleByteDoubleByteWidth)),e.noExtraLineSpacing&&this.root.push(new _e("w:noExtraLineSpacing",e.noExtraLineSpacing)),e.doNotLeaveBackslashAlone&&this.root.push(new _e("w:doNotLeaveBackslashAlone",e.doNotLeaveBackslashAlone)),e.underlineTrailingSpaces&&this.root.push(new _e("w:ulTrailSpace",e.underlineTrailingSpaces)),e.doNotExpandShiftReturn&&this.root.push(new _e("w:doNotExpandShiftReturn",e.doNotExpandShiftReturn)),e.spacingInWholePoints&&this.root.push(new _e("w:spacingInWholePoints",e.spacingInWholePoints)),e.lineWrapLikeWord6&&this.root.push(new _e("w:lineWrapLikeWord6",e.lineWrapLikeWord6)),e.printBodyTextBeforeHeader&&this.root.push(new _e("w:printBodyTextBeforeHeader",e.printBodyTextBeforeHeader)),e.printColorsBlack&&this.root.push(new _e("w:printColBlack",e.printColorsBlack)),e.spaceWidth&&this.root.push(new _e("w:wpSpaceWidth",e.spaceWidth)),e.showBreaksInFrames&&this.root.push(new _e("w:showBreaksInFrames",e.showBreaksInFrames)),e.subFontBySize&&this.root.push(new _e("w:subFontBySize",e.subFontBySize)),e.suppressBottomSpacing&&this.root.push(new _e("w:suppressBottomSpacing",e.suppressBottomSpacing)),e.suppressTopSpacing&&this.root.push(new _e("w:suppressTopSpacing",e.suppressTopSpacing)),e.suppressSpacingAtTopOfPage&&this.root.push(new _e("w:suppressSpacingAtTopOfPage",e.suppressSpacingAtTopOfPage)),e.suppressTopSpacingWP&&this.root.push(new _e("w:suppressTopSpacingWP",e.suppressTopSpacingWP)),e.suppressSpBfAfterPgBrk&&this.root.push(new _e("w:suppressSpBfAfterPgBrk",e.suppressSpBfAfterPgBrk)),e.swapBordersFacingPages&&this.root.push(new _e("w:swapBordersFacingPages",e.swapBordersFacingPages)),e.convertMailMergeEsc&&this.root.push(new _e("w:convMailMergeEsc",e.convertMailMergeEsc)),e.truncateFontHeightsLikeWP6&&this.root.push(new _e("w:truncateFontHeightsLikeWP6",e.truncateFontHeightsLikeWP6)),e.macWordSmallCaps&&this.root.push(new _e("w:mwSmallCaps",e.macWordSmallCaps)),e.usePrinterMetrics&&this.root.push(new _e("w:usePrinterMetrics",e.usePrinterMetrics)),e.doNotSuppressParagraphBorders&&this.root.push(new _e("w:doNotSuppressParagraphBorders",e.doNotSuppressParagraphBorders)),e.wrapTrailSpaces&&this.root.push(new _e("w:wrapTrailSpaces",e.wrapTrailSpaces)),e.footnoteLayoutLikeWW8&&this.root.push(new _e("w:footnoteLayoutLikeWW8",e.footnoteLayoutLikeWW8)),e.shapeLayoutLikeWW8&&this.root.push(new _e("w:shapeLayoutLikeWW8",e.shapeLayoutLikeWW8)),e.alignTablesRowByRow&&this.root.push(new _e("w:alignTablesRowByRow",e.alignTablesRowByRow)),e.forgetLastTabAlignment&&this.root.push(new _e("w:forgetLastTabAlignment",e.forgetLastTabAlignment)),e.adjustLineHeightInTable&&this.root.push(new _e("w:adjustLineHeightInTable",e.adjustLineHeightInTable)),e.autoSpaceLikeWord95&&this.root.push(new _e("w:autoSpaceLikeWord95",e.autoSpaceLikeWord95)),e.noSpaceRaiseLower&&this.root.push(new _e("w:noSpaceRaiseLower",e.noSpaceRaiseLower)),e.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new _e("w:doNotUseHTMLParagraphAutoSpacing",e.doNotUseHTMLParagraphAutoSpacing)),e.layoutRawTableWidth&&this.root.push(new _e("w:layoutRawTableWidth",e.layoutRawTableWidth)),e.layoutTableRowsApart&&this.root.push(new _e("w:layoutTableRowsApart",e.layoutTableRowsApart)),e.useWord97LineBreakRules&&this.root.push(new _e("w:useWord97LineBreakRules",e.useWord97LineBreakRules)),e.doNotBreakWrappedTables&&this.root.push(new _e("w:doNotBreakWrappedTables",e.doNotBreakWrappedTables)),e.doNotSnapToGridInCell&&this.root.push(new _e("w:doNotSnapToGridInCell",e.doNotSnapToGridInCell)),e.selectFieldWithFirstOrLastCharacter&&this.root.push(new _e("w:selectFldWithFirstOrLastChar",e.selectFieldWithFirstOrLastCharacter)),e.applyBreakingRules&&this.root.push(new _e("w:applyBreakingRules",e.applyBreakingRules)),e.doNotWrapTextWithPunctuation&&this.root.push(new _e("w:doNotWrapTextWithPunct",e.doNotWrapTextWithPunctuation)),e.doNotUseEastAsianBreakRules&&this.root.push(new _e("w:doNotUseEastAsianBreakRules",e.doNotUseEastAsianBreakRules)),e.useWord2002TableStyleRules&&this.root.push(new _e("w:useWord2002TableStyleRules",e.useWord2002TableStyleRules)),e.growAutofit&&this.root.push(new _e("w:growAutofit",e.growAutofit)),e.useFELayout&&this.root.push(new _e("w:useFELayout",e.useFELayout)),e.useNormalStyleForList&&this.root.push(new _e("w:useNormalStyleForList",e.useNormalStyleForList)),e.doNotUseIndentAsNumberingTabStop&&this.root.push(new _e("w:doNotUseIndentAsNumberingTabStop",e.doNotUseIndentAsNumberingTabStop)),e.useAlternateEastAsianLineBreakRules&&this.root.push(new _e("w:useAltKinsokuLineBreakRules",e.useAlternateEastAsianLineBreakRules)),e.allowSpaceOfSameStyleInTable&&this.root.push(new _e("w:allowSpaceOfSameStyleInTable",e.allowSpaceOfSameStyleInTable)),e.doNotSuppressIndentation&&this.root.push(new _e("w:doNotSuppressIndentation",e.doNotSuppressIndentation)),e.doNotAutofitConstrainedTables&&this.root.push(new _e("w:doNotAutofitConstrainedTables",e.doNotAutofitConstrainedTables)),e.autofitToFirstFixedWidthCell&&this.root.push(new _e("w:autofitToFirstFixedWidthCell",e.autofitToFirstFixedWidthCell)),e.underlineTabInNumberingList&&this.root.push(new _e("w:underlineTabInNumList",e.underlineTabInNumberingList)),e.displayHangulFixedWidth&&this.root.push(new _e("w:displayHangulFixedWidth",e.displayHangulFixedWidth)),e.splitPgBreakAndParaMark&&this.root.push(new _e("w:splitPgBreakAndParaMark",e.splitPgBreakAndParaMark)),e.doNotVerticallyAlignCellWithSp&&this.root.push(new _e("w:doNotVertAlignCellWithSp",e.doNotVerticallyAlignCellWithSp)),e.doNotBreakConstrainedForcedTable&&this.root.push(new _e("w:doNotBreakConstrainedForcedTable",e.doNotBreakConstrainedForcedTable)),e.ignoreVerticalAlignmentInTextboxes&&this.root.push(new _e("w:doNotVertAlignInTxbx",e.ignoreVerticalAlignmentInTextboxes)),e.useAnsiKerningPairs&&this.root.push(new _e("w:useAnsiKerningPairs",e.useAnsiKerningPairs)),e.cachedColumnBalance&&this.root.push(new _e("w:cachedColBalance",e.cachedColumnBalance))}}class WQ extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class KQ extends Se{constructor(e){var n,r,i,s,o,a,u,c;super("w:settings"),this.root.push(new WQ({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new _e("w:displayBackgroundShape",!0)),e.trackRevisions!==void 0&&this.root.push(new _e("w:trackRevisions",e.trackRevisions)),e.evenAndOddHeaders!==void 0&&this.root.push(new _e("w:evenAndOddHeaders",e.evenAndOddHeaders)),e.updateFields!==void 0&&this.root.push(new _e("w:updateFields",e.updateFields)),e.defaultTabStop!==void 0&&this.root.push(new jc("w:defaultTabStop",e.defaultTabStop)),((n=e.hyphenation)==null?void 0:n.autoHyphenation)!==void 0&&this.root.push(new _e("w:autoHyphenation",e.hyphenation.autoHyphenation)),((r=e.hyphenation)==null?void 0:r.hyphenationZone)!==void 0&&this.root.push(new jc("w:hyphenationZone",e.hyphenation.hyphenationZone)),((i=e.hyphenation)==null?void 0:i.consecutiveHyphenLimit)!==void 0&&this.root.push(new jc("w:consecutiveHyphenLimit",e.hyphenation.consecutiveHyphenLimit)),((s=e.hyphenation)==null?void 0:s.doNotHyphenateCaps)!==void 0&&this.root.push(new _e("w:doNotHyphenateCaps",e.hyphenation.doNotHyphenateCaps)),this.root.push(new VQ(ps(nt({},(o=e.compatibility)!=null?o:{}),{version:(c=(u=(a=e.compatibility)==null?void 0:a.version)!=null?u:e.compatibilityModeVersion)!=null?c:15})))}}class kN extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{val:"w:val"})}}class qQ extends Se{constructor(e){super("w:name"),this.root.push(new kN({val:e}))}}class GQ extends Se{constructor(e){super("w:uiPriority"),this.root.push(new kN({val:zn(e)}))}}class XQ extends Be{constructor(){super(...arguments),Ce(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}}class TN extends Se{constructor(e,n){super("w:style"),this.root.push(new XQ(e)),n.name&&this.root.push(new qQ(n.name)),n.basedOn&&this.root.push(new va("w:basedOn",n.basedOn)),n.next&&this.root.push(new va("w:next",n.next)),n.link&&this.root.push(new va("w:link",n.link)),n.uiPriority!==void 0&&this.root.push(new GQ(n.uiPriority)),n.semiHidden!==void 0&&this.root.push(new _e("w:semiHidden",n.semiHidden)),n.unhideWhenUsed!==void 0&&this.root.push(new _e("w:unhideWhenUsed",n.unhideWhenUsed)),n.quickFormat!==void 0&&this.root.push(new _e("w:qFormat",n.quickFormat))}}class yg extends TN{constructor(e){super({type:"paragraph",styleId:e.id},e),Ce(this,"paragraphProperties"),Ce(this,"runProperties"),this.paragraphProperties=new du(e.paragraph),this.runProperties=new Ua(e.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class wg extends TN{constructor(e){super({type:"character",styleId:e.id},nt({uiPriority:99,unhideWhenUsed:!0},e)),Ce(this,"runProperties"),this.runProperties=new Ua(e.run),this.root.push(this.runProperties)}}class Ro extends yg{constructor(e){super(nt({basedOn:"Normal",next:"Normal",quickFormat:!0},e))}}class YQ extends Ro{constructor(e){super(nt({id:"Title",name:"Title"},e))}}class ZQ extends Ro{constructor(e){super(nt({id:"Heading1",name:"Heading 1"},e))}}class JQ extends Ro{constructor(e){super(nt({id:"Heading2",name:"Heading 2"},e))}}class QQ extends Ro{constructor(e){super(nt({id:"Heading3",name:"Heading 3"},e))}}class eee extends Ro{constructor(e){super(nt({id:"Heading4",name:"Heading 4"},e))}}class tee extends Ro{constructor(e){super(nt({id:"Heading5",name:"Heading 5"},e))}}class nee extends Ro{constructor(e){super(nt({id:"Heading6",name:"Heading 6"},e))}}class ree extends Ro{constructor(e){super(nt({id:"Strong",name:"Strong"},e))}}class iee extends yg{constructor(e){super(nt({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0},e))}}class see extends yg{constructor(e){super(nt({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:Rb.AUTO}},run:{size:20}},e))}}class oee extends wg{constructor(e){super(nt({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}},e))}}class aee extends wg{constructor(e){super(nt({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}},e))}}class lee extends wg{constructor(e){super(nt({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:Px.SINGLE}}},e))}}class Ob extends Se{constructor(e){if(super("w:styles"),e.initialStyles&&this.root.push(e.initialStyles),e.importedStyles)for(const n of e.importedStyles)this.root.push(n);if(e.paragraphStyles)for(const n of e.paragraphStyles)this.root.push(new yg(n));if(e.characterStyles)for(const n of e.characterStyles)this.root.push(new wg(n))}}class uee extends Se{constructor(e){super("w:pPrDefault"),this.root.push(new du(e))}}class cee extends Se{constructor(e){super("w:rPrDefault"),this.root.push(new Ua(e))}}class fee extends Se{constructor(e){super("w:docDefaults"),Ce(this,"runPropertiesDefaults"),Ce(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new cee(e.run),this.paragraphPropertiesDefaults=new uee(e.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class dee{newInstance(e){const n=YR.xml2js(e,{compact:!1});let r;for(const o of n.elements||[])o.name==="w:styles"&&(r=o);if(r===void 0)throw new Error("can not find styles element");const i=r.elements||[];return new Ob({initialStyles:new BX(r.attributes),importedStyles:i.map(o=>Ox(o))})}}class YT{newInstance(e={}){var n;return{initialStyles:new gg(["mc","r","w","w14","w15"],"w14 w15"),importedStyles:[new fee((n=e.document)!=null?n:{}),new YQ(nt({run:{size:56}},e.title)),new ZQ(nt({run:{color:"2E74B5",size:32}},e.heading1)),new JQ(nt({run:{color:"2E74B5",size:26}},e.heading2)),new QQ(nt({run:{color:"1F4D78",size:24}},e.heading3)),new eee(nt({run:{color:"2E74B5",italics:!0}},e.heading4)),new tee(nt({run:{color:"2E74B5"}},e.heading5)),new nee(nt({run:{color:"1F4D78"}},e.heading6)),new ree(nt({run:{bold:!0}},e.strong)),new iee(e.listParagraph||{}),new lee(e.hyperlink||{}),new oee(e.footnoteReference||{}),new see(e.footnoteText||{}),new aee(e.footnoteTextChar||{})]}}}class hee{constructor(e){Ce(this,"currentRelationshipId",1),Ce(this,"documentWrapper"),Ce(this,"headers",[]),Ce(this,"footers",[]),Ce(this,"coreProperties"),Ce(this,"numbering"),Ce(this,"media"),Ce(this,"fileRelationships"),Ce(this,"footnotesWrapper"),Ce(this,"settings"),Ce(this,"contentTypes"),Ce(this,"customProperties"),Ce(this,"appProperties"),Ce(this,"styles"),Ce(this,"comments"),Ce(this,"fontWrapper");var n,r,i,s,o,a,u,c,d,h,p,m;if(this.coreProperties=new ZJ(ps(nt({},e),{creator:(n=e.creator)!=null?n:"Un-named",revision:(r=e.revision)!=null?r:1,lastModifiedBy:(i=e.lastModifiedBy)!=null?i:"Un-named"})),this.numbering=new $Q(e.numbering?e.numbering:{config:[]}),this.comments=new zZ((s=e.comments)!=null?s:{children:[]}),this.fileRelationships=new Va,this.customProperties=new rQ((o=e.customProperties)!=null?o:[]),this.appProperties=new KJ,this.footnotesWrapper=new bQ,this.contentTypes=new YJ,this.documentWrapper=new wN({background:e.background}),this.settings=new KQ({compatibilityModeVersion:e.compatabilityModeVersion,compatibility:e.compatibility,evenAndOddHeaders:!!e.evenAndOddHeaderAndFooters,trackRevisions:(a=e.features)==null?void 0:a.trackRevisions,updateFields:(u=e.features)==null?void 0:u.updateFields,defaultTabStop:e.defaultTabStop,hyphenation:{autoHyphenation:(c=e.hyphenation)==null?void 0:c.autoHyphenation,hyphenationZone:(d=e.hyphenation)==null?void 0:d.hyphenationZone,consecutiveHyphenLimit:(h=e.hyphenation)==null?void 0:h.consecutiveHyphenLimit,doNotHyphenateCaps:(p=e.hyphenation)==null?void 0:p.doNotHyphenateCaps}}),this.media=new SQ,e.externalStyles!==void 0){const w=new dee;this.styles=w.newInstance(e.externalStyles)}else if(e.styles){const y=new YT().newInstance(e.styles.default);this.styles=new Ob(nt(nt({},y),e.styles))}else{const w=new YT;this.styles=new Ob(w.newInstance())}this.addDefaultRelationships();for(const w of e.sections)this.addSection(w);if(e.footnotes)for(const w in e.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(w),e.footnotes[w].children);this.fontWrapper=new aQ((m=e.fonts)!=null?m:[])}addSection({headers:e={},footers:n={},children:r,properties:i}){this.documentWrapper.View.Body.addSection(ps(nt({},i),{headerWrapperGroup:{default:e.default?this.createHeader(e.default):void 0,first:e.first?this.createHeader(e.first):void 0,even:e.even?this.createHeader(e.even):void 0},footerWrapperGroup:{default:n.default?this.createFooter(n.default):void 0,first:n.first?this.createFooter(n.first):void 0,even:n.even?this.createFooter(n.even):void 0}}));for(const s of r)this.documentWrapper.View.add(s)}createHeader(e){const n=new CQ(this.media,this.currentRelationshipId++);for(const r of e.options.children)n.add(r);return this.addHeaderToDocument(n),n}createFooter(e){const n=new cQ(this.media,this.currentRelationshipId++);for(const r of e.options.children)n.add(r);return this.addFooterToDocument(n),n}addHeaderToDocument(e,n=Wl.DEFAULT){this.headers.push({header:e,type:n}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(e,n=Wl.DEFAULT){this.footers.push({footer:e,type:n}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(e=>e.header)}get Footers(){return this.footers.map(e=>e.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}get FontTable(){return this.fontWrapper}}var pee=_x();function zh(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var uv={exports:{}},ZT;function mee(){return ZT||(ZT=1,function(t,e){(function(n){t.exports=n()})(function(){return function n(r,i,s){function o(c,d){if(!i[c]){if(!r[c]){var h=typeof zh=="function"&&zh;if(!d&&h)return h(c,!0);if(a)return a(c,!0);var p=new Error("Cannot find module '"+c+"'");throw p.code="MODULE_NOT_FOUND",p}var m=i[c]={exports:{}};r[c][0].call(m.exports,function(w){var y=r[c][1][w];return o(y||w)},m,m.exports,n,r,i,s)}return i[c].exports}for(var a=typeof zh=="function"&&zh,u=0;u<s.length;u++)o(s[u]);return o}({1:[function(n,r,i){var s=n("./utils"),o=n("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(u){for(var c,d,h,p,m,w,y,x=[],v=0,S=u.length,k=S,E=s.getTypeOf(u)!=="string";v<u.length;)k=S-v,h=E?(c=u[v++],d=v<S?u[v++]:0,v<S?u[v++]:0):(c=u.charCodeAt(v++),d=v<S?u.charCodeAt(v++):0,v<S?u.charCodeAt(v++):0),p=c>>2,m=(3&c)<<4|d>>4,w=1<k?(15&d)<<2|h>>6:64,y=2<k?63&h:64,x.push(a.charAt(p)+a.charAt(m)+a.charAt(w)+a.charAt(y));return x.join("")},i.decode=function(u){var c,d,h,p,m,w,y=0,x=0,v="data:";if(u.substr(0,v.length)===v)throw new Error("Invalid base64 input, it looks like a data url.");var S,k=3*(u=u.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(u.charAt(u.length-1)===a.charAt(64)&&k--,u.charAt(u.length-2)===a.charAt(64)&&k--,k%1!=0)throw new Error("Invalid base64 input, bad content length.");for(S=o.uint8array?new Uint8Array(0|k):new Array(0|k);y<u.length;)c=a.indexOf(u.charAt(y++))<<2|(p=a.indexOf(u.charAt(y++)))>>4,d=(15&p)<<4|(m=a.indexOf(u.charAt(y++)))>>2,h=(3&m)<<6|(w=a.indexOf(u.charAt(y++))),S[x++]=c,m!==64&&(S[x++]=d),w!==64&&(S[x++]=h);return S}},{"./support":30,"./utils":32}],2:[function(n,r,i){var s=n("./external"),o=n("./stream/DataWorker"),a=n("./stream/Crc32Probe"),u=n("./stream/DataLengthProbe");function c(d,h,p,m,w){this.compressedSize=d,this.uncompressedSize=h,this.crc32=p,this.compression=m,this.compressedContent=w}c.prototype={getContentWorker:function(){var d=new o(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),h=this;return d.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),d},getCompressedWorker:function(){return new o(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(d,h,p){return d.pipe(new a).pipe(new u("uncompressedSize")).pipe(h.compressWorker(p)).pipe(new u("compressedSize")).withStreamInfo("compression",h)},r.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var s=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var s=n("./utils"),o=function(){for(var a,u=[],c=0;c<256;c++){a=c;for(var d=0;d<8;d++)a=1&a?3988292384^a>>>1:a>>>1;u[c]=a}return u}();r.exports=function(a,u){return a!==void 0&&a.length?s.getTypeOf(a)!=="string"?function(c,d,h,p){var m=o,w=p+h;c^=-1;for(var y=p;y<w;y++)c=c>>>8^m[255&(c^d[y])];return-1^c}(0|u,a,a.length,0):function(c,d,h,p){var m=o,w=p+h;c^=-1;for(var y=p;y<w;y++)c=c>>>8^m[255&(c^d.charCodeAt(y))];return-1^c}(0|u,a,a.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var s=null;s=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:s}},{lie:37}],7:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=n("pako"),a=n("./utils"),u=n("./stream/GenericWorker"),c=s?"uint8array":"array";function d(h,p){u.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=p,this.meta={}}i.magic="\b\0",a.inherits(d,u),d.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(c,h.data),!1)},d.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},d.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},d.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(p){h.push({data:p,meta:h.meta})}},i.compressWorker=function(h){return new d("Deflate",h)},i.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function s(m,w){var y,x="";for(y=0;y<w;y++)x+=String.fromCharCode(255&m),m>>>=8;return x}function o(m,w,y,x,v,S){var k,E,R=m.file,B=m.compression,$=S!==c.utf8encode,K=a.transformTo("string",S(R.name)),F=a.transformTo("string",c.utf8encode(R.name)),ie=R.comment,me=a.transformTo("string",S(ie)),H=a.transformTo("string",c.utf8encode(ie)),X=F.length!==R.name.length,N=H.length!==ie.length,Z="",le="",G="",Y=R.dir,Q=R.date,fe={crc32:0,compressedSize:0,uncompressedSize:0};w&&!y||(fe.crc32=m.crc32,fe.compressedSize=m.compressedSize,fe.uncompressedSize=m.uncompressedSize);var U=0;w&&(U|=8),$||!X&&!N||(U|=2048);var O=0,ee=0;Y&&(O|=16),v==="UNIX"?(ee=798,O|=function(ae,re){var P=ae;return ae||(P=re?16893:33204),(65535&P)<<16}(R.unixPermissions,Y)):(ee=20,O|=function(ae){return 63&(ae||0)}(R.dosPermissions)),k=Q.getUTCHours(),k<<=6,k|=Q.getUTCMinutes(),k<<=5,k|=Q.getUTCSeconds()/2,E=Q.getUTCFullYear()-1980,E<<=4,E|=Q.getUTCMonth()+1,E<<=5,E|=Q.getUTCDate(),X&&(le=s(1,1)+s(d(K),4)+F,Z+="up"+s(le.length,2)+le),N&&(G=s(1,1)+s(d(me),4)+H,Z+="uc"+s(G.length,2)+G);var oe="";return oe+=`
\0`,oe+=s(U,2),oe+=B.magic,oe+=s(k,2),oe+=s(E,2),oe+=s(fe.crc32,4),oe+=s(fe.compressedSize,4),oe+=s(fe.uncompressedSize,4),oe+=s(K.length,2),oe+=s(Z.length,2),{fileRecord:h.LOCAL_FILE_HEADER+oe+K+Z,dirRecord:h.CENTRAL_FILE_HEADER+s(ee,2)+oe+s(me.length,2)+"\0\0\0\0"+s(O,4)+s(x,4)+K+Z+me}}var a=n("../utils"),u=n("../stream/GenericWorker"),c=n("../utf8"),d=n("../crc32"),h=n("../signature");function p(m,w,y,x){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=w,this.zipPlatform=y,this.encodeFileName=x,this.streamFiles=m,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(p,u),p.prototype.push=function(m){var w=m.meta.percent||0,y=this.entriesCount,x=this._sources.length;this.accumulate?this.contentBuffer.push(m):(this.bytesWritten+=m.data.length,u.prototype.push.call(this,{data:m.data,meta:{currentFile:this.currentFile,percent:y?(w+100*(y-x-1))/y:100}}))},p.prototype.openedSource=function(m){this.currentSourceOffset=this.bytesWritten,this.currentFile=m.file.name;var w=this.streamFiles&&!m.file.dir;if(w){var y=o(m,w,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},p.prototype.closedSource=function(m){this.accumulate=!1;var w=this.streamFiles&&!m.file.dir,y=o(m,w,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),w)this.push({data:function(x){return h.DATA_DESCRIPTOR+s(x.crc32,4)+s(x.compressedSize,4)+s(x.uncompressedSize,4)}(m),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},p.prototype.flush=function(){for(var m=this.bytesWritten,w=0;w<this.dirRecords.length;w++)this.push({data:this.dirRecords[w],meta:{percent:100}});var y=this.bytesWritten-m,x=function(v,S,k,E,R){var B=a.transformTo("string",R(E));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(v,2)+s(v,2)+s(S,4)+s(k,4)+s(B.length,2)+B}(this.dirRecords.length,y,m,this.zipComment,this.encodeFileName);this.push({data:x,meta:{percent:100}})},p.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},p.prototype.registerPrevious=function(m){this._sources.push(m);var w=this;return m.on("data",function(y){w.processChunk(y)}),m.on("end",function(){w.closedSource(w.previous.streamInfo),w._sources.length?w.prepareNextSource():w.end()}),m.on("error",function(y){w.error(y)}),this},p.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},p.prototype.error=function(m){var w=this._sources;if(!u.prototype.error.call(this,m))return!1;for(var y=0;y<w.length;y++)try{w[y].error(m)}catch{}return!0},p.prototype.lock=function(){u.prototype.lock.call(this);for(var m=this._sources,w=0;w<m.length;w++)m[w].lock()},r.exports=p},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var s=n("../compressions"),o=n("./ZipFileWorker");i.generateWorker=function(a,u,c){var d=new o(u.streamFiles,c,u.platform,u.encodeFileName),h=0;try{a.forEach(function(p,m){h++;var w=function(S,k){var E=S||k,R=s[E];if(!R)throw new Error(E+" is not a valid compression method !");return R}(m.options.compression,u.compression),y=m.options.compressionOptions||u.compressionOptions||{},x=m.dir,v=m.date;m._compressWorker(w,y).withStreamInfo("file",{name:p,dir:x,date:v,comment:m.comment||"",unixPermissions:m.unixPermissions,dosPermissions:m.dosPermissions}).pipe(d)}),d.entriesCount=h}catch(p){d.error(p)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new s;for(var a in this)typeof this[a]!="function"&&(o[a]=this[a]);return o}}(s.prototype=n("./object")).loadAsync=n("./load"),s.support=n("./support"),s.defaults=n("./defaults"),s.version="3.10.1",s.loadAsync=function(o,a){return new s().loadAsync(o,a)},s.external=n("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var s=n("./utils"),o=n("./external"),a=n("./utf8"),u=n("./zipEntries"),c=n("./stream/Crc32Probe"),d=n("./nodejsUtils");function h(p){return new o.Promise(function(m,w){var y=p.decompressed.getContentWorker().pipe(new c);y.on("error",function(x){w(x)}).on("end",function(){y.streamInfo.crc32!==p.decompressed.crc32?w(new Error("Corrupted zip : CRC32 mismatch")):m()}).resume()})}r.exports=function(p,m){var w=this;return m=s.extend(m||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),d.isNode&&d.isStream(p)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",p,!0,m.optimizedBinaryString,m.base64).then(function(y){var x=new u(m);return x.load(y),x}).then(function(y){var x=[o.Promise.resolve(y)],v=y.files;if(m.checkCRC32)for(var S=0;S<v.length;S++)x.push(h(v[S]));return o.Promise.all(x)}).then(function(y){for(var x=y.shift(),v=x.files,S=0;S<v.length;S++){var k=v[S],E=k.fileNameStr,R=s.resolve(k.fileNameStr);w.file(R,k.decompressed,{binary:!0,optimizedBinaryString:!0,date:k.date,dir:k.dir,comment:k.fileCommentStr.length?k.fileCommentStr:null,unixPermissions:k.unixPermissions,dosPermissions:k.dosPermissions,createFolders:m.createFolders}),k.dir||(w.file(R).unsafeOriginalName=E)}return x.zipComment.length&&(w.comment=x.zipComment),w})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var s=n("../utils"),o=n("../stream/GenericWorker");function a(u,c){o.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(c)}s.inherits(a,o),a.prototype._bindStream=function(u){var c=this;(this._stream=u).pause(),u.on("data",function(d){c.push({data:d,meta:{percent:0}})}).on("error",function(d){c.isPaused?this.generatedError=d:c.error(d)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},a.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var s=n("readable-stream").Readable;function o(a,u,c){s.call(this,u),this._helper=a;var d=this;a.on("data",function(h,p){d.push(h)||d._helper.pause(),c&&c(p)}).on("error",function(h){d.emit("error",h)}).on("end",function(){d.push(null)})}n("../utils").inherits(o,s),o.prototype._read=function(){this._helper.resume()},r.exports=o},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,o);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,o)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var o=new Buffer(s);return o.fill(0),o},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(n,r,i){function s(R,B,$){var K,F=a.getTypeOf(B),ie=a.extend($||{},d);ie.date=ie.date||new Date,ie.compression!==null&&(ie.compression=ie.compression.toUpperCase()),typeof ie.unixPermissions=="string"&&(ie.unixPermissions=parseInt(ie.unixPermissions,8)),ie.unixPermissions&&16384&ie.unixPermissions&&(ie.dir=!0),ie.dosPermissions&&16&ie.dosPermissions&&(ie.dir=!0),ie.dir&&(R=v(R)),ie.createFolders&&(K=x(R))&&S.call(this,K,!0);var me=F==="string"&&ie.binary===!1&&ie.base64===!1;$&&$.binary!==void 0||(ie.binary=!me),(B instanceof h&&B.uncompressedSize===0||ie.dir||!B||B.length===0)&&(ie.base64=!1,ie.binary=!0,B="",ie.compression="STORE",F="string");var H=null;H=B instanceof h||B instanceof u?B:w.isNode&&w.isStream(B)?new y(R,B):a.prepareContent(R,B,ie.binary,ie.optimizedBinaryString,ie.base64);var X=new p(R,H,ie);this.files[R]=X}var o=n("./utf8"),a=n("./utils"),u=n("./stream/GenericWorker"),c=n("./stream/StreamHelper"),d=n("./defaults"),h=n("./compressedObject"),p=n("./zipObject"),m=n("./generate"),w=n("./nodejsUtils"),y=n("./nodejs/NodejsStreamInputAdapter"),x=function(R){R.slice(-1)==="/"&&(R=R.substring(0,R.length-1));var B=R.lastIndexOf("/");return 0<B?R.substring(0,B):""},v=function(R){return R.slice(-1)!=="/"&&(R+="/"),R},S=function(R,B){return B=B!==void 0?B:d.createFolders,R=v(R),this.files[R]||s.call(this,R,null,{dir:!0,createFolders:B}),this.files[R]};function k(R){return Object.prototype.toString.call(R)==="[object RegExp]"}var E={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(R){var B,$,K;for(B in this.files)K=this.files[B],($=B.slice(this.root.length,B.length))&&B.slice(0,this.root.length)===this.root&&R($,K)},filter:function(R){var B=[];return this.forEach(function($,K){R($,K)&&B.push(K)}),B},file:function(R,B,$){if(arguments.length!==1)return R=this.root+R,s.call(this,R,B,$),this;if(k(R)){var K=R;return this.filter(function(ie,me){return!me.dir&&K.test(ie)})}var F=this.files[this.root+R];return F&&!F.dir?F:null},folder:function(R){if(!R)return this;if(k(R))return this.filter(function(F,ie){return ie.dir&&R.test(F)});var B=this.root+R,$=S.call(this,B),K=this.clone();return K.root=$.name,K},remove:function(R){R=this.root+R;var B=this.files[R];if(B||(R.slice(-1)!=="/"&&(R+="/"),B=this.files[R]),B&&!B.dir)delete this.files[R];else for(var $=this.filter(function(F,ie){return ie.name.slice(0,R.length)===R}),K=0;K<$.length;K++)delete this.files[$[K].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(R){var B,$={};try{if(($=a.extend(R||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=$.type.toLowerCase(),$.compression=$.compression.toUpperCase(),$.type==="binarystring"&&($.type="string"),!$.type)throw new Error("No output type specified.");a.checkSupport($.type),$.platform!=="darwin"&&$.platform!=="freebsd"&&$.platform!=="linux"&&$.platform!=="sunos"||($.platform="UNIX"),$.platform==="win32"&&($.platform="DOS");var K=$.comment||this.comment||"";B=m.generateWorker(this,$,K)}catch(F){(B=new u("error")).error(F)}return new c(B,$.type||"string",$.mimeType)},generateAsync:function(R,B){return this.generateInternalStream(R).accumulate(B)},generateNodeStream:function(R,B){return(R=R||{}).type||(R.type="nodebuffer"),this.generateInternalStream(R).toNodejsStream(B)}};r.exports=E},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var s=n("./DataReader");function o(a){s.call(this,a);for(var u=0;u<this.data.length;u++)a[u]=255&a[u]}n("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data[this.zero+a]},o.prototype.lastIndexOfSignature=function(a){for(var u=a.charCodeAt(0),c=a.charCodeAt(1),d=a.charCodeAt(2),h=a.charCodeAt(3),p=this.length-4;0<=p;--p)if(this.data[p]===u&&this.data[p+1]===c&&this.data[p+2]===d&&this.data[p+3]===h)return p-this.zero;return-1},o.prototype.readAndCheckSignature=function(a){var u=a.charCodeAt(0),c=a.charCodeAt(1),d=a.charCodeAt(2),h=a.charCodeAt(3),p=this.readData(4);return u===p[0]&&c===p[1]&&d===p[2]&&h===p[3]},o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var u=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,u},r.exports=o},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var s=n("../utils");function o(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var u,c=0;for(this.checkOffset(a),u=this.index+a-1;u>=this.index;u--)c=(c<<8)+this.byteAt(u);return this.index+=a,c},readString:function(a){return s.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},r.exports=o},{"../utils":32}],19:[function(n,r,i){var s=n("./Uint8ArrayReader");function o(a){s.call(this,a)}n("../utils").inherits(o,s),o.prototype.readData=function(a){this.checkOffset(a);var u=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,u},r.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var s=n("./DataReader");function o(a){s.call(this,a)}n("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},o.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},o.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},o.prototype.readData=function(a){this.checkOffset(a);var u=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,u},r.exports=o},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var s=n("./ArrayReader");function o(a){s.call(this,a)}n("../utils").inherits(o,s),o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var u=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,u},r.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var s=n("../utils"),o=n("../support"),a=n("./ArrayReader"),u=n("./StringReader"),c=n("./NodeBufferReader"),d=n("./Uint8ArrayReader");r.exports=function(h){var p=s.getTypeOf(h);return s.checkSupport(p),p!=="string"||o.uint8array?p==="nodebuffer"?new c(h):o.uint8array?new d(s.transformTo("uint8array",h)):new a(s.transformTo("array",h)):new u(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var s=n("./GenericWorker"),o=n("../utils");function a(u){s.call(this,"ConvertWorker to "+u),this.destType=u}o.inherits(a,s),a.prototype.processChunk=function(u){this.push({data:o.transformTo(this.destType,u.data),meta:u.meta})},r.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var s=n("./GenericWorker"),o=n("../crc32");function a(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(a,s),a.prototype.processChunk=function(u){this.streamInfo.crc32=o(u.data,this.streamInfo.crc32||0),this.push(u)},r.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var s=n("../utils"),o=n("./GenericWorker");function a(u){o.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}s.inherits(a,o),a.prototype.processChunk=function(u){if(u){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+u.data.length}o.prototype.processChunk.call(this,u)},r.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var s=n("../utils"),o=n("./GenericWorker");function a(u){o.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,u.then(function(d){c.dataIsReady=!0,c.data=d,c.max=d&&d.length||0,c.type=s.getTypeOf(d),c.isPaused||c._tickAndRepeat()},function(d){c.error(d)})}s.inherits(a,o),a.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var u=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":u=this.data.substring(this.index,c);break;case"uint8array":u=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":u=this.data.slice(this.index,c)}return this.index=c,this.push({data:u,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function s(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,a){return this._listeners[o].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,a){if(this._listeners[o])for(var u=0;u<this._listeners[o].length;u++)this._listeners[o][u].call(this,a)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var a=this;return o.on("data",function(u){a.processChunk(u)}),o.on("end",function(){a.end()}),o.on("error",function(u){a.error(u)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,a){return this.extraStreamInfo[o]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},r.exports=s},{}],29:[function(n,r,i){var s=n("../utils"),o=n("./ConvertWorker"),a=n("./GenericWorker"),u=n("../base64"),c=n("../support"),d=n("../external"),h=null;if(c.nodestream)try{h=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function p(w,y){return new d.Promise(function(x,v){var S=[],k=w._internalType,E=w._outputType,R=w._mimeType;w.on("data",function(B,$){S.push(B),y&&y($)}).on("error",function(B){S=[],v(B)}).on("end",function(){try{var B=function($,K,F){switch($){case"blob":return s.newBlob(s.transformTo("arraybuffer",K),F);case"base64":return u.encode(K);default:return s.transformTo($,K)}}(E,function($,K){var F,ie=0,me=null,H=0;for(F=0;F<K.length;F++)H+=K[F].length;switch($){case"string":return K.join("");case"array":return Array.prototype.concat.apply([],K);case"uint8array":for(me=new Uint8Array(H),F=0;F<K.length;F++)me.set(K[F],ie),ie+=K[F].length;return me;case"nodebuffer":return Buffer.concat(K);default:throw new Error("concat : unsupported type '"+$+"'")}}(k,S),R);x(B)}catch($){v($)}S=[]}).resume()})}function m(w,y,x){var v=y;switch(y){case"blob":case"arraybuffer":v="uint8array";break;case"base64":v="string"}try{this._internalType=v,this._outputType=y,this._mimeType=x,s.checkSupport(v),this._worker=w.pipe(new o(v)),w.lock()}catch(S){this._worker=new a("error"),this._worker.error(S)}}m.prototype={accumulate:function(w){return p(this,w)},on:function(w,y){var x=this;return w==="data"?this._worker.on(w,function(v){y.call(x,v.data,v.meta)}):this._worker.on(w,function(){s.delay(y,arguments,x)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(w){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},w)}},r.exports=m},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(s),i.blob=o.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var s=n("./utils"),o=n("./support"),a=n("./nodejsUtils"),u=n("./stream/GenericWorker"),c=new Array(256),d=0;d<256;d++)c[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;c[254]=c[254]=1;function h(){u.call(this,"utf-8 decode"),this.leftOver=null}function p(){u.call(this,"utf-8 encode")}i.utf8encode=function(m){return o.nodebuffer?a.newBufferFrom(m,"utf-8"):function(w){var y,x,v,S,k,E=w.length,R=0;for(S=0;S<E;S++)(64512&(x=w.charCodeAt(S)))==55296&&S+1<E&&(64512&(v=w.charCodeAt(S+1)))==56320&&(x=65536+(x-55296<<10)+(v-56320),S++),R+=x<128?1:x<2048?2:x<65536?3:4;for(y=o.uint8array?new Uint8Array(R):new Array(R),S=k=0;k<R;S++)(64512&(x=w.charCodeAt(S)))==55296&&S+1<E&&(64512&(v=w.charCodeAt(S+1)))==56320&&(x=65536+(x-55296<<10)+(v-56320),S++),x<128?y[k++]=x:(x<2048?y[k++]=192|x>>>6:(x<65536?y[k++]=224|x>>>12:(y[k++]=240|x>>>18,y[k++]=128|x>>>12&63),y[k++]=128|x>>>6&63),y[k++]=128|63&x);return y}(m)},i.utf8decode=function(m){return o.nodebuffer?s.transformTo("nodebuffer",m).toString("utf-8"):function(w){var y,x,v,S,k=w.length,E=new Array(2*k);for(y=x=0;y<k;)if((v=w[y++])<128)E[x++]=v;else if(4<(S=c[v]))E[x++]=65533,y+=S-1;else{for(v&=S===2?31:S===3?15:7;1<S&&y<k;)v=v<<6|63&w[y++],S--;1<S?E[x++]=65533:v<65536?E[x++]=v:(v-=65536,E[x++]=55296|v>>10&1023,E[x++]=56320|1023&v)}return E.length!==x&&(E.subarray?E=E.subarray(0,x):E.length=x),s.applyFromCharCode(E)}(m=s.transformTo(o.uint8array?"uint8array":"array",m))},s.inherits(h,u),h.prototype.processChunk=function(m){var w=s.transformTo(o.uint8array?"uint8array":"array",m.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var y=w;(w=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),w.set(y,this.leftOver.length)}else w=this.leftOver.concat(w);this.leftOver=null}var x=function(S,k){var E;for((k=k||S.length)>S.length&&(k=S.length),E=k-1;0<=E&&(192&S[E])==128;)E--;return E<0||E===0?k:E+c[S[E]]>k?E:k}(w),v=w;x!==w.length&&(o.uint8array?(v=w.subarray(0,x),this.leftOver=w.subarray(x,w.length)):(v=w.slice(0,x),this.leftOver=w.slice(x,w.length))),this.push({data:i.utf8decode(v),meta:m.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=h,s.inherits(p,u),p.prototype.processChunk=function(m){this.push({data:i.utf8encode(m.data),meta:m.meta})},i.Utf8EncodeWorker=p},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var s=n("./support"),o=n("./base64"),a=n("./nodejsUtils"),u=n("./external");function c(y){return y}function d(y,x){for(var v=0;v<y.length;++v)x[v]=255&y.charCodeAt(v);return x}n("setimmediate"),i.newBlob=function(y,x){i.checkSupport("blob");try{return new Blob([y],{type:x})}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return v.append(y),v.getBlob(x)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(y,x,v){var S=[],k=0,E=y.length;if(E<=v)return String.fromCharCode.apply(null,y);for(;k<E;)x==="array"||x==="nodebuffer"?S.push(String.fromCharCode.apply(null,y.slice(k,Math.min(k+v,E)))):S.push(String.fromCharCode.apply(null,y.subarray(k,Math.min(k+v,E)))),k+=v;return S.join("")},stringifyByChar:function(y){for(var x="",v=0;v<y.length;v++)x+=String.fromCharCode(y[v]);return x},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function p(y){var x=65536,v=i.getTypeOf(y),S=!0;if(v==="uint8array"?S=h.applyCanBeUsed.uint8array:v==="nodebuffer"&&(S=h.applyCanBeUsed.nodebuffer),S)for(;1<x;)try{return h.stringifyByChunk(y,v,x)}catch{x=Math.floor(x/2)}return h.stringifyByChar(y)}function m(y,x){for(var v=0;v<y.length;v++)x[v]=y[v];return x}i.applyFromCharCode=p;var w={};w.string={string:c,array:function(y){return d(y,new Array(y.length))},arraybuffer:function(y){return w.string.uint8array(y).buffer},uint8array:function(y){return d(y,new Uint8Array(y.length))},nodebuffer:function(y){return d(y,a.allocBuffer(y.length))}},w.array={string:p,array:c,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return a.newBufferFrom(y)}},w.arraybuffer={string:function(y){return p(new Uint8Array(y))},array:function(y){return m(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:c,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return a.newBufferFrom(new Uint8Array(y))}},w.uint8array={string:p,array:function(y){return m(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:c,nodebuffer:function(y){return a.newBufferFrom(y)}},w.nodebuffer={string:p,array:function(y){return m(y,new Array(y.length))},arraybuffer:function(y){return w.nodebuffer.uint8array(y).buffer},uint8array:function(y){return m(y,new Uint8Array(y.length))},nodebuffer:c},i.transformTo=function(y,x){if(x=x||"",!y)return x;i.checkSupport(y);var v=i.getTypeOf(x);return w[v][y](x)},i.resolve=function(y){for(var x=y.split("/"),v=[],S=0;S<x.length;S++){var k=x[S];k==="."||k===""&&S!==0&&S!==x.length-1||(k===".."?v.pop():v.push(k))}return v.join("/")},i.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":s.nodebuffer&&a.isBuffer(y)?"nodebuffer":s.uint8array&&y instanceof Uint8Array?"uint8array":s.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(y){if(!s[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(y){var x,v,S="";for(v=0;v<(y||"").length;v++)S+="\\x"+((x=y.charCodeAt(v))<16?"0":"")+x.toString(16).toUpperCase();return S},i.delay=function(y,x,v){setImmediate(function(){y.apply(v||null,x||[])})},i.inherits=function(y,x){function v(){}v.prototype=x.prototype,y.prototype=new v},i.extend=function(){var y,x,v={};for(y=0;y<arguments.length;y++)for(x in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],x)&&v[x]===void 0&&(v[x]=arguments[y][x]);return v},i.prepareContent=function(y,x,v,S,k){return u.Promise.resolve(x).then(function(E){return s.blob&&(E instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(E))!==-1)&&typeof FileReader<"u"?new u.Promise(function(R,B){var $=new FileReader;$.onload=function(K){R(K.target.result)},$.onerror=function(K){B(K.target.error)},$.readAsArrayBuffer(E)}):E}).then(function(E){var R=i.getTypeOf(E);return R?(R==="arraybuffer"?E=i.transformTo("uint8array",E):R==="string"&&(k?E=o.decode(E):v&&S!==!0&&(E=function(B){return d(B,s.uint8array?new Uint8Array(B.length):new Array(B.length))}(E))),E):u.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var s=n("./reader/readerFor"),o=n("./utils"),a=n("./signature"),u=n("./zipEntry"),c=n("./support");function d(h){this.files=[],this.loadOptions=h}d.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var p=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(p)+", expected "+o.pretty(h)+")")}},isSignature:function(h,p){var m=this.reader.index;this.reader.setIndex(h);var w=this.reader.readString(4)===p;return this.reader.setIndex(m),w},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),p=c.uint8array?"uint8array":"array",m=o.transformTo(p,h);this.zipComment=this.loadOptions.decodeFileName(m)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,p,m,w=this.zip64EndOfCentralSize-44;0<w;)h=this.reader.readInt(2),p=this.reader.readInt(4),m=this.reader.readData(p),this.zip64ExtensibleData[h]={id:h,length:p,value:m}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,p;for(h=0;h<this.files.length;h++)p=this.files[h],this.reader.setIndex(p.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),p.readLocalPart(this.reader),p.handleUTF8(),p.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(h=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var p=h;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var m=this.centralDirOffset+this.centralDirSize;this.zip64&&(m+=20,m+=12+this.zip64EndOfCentralSize);var w=p-m;if(0<w)this.isSignature(p,a.CENTRAL_FILE_HEADER)||(this.reader.zero=w);else if(w<0)throw new Error("Corrupted zip: missing "+Math.abs(w)+" bytes.")},prepareReader:function(h){this.reader=s(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var s=n("./reader/readerFor"),o=n("./utils"),a=n("./compressedObject"),u=n("./crc32"),c=n("./utf8"),d=n("./compressions"),h=n("./support");function p(m,w){this.options=m,this.loadOptions=w}p.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(m){var w,y;if(m.skip(22),this.fileNameLength=m.readInt(2),y=m.readInt(2),this.fileName=m.readData(this.fileNameLength),m.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((w=function(x){for(var v in d)if(Object.prototype.hasOwnProperty.call(d,v)&&d[v].magic===x)return d[v];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,w,m.readData(this.compressedSize))},readCentralPart:function(m){this.versionMadeBy=m.readInt(2),m.skip(2),this.bitFlag=m.readInt(2),this.compressionMethod=m.readString(2),this.date=m.readDate(),this.crc32=m.readInt(4),this.compressedSize=m.readInt(4),this.uncompressedSize=m.readInt(4);var w=m.readInt(2);if(this.extraFieldsLength=m.readInt(2),this.fileCommentLength=m.readInt(2),this.diskNumberStart=m.readInt(2),this.internalFileAttributes=m.readInt(2),this.externalFileAttributes=m.readInt(4),this.localHeaderOffset=m.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");m.skip(w),this.readExtraFields(m),this.parseZIP64ExtraField(m),this.fileComment=m.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var m=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),m==0&&(this.dosPermissions=63&this.externalFileAttributes),m==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var m=s(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=m.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=m.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=m.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=m.readInt(4))}},readExtraFields:function(m){var w,y,x,v=m.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});m.index+4<v;)w=m.readInt(2),y=m.readInt(2),x=m.readData(y),this.extraFields[w]={id:w,length:y,value:x};m.setIndex(v)},handleUTF8:function(){var m=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var w=this.findExtraFieldUnicodePath();if(w!==null)this.fileNameStr=w;else{var y=o.transformTo(m,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var x=this.findExtraFieldUnicodeComment();if(x!==null)this.fileCommentStr=x;else{var v=o.transformTo(m,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(v)}}},findExtraFieldUnicodePath:function(){var m=this.extraFields[28789];if(m){var w=s(m.value);return w.readInt(1)!==1||u(this.fileName)!==w.readInt(4)?null:c.utf8decode(w.readData(m.length-5))}return null},findExtraFieldUnicodeComment:function(){var m=this.extraFields[25461];if(m){var w=s(m.value);return w.readInt(1)!==1||u(this.fileComment)!==w.readInt(4)?null:c.utf8decode(w.readData(m.length-5))}return null}},r.exports=p},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function s(w,y,x){this.name=w,this.dir=x.dir,this.date=x.date,this.comment=x.comment,this.unixPermissions=x.unixPermissions,this.dosPermissions=x.dosPermissions,this._data=y,this._dataBinary=x.binary,this.options={compression:x.compression,compressionOptions:x.compressionOptions}}var o=n("./stream/StreamHelper"),a=n("./stream/DataWorker"),u=n("./utf8"),c=n("./compressedObject"),d=n("./stream/GenericWorker");s.prototype={internalStream:function(w){var y=null,x="string";try{if(!w)throw new Error("No output type specified.");var v=(x=w.toLowerCase())==="string"||x==="text";x!=="binarystring"&&x!=="text"||(x="string"),y=this._decompressWorker();var S=!this._dataBinary;S&&!v&&(y=y.pipe(new u.Utf8EncodeWorker)),!S&&v&&(y=y.pipe(new u.Utf8DecodeWorker))}catch(k){(y=new d("error")).error(k)}return new o(y,x,"")},async:function(w,y){return this.internalStream(w).accumulate(y)},nodeStream:function(w,y){return this.internalStream(w||"nodebuffer").toNodejsStream(y)},_compressWorker:function(w,y){if(this._data instanceof c&&this._data.compression.magic===w.magic)return this._data.getCompressedWorker();var x=this._decompressWorker();return this._dataBinary||(x=x.pipe(new u.Utf8EncodeWorker)),c.createWorkerFrom(x,w,y)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof d?this._data:new a(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],p=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},m=0;m<h.length;m++)s.prototype[h[m]]=p;r.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(s){var o,a,u=s.MutationObserver||s.WebKitMutationObserver;if(u){var c=0,d=new u(w),h=s.document.createTextNode("");d.observe(h,{characterData:!0}),o=function(){h.data=c=++c%2}}else if(s.setImmediate||s.MessageChannel===void 0)o="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var y=s.document.createElement("script");y.onreadystatechange=function(){w(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},s.document.documentElement.appendChild(y)}:function(){setTimeout(w,0)};else{var p=new s.MessageChannel;p.port1.onmessage=w,o=function(){p.port2.postMessage(0)}}var m=[];function w(){var y,x;a=!0;for(var v=m.length;v;){for(x=m,m=[],y=-1;++y<v;)x[y]();v=m.length}a=!1}r.exports=function(y){m.push(y)!==1||a||o()}}).call(this,typeof Ri<"u"?Ri:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var s=n("immediate");function o(){}var a={},u=["REJECTED"],c=["FULFILLED"],d=["PENDING"];function h(v){if(typeof v!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,v!==o&&y(this,v)}function p(v,S,k){this.promise=v,typeof S=="function"&&(this.onFulfilled=S,this.callFulfilled=this.otherCallFulfilled),typeof k=="function"&&(this.onRejected=k,this.callRejected=this.otherCallRejected)}function m(v,S,k){s(function(){var E;try{E=S(k)}catch(R){return a.reject(v,R)}E===v?a.reject(v,new TypeError("Cannot resolve promise with itself")):a.resolve(v,E)})}function w(v){var S=v&&v.then;if(v&&(typeof v=="object"||typeof v=="function")&&typeof S=="function")return function(){S.apply(v,arguments)}}function y(v,S){var k=!1;function E($){k||(k=!0,a.reject(v,$))}function R($){k||(k=!0,a.resolve(v,$))}var B=x(function(){S(R,E)});B.status==="error"&&E(B.value)}function x(v,S){var k={};try{k.value=v(S),k.status="success"}catch(E){k.status="error",k.value=E}return k}(r.exports=h).prototype.finally=function(v){if(typeof v!="function")return this;var S=this.constructor;return this.then(function(k){return S.resolve(v()).then(function(){return k})},function(k){return S.resolve(v()).then(function(){throw k})})},h.prototype.catch=function(v){return this.then(null,v)},h.prototype.then=function(v,S){if(typeof v!="function"&&this.state===c||typeof S!="function"&&this.state===u)return this;var k=new this.constructor(o);return this.state!==d?m(k,this.state===c?v:S,this.outcome):this.queue.push(new p(k,v,S)),k},p.prototype.callFulfilled=function(v){a.resolve(this.promise,v)},p.prototype.otherCallFulfilled=function(v){m(this.promise,this.onFulfilled,v)},p.prototype.callRejected=function(v){a.reject(this.promise,v)},p.prototype.otherCallRejected=function(v){m(this.promise,this.onRejected,v)},a.resolve=function(v,S){var k=x(w,S);if(k.status==="error")return a.reject(v,k.value);var E=k.value;if(E)y(v,E);else{v.state=c,v.outcome=S;for(var R=-1,B=v.queue.length;++R<B;)v.queue[R].callFulfilled(S)}return v},a.reject=function(v,S){v.state=u,v.outcome=S;for(var k=-1,E=v.queue.length;++k<E;)v.queue[k].callRejected(S);return v},h.resolve=function(v){return v instanceof this?v:a.resolve(new this(o),v)},h.reject=function(v){var S=new this(o);return a.reject(S,v)},h.all=function(v){var S=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=v.length,E=!1;if(!k)return this.resolve([]);for(var R=new Array(k),B=0,$=-1,K=new this(o);++$<k;)F(v[$],$);return K;function F(ie,me){S.resolve(ie).then(function(H){R[me]=H,++B!==k||E||(E=!0,a.resolve(K,R))},function(H){E||(E=!0,a.reject(K,H))})}},h.race=function(v){var S=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=v.length,E=!1;if(!k)return this.resolve([]);for(var R=-1,B=new this(o);++R<k;)$=v[R],S.resolve($).then(function(K){E||(E=!0,a.resolve(B,K))},function(K){E||(E=!0,a.reject(B,K))});var $;return B}},{immediate:36}],38:[function(n,r,i){var s={};(0,n("./lib/utils/common").assign)(s,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var s=n("./zlib/deflate"),o=n("./utils/common"),a=n("./utils/strings"),u=n("./zlib/messages"),c=n("./zlib/zstream"),d=Object.prototype.toString,h=0,p=-1,m=0,w=8;function y(v){if(!(this instanceof y))return new y(v);this.options=o.assign({level:p,method:w,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},v||{});var S=this.options;S.raw&&0<S.windowBits?S.windowBits=-S.windowBits:S.gzip&&0<S.windowBits&&S.windowBits<16&&(S.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var k=s.deflateInit2(this.strm,S.level,S.method,S.windowBits,S.memLevel,S.strategy);if(k!==h)throw new Error(u[k]);if(S.header&&s.deflateSetHeader(this.strm,S.header),S.dictionary){var E;if(E=typeof S.dictionary=="string"?a.string2buf(S.dictionary):d.call(S.dictionary)==="[object ArrayBuffer]"?new Uint8Array(S.dictionary):S.dictionary,(k=s.deflateSetDictionary(this.strm,E))!==h)throw new Error(u[k]);this._dict_set=!0}}function x(v,S){var k=new y(S);if(k.push(v,!0),k.err)throw k.msg||u[k.err];return k.result}y.prototype.push=function(v,S){var k,E,R=this.strm,B=this.options.chunkSize;if(this.ended)return!1;E=S===~~S?S:S===!0?4:0,typeof v=="string"?R.input=a.string2buf(v):d.call(v)==="[object ArrayBuffer]"?R.input=new Uint8Array(v):R.input=v,R.next_in=0,R.avail_in=R.input.length;do{if(R.avail_out===0&&(R.output=new o.Buf8(B),R.next_out=0,R.avail_out=B),(k=s.deflate(R,E))!==1&&k!==h)return this.onEnd(k),!(this.ended=!0);R.avail_out!==0&&(R.avail_in!==0||E!==4&&E!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(o.shrinkBuf(R.output,R.next_out))):this.onData(o.shrinkBuf(R.output,R.next_out)))}while((0<R.avail_in||R.avail_out===0)&&k!==1);return E===4?(k=s.deflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===h):E!==2||(this.onEnd(h),!(R.avail_out=0))},y.prototype.onData=function(v){this.chunks.push(v)},y.prototype.onEnd=function(v){v===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},i.Deflate=y,i.deflate=x,i.deflateRaw=function(v,S){return(S=S||{}).raw=!0,x(v,S)},i.gzip=function(v,S){return(S=S||{}).gzip=!0,x(v,S)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var s=n("./zlib/inflate"),o=n("./utils/common"),a=n("./utils/strings"),u=n("./zlib/constants"),c=n("./zlib/messages"),d=n("./zlib/zstream"),h=n("./zlib/gzheader"),p=Object.prototype.toString;function m(y){if(!(this instanceof m))return new m(y);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},y||{});var x=this.options;x.raw&&0<=x.windowBits&&x.windowBits<16&&(x.windowBits=-x.windowBits,x.windowBits===0&&(x.windowBits=-15)),!(0<=x.windowBits&&x.windowBits<16)||y&&y.windowBits||(x.windowBits+=32),15<x.windowBits&&x.windowBits<48&&!(15&x.windowBits)&&(x.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var v=s.inflateInit2(this.strm,x.windowBits);if(v!==u.Z_OK)throw new Error(c[v]);this.header=new h,s.inflateGetHeader(this.strm,this.header)}function w(y,x){var v=new m(x);if(v.push(y,!0),v.err)throw v.msg||c[v.err];return v.result}m.prototype.push=function(y,x){var v,S,k,E,R,B,$=this.strm,K=this.options.chunkSize,F=this.options.dictionary,ie=!1;if(this.ended)return!1;S=x===~~x?x:x===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof y=="string"?$.input=a.binstring2buf(y):p.call(y)==="[object ArrayBuffer]"?$.input=new Uint8Array(y):$.input=y,$.next_in=0,$.avail_in=$.input.length;do{if($.avail_out===0&&($.output=new o.Buf8(K),$.next_out=0,$.avail_out=K),(v=s.inflate($,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&F&&(B=typeof F=="string"?a.string2buf(F):p.call(F)==="[object ArrayBuffer]"?new Uint8Array(F):F,v=s.inflateSetDictionary(this.strm,B)),v===u.Z_BUF_ERROR&&ie===!0&&(v=u.Z_OK,ie=!1),v!==u.Z_STREAM_END&&v!==u.Z_OK)return this.onEnd(v),!(this.ended=!0);$.next_out&&($.avail_out!==0&&v!==u.Z_STREAM_END&&($.avail_in!==0||S!==u.Z_FINISH&&S!==u.Z_SYNC_FLUSH)||(this.options.to==="string"?(k=a.utf8border($.output,$.next_out),E=$.next_out-k,R=a.buf2string($.output,k),$.next_out=E,$.avail_out=K-E,E&&o.arraySet($.output,$.output,k,E,0),this.onData(R)):this.onData(o.shrinkBuf($.output,$.next_out)))),$.avail_in===0&&$.avail_out===0&&(ie=!0)}while((0<$.avail_in||$.avail_out===0)&&v!==u.Z_STREAM_END);return v===u.Z_STREAM_END&&(S=u.Z_FINISH),S===u.Z_FINISH?(v=s.inflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===u.Z_OK):S!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),!($.avail_out=0))},m.prototype.onData=function(y){this.chunks.push(y)},m.prototype.onEnd=function(y){y===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},i.Inflate=m,i.inflate=w,i.inflateRaw=function(y,x){return(x=x||{}).raw=!0,w(y,x)},i.ungzip=w},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(u){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var d=c.shift();if(d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(var h in d)d.hasOwnProperty(h)&&(u[h]=d[h])}}return u},i.shrinkBuf=function(u,c){return u.length===c?u:u.subarray?u.subarray(0,c):(u.length=c,u)};var o={arraySet:function(u,c,d,h,p){if(c.subarray&&u.subarray)u.set(c.subarray(d,d+h),p);else for(var m=0;m<h;m++)u[p+m]=c[d+m]},flattenChunks:function(u){var c,d,h,p,m,w;for(c=h=0,d=u.length;c<d;c++)h+=u[c].length;for(w=new Uint8Array(h),c=p=0,d=u.length;c<d;c++)m=u[c],w.set(m,p),p+=m.length;return w}},a={arraySet:function(u,c,d,h,p){for(var m=0;m<h;m++)u[p+m]=c[d+m]},flattenChunks:function(u){return[].concat.apply([],u)}};i.setTyped=function(u){u?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,o)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,a))},i.setTyped(s)},{}],42:[function(n,r,i){var s=n("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var u=new s.Buf8(256),c=0;c<256;c++)u[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function d(h,p){if(p<65537&&(h.subarray&&a||!h.subarray&&o))return String.fromCharCode.apply(null,s.shrinkBuf(h,p));for(var m="",w=0;w<p;w++)m+=String.fromCharCode(h[w]);return m}u[254]=u[254]=1,i.string2buf=function(h){var p,m,w,y,x,v=h.length,S=0;for(y=0;y<v;y++)(64512&(m=h.charCodeAt(y)))==55296&&y+1<v&&(64512&(w=h.charCodeAt(y+1)))==56320&&(m=65536+(m-55296<<10)+(w-56320),y++),S+=m<128?1:m<2048?2:m<65536?3:4;for(p=new s.Buf8(S),y=x=0;x<S;y++)(64512&(m=h.charCodeAt(y)))==55296&&y+1<v&&(64512&(w=h.charCodeAt(y+1)))==56320&&(m=65536+(m-55296<<10)+(w-56320),y++),m<128?p[x++]=m:(m<2048?p[x++]=192|m>>>6:(m<65536?p[x++]=224|m>>>12:(p[x++]=240|m>>>18,p[x++]=128|m>>>12&63),p[x++]=128|m>>>6&63),p[x++]=128|63&m);return p},i.buf2binstring=function(h){return d(h,h.length)},i.binstring2buf=function(h){for(var p=new s.Buf8(h.length),m=0,w=p.length;m<w;m++)p[m]=h.charCodeAt(m);return p},i.buf2string=function(h,p){var m,w,y,x,v=p||h.length,S=new Array(2*v);for(m=w=0;m<v;)if((y=h[m++])<128)S[w++]=y;else if(4<(x=u[y]))S[w++]=65533,m+=x-1;else{for(y&=x===2?31:x===3?15:7;1<x&&m<v;)y=y<<6|63&h[m++],x--;1<x?S[w++]=65533:y<65536?S[w++]=y:(y-=65536,S[w++]=55296|y>>10&1023,S[w++]=56320|1023&y)}return d(S,w)},i.utf8border=function(h,p){var m;for((p=p||h.length)>h.length&&(p=h.length),m=p-1;0<=m&&(192&h[m])==128;)m--;return m<0||m===0?p:m+u[h[m]]>p?m:p}},{"./common":41}],43:[function(n,r,i){r.exports=function(s,o,a,u){for(var c=65535&s|0,d=s>>>16&65535|0,h=0;a!==0;){for(a-=h=2e3<a?2e3:a;d=d+(c=c+o[u++]|0)|0,--h;);c%=65521,d%=65521}return c|d<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var s=function(){for(var o,a=[],u=0;u<256;u++){o=u;for(var c=0;c<8;c++)o=1&o?3988292384^o>>>1:o>>>1;a[u]=o}return a}();r.exports=function(o,a,u,c){var d=s,h=c+u;o^=-1;for(var p=c;p<h;p++)o=o>>>8^d[255&(o^a[p])];return-1^o}},{}],46:[function(n,r,i){var s,o=n("../utils/common"),a=n("./trees"),u=n("./adler32"),c=n("./crc32"),d=n("./messages"),h=0,p=4,m=0,w=-2,y=-1,x=4,v=2,S=8,k=9,E=286,R=30,B=19,$=2*E+1,K=15,F=3,ie=258,me=ie+F+1,H=42,X=113,N=1,Z=2,le=3,G=4;function Y(M,pe){return M.msg=d[pe],pe}function Q(M){return(M<<1)-(4<M?9:0)}function fe(M){for(var pe=M.length;0<=--pe;)M[pe]=0}function U(M){var pe=M.state,j=pe.pending;j>M.avail_out&&(j=M.avail_out),j!==0&&(o.arraySet(M.output,pe.pending_buf,pe.pending_out,j,M.next_out),M.next_out+=j,pe.pending_out+=j,M.total_out+=j,M.avail_out-=j,pe.pending-=j,pe.pending===0&&(pe.pending_out=0))}function O(M,pe){a._tr_flush_block(M,0<=M.block_start?M.block_start:-1,M.strstart-M.block_start,pe),M.block_start=M.strstart,U(M.strm)}function ee(M,pe){M.pending_buf[M.pending++]=pe}function oe(M,pe){M.pending_buf[M.pending++]=pe>>>8&255,M.pending_buf[M.pending++]=255&pe}function ae(M,pe){var j,C,T=M.max_chain_length,D=M.strstart,J=M.prev_length,ce=M.nice_match,ne=M.strstart>M.w_size-me?M.strstart-(M.w_size-me):0,ye=M.window,we=M.w_mask,xe=M.prev,Te=M.strstart+ie,Me=ye[D+J-1],Ue=ye[D+J];M.prev_length>=M.good_match&&(T>>=2),ce>M.lookahead&&(ce=M.lookahead);do if(ye[(j=pe)+J]===Ue&&ye[j+J-1]===Me&&ye[j]===ye[D]&&ye[++j]===ye[D+1]){D+=2,j++;do;while(ye[++D]===ye[++j]&&ye[++D]===ye[++j]&&ye[++D]===ye[++j]&&ye[++D]===ye[++j]&&ye[++D]===ye[++j]&&ye[++D]===ye[++j]&&ye[++D]===ye[++j]&&ye[++D]===ye[++j]&&D<Te);if(C=ie-(Te-D),D=Te-ie,J<C){if(M.match_start=pe,ce<=(J=C))break;Me=ye[D+J-1],Ue=ye[D+J]}}while((pe=xe[pe&we])>ne&&--T!=0);return J<=M.lookahead?J:M.lookahead}function re(M){var pe,j,C,T,D,J,ce,ne,ye,we,xe=M.w_size;do{if(T=M.window_size-M.lookahead-M.strstart,M.strstart>=xe+(xe-me)){for(o.arraySet(M.window,M.window,xe,xe,0),M.match_start-=xe,M.strstart-=xe,M.block_start-=xe,pe=j=M.hash_size;C=M.head[--pe],M.head[pe]=xe<=C?C-xe:0,--j;);for(pe=j=xe;C=M.prev[--pe],M.prev[pe]=xe<=C?C-xe:0,--j;);T+=xe}if(M.strm.avail_in===0)break;if(J=M.strm,ce=M.window,ne=M.strstart+M.lookahead,ye=T,we=void 0,we=J.avail_in,ye<we&&(we=ye),j=we===0?0:(J.avail_in-=we,o.arraySet(ce,J.input,J.next_in,we,ne),J.state.wrap===1?J.adler=u(J.adler,ce,we,ne):J.state.wrap===2&&(J.adler=c(J.adler,ce,we,ne)),J.next_in+=we,J.total_in+=we,we),M.lookahead+=j,M.lookahead+M.insert>=F)for(D=M.strstart-M.insert,M.ins_h=M.window[D],M.ins_h=(M.ins_h<<M.hash_shift^M.window[D+1])&M.hash_mask;M.insert&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[D+F-1])&M.hash_mask,M.prev[D&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=D,D++,M.insert--,!(M.lookahead+M.insert<F)););}while(M.lookahead<me&&M.strm.avail_in!==0)}function P(M,pe){for(var j,C;;){if(M.lookahead<me){if(re(M),M.lookahead<me&&pe===h)return N;if(M.lookahead===0)break}if(j=0,M.lookahead>=F&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+F-1])&M.hash_mask,j=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart),j!==0&&M.strstart-j<=M.w_size-me&&(M.match_length=ae(M,j)),M.match_length>=F)if(C=a._tr_tally(M,M.strstart-M.match_start,M.match_length-F),M.lookahead-=M.match_length,M.match_length<=M.max_lazy_match&&M.lookahead>=F){for(M.match_length--;M.strstart++,M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+F-1])&M.hash_mask,j=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart,--M.match_length!=0;);M.strstart++}else M.strstart+=M.match_length,M.match_length=0,M.ins_h=M.window[M.strstart],M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+1])&M.hash_mask;else C=a._tr_tally(M,0,M.window[M.strstart]),M.lookahead--,M.strstart++;if(C&&(O(M,!1),M.strm.avail_out===0))return N}return M.insert=M.strstart<F-1?M.strstart:F-1,pe===p?(O(M,!0),M.strm.avail_out===0?le:G):M.last_lit&&(O(M,!1),M.strm.avail_out===0)?N:Z}function L(M,pe){for(var j,C,T;;){if(M.lookahead<me){if(re(M),M.lookahead<me&&pe===h)return N;if(M.lookahead===0)break}if(j=0,M.lookahead>=F&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+F-1])&M.hash_mask,j=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart),M.prev_length=M.match_length,M.prev_match=M.match_start,M.match_length=F-1,j!==0&&M.prev_length<M.max_lazy_match&&M.strstart-j<=M.w_size-me&&(M.match_length=ae(M,j),M.match_length<=5&&(M.strategy===1||M.match_length===F&&4096<M.strstart-M.match_start)&&(M.match_length=F-1)),M.prev_length>=F&&M.match_length<=M.prev_length){for(T=M.strstart+M.lookahead-F,C=a._tr_tally(M,M.strstart-1-M.prev_match,M.prev_length-F),M.lookahead-=M.prev_length-1,M.prev_length-=2;++M.strstart<=T&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+F-1])&M.hash_mask,j=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart),--M.prev_length!=0;);if(M.match_available=0,M.match_length=F-1,M.strstart++,C&&(O(M,!1),M.strm.avail_out===0))return N}else if(M.match_available){if((C=a._tr_tally(M,0,M.window[M.strstart-1]))&&O(M,!1),M.strstart++,M.lookahead--,M.strm.avail_out===0)return N}else M.match_available=1,M.strstart++,M.lookahead--}return M.match_available&&(C=a._tr_tally(M,0,M.window[M.strstart-1]),M.match_available=0),M.insert=M.strstart<F-1?M.strstart:F-1,pe===p?(O(M,!0),M.strm.avail_out===0?le:G):M.last_lit&&(O(M,!1),M.strm.avail_out===0)?N:Z}function se(M,pe,j,C,T){this.good_length=M,this.max_lazy=pe,this.nice_length=j,this.max_chain=C,this.func=T}function te(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=S,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*$),this.dyn_dtree=new o.Buf16(2*(2*R+1)),this.bl_tree=new o.Buf16(2*(2*B+1)),fe(this.dyn_ltree),fe(this.dyn_dtree),fe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(K+1),this.heap=new o.Buf16(2*E+1),fe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*E+1),fe(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function V(M){var pe;return M&&M.state?(M.total_in=M.total_out=0,M.data_type=v,(pe=M.state).pending=0,pe.pending_out=0,pe.wrap<0&&(pe.wrap=-pe.wrap),pe.status=pe.wrap?H:X,M.adler=pe.wrap===2?0:1,pe.last_flush=h,a._tr_init(pe),m):Y(M,w)}function q(M){var pe=V(M);return pe===m&&function(j){j.window_size=2*j.w_size,fe(j.head),j.max_lazy_match=s[j.level].max_lazy,j.good_match=s[j.level].good_length,j.nice_match=s[j.level].nice_length,j.max_chain_length=s[j.level].max_chain,j.strstart=0,j.block_start=0,j.lookahead=0,j.insert=0,j.match_length=j.prev_length=F-1,j.match_available=0,j.ins_h=0}(M.state),pe}function de(M,pe,j,C,T,D){if(!M)return w;var J=1;if(pe===y&&(pe=6),C<0?(J=0,C=-C):15<C&&(J=2,C-=16),T<1||k<T||j!==S||C<8||15<C||pe<0||9<pe||D<0||x<D)return Y(M,w);C===8&&(C=9);var ce=new te;return(M.state=ce).strm=M,ce.wrap=J,ce.gzhead=null,ce.w_bits=C,ce.w_size=1<<ce.w_bits,ce.w_mask=ce.w_size-1,ce.hash_bits=T+7,ce.hash_size=1<<ce.hash_bits,ce.hash_mask=ce.hash_size-1,ce.hash_shift=~~((ce.hash_bits+F-1)/F),ce.window=new o.Buf8(2*ce.w_size),ce.head=new o.Buf16(ce.hash_size),ce.prev=new o.Buf16(ce.w_size),ce.lit_bufsize=1<<T+6,ce.pending_buf_size=4*ce.lit_bufsize,ce.pending_buf=new o.Buf8(ce.pending_buf_size),ce.d_buf=1*ce.lit_bufsize,ce.l_buf=3*ce.lit_bufsize,ce.level=pe,ce.strategy=D,ce.method=j,q(M)}s=[new se(0,0,0,0,function(M,pe){var j=65535;for(j>M.pending_buf_size-5&&(j=M.pending_buf_size-5);;){if(M.lookahead<=1){if(re(M),M.lookahead===0&&pe===h)return N;if(M.lookahead===0)break}M.strstart+=M.lookahead,M.lookahead=0;var C=M.block_start+j;if((M.strstart===0||M.strstart>=C)&&(M.lookahead=M.strstart-C,M.strstart=C,O(M,!1),M.strm.avail_out===0)||M.strstart-M.block_start>=M.w_size-me&&(O(M,!1),M.strm.avail_out===0))return N}return M.insert=0,pe===p?(O(M,!0),M.strm.avail_out===0?le:G):(M.strstart>M.block_start&&(O(M,!1),M.strm.avail_out),N)}),new se(4,4,8,4,P),new se(4,5,16,8,P),new se(4,6,32,32,P),new se(4,4,16,16,L),new se(8,16,32,32,L),new se(8,16,128,128,L),new se(8,32,128,256,L),new se(32,128,258,1024,L),new se(32,258,258,4096,L)],i.deflateInit=function(M,pe){return de(M,pe,S,15,8,0)},i.deflateInit2=de,i.deflateReset=q,i.deflateResetKeep=V,i.deflateSetHeader=function(M,pe){return M&&M.state?M.state.wrap!==2?w:(M.state.gzhead=pe,m):w},i.deflate=function(M,pe){var j,C,T,D;if(!M||!M.state||5<pe||pe<0)return M?Y(M,w):w;if(C=M.state,!M.output||!M.input&&M.avail_in!==0||C.status===666&&pe!==p)return Y(M,M.avail_out===0?-5:w);if(C.strm=M,j=C.last_flush,C.last_flush=pe,C.status===H)if(C.wrap===2)M.adler=0,ee(C,31),ee(C,139),ee(C,8),C.gzhead?(ee(C,(C.gzhead.text?1:0)+(C.gzhead.hcrc?2:0)+(C.gzhead.extra?4:0)+(C.gzhead.name?8:0)+(C.gzhead.comment?16:0)),ee(C,255&C.gzhead.time),ee(C,C.gzhead.time>>8&255),ee(C,C.gzhead.time>>16&255),ee(C,C.gzhead.time>>24&255),ee(C,C.level===9?2:2<=C.strategy||C.level<2?4:0),ee(C,255&C.gzhead.os),C.gzhead.extra&&C.gzhead.extra.length&&(ee(C,255&C.gzhead.extra.length),ee(C,C.gzhead.extra.length>>8&255)),C.gzhead.hcrc&&(M.adler=c(M.adler,C.pending_buf,C.pending,0)),C.gzindex=0,C.status=69):(ee(C,0),ee(C,0),ee(C,0),ee(C,0),ee(C,0),ee(C,C.level===9?2:2<=C.strategy||C.level<2?4:0),ee(C,3),C.status=X);else{var J=S+(C.w_bits-8<<4)<<8;J|=(2<=C.strategy||C.level<2?0:C.level<6?1:C.level===6?2:3)<<6,C.strstart!==0&&(J|=32),J+=31-J%31,C.status=X,oe(C,J),C.strstart!==0&&(oe(C,M.adler>>>16),oe(C,65535&M.adler)),M.adler=1}if(C.status===69)if(C.gzhead.extra){for(T=C.pending;C.gzindex<(65535&C.gzhead.extra.length)&&(C.pending!==C.pending_buf_size||(C.gzhead.hcrc&&C.pending>T&&(M.adler=c(M.adler,C.pending_buf,C.pending-T,T)),U(M),T=C.pending,C.pending!==C.pending_buf_size));)ee(C,255&C.gzhead.extra[C.gzindex]),C.gzindex++;C.gzhead.hcrc&&C.pending>T&&(M.adler=c(M.adler,C.pending_buf,C.pending-T,T)),C.gzindex===C.gzhead.extra.length&&(C.gzindex=0,C.status=73)}else C.status=73;if(C.status===73)if(C.gzhead.name){T=C.pending;do{if(C.pending===C.pending_buf_size&&(C.gzhead.hcrc&&C.pending>T&&(M.adler=c(M.adler,C.pending_buf,C.pending-T,T)),U(M),T=C.pending,C.pending===C.pending_buf_size)){D=1;break}D=C.gzindex<C.gzhead.name.length?255&C.gzhead.name.charCodeAt(C.gzindex++):0,ee(C,D)}while(D!==0);C.gzhead.hcrc&&C.pending>T&&(M.adler=c(M.adler,C.pending_buf,C.pending-T,T)),D===0&&(C.gzindex=0,C.status=91)}else C.status=91;if(C.status===91)if(C.gzhead.comment){T=C.pending;do{if(C.pending===C.pending_buf_size&&(C.gzhead.hcrc&&C.pending>T&&(M.adler=c(M.adler,C.pending_buf,C.pending-T,T)),U(M),T=C.pending,C.pending===C.pending_buf_size)){D=1;break}D=C.gzindex<C.gzhead.comment.length?255&C.gzhead.comment.charCodeAt(C.gzindex++):0,ee(C,D)}while(D!==0);C.gzhead.hcrc&&C.pending>T&&(M.adler=c(M.adler,C.pending_buf,C.pending-T,T)),D===0&&(C.status=103)}else C.status=103;if(C.status===103&&(C.gzhead.hcrc?(C.pending+2>C.pending_buf_size&&U(M),C.pending+2<=C.pending_buf_size&&(ee(C,255&M.adler),ee(C,M.adler>>8&255),M.adler=0,C.status=X)):C.status=X),C.pending!==0){if(U(M),M.avail_out===0)return C.last_flush=-1,m}else if(M.avail_in===0&&Q(pe)<=Q(j)&&pe!==p)return Y(M,-5);if(C.status===666&&M.avail_in!==0)return Y(M,-5);if(M.avail_in!==0||C.lookahead!==0||pe!==h&&C.status!==666){var ce=C.strategy===2?function(ne,ye){for(var we;;){if(ne.lookahead===0&&(re(ne),ne.lookahead===0)){if(ye===h)return N;break}if(ne.match_length=0,we=a._tr_tally(ne,0,ne.window[ne.strstart]),ne.lookahead--,ne.strstart++,we&&(O(ne,!1),ne.strm.avail_out===0))return N}return ne.insert=0,ye===p?(O(ne,!0),ne.strm.avail_out===0?le:G):ne.last_lit&&(O(ne,!1),ne.strm.avail_out===0)?N:Z}(C,pe):C.strategy===3?function(ne,ye){for(var we,xe,Te,Me,Ue=ne.window;;){if(ne.lookahead<=ie){if(re(ne),ne.lookahead<=ie&&ye===h)return N;if(ne.lookahead===0)break}if(ne.match_length=0,ne.lookahead>=F&&0<ne.strstart&&(xe=Ue[Te=ne.strstart-1])===Ue[++Te]&&xe===Ue[++Te]&&xe===Ue[++Te]){Me=ne.strstart+ie;do;while(xe===Ue[++Te]&&xe===Ue[++Te]&&xe===Ue[++Te]&&xe===Ue[++Te]&&xe===Ue[++Te]&&xe===Ue[++Te]&&xe===Ue[++Te]&&xe===Ue[++Te]&&Te<Me);ne.match_length=ie-(Me-Te),ne.match_length>ne.lookahead&&(ne.match_length=ne.lookahead)}if(ne.match_length>=F?(we=a._tr_tally(ne,1,ne.match_length-F),ne.lookahead-=ne.match_length,ne.strstart+=ne.match_length,ne.match_length=0):(we=a._tr_tally(ne,0,ne.window[ne.strstart]),ne.lookahead--,ne.strstart++),we&&(O(ne,!1),ne.strm.avail_out===0))return N}return ne.insert=0,ye===p?(O(ne,!0),ne.strm.avail_out===0?le:G):ne.last_lit&&(O(ne,!1),ne.strm.avail_out===0)?N:Z}(C,pe):s[C.level].func(C,pe);if(ce!==le&&ce!==G||(C.status=666),ce===N||ce===le)return M.avail_out===0&&(C.last_flush=-1),m;if(ce===Z&&(pe===1?a._tr_align(C):pe!==5&&(a._tr_stored_block(C,0,0,!1),pe===3&&(fe(C.head),C.lookahead===0&&(C.strstart=0,C.block_start=0,C.insert=0))),U(M),M.avail_out===0))return C.last_flush=-1,m}return pe!==p?m:C.wrap<=0?1:(C.wrap===2?(ee(C,255&M.adler),ee(C,M.adler>>8&255),ee(C,M.adler>>16&255),ee(C,M.adler>>24&255),ee(C,255&M.total_in),ee(C,M.total_in>>8&255),ee(C,M.total_in>>16&255),ee(C,M.total_in>>24&255)):(oe(C,M.adler>>>16),oe(C,65535&M.adler)),U(M),0<C.wrap&&(C.wrap=-C.wrap),C.pending!==0?m:1)},i.deflateEnd=function(M){var pe;return M&&M.state?(pe=M.state.status)!==H&&pe!==69&&pe!==73&&pe!==91&&pe!==103&&pe!==X&&pe!==666?Y(M,w):(M.state=null,pe===X?Y(M,-3):m):w},i.deflateSetDictionary=function(M,pe){var j,C,T,D,J,ce,ne,ye,we=pe.length;if(!M||!M.state||(D=(j=M.state).wrap)===2||D===1&&j.status!==H||j.lookahead)return w;for(D===1&&(M.adler=u(M.adler,pe,we,0)),j.wrap=0,we>=j.w_size&&(D===0&&(fe(j.head),j.strstart=0,j.block_start=0,j.insert=0),ye=new o.Buf8(j.w_size),o.arraySet(ye,pe,we-j.w_size,j.w_size,0),pe=ye,we=j.w_size),J=M.avail_in,ce=M.next_in,ne=M.input,M.avail_in=we,M.next_in=0,M.input=pe,re(j);j.lookahead>=F;){for(C=j.strstart,T=j.lookahead-(F-1);j.ins_h=(j.ins_h<<j.hash_shift^j.window[C+F-1])&j.hash_mask,j.prev[C&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=C,C++,--T;);j.strstart=C,j.lookahead=F-1,re(j)}return j.strstart+=j.lookahead,j.block_start=j.strstart,j.insert=j.lookahead,j.lookahead=0,j.match_length=j.prev_length=F-1,j.match_available=0,M.next_in=ce,M.input=ne,M.avail_in=J,j.wrap=D,m},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(s,o){var a,u,c,d,h,p,m,w,y,x,v,S,k,E,R,B,$,K,F,ie,me,H,X,N,Z;a=s.state,u=s.next_in,N=s.input,c=u+(s.avail_in-5),d=s.next_out,Z=s.output,h=d-(o-s.avail_out),p=d+(s.avail_out-257),m=a.dmax,w=a.wsize,y=a.whave,x=a.wnext,v=a.window,S=a.hold,k=a.bits,E=a.lencode,R=a.distcode,B=(1<<a.lenbits)-1,$=(1<<a.distbits)-1;e:do{k<15&&(S+=N[u++]<<k,k+=8,S+=N[u++]<<k,k+=8),K=E[S&B];t:for(;;){if(S>>>=F=K>>>24,k-=F,(F=K>>>16&255)===0)Z[d++]=65535&K;else{if(!(16&F)){if(!(64&F)){K=E[(65535&K)+(S&(1<<F)-1)];continue t}if(32&F){a.mode=12;break e}s.msg="invalid literal/length code",a.mode=30;break e}ie=65535&K,(F&=15)&&(k<F&&(S+=N[u++]<<k,k+=8),ie+=S&(1<<F)-1,S>>>=F,k-=F),k<15&&(S+=N[u++]<<k,k+=8,S+=N[u++]<<k,k+=8),K=R[S&$];n:for(;;){if(S>>>=F=K>>>24,k-=F,!(16&(F=K>>>16&255))){if(!(64&F)){K=R[(65535&K)+(S&(1<<F)-1)];continue n}s.msg="invalid distance code",a.mode=30;break e}if(me=65535&K,k<(F&=15)&&(S+=N[u++]<<k,(k+=8)<F&&(S+=N[u++]<<k,k+=8)),m<(me+=S&(1<<F)-1)){s.msg="invalid distance too far back",a.mode=30;break e}if(S>>>=F,k-=F,(F=d-h)<me){if(y<(F=me-F)&&a.sane){s.msg="invalid distance too far back",a.mode=30;break e}if(X=v,(H=0)===x){if(H+=w-F,F<ie){for(ie-=F;Z[d++]=v[H++],--F;);H=d-me,X=Z}}else if(x<F){if(H+=w+x-F,(F-=x)<ie){for(ie-=F;Z[d++]=v[H++],--F;);if(H=0,x<ie){for(ie-=F=x;Z[d++]=v[H++],--F;);H=d-me,X=Z}}}else if(H+=x-F,F<ie){for(ie-=F;Z[d++]=v[H++],--F;);H=d-me,X=Z}for(;2<ie;)Z[d++]=X[H++],Z[d++]=X[H++],Z[d++]=X[H++],ie-=3;ie&&(Z[d++]=X[H++],1<ie&&(Z[d++]=X[H++]))}else{for(H=d-me;Z[d++]=Z[H++],Z[d++]=Z[H++],Z[d++]=Z[H++],2<(ie-=3););ie&&(Z[d++]=Z[H++],1<ie&&(Z[d++]=Z[H++]))}break}}break}}while(u<c&&d<p);u-=ie=k>>3,S&=(1<<(k-=ie<<3))-1,s.next_in=u,s.next_out=d,s.avail_in=u<c?c-u+5:5-(u-c),s.avail_out=d<p?p-d+257:257-(d-p),a.hold=S,a.bits=k}},{}],49:[function(n,r,i){var s=n("../utils/common"),o=n("./adler32"),a=n("./crc32"),u=n("./inffast"),c=n("./inftrees"),d=1,h=2,p=0,m=-2,w=1,y=852,x=592;function v(H){return(H>>>24&255)+(H>>>8&65280)+((65280&H)<<8)+((255&H)<<24)}function S(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function k(H){var X;return H&&H.state?(X=H.state,H.total_in=H.total_out=X.total=0,H.msg="",X.wrap&&(H.adler=1&X.wrap),X.mode=w,X.last=0,X.havedict=0,X.dmax=32768,X.head=null,X.hold=0,X.bits=0,X.lencode=X.lendyn=new s.Buf32(y),X.distcode=X.distdyn=new s.Buf32(x),X.sane=1,X.back=-1,p):m}function E(H){var X;return H&&H.state?((X=H.state).wsize=0,X.whave=0,X.wnext=0,k(H)):m}function R(H,X){var N,Z;return H&&H.state?(Z=H.state,X<0?(N=0,X=-X):(N=1+(X>>4),X<48&&(X&=15)),X&&(X<8||15<X)?m:(Z.window!==null&&Z.wbits!==X&&(Z.window=null),Z.wrap=N,Z.wbits=X,E(H))):m}function B(H,X){var N,Z;return H?(Z=new S,(H.state=Z).window=null,(N=R(H,X))!==p&&(H.state=null),N):m}var $,K,F=!0;function ie(H){if(F){var X;for($=new s.Buf32(512),K=new s.Buf32(32),X=0;X<144;)H.lens[X++]=8;for(;X<256;)H.lens[X++]=9;for(;X<280;)H.lens[X++]=7;for(;X<288;)H.lens[X++]=8;for(c(d,H.lens,0,288,$,0,H.work,{bits:9}),X=0;X<32;)H.lens[X++]=5;c(h,H.lens,0,32,K,0,H.work,{bits:5}),F=!1}H.lencode=$,H.lenbits=9,H.distcode=K,H.distbits=5}function me(H,X,N,Z){var le,G=H.state;return G.window===null&&(G.wsize=1<<G.wbits,G.wnext=0,G.whave=0,G.window=new s.Buf8(G.wsize)),Z>=G.wsize?(s.arraySet(G.window,X,N-G.wsize,G.wsize,0),G.wnext=0,G.whave=G.wsize):(Z<(le=G.wsize-G.wnext)&&(le=Z),s.arraySet(G.window,X,N-Z,le,G.wnext),(Z-=le)?(s.arraySet(G.window,X,N-Z,Z,0),G.wnext=Z,G.whave=G.wsize):(G.wnext+=le,G.wnext===G.wsize&&(G.wnext=0),G.whave<G.wsize&&(G.whave+=le))),0}i.inflateReset=E,i.inflateReset2=R,i.inflateResetKeep=k,i.inflateInit=function(H){return B(H,15)},i.inflateInit2=B,i.inflate=function(H,X){var N,Z,le,G,Y,Q,fe,U,O,ee,oe,ae,re,P,L,se,te,V,q,de,M,pe,j,C,T=0,D=new s.Buf8(4),J=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!H||!H.state||!H.output||!H.input&&H.avail_in!==0)return m;(N=H.state).mode===12&&(N.mode=13),Y=H.next_out,le=H.output,fe=H.avail_out,G=H.next_in,Z=H.input,Q=H.avail_in,U=N.hold,O=N.bits,ee=Q,oe=fe,pe=p;e:for(;;)switch(N.mode){case w:if(N.wrap===0){N.mode=13;break}for(;O<16;){if(Q===0)break e;Q--,U+=Z[G++]<<O,O+=8}if(2&N.wrap&&U===35615){D[N.check=0]=255&U,D[1]=U>>>8&255,N.check=a(N.check,D,2,0),O=U=0,N.mode=2;break}if(N.flags=0,N.head&&(N.head.done=!1),!(1&N.wrap)||(((255&U)<<8)+(U>>8))%31){H.msg="incorrect header check",N.mode=30;break}if((15&U)!=8){H.msg="unknown compression method",N.mode=30;break}if(O-=4,M=8+(15&(U>>>=4)),N.wbits===0)N.wbits=M;else if(M>N.wbits){H.msg="invalid window size",N.mode=30;break}N.dmax=1<<M,H.adler=N.check=1,N.mode=512&U?10:12,O=U=0;break;case 2:for(;O<16;){if(Q===0)break e;Q--,U+=Z[G++]<<O,O+=8}if(N.flags=U,(255&N.flags)!=8){H.msg="unknown compression method",N.mode=30;break}if(57344&N.flags){H.msg="unknown header flags set",N.mode=30;break}N.head&&(N.head.text=U>>8&1),512&N.flags&&(D[0]=255&U,D[1]=U>>>8&255,N.check=a(N.check,D,2,0)),O=U=0,N.mode=3;case 3:for(;O<32;){if(Q===0)break e;Q--,U+=Z[G++]<<O,O+=8}N.head&&(N.head.time=U),512&N.flags&&(D[0]=255&U,D[1]=U>>>8&255,D[2]=U>>>16&255,D[3]=U>>>24&255,N.check=a(N.check,D,4,0)),O=U=0,N.mode=4;case 4:for(;O<16;){if(Q===0)break e;Q--,U+=Z[G++]<<O,O+=8}N.head&&(N.head.xflags=255&U,N.head.os=U>>8),512&N.flags&&(D[0]=255&U,D[1]=U>>>8&255,N.check=a(N.check,D,2,0)),O=U=0,N.mode=5;case 5:if(1024&N.flags){for(;O<16;){if(Q===0)break e;Q--,U+=Z[G++]<<O,O+=8}N.length=U,N.head&&(N.head.extra_len=U),512&N.flags&&(D[0]=255&U,D[1]=U>>>8&255,N.check=a(N.check,D,2,0)),O=U=0}else N.head&&(N.head.extra=null);N.mode=6;case 6:if(1024&N.flags&&(Q<(ae=N.length)&&(ae=Q),ae&&(N.head&&(M=N.head.extra_len-N.length,N.head.extra||(N.head.extra=new Array(N.head.extra_len)),s.arraySet(N.head.extra,Z,G,ae,M)),512&N.flags&&(N.check=a(N.check,Z,ae,G)),Q-=ae,G+=ae,N.length-=ae),N.length))break e;N.length=0,N.mode=7;case 7:if(2048&N.flags){if(Q===0)break e;for(ae=0;M=Z[G+ae++],N.head&&M&&N.length<65536&&(N.head.name+=String.fromCharCode(M)),M&&ae<Q;);if(512&N.flags&&(N.check=a(N.check,Z,ae,G)),Q-=ae,G+=ae,M)break e}else N.head&&(N.head.name=null);N.length=0,N.mode=8;case 8:if(4096&N.flags){if(Q===0)break e;for(ae=0;M=Z[G+ae++],N.head&&M&&N.length<65536&&(N.head.comment+=String.fromCharCode(M)),M&&ae<Q;);if(512&N.flags&&(N.check=a(N.check,Z,ae,G)),Q-=ae,G+=ae,M)break e}else N.head&&(N.head.comment=null);N.mode=9;case 9:if(512&N.flags){for(;O<16;){if(Q===0)break e;Q--,U+=Z[G++]<<O,O+=8}if(U!==(65535&N.check)){H.msg="header crc mismatch",N.mode=30;break}O=U=0}N.head&&(N.head.hcrc=N.flags>>9&1,N.head.done=!0),H.adler=N.check=0,N.mode=12;break;case 10:for(;O<32;){if(Q===0)break e;Q--,U+=Z[G++]<<O,O+=8}H.adler=N.check=v(U),O=U=0,N.mode=11;case 11:if(N.havedict===0)return H.next_out=Y,H.avail_out=fe,H.next_in=G,H.avail_in=Q,N.hold=U,N.bits=O,2;H.adler=N.check=1,N.mode=12;case 12:if(X===5||X===6)break e;case 13:if(N.last){U>>>=7&O,O-=7&O,N.mode=27;break}for(;O<3;){if(Q===0)break e;Q--,U+=Z[G++]<<O,O+=8}switch(N.last=1&U,O-=1,3&(U>>>=1)){case 0:N.mode=14;break;case 1:if(ie(N),N.mode=20,X!==6)break;U>>>=2,O-=2;break e;case 2:N.mode=17;break;case 3:H.msg="invalid block type",N.mode=30}U>>>=2,O-=2;break;case 14:for(U>>>=7&O,O-=7&O;O<32;){if(Q===0)break e;Q--,U+=Z[G++]<<O,O+=8}if((65535&U)!=(U>>>16^65535)){H.msg="invalid stored block lengths",N.mode=30;break}if(N.length=65535&U,O=U=0,N.mode=15,X===6)break e;case 15:N.mode=16;case 16:if(ae=N.length){if(Q<ae&&(ae=Q),fe<ae&&(ae=fe),ae===0)break e;s.arraySet(le,Z,G,ae,Y),Q-=ae,G+=ae,fe-=ae,Y+=ae,N.length-=ae;break}N.mode=12;break;case 17:for(;O<14;){if(Q===0)break e;Q--,U+=Z[G++]<<O,O+=8}if(N.nlen=257+(31&U),U>>>=5,O-=5,N.ndist=1+(31&U),U>>>=5,O-=5,N.ncode=4+(15&U),U>>>=4,O-=4,286<N.nlen||30<N.ndist){H.msg="too many length or distance symbols",N.mode=30;break}N.have=0,N.mode=18;case 18:for(;N.have<N.ncode;){for(;O<3;){if(Q===0)break e;Q--,U+=Z[G++]<<O,O+=8}N.lens[J[N.have++]]=7&U,U>>>=3,O-=3}for(;N.have<19;)N.lens[J[N.have++]]=0;if(N.lencode=N.lendyn,N.lenbits=7,j={bits:N.lenbits},pe=c(0,N.lens,0,19,N.lencode,0,N.work,j),N.lenbits=j.bits,pe){H.msg="invalid code lengths set",N.mode=30;break}N.have=0,N.mode=19;case 19:for(;N.have<N.nlen+N.ndist;){for(;se=(T=N.lencode[U&(1<<N.lenbits)-1])>>>16&255,te=65535&T,!((L=T>>>24)<=O);){if(Q===0)break e;Q--,U+=Z[G++]<<O,O+=8}if(te<16)U>>>=L,O-=L,N.lens[N.have++]=te;else{if(te===16){for(C=L+2;O<C;){if(Q===0)break e;Q--,U+=Z[G++]<<O,O+=8}if(U>>>=L,O-=L,N.have===0){H.msg="invalid bit length repeat",N.mode=30;break}M=N.lens[N.have-1],ae=3+(3&U),U>>>=2,O-=2}else if(te===17){for(C=L+3;O<C;){if(Q===0)break e;Q--,U+=Z[G++]<<O,O+=8}O-=L,M=0,ae=3+(7&(U>>>=L)),U>>>=3,O-=3}else{for(C=L+7;O<C;){if(Q===0)break e;Q--,U+=Z[G++]<<O,O+=8}O-=L,M=0,ae=11+(127&(U>>>=L)),U>>>=7,O-=7}if(N.have+ae>N.nlen+N.ndist){H.msg="invalid bit length repeat",N.mode=30;break}for(;ae--;)N.lens[N.have++]=M}}if(N.mode===30)break;if(N.lens[256]===0){H.msg="invalid code -- missing end-of-block",N.mode=30;break}if(N.lenbits=9,j={bits:N.lenbits},pe=c(d,N.lens,0,N.nlen,N.lencode,0,N.work,j),N.lenbits=j.bits,pe){H.msg="invalid literal/lengths set",N.mode=30;break}if(N.distbits=6,N.distcode=N.distdyn,j={bits:N.distbits},pe=c(h,N.lens,N.nlen,N.ndist,N.distcode,0,N.work,j),N.distbits=j.bits,pe){H.msg="invalid distances set",N.mode=30;break}if(N.mode=20,X===6)break e;case 20:N.mode=21;case 21:if(6<=Q&&258<=fe){H.next_out=Y,H.avail_out=fe,H.next_in=G,H.avail_in=Q,N.hold=U,N.bits=O,u(H,oe),Y=H.next_out,le=H.output,fe=H.avail_out,G=H.next_in,Z=H.input,Q=H.avail_in,U=N.hold,O=N.bits,N.mode===12&&(N.back=-1);break}for(N.back=0;se=(T=N.lencode[U&(1<<N.lenbits)-1])>>>16&255,te=65535&T,!((L=T>>>24)<=O);){if(Q===0)break e;Q--,U+=Z[G++]<<O,O+=8}if(se&&!(240&se)){for(V=L,q=se,de=te;se=(T=N.lencode[de+((U&(1<<V+q)-1)>>V)])>>>16&255,te=65535&T,!(V+(L=T>>>24)<=O);){if(Q===0)break e;Q--,U+=Z[G++]<<O,O+=8}U>>>=V,O-=V,N.back+=V}if(U>>>=L,O-=L,N.back+=L,N.length=te,se===0){N.mode=26;break}if(32&se){N.back=-1,N.mode=12;break}if(64&se){H.msg="invalid literal/length code",N.mode=30;break}N.extra=15&se,N.mode=22;case 22:if(N.extra){for(C=N.extra;O<C;){if(Q===0)break e;Q--,U+=Z[G++]<<O,O+=8}N.length+=U&(1<<N.extra)-1,U>>>=N.extra,O-=N.extra,N.back+=N.extra}N.was=N.length,N.mode=23;case 23:for(;se=(T=N.distcode[U&(1<<N.distbits)-1])>>>16&255,te=65535&T,!((L=T>>>24)<=O);){if(Q===0)break e;Q--,U+=Z[G++]<<O,O+=8}if(!(240&se)){for(V=L,q=se,de=te;se=(T=N.distcode[de+((U&(1<<V+q)-1)>>V)])>>>16&255,te=65535&T,!(V+(L=T>>>24)<=O);){if(Q===0)break e;Q--,U+=Z[G++]<<O,O+=8}U>>>=V,O-=V,N.back+=V}if(U>>>=L,O-=L,N.back+=L,64&se){H.msg="invalid distance code",N.mode=30;break}N.offset=te,N.extra=15&se,N.mode=24;case 24:if(N.extra){for(C=N.extra;O<C;){if(Q===0)break e;Q--,U+=Z[G++]<<O,O+=8}N.offset+=U&(1<<N.extra)-1,U>>>=N.extra,O-=N.extra,N.back+=N.extra}if(N.offset>N.dmax){H.msg="invalid distance too far back",N.mode=30;break}N.mode=25;case 25:if(fe===0)break e;if(ae=oe-fe,N.offset>ae){if((ae=N.offset-ae)>N.whave&&N.sane){H.msg="invalid distance too far back",N.mode=30;break}re=ae>N.wnext?(ae-=N.wnext,N.wsize-ae):N.wnext-ae,ae>N.length&&(ae=N.length),P=N.window}else P=le,re=Y-N.offset,ae=N.length;for(fe<ae&&(ae=fe),fe-=ae,N.length-=ae;le[Y++]=P[re++],--ae;);N.length===0&&(N.mode=21);break;case 26:if(fe===0)break e;le[Y++]=N.length,fe--,N.mode=21;break;case 27:if(N.wrap){for(;O<32;){if(Q===0)break e;Q--,U|=Z[G++]<<O,O+=8}if(oe-=fe,H.total_out+=oe,N.total+=oe,oe&&(H.adler=N.check=N.flags?a(N.check,le,oe,Y-oe):o(N.check,le,oe,Y-oe)),oe=fe,(N.flags?U:v(U))!==N.check){H.msg="incorrect data check",N.mode=30;break}O=U=0}N.mode=28;case 28:if(N.wrap&&N.flags){for(;O<32;){if(Q===0)break e;Q--,U+=Z[G++]<<O,O+=8}if(U!==(4294967295&N.total)){H.msg="incorrect length check",N.mode=30;break}O=U=0}N.mode=29;case 29:pe=1;break e;case 30:pe=-3;break e;case 31:return-4;case 32:default:return m}return H.next_out=Y,H.avail_out=fe,H.next_in=G,H.avail_in=Q,N.hold=U,N.bits=O,(N.wsize||oe!==H.avail_out&&N.mode<30&&(N.mode<27||X!==4))&&me(H,H.output,H.next_out,oe-H.avail_out)?(N.mode=31,-4):(ee-=H.avail_in,oe-=H.avail_out,H.total_in+=ee,H.total_out+=oe,N.total+=oe,N.wrap&&oe&&(H.adler=N.check=N.flags?a(N.check,le,oe,H.next_out-oe):o(N.check,le,oe,H.next_out-oe)),H.data_type=N.bits+(N.last?64:0)+(N.mode===12?128:0)+(N.mode===20||N.mode===15?256:0),(ee==0&&oe===0||X===4)&&pe===p&&(pe=-5),pe)},i.inflateEnd=function(H){if(!H||!H.state)return m;var X=H.state;return X.window&&(X.window=null),H.state=null,p},i.inflateGetHeader=function(H,X){var N;return H&&H.state&&2&(N=H.state).wrap?((N.head=X).done=!1,p):m},i.inflateSetDictionary=function(H,X){var N,Z=X.length;return H&&H.state?(N=H.state).wrap!==0&&N.mode!==11?m:N.mode===11&&o(1,X,Z,0)!==N.check?-3:me(H,X,Z,Z)?(N.mode=31,-4):(N.havedict=1,p):m},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var s=n("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(d,h,p,m,w,y,x,v){var S,k,E,R,B,$,K,F,ie,me=v.bits,H=0,X=0,N=0,Z=0,le=0,G=0,Y=0,Q=0,fe=0,U=0,O=null,ee=0,oe=new s.Buf16(16),ae=new s.Buf16(16),re=null,P=0;for(H=0;H<=15;H++)oe[H]=0;for(X=0;X<m;X++)oe[h[p+X]]++;for(le=me,Z=15;1<=Z&&oe[Z]===0;Z--);if(Z<le&&(le=Z),Z===0)return w[y++]=20971520,w[y++]=20971520,v.bits=1,0;for(N=1;N<Z&&oe[N]===0;N++);for(le<N&&(le=N),H=Q=1;H<=15;H++)if(Q<<=1,(Q-=oe[H])<0)return-1;if(0<Q&&(d===0||Z!==1))return-1;for(ae[1]=0,H=1;H<15;H++)ae[H+1]=ae[H]+oe[H];for(X=0;X<m;X++)h[p+X]!==0&&(x[ae[h[p+X]]++]=X);if($=d===0?(O=re=x,19):d===1?(O=o,ee-=257,re=a,P-=257,256):(O=u,re=c,-1),H=N,B=y,Y=X=U=0,E=-1,R=(fe=1<<(G=le))-1,d===1&&852<fe||d===2&&592<fe)return 1;for(;;){for(K=H-Y,ie=x[X]<$?(F=0,x[X]):x[X]>$?(F=re[P+x[X]],O[ee+x[X]]):(F=96,0),S=1<<H-Y,N=k=1<<G;w[B+(U>>Y)+(k-=S)]=K<<24|F<<16|ie|0,k!==0;);for(S=1<<H-1;U&S;)S>>=1;if(S!==0?(U&=S-1,U+=S):U=0,X++,--oe[H]==0){if(H===Z)break;H=h[p+x[X]]}if(le<H&&(U&R)!==E){for(Y===0&&(Y=le),B+=N,Q=1<<(G=H-Y);G+Y<Z&&!((Q-=oe[G+Y])<=0);)G++,Q<<=1;if(fe+=1<<G,d===1&&852<fe||d===2&&592<fe)return 1;w[E=U&R]=le<<24|G<<16|B-y|0}}return U!==0&&(w[B+U]=H-Y<<24|64<<16|0),v.bits=le,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var s=n("../utils/common"),o=0,a=1;function u(T){for(var D=T.length;0<=--D;)T[D]=0}var c=0,d=29,h=256,p=h+1+d,m=30,w=19,y=2*p+1,x=15,v=16,S=7,k=256,E=16,R=17,B=18,$=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],K=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],F=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ie=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],me=new Array(2*(p+2));u(me);var H=new Array(2*m);u(H);var X=new Array(512);u(X);var N=new Array(256);u(N);var Z=new Array(d);u(Z);var le,G,Y,Q=new Array(m);function fe(T,D,J,ce,ne){this.static_tree=T,this.extra_bits=D,this.extra_base=J,this.elems=ce,this.max_length=ne,this.has_stree=T&&T.length}function U(T,D){this.dyn_tree=T,this.max_code=0,this.stat_desc=D}function O(T){return T<256?X[T]:X[256+(T>>>7)]}function ee(T,D){T.pending_buf[T.pending++]=255&D,T.pending_buf[T.pending++]=D>>>8&255}function oe(T,D,J){T.bi_valid>v-J?(T.bi_buf|=D<<T.bi_valid&65535,ee(T,T.bi_buf),T.bi_buf=D>>v-T.bi_valid,T.bi_valid+=J-v):(T.bi_buf|=D<<T.bi_valid&65535,T.bi_valid+=J)}function ae(T,D,J){oe(T,J[2*D],J[2*D+1])}function re(T,D){for(var J=0;J|=1&T,T>>>=1,J<<=1,0<--D;);return J>>>1}function P(T,D,J){var ce,ne,ye=new Array(x+1),we=0;for(ce=1;ce<=x;ce++)ye[ce]=we=we+J[ce-1]<<1;for(ne=0;ne<=D;ne++){var xe=T[2*ne+1];xe!==0&&(T[2*ne]=re(ye[xe]++,xe))}}function L(T){var D;for(D=0;D<p;D++)T.dyn_ltree[2*D]=0;for(D=0;D<m;D++)T.dyn_dtree[2*D]=0;for(D=0;D<w;D++)T.bl_tree[2*D]=0;T.dyn_ltree[2*k]=1,T.opt_len=T.static_len=0,T.last_lit=T.matches=0}function se(T){8<T.bi_valid?ee(T,T.bi_buf):0<T.bi_valid&&(T.pending_buf[T.pending++]=T.bi_buf),T.bi_buf=0,T.bi_valid=0}function te(T,D,J,ce){var ne=2*D,ye=2*J;return T[ne]<T[ye]||T[ne]===T[ye]&&ce[D]<=ce[J]}function V(T,D,J){for(var ce=T.heap[J],ne=J<<1;ne<=T.heap_len&&(ne<T.heap_len&&te(D,T.heap[ne+1],T.heap[ne],T.depth)&&ne++,!te(D,ce,T.heap[ne],T.depth));)T.heap[J]=T.heap[ne],J=ne,ne<<=1;T.heap[J]=ce}function q(T,D,J){var ce,ne,ye,we,xe=0;if(T.last_lit!==0)for(;ce=T.pending_buf[T.d_buf+2*xe]<<8|T.pending_buf[T.d_buf+2*xe+1],ne=T.pending_buf[T.l_buf+xe],xe++,ce===0?ae(T,ne,D):(ae(T,(ye=N[ne])+h+1,D),(we=$[ye])!==0&&oe(T,ne-=Z[ye],we),ae(T,ye=O(--ce),J),(we=K[ye])!==0&&oe(T,ce-=Q[ye],we)),xe<T.last_lit;);ae(T,k,D)}function de(T,D){var J,ce,ne,ye=D.dyn_tree,we=D.stat_desc.static_tree,xe=D.stat_desc.has_stree,Te=D.stat_desc.elems,Me=-1;for(T.heap_len=0,T.heap_max=y,J=0;J<Te;J++)ye[2*J]!==0?(T.heap[++T.heap_len]=Me=J,T.depth[J]=0):ye[2*J+1]=0;for(;T.heap_len<2;)ye[2*(ne=T.heap[++T.heap_len]=Me<2?++Me:0)]=1,T.depth[ne]=0,T.opt_len--,xe&&(T.static_len-=we[2*ne+1]);for(D.max_code=Me,J=T.heap_len>>1;1<=J;J--)V(T,ye,J);for(ne=Te;J=T.heap[1],T.heap[1]=T.heap[T.heap_len--],V(T,ye,1),ce=T.heap[1],T.heap[--T.heap_max]=J,T.heap[--T.heap_max]=ce,ye[2*ne]=ye[2*J]+ye[2*ce],T.depth[ne]=(T.depth[J]>=T.depth[ce]?T.depth[J]:T.depth[ce])+1,ye[2*J+1]=ye[2*ce+1]=ne,T.heap[1]=ne++,V(T,ye,1),2<=T.heap_len;);T.heap[--T.heap_max]=T.heap[1],function(Ue,Tt){var Bt,ct,vn,ft,ke,Fe,He=Tt.dyn_tree,Ze=Tt.max_code,Je=Tt.stat_desc.static_tree,Lt=Tt.stat_desc.has_stree,Gt=Tt.stat_desc.extra_bits,sn=Tt.stat_desc.extra_base,Vn=Tt.stat_desc.max_length,Wn=0;for(ft=0;ft<=x;ft++)Ue.bl_count[ft]=0;for(He[2*Ue.heap[Ue.heap_max]+1]=0,Bt=Ue.heap_max+1;Bt<y;Bt++)Vn<(ft=He[2*He[2*(ct=Ue.heap[Bt])+1]+1]+1)&&(ft=Vn,Wn++),He[2*ct+1]=ft,Ze<ct||(Ue.bl_count[ft]++,ke=0,sn<=ct&&(ke=Gt[ct-sn]),Fe=He[2*ct],Ue.opt_len+=Fe*(ft+ke),Lt&&(Ue.static_len+=Fe*(Je[2*ct+1]+ke)));if(Wn!==0){do{for(ft=Vn-1;Ue.bl_count[ft]===0;)ft--;Ue.bl_count[ft]--,Ue.bl_count[ft+1]+=2,Ue.bl_count[Vn]--,Wn-=2}while(0<Wn);for(ft=Vn;ft!==0;ft--)for(ct=Ue.bl_count[ft];ct!==0;)Ze<(vn=Ue.heap[--Bt])||(He[2*vn+1]!==ft&&(Ue.opt_len+=(ft-He[2*vn+1])*He[2*vn],He[2*vn+1]=ft),ct--)}}(T,D),P(ye,Me,T.bl_count)}function M(T,D,J){var ce,ne,ye=-1,we=D[1],xe=0,Te=7,Me=4;for(we===0&&(Te=138,Me=3),D[2*(J+1)+1]=65535,ce=0;ce<=J;ce++)ne=we,we=D[2*(ce+1)+1],++xe<Te&&ne===we||(xe<Me?T.bl_tree[2*ne]+=xe:ne!==0?(ne!==ye&&T.bl_tree[2*ne]++,T.bl_tree[2*E]++):xe<=10?T.bl_tree[2*R]++:T.bl_tree[2*B]++,ye=ne,Me=(xe=0)===we?(Te=138,3):ne===we?(Te=6,3):(Te=7,4))}function pe(T,D,J){var ce,ne,ye=-1,we=D[1],xe=0,Te=7,Me=4;for(we===0&&(Te=138,Me=3),ce=0;ce<=J;ce++)if(ne=we,we=D[2*(ce+1)+1],!(++xe<Te&&ne===we)){if(xe<Me)for(;ae(T,ne,T.bl_tree),--xe!=0;);else ne!==0?(ne!==ye&&(ae(T,ne,T.bl_tree),xe--),ae(T,E,T.bl_tree),oe(T,xe-3,2)):xe<=10?(ae(T,R,T.bl_tree),oe(T,xe-3,3)):(ae(T,B,T.bl_tree),oe(T,xe-11,7));ye=ne,Me=(xe=0)===we?(Te=138,3):ne===we?(Te=6,3):(Te=7,4)}}u(Q);var j=!1;function C(T,D,J,ce){oe(T,(c<<1)+(ce?1:0),3),function(ne,ye,we,xe){se(ne),ee(ne,we),ee(ne,~we),s.arraySet(ne.pending_buf,ne.window,ye,we,ne.pending),ne.pending+=we}(T,D,J)}i._tr_init=function(T){j||(function(){var D,J,ce,ne,ye,we=new Array(x+1);for(ne=ce=0;ne<d-1;ne++)for(Z[ne]=ce,D=0;D<1<<$[ne];D++)N[ce++]=ne;for(N[ce-1]=ne,ne=ye=0;ne<16;ne++)for(Q[ne]=ye,D=0;D<1<<K[ne];D++)X[ye++]=ne;for(ye>>=7;ne<m;ne++)for(Q[ne]=ye<<7,D=0;D<1<<K[ne]-7;D++)X[256+ye++]=ne;for(J=0;J<=x;J++)we[J]=0;for(D=0;D<=143;)me[2*D+1]=8,D++,we[8]++;for(;D<=255;)me[2*D+1]=9,D++,we[9]++;for(;D<=279;)me[2*D+1]=7,D++,we[7]++;for(;D<=287;)me[2*D+1]=8,D++,we[8]++;for(P(me,p+1,we),D=0;D<m;D++)H[2*D+1]=5,H[2*D]=re(D,5);le=new fe(me,$,h+1,p,x),G=new fe(H,K,0,m,x),Y=new fe(new Array(0),F,0,w,S)}(),j=!0),T.l_desc=new U(T.dyn_ltree,le),T.d_desc=new U(T.dyn_dtree,G),T.bl_desc=new U(T.bl_tree,Y),T.bi_buf=0,T.bi_valid=0,L(T)},i._tr_stored_block=C,i._tr_flush_block=function(T,D,J,ce){var ne,ye,we=0;0<T.level?(T.strm.data_type===2&&(T.strm.data_type=function(xe){var Te,Me=4093624447;for(Te=0;Te<=31;Te++,Me>>>=1)if(1&Me&&xe.dyn_ltree[2*Te]!==0)return o;if(xe.dyn_ltree[18]!==0||xe.dyn_ltree[20]!==0||xe.dyn_ltree[26]!==0)return a;for(Te=32;Te<h;Te++)if(xe.dyn_ltree[2*Te]!==0)return a;return o}(T)),de(T,T.l_desc),de(T,T.d_desc),we=function(xe){var Te;for(M(xe,xe.dyn_ltree,xe.l_desc.max_code),M(xe,xe.dyn_dtree,xe.d_desc.max_code),de(xe,xe.bl_desc),Te=w-1;3<=Te&&xe.bl_tree[2*ie[Te]+1]===0;Te--);return xe.opt_len+=3*(Te+1)+5+5+4,Te}(T),ne=T.opt_len+3+7>>>3,(ye=T.static_len+3+7>>>3)<=ne&&(ne=ye)):ne=ye=J+5,J+4<=ne&&D!==-1?C(T,D,J,ce):T.strategy===4||ye===ne?(oe(T,2+(ce?1:0),3),q(T,me,H)):(oe(T,4+(ce?1:0),3),function(xe,Te,Me,Ue){var Tt;for(oe(xe,Te-257,5),oe(xe,Me-1,5),oe(xe,Ue-4,4),Tt=0;Tt<Ue;Tt++)oe(xe,xe.bl_tree[2*ie[Tt]+1],3);pe(xe,xe.dyn_ltree,Te-1),pe(xe,xe.dyn_dtree,Me-1)}(T,T.l_desc.max_code+1,T.d_desc.max_code+1,we+1),q(T,T.dyn_ltree,T.dyn_dtree)),L(T),ce&&se(T)},i._tr_tally=function(T,D,J){return T.pending_buf[T.d_buf+2*T.last_lit]=D>>>8&255,T.pending_buf[T.d_buf+2*T.last_lit+1]=255&D,T.pending_buf[T.l_buf+T.last_lit]=255&J,T.last_lit++,D===0?T.dyn_ltree[2*J]++:(T.matches++,D--,T.dyn_ltree[2*(N[J]+h+1)]++,T.dyn_dtree[2*O(D)]++),T.last_lit===T.lit_bufsize-1},i._tr_align=function(T){oe(T,2,3),ae(T,k,me),function(D){D.bi_valid===16?(ee(D,D.bi_buf),D.bi_buf=0,D.bi_valid=0):8<=D.bi_valid&&(D.pending_buf[D.pending++]=255&D.bi_buf,D.bi_buf>>=8,D.bi_valid-=8)}(T)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(s){(function(o,a){if(!o.setImmediate){var u,c,d,h,p=1,m={},w=!1,y=o.document,x=Object.getPrototypeOf&&Object.getPrototypeOf(o);x=x&&x.setTimeout?x:o,u={}.toString.call(o.process)==="[object process]"?function(E){it.nextTick(function(){S(E)})}:function(){if(o.postMessage&&!o.importScripts){var E=!0,R=o.onmessage;return o.onmessage=function(){E=!1},o.postMessage("","*"),o.onmessage=R,E}}()?(h="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",k,!1):o.attachEvent("onmessage",k),function(E){o.postMessage(h+E,"*")}):o.MessageChannel?((d=new MessageChannel).port1.onmessage=function(E){S(E.data)},function(E){d.port2.postMessage(E)}):y&&"onreadystatechange"in y.createElement("script")?(c=y.documentElement,function(E){var R=y.createElement("script");R.onreadystatechange=function(){S(E),R.onreadystatechange=null,c.removeChild(R),R=null},c.appendChild(R)}):function(E){setTimeout(S,0,E)},x.setImmediate=function(E){typeof E!="function"&&(E=new Function(""+E));for(var R=new Array(arguments.length-1),B=0;B<R.length;B++)R[B]=arguments[B+1];var $={callback:E,args:R};return m[p]=$,u(p),p++},x.clearImmediate=v}function v(E){delete m[E]}function S(E){if(w)setTimeout(S,0,E);else{var R=m[E];if(R){w=!0;try{(function(B){var $=B.callback,K=B.args;switch(K.length){case 0:$();break;case 1:$(K[0]);break;case 2:$(K[0],K[1]);break;case 3:$(K[0],K[1],K[2]);break;default:$.apply(a,K)}})(R)}finally{v(E),w=!1}}}}function k(E){E.source===o&&typeof E.data=="string"&&E.data.indexOf(h)===0&&S(+E.data.slice(h.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof Ri<"u"?Ri:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(uv)),uv.exports}var gee=mee();const yee=Ex(gee);var yc={exports:{}},cv,JT;function wee(){if(JT)return cv;JT=1;var t={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function e(n){return n&&n.replace?n.replace(/([&"<>'])/g,function(r,i){return t[i]}):n}return cv=e,cv}var QT;function vee(){if(QT)return yc.exports;QT=1;var t=wee(),e=_x().Stream,n="    ";function r(c,d){typeof d!="object"&&(d={indent:d});var h=d.stream?new e:null,p="",m=!1,w=d.indent?d.indent===!0?n:d.indent:"",y=!0;function x(R){y?it.nextTick(R):R()}function v(R,B){if(B!==void 0&&(p+=B),R&&!m&&(h=h||new e,m=!0),R&&m){var $=p;x(function(){h.emit("data",$)}),p=""}}function S(R,B){a(v,o(R,w,w?1:0),B)}function k(){if(h){var R=p;x(function(){h.emit("data",R),h.emit("end"),h.readable=!1,h.emit("close")})}}function E(R){var B=R.encoding||"UTF-8",$={version:"1.0",encoding:B};R.standalone&&($.standalone=R.standalone),S({"?xml":{_attr:$}}),p=p.replace("/>","?>")}return x(function(){y=!1}),d.declaration&&E(d.declaration),c&&c.forEach?c.forEach(function(R,B){var $;B+1===c.length&&($=k),S(R,$)}):S(c,k),h?(h.readable=!0,h):p}function i(){var c=Array.prototype.slice.call(arguments),d={_elem:o(c)};return d.push=function(h){if(!this.append)throw new Error("not assigned to a parent!");var p=this,m=this._elem.indent;a(this.append,o(h,m,this._elem.icount+(m?1:0)),function(){p.append(!0)})},d.close=function(h){h!==void 0&&this.push(h),this.end&&this.end()},d}function s(c,d){return new Array(d||0).join(c||"")}function o(c,d,h){h=h||0;var p=s(d,h),m,w=c,y=!1;if(typeof c=="object"){var x=Object.keys(c);if(m=x[0],w=c[m],w&&w._elem)return w._elem.name=m,w._elem.icount=h,w._elem.indent=d,w._elem.indents=p,w._elem.interrupt=w,w._elem}var v=[],S=[],k;function E(R){var B=Object.keys(R);B.forEach(function($){v.push(u($,R[$]))})}switch(typeof w){case"object":if(w===null)break;w._attr&&E(w._attr),w._cdata&&S.push(("<![CDATA["+w._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),w.forEach&&(k=!1,S.push(""),w.forEach(function(R){if(typeof R=="object"){var B=Object.keys(R)[0];B=="_attr"?E(R._attr):S.push(o(R,d,h+1))}else S.pop(),k=!0,S.push(t(R))}),k||S.push(""));break;default:S.push(t(w))}return{name:m,interrupt:y,attributes:v,content:S,icount:h,indents:p,indent:d}}function a(c,d,h){if(typeof d!="object")return c(!1,d);var p=d.interrupt?1:d.content.length;function m(){for(;d.content.length;){var y=d.content.shift();if(y!==void 0){if(w(y))return;a(c,y)}}c(!1,(p>1?d.indents:"")+(d.name?"</"+d.name+">":"")+(d.indent&&!h?`
`:"")),h&&h()}function w(y){return y.interrupt?(y.interrupt.append=c,y.interrupt.end=m,y.interrupt=!1,c(!0),!0):!1}if(c(!1,d.indents+(d.name?"<"+d.name:"")+(d.attributes.length?" "+d.attributes.join(" "):"")+(p?d.name?">":"":d.name?"/>":"")+(d.indent&&p>1?`
`:"")),!p)return c(!1,d.indent?`
`:"");w(d)||m()}function u(c,d){return c+'="'+t(d)+'"'}return yc.exports=r,yc.exports.element=yc.exports.Element=i,yc.exports}var bee=vee();const Ht=Ex(bee),wc=0,fv=32,xee=32,Eee=(t,e)=>{const n=e.replace(/-/g,"");if(n.length!==xee)throw new Error(`Error: Cannot extract GUID from font filename: ${e}`);const i=n.replace(/(..)/g,"$1 ").trim().split(" ").map(u=>parseInt(u,16));i.reverse();const o=t.slice(wc,fv).map((u,c)=>u^i[c%i.length]),a=new Uint8Array(wc+o.length+Math.max(0,t.length-fv));return a.set(t.slice(0,wc)),a.set(o,wc),a.set(t.slice(fv),wc+o.length),a};class Cee{format(e,n={stack:[]}){const r=e.prepForXml(n);if(r)return r;throw Error("XMLComponent did not format correctly")}}class See{replace(e,n,r){let i=e;return n.forEach((s,o)=>{i=i.replace(new RegExp(`{${s.fileName}}`,"g"),(r+o).toString())}),i}getMediaData(e,n){return n.Array.filter(r=>e.search(`{${r.fileName}}`)>0)}}class kee{replace(e,n){let r=e;for(const i of n)r=r.replace(new RegExp(`{${i.reference}-${i.instance}}`,"g"),i.numId.toString());return r}}class Tee{constructor(){Ce(this,"formatter"),Ce(this,"imageReplacer"),Ce(this,"numberingReplacer"),this.formatter=new Cee,this.imageReplacer=new See,this.numberingReplacer=new kee}compile(e,n,r=[]){const i=new yee,s=this.xmlifyFile(e,n),o=new Map(Object.entries(s));for(const[,a]of o)if(Array.isArray(a))for(const u of a)i.file(u.path,u.data);else i.file(a.path,a.data);for(const a of r)i.file(a.path,a.data);for(const a of e.Media.Array)a.type!=="svg"?i.file(`word/media/${a.fileName}`,a.data):(i.file(`word/media/${a.fileName}`,a.data),i.file(`word/media/${a.fallback.fileName}`,a.fallback.data));for(const{data:a,name:u,fontKey:c}of e.FontTable.fontOptionsWithKey){const[d]=u.split(".");i.file(`word/fonts/${d}.odttf`,Eee(a,c))}return i}xmlifyFile(e,n){const r=e.Document.Relationships.RelationshipCount+1,i=Ht(this.formatter.format(e.Document.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{standalone:"yes",encoding:"UTF-8"}}),s=e.Comments.Relationships.RelationshipCount+1,o=Ht(this.formatter.format(e.Comments,{viewWrapper:{View:e.Comments,Relationships:e.Comments.Relationships},file:e,stack:[]}),{indent:n,declaration:{standalone:"yes",encoding:"UTF-8"}}),a=this.imageReplacer.getMediaData(i,e.Media),u=this.imageReplacer.getMediaData(o,e.Media);return{Relationships:{data:(a.forEach((c,d)=>{e.Document.Relationships.createRelationship(r+d,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${c.fileName}`)}),e.Document.Relationships.createRelationship(e.Document.Relationships.RelationshipCount+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/fontTable","fontTable.xml"),Ht(this.formatter.format(e.Document.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}})),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const c=this.imageReplacer.replace(i,a,r);return this.numberingReplacer.replace(c,e.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const c=Ht(this.formatter.format(e.Styles,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(c,e.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:Ht(this.formatter.format(e.CoreProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:Ht(this.formatter.format(e.Numbering,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:Ht(this.formatter.format(e.FileRelationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:e.Headers.map((c,d)=>{const h=Ht(this.formatter.format(c.View,{viewWrapper:c,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(h,e.Media).forEach((m,w)=>{c.Relationships.createRelationship(w,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${m.fileName}`)}),{data:Ht(this.formatter.format(c.Relationships,{viewWrapper:c,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${d+1}.xml.rels`}}),FooterRelationships:e.Footers.map((c,d)=>{const h=Ht(this.formatter.format(c.View,{viewWrapper:c,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(h,e.Media).forEach((m,w)=>{c.Relationships.createRelationship(w,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${m.fileName}`)}),{data:Ht(this.formatter.format(c.Relationships,{viewWrapper:c,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${d+1}.xml.rels`}}),Headers:e.Headers.map((c,d)=>{const h=Ht(this.formatter.format(c.View,{viewWrapper:c,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}}),p=this.imageReplacer.getMediaData(h,e.Media),m=this.imageReplacer.replace(h,p,0);return{data:this.numberingReplacer.replace(m,e.Numbering.ConcreteNumbering),path:`word/header${d+1}.xml`}}),Footers:e.Footers.map((c,d)=>{const h=Ht(this.formatter.format(c.View,{viewWrapper:c,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}}),p=this.imageReplacer.getMediaData(h,e.Media),m=this.imageReplacer.replace(h,p,0);return{data:this.numberingReplacer.replace(m,e.Numbering.ConcreteNumbering),path:`word/footer${d+1}.xml`}}),ContentTypes:{data:Ht(this.formatter.format(e.ContentTypes,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:Ht(this.formatter.format(e.CustomProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:Ht(this.formatter.format(e.AppProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:Ht(this.formatter.format(e.FootNotes.View,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:Ht(this.formatter.format(e.FootNotes.Relationships,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:Ht(this.formatter.format(e.Settings,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:(()=>{const c=this.imageReplacer.replace(o,u,s);return this.numberingReplacer.replace(c,e.Numbering.ConcreteNumbering)})(),path:"word/comments.xml"},CommentsRelationships:{data:(u.forEach((c,d)=>{e.Comments.Relationships.createRelationship(s+d,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${c.fileName}`)}),Ht(this.formatter.format(e.Comments.Relationships,{viewWrapper:{View:e.Comments,Relationships:e.Comments.Relationships},file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}})),path:"word/_rels/comments.xml.rels"},FontTable:{data:Ht(this.formatter.format(e.FontTable.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/fontTable.xml"},FontTableRelationships:{data:Ht(this.formatter.format(e.FontTable.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}}),path:"word/_rels/fontTable.xml.rels"}}}}const Aee={NONE:"",WITH_2_BLANKS:"  ",WITH_4_BLANKS:"    ",WITH_TAB:"	"},eA=t=>t===!0?Aee.WITH_2_BLANKS:t===!1?void 0:t,AN=class Ol{static pack(e,n,r){return FG(this,arguments,function*(i,s,o,a=[]){return this.compiler.compile(i,eA(o),a).generateAsync({type:s,mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toString(e,n,r=[]){return Ol.pack(e,"string",n,r)}static toBuffer(e,n,r=[]){return Ol.pack(e,"nodebuffer",n,r)}static toBase64String(e,n,r=[]){return Ol.pack(e,"base64",n,r)}static toBlob(e,n,r=[]){return Ol.pack(e,"blob",n,r)}static toArrayBuffer(e,n,r=[]){return Ol.pack(e,"arraybuffer",n,r)}static toStream(e,n,r=[]){const i=new pee.Stream;return this.compiler.compile(e,eA(n),r).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then(o=>{i.emit("data",o),i.emit("end")}),i}};Ce(AN,"compiler",new Tee);let vc=AN;function Sr(t){return 240*t}function Yi(t){return 2*t}function Ln(t){return 20*t}const _ee={paragraphStyles:[{id:"Normal",name:"Normal",run:{font:"Aptos",size:Yi(11)},paragraph:{spacing:{before:0,after:Ln(10),line:Sr(1.15)}}},{id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0,run:{font:"Aptos",size:Yi(11)},paragraph:{spacing:{before:0,after:Ln(2),line:Sr(1)}}},{id:"Heading1",name:"Heading 1",basedOn:"Normal",next:"Normal",quickFormat:!0,run:{font:"Aptos Light",size:Yi(16),bold:!0,color:"2E74B5"},paragraph:{spacing:{before:Ln(12),after:Ln(6),line:Sr(1.15)}}},{id:"Heading2",name:"Heading 2",basedOn:"Normal",next:"Normal",quickFormat:!0,run:{font:"Aptos Light",size:Yi(14),bold:!0,color:"2E74B5"},paragraph:{spacing:{before:Ln(12),after:Ln(6),line:Sr(1.15)}}},{id:"Heading3",name:"Heading 3",basedOn:"Normal",next:"Normal",quickFormat:!0,run:{font:"Aptos",size:Yi(13),bold:!0,color:"2E74B5"},paragraph:{spacing:{before:Ln(12),after:Ln(6),line:Sr(1.15)}}},{id:"Heading4",name:"Heading 4",basedOn:"Normal",next:"Normal",quickFormat:!0,run:{font:"Aptos",size:Yi(12),bold:!0,color:"2E74B5"},paragraph:{spacing:{before:Ln(12),after:Ln(6),line:Sr(1.15)}}},{id:"Heading5",name:"Heading 5",basedOn:"Normal",next:"Normal",quickFormat:!0,run:{font:"Aptos",size:Yi(11),bold:!0,color:"2E74B5"},paragraph:{spacing:{before:Ln(12),after:Ln(6),line:Sr(1.15)}}},{id:"Title",name:"Title",basedOn:"Normal",next:"Normal",quickFormat:!0,run:{font:"Aptos Light",size:Yi(22),bold:!0,color:"000000"},paragraph:{alignment:zt.CENTER,spacing:{before:0,after:0,line:Sr(1.15)}}},{id:"Subtitle",name:"Subtitle",basedOn:"Normal",next:"Normal",quickFormat:!0,run:{font:"Aptos Light",size:Yi(16),italics:!0,color:"666666"},paragraph:{alignment:zt.CENTER,spacing:{before:0,after:0,line:Sr(1.15)}}},{id:"Quote",name:"Quote",basedOn:"Normal",quickFormat:!0,run:{font:"Aptos",italics:!0},paragraph:{alignment:zt.CENTER,spacing:{before:Ln(10),after:Ln(10),line:Sr(1.15)}}},{id:"IntenseQuote",name:"Intense Quote",basedOn:"Normal",quickFormat:!0,run:{font:"Aptos",italics:!0,color:"444444"},paragraph:{alignment:zt.CENTER,spacing:{before:Ln(10),after:Ln(10),line:Sr(1.15)}}},{id:"NoSpacing",name:"No Spacing",basedOn:"Normal",quickFormat:!0,paragraph:{spacing:{before:0,after:0,line:Sr(1)}}},{id:"Hyperlink",name:"Hyperlink",basedOn:"Normal",run:{color:"0563C1",underline:{type:"single"}}}]},Ree={width:800,height:400};function Nee(t){return .75*t*2}function Kp(t){const e={};let n=!1;const r={};t.marks&&t.marks.forEach(s=>{var o,a,u;switch(s.type){case"bold":e.bold=!0;break;case"italic":e.italics=!0;break;case"underline":e.underline={type:Px.SINGLE};break;case"strike":e.strike=!0;break;case"code":e.font="Courier New",e.shading={type:"solid",fill:"5805ff"},e.style="Code";break;case"textStyle":s.attrs&&(s.attrs.color&&s.attrs.color!==""&&(s.attrs.color.startsWith("#")?e.color=s.attrs.color:s.attrs.color.startsWith("rgb")?e.color=function(c){const d=c.match(/\d+/g);if(!d||d.length<3)throw new Error("Invalid RGB input");return d.slice(0,3).map(h=>parseInt(h,10).toString(16).padStart(2,"0")).join("").toUpperCase()}(s.attrs.color):e.color=s.attrs.color),s.attrs.fontFamily&&(e.font=function(c){const d=c.replace(/"/g,"").split(",").find(h=>h.trim().length>0);return d?d.trim():c}(s.attrs.fontFamily)),s.attrs.fontSize&&(e.size=Nee(parseInt(s.attrs.fontSize,10))));break;case"highlight":if(!(!((o=s.attrs)===null||o===void 0)&&o.color)){e.highlight="yellow";break}if(s.attrs.color.startsWith("#")){const c=s.attrs.color.slice(1).toUpperCase();e.shading={type:nY.SOLID,fill:c};break}if(u=s.attrs.color,Object.values(mY).includes(u)){e.highlight=s.attrs.color;break}e.highlight="yellow";break;case"link":n=!0,e.style="Hyperlink",r.href=(a=s.attrs)===null||a===void 0?void 0:a.href}});const i=new _b({text:t.text||"",...e});return n&&r?new gN({link:r.href,children:[i]}):i}function Oee(t){let e=zt.LEFT;if(t.attrs&&t.attrs.textAlign)switch(t.attrs.textAlign){case"center":e=zt.CENTER;break;case"right":e=zt.RIGHT;break;default:e=zt.LEFT}let n=Xo.HEADING_1;if(t.attrs&&t.attrs.level)switch(t.attrs.level){case 1:default:n=Xo.HEADING_1;break;case 2:n=Xo.HEADING_2;break;case 3:n=Xo.HEADING_3;break;case 4:n=Xo.HEADING_4;break;case 5:n=Xo.HEADING_5;break;case 6:n=Xo.HEADING_6}const r=(t.content||[]).map(Kp).filter(i=>i!==null);return new Gn({children:r,alignment:e,heading:n})}const tA=["png","jpg","jpeg","gif","bmp","svg"];function nA(t){return .75*t}async function Iee(t){try{return typeof window>"u"||global.$jsdom?await async function(e){try{const{imageSize:n}=await OG(()=>import("./index-XGE-lx_p.js"),[]),r=n(e);if(r.width&&r.height)return{width:r.width,height:r.height}}catch(n){console.warn("Error getting server-side image dimensions:",n)}return Ree}(t):await async function(e){const n=new TextDecoder("utf-8").decode(e.subarray(0,100));let r="image/png";return n.includes("<svg")?r="image/svg+xml":n.startsWith("PNG")?r="image/png":n.startsWith("ÿØ")&&(r="image/jpeg"),new Promise((i,s)=>{const o=new Blob([e],{type:r}),a=URL.createObjectURL(o),u=new Image;u.onload=()=>{URL.revokeObjectURL(a),i({width:u.naturalWidth,height:u.naturalHeight})},u.onerror=c=>{URL.revokeObjectURL(a),s(c)},u.src=a})}(t)}catch(e){return console.warn("Could not determine image dimensions, using defaults:",e),{width:800,height:400}}}async function _N(t){var e;const n=(e=t.attrs)===null||e===void 0?void 0:e.src;if(!n)throw new Error("Image node missing src attribute.");const r=await fetch(n);if(!r.ok)throw new Error(`Failed to fetch image from ${n}: ${r.statusText}`);const i=await r.arrayBuffer(),s=typeof Buffer<"u"&&typeof Buffer.from=="function"?Buffer.from(i):new Uint8Array(i),o=function(p,m){const w=m.get("content-type");if(w){if(w.includes("png"))return"png";if(w.includes("jpeg")||w.includes("jpg"))return"jpg";if(w.includes("gif"))return"gif";if(w.includes("bmp"))return"bmp";if(w.includes("svg"))return"svg"}if(w==="binary/octet-stream"){const y=new URL(p),x=y.pathname.substring(y.pathname.lastIndexOf("/")+1),v=x.substring(x.lastIndexOf(".")+1).toLowerCase();if(tA.includes(v))return v}throw new Error(`Unsupported image type [${w}]. Only ${tA.join(", ")} are supported.`)}(n,r.headers);let a={width:800,height:400};try{a=await Iee(s)}catch(p){console.warn("Could not determine intrinsic dimensions, using defaults.",p)}const u=nA(a.width),c=nA(a.height);let d;d=o==="svg"?{data:s,transformation:{width:u,height:c},type:o,fallback:{type:"jpg",data:""}}:{data:s,transformation:{width:u,height:c},type:o};const h=new DZ(d);return new Gn({children:[h]})}async function vg(t,e){var n,r,i;if(e!=null&&e.style){const c=(t.content||[]).map(Kp).filter(d=>d!==null);return new Gn({children:c,style:e.style})}let s=zt.LEFT;if(t.attrs&&t.attrs.textAlign)switch(t.attrs.textAlign){case"center":s=zt.CENTER;break;case"right":s=zt.RIGHT;break;default:s=zt.LEFT}let o=1;const a=(r=(n=t.marks)===null||n===void 0?void 0:n.filter(c=>c.type==="textStyle"))!==null&&r!==void 0?r:[];a.length>0&&(!((i=a[0].attrs)===null||i===void 0)&&i.lineHeight)&&(o=a[0].attrs.lineHeight);const u=await(t.content||[]).reduce(async(c,d)=>{const h=await c;if(d.type==="image")h.currentTextRuns.length>0&&(h.paragraphs.push(new Gn({children:[...h.currentTextRuns],alignment:s})),h.currentTextRuns=[]),h.paragraphs.push(await _N(d));else{const p=Kp(d);p&&h.currentTextRuns.push(p)}return h},Promise.resolve({paragraphs:[],currentTextRuns:[]}));return u.currentTextRuns.length>0&&u.paragraphs.push(new Gn({children:u.currentTextRuns,alignment:s,spacing:{line:Sr(o)}})),u.paragraphs.length===1?u.paragraphs[0]:u.paragraphs}async function RN(t,e=0){const n=t.content||[];return(await Promise.all(n.map(r=>jx(r,"ordered",e)))).flat().filter(r=>r!==null)}async function jx(t,e,n=0){if(!t.content)return[];const r=[],i=t.content;for(let s=0,o=i.length;s<o;s++){const a=i[s];if(a.type==="paragraph"){const u=[],c=a.content||[];for(let d=0,h=c.length;d<h;d++){const p=Kp(c[d]);p!==null&&u.push(p)}e==="bullet"?r.push(new Gn({children:u,bullet:{level:n}})):r.push(new Gn({children:u,numbering:{reference:"ordered-list",level:n}}))}else if(a.type==="bulletList")r.push(...await NN(a,n+1));else if(a.type==="orderedList")r.push(...await RN(a,n+1));else{const u=await vg(a);Array.isArray(u)?r.push(...u):r.push(u)}}return r}async function NN(t,e=0){const n=t.content||[];return(await Promise.all(n.map(r=>jx(r,"bullet",e)))).flat().filter(r=>r!==null)}async function Mee(t){return t.content?(await Promise.all(t.content.map(e=>vg(e,{style:"Quote"})))).flatMap(e=>Array.isArray(e)?e:[e]):[]}async function Dee(t){const e=(t.content||[]).map(async r=>r.type==="paragraph"?vg(r):new Gn({children:[]})),n={children:(await Promise.all(e)).flatMap(r=>r)};return t.attrs&&t.attrs.colspan&&Number(t.attrs.colspan)>1&&(n.columnSpan=Number(t.attrs.colspan)),new Bx(n)}async function Lee(t){const e=await Promise.all((t.content||[]).map(async n=>{const r=await Promise.all((n.content||[]).map(async i=>Dee(i)));return new VJ({children:r})}));return new SN({rows:e,width:{size:100,type:Wp.PERCENTAGE}})}async function Pee({node:t,customNodes:e=[]}){switch(t.type){case"paragraph":return vg(t);case"bulletList":return NN(t);case"orderedList":return RN(t);case"listItem":return jx(t,"bullet");case"table":return Lee(t);case"image":return[await _N(t)];case"heading":return Oee(t);case"blockquote":return Mee(t);case"horizontalRule":return new Gn({children:[new Eu({children:[(n=[new dt({name:"v:rect",attributes:{style:{key:"style",value:"width:0.0pt;height:.05pt;mso-width-percent:0;mso-height-percent:0;mso-width-percent:0;mso-height-percent:0"},hr:{key:"o:hr",value:"t"},hrstd:{key:"o:hrstd",value:"t"},hralign:{key:"o:hralign",value:"center"},fillcolor:{key:"fillcolor",value:"#A0A0A0"},stroked:{key:"stroked",value:"f"}}})],new dt({name:"w:pict",children:n}))]})],style:"horizontalRule"});default:if(e){const r=e.find(i=>i.type===t.type);return r?r.render(t):(console.error(`Custom node "${t.type}" not found`),[])}return[]}var n}function Ib(t,e){return typeof t!="object"||t===null?e:(typeof e!="object"||e===null||Object.keys(e).forEach(n=>{const r=e[n],i=t[n];if(Array.isArray(r)&&Array.isArray(i)){const s=[...i];r.forEach(o=>{if(o&&typeof o=="object"&&o.id){const a=s.findIndex(u=>u.id===o.id);a!==-1?s[a]=Ib(s[a],o):s.push(o)}else s.push(o)}),t[n]=s}else t[n]=typeof r=="object"?Ib(typeof i=="object"&&i!==null?i:{},r):r}),t)}async function Fee({node:t,customNodes:e=[],styleOverrides:n}){const r=Ib(_ee,n),i=(t.content||[]).map(o=>Pee({node:o,customNodes:e,styleOverrides:r})),s=(await Promise.all(i)).flatMap(o=>Array.isArray(o)?o:o instanceof Gn||o instanceof SN?[o]:[]);return new hee({numbering:{config:[{reference:"ordered-list",levels:[{level:0,format:dn.DECIMAL,text:"%1.",alignment:"left",style:{paragraph:{indent:{left:720,hanging:360}}}},{level:1,format:dn.DECIMAL,text:"%2.",alignment:"left",style:{paragraph:{indent:{left:1140,hanging:360}}}},{level:2,format:dn.DECIMAL,text:"%3.",alignment:"left",style:{paragraph:{indent:{left:1440,hanging:360}}}},{level:3,format:dn.DECIMAL,text:"%4.",alignment:"left",style:{paragraph:{indent:{left:1740,hanging:360}}}},{level:4,format:dn.DECIMAL,text:"%5.",alignment:"left",style:{paragraph:{indent:{left:2040,hanging:360}}}},{level:5,format:dn.DECIMAL,text:"%6.",alignment:"left",style:{paragraph:{indent:{left:2340,hanging:360}}}},{level:6,format:dn.DECIMAL,text:"%7.",alignment:"left",style:{paragraph:{indent:{left:2640,hanging:360}}}},{level:7,format:dn.DECIMAL,text:"%8.",alignment:"left",style:{paragraph:{indent:{left:2940,hanging:360}}}},{level:8,format:dn.DECIMAL,text:"%9.",alignment:"left",style:{paragraph:{indent:{left:3240,hanging:360}}}}]}]},sections:[{children:s}],styles:r})}const Bee=async({document:t,exportType:e,customNodes:n,styleOverrides:r})=>{const i=await Fee({node:t,styleOverrides:r,customNodes:n});if(!i)throw new Error("Failed to convert document");let s;try{switch(e){case"buffer":s=await vc.toBuffer(i);break;case"string":s=await vc.toString(i);break;case"base64":s=await vc.toBase64String(i);break;case"blob":s=await vc.toBlob(i);break;case"stream":s=vc.toStream(i);break;default:throw new Error("Invalid export type")}}catch(o){throw new Error(`Failed to export document: ${o.message}`)}return s},jee=ht.create({name:"export-docx",addOptions:()=>({styleOverrides:{},customNodes:[],exportType:"blob",onCompleteExport:()=>{throw new Error("The [exportDocx] extension requires an [onCompleteExport] callback function to handle the exported DOCX file")}}),addCommands(){return{exportDocx:t=>async({editor:e})=>{var n,r,i;const s=e.getJSON(),o=await Bee({document:s,styleOverrides:(n=t==null?void 0:t.styleOverrides)!==null&&n!==void 0?n:this.options.styleOverrides,customNodes:(r=t==null?void 0:t.customNodes)!==null&&r!==void 0?r:this.options.customNodes,exportType:(i=t==null?void 0:t.exportType)!==null&&i!==void 0?i:this.options.exportType});return t!=null&&t.onCompleteExport?t.onCompleteExport(o):this.options.onCompleteExport(o),!0}}}});var En=[];for(var dv=0;dv<256;++dv)En.push((dv+256).toString(16).slice(1));function Hee(t,e=0){return(En[t[e+0]]+En[t[e+1]]+En[t[e+2]]+En[t[e+3]]+"-"+En[t[e+4]]+En[t[e+5]]+"-"+En[t[e+6]]+En[t[e+7]]+"-"+En[t[e+8]]+En[t[e+9]]+"-"+En[t[e+10]]+En[t[e+11]]+En[t[e+12]]+En[t[e+13]]+En[t[e+14]]+En[t[e+15]]).toLowerCase()}var Uh,$ee=new Uint8Array(16);function zee(){if(!Uh&&(Uh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Uh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Uh($ee)}var Uee=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const rA={randomUUID:Uee};function Vee(t,e,n){if(rA.randomUUID&&!t)return rA.randomUUID();t=t||{};var r=t.random||(t.rng||zee)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Hee(r)}function Wee(t){return function(e,n=JSON.stringify){const r={};return e.filter(i=>{const s=n(i);return!Object.prototype.hasOwnProperty.call(r,s)&&(r[s]=!0)})}(t.filter((e,n)=>t.indexOf(e)!==n))}const Kee=ht.create({name:"uniqueID",priority:1e4,addOptions:()=>({attributeName:"id",types:[],generateID:()=>Vee(),filterTransaction:null}),addGlobalAttributes(){return[{types:this.options.types,attributes:{[this.options.attributeName]:{default:null,parseHTML:t=>t.getAttribute(`data-${this.options.attributeName}`),renderHTML:t=>t[this.options.attributeName]?{[`data-${this.options.attributeName}`]:t[this.options.attributeName]}:{}}}}]},onCreate(){const t=this.editor.extensionManager.extensions.find(r=>r.name==="collaboration"),e=t!=null&&t.options?t.options.provider:void 0,n=()=>{const{view:r,state:i}=this.editor,{tr:s,doc:o}=i,{types:a,attributeName:u,generateID:c}=this.options;JF(o,d=>a.includes(d.type.name)&&d.attrs[u]===null).forEach(({node:d,pos:h})=>{s.setNodeMarkup(h,void 0,{...d.attrs,[u]:c()})}),s.setMeta("addToHistory",!1),r.dispatch(s),e&&e.off("synced",n)};return t&&e?void e.on("synced",n):n()},addProseMirrorPlugins(){let t=null,e=!1;return[new gt({key:new xt("uniqueID"),appendTransaction:(n,r,i)=>{const s=n.some(w=>w.docChanged)&&!r.doc.eq(i.doc),o=this.options.filterTransaction&&n.some(w=>{var y,x;return!(!((x=(y=this.options).filterTransaction)===null||x===void 0)&&x.call(y,w))});if(n.find(w=>w.getMeta("y-sync$"))||!s||o)return;const{tr:u}=i,{types:c,attributeName:d,generateID:h}=this.options,p=T7(r.doc,n),{mapping:m}=p;return R7(p).forEach(({newRange:w})=>{const y=A7(i.doc,w,v=>c.includes(v.type.name)),x=y.map(({node:v})=>v.attrs[d]).filter(v=>v!==null);y.forEach(({node:v,pos:S},k)=>{var E;const R=(E=u.doc.nodeAt(S))===null||E===void 0?void 0:E.attrs[d];if(R===null)return void u.setNodeMarkup(S,void 0,{...v.attrs,[d]:h()});const B=y[k+1];if(B&&v.content.size===0){if(u.setNodeMarkup(B.pos,void 0,{...B.node.attrs,[d]:R}),x[k+1]=R,B.node.attrs[d])return;const F=h();return u.setNodeMarkup(S,void 0,{...v.attrs,[d]:F}),x[k]=F,u}const $=Wee(x),{deleted:K}=m.invert().mapResult(S);K&&$.includes(R)&&u.setNodeMarkup(S,void 0,{...v.attrs,[d]:h()})})}),u.steps.length?(u.setStoredMarks(i.tr.storedMarks),u):void 0},view(n){const r=i=>{var s;t=!((s=n.dom.parentElement)===null||s===void 0)&&s.contains(i.target)?n.dom.parentElement:null};return window.addEventListener("dragstart",r),{destroy(){window.removeEventListener("dragstart",r)}}},props:{handleDOMEvents:{drop:(n,r)=>{var i,s;return t===n.dom.parentElement&&((i=r.dataTransfer)===null||i===void 0?void 0:i.effectAllowed)!=="copyMove"&&((s=r.dataTransfer)===null||s===void 0?void 0:s.effectAllowed)!=="copy"||(t=null,e=!0),!1},paste:()=>(e=!0,!1)},transformPasted:n=>{if(!e)return n;const{types:r,attributeName:i}=this.options,s=o=>{const a=[];return o.forEach(u=>{if(u.isText)return void a.push(u);if(!r.includes(u.type.name))return void a.push(u.copy(s(u.content)));const c=u.type.create({...u.attrs,[i]:null},s(u.content),u.marks);a.push(c)}),Ae.from(a)};return e=!1,new Le(s(n.content),n.openStart,n.openEnd)}}})]}}),qee="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",Gee="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",hu=(t,e)=>{for(const n in e)t[n]=e[n];return t},Mb="numeric",Db="ascii",Lb="alpha",Hc="asciinumeric",kc="alphanumeric",Pb="domain",ON="emoji",Xee="scheme",Yee="slashscheme",hv="whitespace";function Zee(t,e){return t in e||(e[t]=[]),e[t]}function ca(t,e,n){e[Mb]&&(e[Hc]=!0,e[kc]=!0),e[Db]&&(e[Hc]=!0,e[Lb]=!0),e[Hc]&&(e[kc]=!0),e[Lb]&&(e[kc]=!0),e[kc]&&(e[Pb]=!0),e[ON]&&(e[Pb]=!0);for(const r in e){const i=Zee(r,n);i.indexOf(t)<0&&i.push(t)}}function Jee(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function lr(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}lr.groups={};lr.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],s=e.jr[r][1];if(s&&i.test(t))return s}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,r)},tr(t,e,n,r){r=r||lr.groups;let i;return e&&e.j?i=e:(i=new lr(e),n&&r&&ca(e,n,r)),this.jr.push([t,i]),i},ts(t,e,n,r){let i=this;const s=t.length;if(!s)return i;for(let o=0;o<s-1;o++)i=i.tt(t[o]);return i.tt(t[s-1],e,n,r)},tt(t,e,n,r){r=r||lr.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const s=e;let o,a=i.go(t);if(a?(o=new lr,hu(o.j,a.j),o.jr.push.apply(o.jr,a.jr),o.jd=a.jd,o.t=a.t):o=new lr,s){if(r)if(o.t&&typeof o.t=="string"){const u=hu(Jee(o.t,r),n);ca(s,u,r)}else n&&ca(s,n,r);o.t=s}return i.j[t]=o,o}};const tt=(t,e,n,r,i)=>t.ta(e,n,r,i),$t=(t,e,n,r,i)=>t.tr(e,n,r,i),iA=(t,e,n,r,i)=>t.ts(e,n,r,i),Ie=(t,e,n,r,i)=>t.tt(e,n,r,i),ts="WORD",Fb="UWORD",IN="ASCIINUMERICAL",MN="ALPHANUMERICAL",cf="LOCALHOST",Bb="TLD",jb="UTLD",up="SCHEME",Il="SLASH_SCHEME",Hx="NUM",Hb="WS",$x="NL",$c="OPENBRACE",zc="CLOSEBRACE",qp="OPENBRACKET",Gp="CLOSEBRACKET",Xp="OPENPAREN",Yp="CLOSEPAREN",Zp="OPENANGLEBRACKET",Jp="CLOSEANGLEBRACKET",Qp="FULLWIDTHLEFTPAREN",em="FULLWIDTHRIGHTPAREN",tm="LEFTCORNERBRACKET",nm="RIGHTCORNERBRACKET",rm="LEFTWHITECORNERBRACKET",im="RIGHTWHITECORNERBRACKET",sm="FULLWIDTHLESSTHAN",om="FULLWIDTHGREATERTHAN",am="AMPERSAND",zx="APOSTROPHE",lm="ASTERISK",Qs="AT",um="BACKSLASH",cm="BACKTICK",fm="CARET",no="COLON",Ux="COMMA",dm="DOLLAR",Ei="DOT",hm="EQUALS",Vx="EXCLAMATION",Br="HYPHEN",Uc="PERCENT",pm="PIPE",mm="PLUS",gm="POUND",Vc="QUERY",Wx="QUOTE",DN="FULLWIDTHMIDDLEDOT",Kx="SEMI",Ci="SLASH",Wc="TILDE",ym="UNDERSCORE",LN="EMOJI",wm="SYM";var PN=Object.freeze({__proto__:null,WORD:ts,UWORD:Fb,ASCIINUMERICAL:IN,ALPHANUMERICAL:MN,LOCALHOST:cf,TLD:Bb,UTLD:jb,SCHEME:up,SLASH_SCHEME:Il,NUM:Hx,WS:Hb,NL:$x,OPENBRACE:$c,CLOSEBRACE:zc,OPENBRACKET:qp,CLOSEBRACKET:Gp,OPENPAREN:Xp,CLOSEPAREN:Yp,OPENANGLEBRACKET:Zp,CLOSEANGLEBRACKET:Jp,FULLWIDTHLEFTPAREN:Qp,FULLWIDTHRIGHTPAREN:em,LEFTCORNERBRACKET:tm,RIGHTCORNERBRACKET:nm,LEFTWHITECORNERBRACKET:rm,RIGHTWHITECORNERBRACKET:im,FULLWIDTHLESSTHAN:sm,FULLWIDTHGREATERTHAN:om,AMPERSAND:am,APOSTROPHE:zx,ASTERISK:lm,AT:Qs,BACKSLASH:um,BACKTICK:cm,CARET:fm,COLON:no,COMMA:Ux,DOLLAR:dm,DOT:Ei,EQUALS:hm,EXCLAMATION:Vx,HYPHEN:Br,PERCENT:Uc,PIPE:pm,PLUS:mm,POUND:gm,QUERY:Vc,QUOTE:Wx,FULLWIDTHMIDDLEDOT:DN,SEMI:Kx,SLASH:Ci,TILDE:Wc,UNDERSCORE:ym,EMOJI:LN,SYM:wm});const Zi=/[a-z]/,bc=new RegExp("\\p{L}","u"),pv=new RegExp("\\p{Emoji}","u"),Ji=/\d/,mv=/\s/,sA="\r",gv=`
`,Qee="️",ete="‍",yv="￼";let Vh=null,Wh=null;function tte(t=[]){const e={};lr.groups=e;const n=new lr;Vh==null&&(Vh=oA(qee)),Wh==null&&(Wh=oA(Gee)),Ie(n,"'",zx),Ie(n,"{",$c),Ie(n,"}",zc),Ie(n,"[",qp),Ie(n,"]",Gp),Ie(n,"(",Xp),Ie(n,")",Yp),Ie(n,"<",Zp),Ie(n,">",Jp),Ie(n,"（",Qp),Ie(n,"）",em),Ie(n,"「",tm),Ie(n,"」",nm),Ie(n,"『",rm),Ie(n,"』",im),Ie(n,"＜",sm),Ie(n,"＞",om),Ie(n,"&",am),Ie(n,"*",lm),Ie(n,"@",Qs),Ie(n,"`",cm),Ie(n,"^",fm),Ie(n,":",no),Ie(n,",",Ux),Ie(n,"$",dm),Ie(n,".",Ei),Ie(n,"=",hm),Ie(n,"!",Vx),Ie(n,"-",Br),Ie(n,"%",Uc),Ie(n,"|",pm),Ie(n,"+",mm),Ie(n,"#",gm),Ie(n,"?",Vc),Ie(n,'"',Wx),Ie(n,"/",Ci),Ie(n,";",Kx),Ie(n,"~",Wc),Ie(n,"_",ym),Ie(n,"\\",um),Ie(n,"・",DN);const r=$t(n,Ji,Hx,{[Mb]:!0});$t(r,Ji,r);const i=$t(r,Zi,IN,{[Hc]:!0}),s=$t(r,bc,MN,{[kc]:!0}),o=$t(n,Zi,ts,{[Db]:!0});$t(o,Ji,i),$t(o,Zi,o),$t(i,Ji,i),$t(i,Zi,i);const a=$t(n,bc,Fb,{[Lb]:!0});$t(a,Zi),$t(a,Ji,s),$t(a,bc,a),$t(s,Ji,s),$t(s,Zi),$t(s,bc,s);const u=Ie(n,gv,$x,{[hv]:!0}),c=Ie(n,sA,Hb,{[hv]:!0}),d=$t(n,mv,Hb,{[hv]:!0});Ie(n,yv,d),Ie(c,gv,u),Ie(c,yv,d),$t(c,mv,d),Ie(d,sA),Ie(d,gv),$t(d,mv,d),Ie(d,yv,d);const h=$t(n,pv,LN,{[ON]:!0});Ie(h,"#"),$t(h,pv,h),Ie(h,Qee,h);const p=Ie(h,ete);Ie(p,"#"),$t(p,pv,h);const m=[[Zi,o],[Ji,i]],w=[[Zi,null],[bc,a],[Ji,s]];for(let y=0;y<Vh.length;y++)Ws(n,Vh[y],Bb,ts,m);for(let y=0;y<Wh.length;y++)Ws(n,Wh[y],jb,Fb,w);ca(Bb,{tld:!0,ascii:!0},e),ca(jb,{utld:!0,alpha:!0},e),Ws(n,"file",up,ts,m),Ws(n,"mailto",up,ts,m),Ws(n,"http",Il,ts,m),Ws(n,"https",Il,ts,m),Ws(n,"ftp",Il,ts,m),Ws(n,"ftps",Il,ts,m),ca(up,{scheme:!0,ascii:!0},e),ca(Il,{slashscheme:!0,ascii:!0},e),t=t.sort((y,x)=>y[0]>x[0]?1:-1);for(let y=0;y<t.length;y++){const x=t[y][0],S=t[y][1]?{[Xee]:!0}:{[Yee]:!0};x.indexOf("-")>=0?S[Pb]=!0:Zi.test(x)?Ji.test(x)?S[Hc]=!0:S[Db]=!0:S[Mb]=!0,iA(n,x,x,S)}return iA(n,"localhost",cf,{ascii:!0}),n.jd=new lr(wm),{start:n,tokens:hu({groups:e},PN)}}function FN(t,e){const n=nte(e.replace(/[A-Z]/g,a=>a.toLowerCase())),r=n.length,i=[];let s=0,o=0;for(;o<r;){let a=t,u=null,c=0,d=null,h=-1,p=-1;for(;o<r&&(u=a.go(n[o]));)a=u,a.accepts()?(h=0,p=0,d=a):h>=0&&(h+=n[o].length,p++),c+=n[o].length,s+=n[o].length,o++;s-=h,o-=p,c-=h,i.push({t:d.t,v:e.slice(s-c,s),s:s-c,e:s})}return i}function nte(t){const e=[],n=t.length;let r=0;for(;r<n;){let i=t.charCodeAt(r),s,o=i<55296||i>56319||r+1===n||(s=t.charCodeAt(r+1))<56320||s>57343?t[r]:t.slice(r,r+2);e.push(o),r+=o.length}return e}function Ws(t,e,n,r,i){let s;const o=e.length;for(let a=0;a<o-1;a++){const u=e[a];t.j[u]?s=t.j[u]:(s=new lr(r),s.jr=i.slice(),t.j[u]=s),t=s}return s=new lr(n),s.jr=i.slice(),t.j[e[o-1]]=s,s}function oA(t){const e=[],n=[];let r=0,i="0123456789";for(;r<t.length;){let s=0;for(;i.indexOf(t[r+s])>=0;)s++;if(s>0){e.push(n.join(""));for(let o=parseInt(t.substring(r,r+s),10);o>0;o--)n.pop();r+=s}else n.push(t[r]),r++}return e}const ff={defaultProtocol:"http",events:null,format:aA,formatHref:aA,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function qx(t,e=null){let n=hu({},ff);t&&(n=hu(n,t instanceof qx?t.o:t));const r=n.ignoreTags,i=[];for(let s=0;s<r.length;s++)i.push(r[s].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}qx.prototype={o:ff,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:ff[t],typeof i=="function"&&r&&(i=i(e,n))):typeof i=="function"&&r&&(i=i(e,n.t,n)),i)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function aA(t){return t}function BN(t,e){this.t="token",this.v=t,this.tk=e}BN.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"…":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=ff.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),i=t.get("tagName",n,e),s=this.toFormattedString(t),o={},a=t.get("className",n,e),u=t.get("target",n,e),c=t.get("rel",n,e),d=t.getObj("attributes",n,e),h=t.getObj("events",n,e);return o.href=r,a&&(o.class=a),u&&(o.target=u),c&&(o.rel=c),d&&hu(o,d),{tagName:i,attributes:o,content:s,eventListeners:h}}};function bg(t,e){class n extends BN{constructor(i,s){super(i,s),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const lA=bg("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),uA=bg("text"),rte=bg("nl"),Kh=bg("url",{isLink:!0,toHref(t=ff.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==cf&&t[1].t===no}}),Fr=t=>new lr(t);function ite({groups:t}){const e=t.domain.concat([am,lm,Qs,um,cm,fm,dm,hm,Br,Hx,Uc,pm,mm,gm,Ci,wm,Wc,ym]),n=[no,Ux,Ei,Vx,Uc,Vc,Wx,Kx,Zp,Jp,$c,zc,Gp,qp,Xp,Yp,Qp,em,tm,nm,rm,im,sm,om],r=[am,zx,lm,um,cm,fm,dm,hm,Br,$c,zc,Uc,pm,mm,gm,Vc,Ci,wm,Wc,ym],i=Fr(),s=Ie(i,Wc);tt(s,r,s),tt(s,t.domain,s);const o=Fr(),a=Fr(),u=Fr();tt(i,t.domain,o),tt(i,t.scheme,a),tt(i,t.slashscheme,u),tt(o,r,s),tt(o,t.domain,o);const c=Ie(o,Qs);Ie(s,Qs,c),Ie(a,Qs,c),Ie(u,Qs,c);const d=Ie(s,Ei);tt(d,r,s),tt(d,t.domain,s);const h=Fr();tt(c,t.domain,h),tt(h,t.domain,h);const p=Ie(h,Ei);tt(p,t.domain,h);const m=Fr(lA);tt(p,t.tld,m),tt(p,t.utld,m),Ie(c,cf,m);const w=Ie(h,Br);Ie(w,Br,w),tt(w,t.domain,h),tt(m,t.domain,h),Ie(m,Ei,p),Ie(m,Br,w);const y=Ie(m,no);tt(y,t.numeric,lA);const x=Ie(o,Br),v=Ie(o,Ei);Ie(x,Br,x),tt(x,t.domain,o),tt(v,r,s),tt(v,t.domain,o);const S=Fr(Kh);tt(v,t.tld,S),tt(v,t.utld,S),tt(S,t.domain,o),tt(S,r,s),Ie(S,Ei,v),Ie(S,Br,x),Ie(S,Qs,c);const k=Ie(S,no),E=Fr(Kh);tt(k,t.numeric,E);const R=Fr(Kh),B=Fr();tt(R,e,R),tt(R,n,B),tt(B,e,R),tt(B,n,B),Ie(S,Ci,R),Ie(E,Ci,R);const $=Ie(a,no),K=Ie(u,no),F=Ie(K,Ci),ie=Ie(F,Ci);tt(a,t.domain,o),Ie(a,Ei,v),Ie(a,Br,x),tt(u,t.domain,o),Ie(u,Ei,v),Ie(u,Br,x),tt($,t.domain,R),Ie($,Ci,R),Ie($,Vc,R),tt(ie,t.domain,R),tt(ie,e,R),Ie(ie,Ci,R);const me=[[$c,zc],[qp,Gp],[Xp,Yp],[Zp,Jp],[Qp,em],[tm,nm],[rm,im],[sm,om]];for(let H=0;H<me.length;H++){const[X,N]=me[H],Z=Ie(R,X);Ie(B,X,Z),Ie(Z,N,R);const le=Fr(Kh);tt(Z,e,le);const G=Fr();tt(Z,n),tt(le,e,le),tt(le,n,G),tt(G,e,le),tt(G,n,G),Ie(le,N,R),Ie(G,N,R)}return Ie(i,cf,S),Ie(i,$x,rte),{start:i,tokens:PN}}function ste(t,e,n){let r=n.length,i=0,s=[],o=[];for(;i<r;){let a=t,u=null,c=null,d=0,h=null,p=-1;for(;i<r&&!(u=a.go(n[i].t));)o.push(n[i++]);for(;i<r&&(c=u||a.go(n[i].t));)u=null,a=c,a.accepts()?(p=0,h=a):p>=0&&p++,i++,d++;if(p<0)i-=d,i<r&&(o.push(n[i]),i++);else{o.length>0&&(s.push(wv(uA,e,o)),o=[]),i-=p,d-=p;const m=h.t,w=n.slice(i-d,i);s.push(wv(m,e,w))}}return o.length>0&&s.push(wv(uA,e,o)),s}function wv(t,e,n){const r=n[0].s,i=n[n.length-1].e,s=e.slice(r,i);return new t(s,n)}const ote=typeof console<"u"&&console&&console.warn||(()=>{}),ate="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Nt={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function lte(){return lr.groups={},Nt.scanner=null,Nt.parser=null,Nt.tokenQueue=[],Nt.pluginQueue=[],Nt.customSchemes=[],Nt.initialized=!1,Nt}function cA(t,e=!1){if(Nt.initialized&&ote(`linkifyjs: already initialized - will not register custom scheme "${t}" ${ate}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Nt.customSchemes.push([t,e])}function ute(){Nt.scanner=tte(Nt.customSchemes);for(let t=0;t<Nt.tokenQueue.length;t++)Nt.tokenQueue[t][1]({scanner:Nt.scanner});Nt.parser=ite(Nt.scanner.tokens);for(let t=0;t<Nt.pluginQueue.length;t++)Nt.pluginQueue[t][1]({scanner:Nt.scanner,parser:Nt.parser});return Nt.initialized=!0,Nt}function Gx(t){return Nt.initialized||ute(),ste(Nt.parser.start,t,FN(Nt.scanner.start,t))}Gx.scan=FN;function jN(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new qx(n),i=Gx(t),s=[];for(let o=0;o<i.length;o++){const a=i[o];a.isLink&&(!e||a.t===e)&&r.check(a)&&s.push(a.toFormattedObject(r))}return s}function cte(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function fte(t){return new gt({key:new xt("autolink"),appendTransaction:(e,n,r)=>{const i=e.some(c=>c.docChanged)&&!n.doc.eq(r.doc),s=e.some(c=>c.getMeta("preventAutolink"));if(!i||s)return;const{tr:o}=r,a=T7(n.doc,[...e]);if(R7(a).forEach(({newRange:c})=>{const d=A7(r.doc,c,m=>m.isTextblock);let h,p;if(d.length>1?(h=d[0],p=r.doc.textBetween(h.pos,h.pos+h.node.nodeSize,void 0," ")):d.length&&r.doc.textBetween(c.from,c.to," "," ").endsWith(" ")&&(h=d[0],p=r.doc.textBetween(h.pos,c.to,void 0," ")),h&&p){const m=p.split(" ").filter(v=>v!=="");if(m.length<=0)return!1;const w=m[m.length-1],y=h.pos+p.lastIndexOf(w);if(!w)return!1;const x=Gx(w).map(v=>v.toObject(t.defaultProtocol));if(!cte(x))return!1;x.filter(v=>v.isLink).map(v=>({...v,from:y+v.start+1,to:y+v.end+1})).filter(v=>r.schema.marks.code?!r.doc.rangeHasMark(v.from,v.to,r.schema.marks.code):!0).filter(v=>t.validate(v.value)).filter(v=>t.shouldAutoLink(v.value)).forEach(v=>{O2(v.from,v.to,r.doc).some(S=>S.mark.type===t.type)||o.addMark(v.from,v.to,t.type.create({href:v.href}))})}}),!!o.steps.length)return o}})}function dte(t){return new gt({key:new xt("handleClickLink"),props:{handleClick:(e,n,r)=>{var i,s;if(r.button!==0||!e.editable)return!1;let o=r.target;const a=[];for(;o.nodeName!=="DIV";)a.push(o),o=o.parentNode;if(!a.find(p=>p.nodeName==="A"))return!1;const u=_7(e.state,t.type.name),c=r.target,d=(i=c==null?void 0:c.href)!==null&&i!==void 0?i:u.href,h=(s=c==null?void 0:c.target)!==null&&s!==void 0?s:u.target;return c&&d?(window.open(d,h),!0):!1}}})}function hte(t){return new gt({key:new xt("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{state:i}=e,{selection:s}=i,{empty:o}=s;if(o)return!1;let a="";r.content.forEach(c=>{a+=c.textContent});const u=jN(a,{defaultProtocol:t.defaultProtocol}).find(c=>c.isLink&&c.value===a);return!a||!u?!1:t.editor.commands.setMark(t.type,{href:u.href})}}})}const pte=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function Zo(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&n.push(i)}),!t||t.replace(pte,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}const mte=yr.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){cA(t);return}cA(t.scheme,t.optionalSlashes)})},onDestroy(){lte()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!Zo(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!Zo(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!Zo(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",kt(this.options.HTMLAttributes,t),0]:["a",kt(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Zo(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Zo(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run():!1},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[yo({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,i=jN(t).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:o=>!!Zo(o,n),protocols:n,defaultProtocol:r}));i.length&&i.forEach(s=>e.push({text:s.value,data:{href:s.href},index:s.start}))}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(fte({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!Zo(i,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(dte({type:this.type})),this.options.linkOnPaste&&t.push(hte({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}}),gte=mte.extend({inclusive:!1,parseHTML(){return[{tag:'a[href]:not([data-type="button"]):not([href *= "javascript:" i])'}]},addProseMirrorPlugins(){var e;const{editor:t}=this;return[...((e=this.parent)==null?void 0:e.call(this))||[],new gt({props:{handleKeyDown:(n,r)=>{const{selection:i}=t.state;return r.key==="Escape"&&i.empty!==!0&&t.commands.focus(i.to,{scrollIntoView:!1}),!1},handleClick(n,r){const{schema:i,doc:s,tr:o}=n.state;let a;if(i.marks.link&&(a=zm(s.resolve(r),i.marks.link)),!a)return;const{from:u,to:c}=a,d=Math.min(u,c),h=Math.max(u,c);if(r<d||r>h)return;const p=s.resolve(d),m=s.resolve(h),w=o.setSelection(new Ye(p,m));n.dispatch(w)}}})]}}),yte=ht.create({name:"selection",addProseMirrorPlugins(){const{editor:t}=this;return[new gt({key:new xt("selection"),props:{decorations(e){return e.selection.empty||t.isFocused===!0||!t.isEditable||Gr(e.selection)?null:Mt.create(e.doc,[Nn.inline(e.selection.from,e.selection.to,{class:"selection"})])}}})]}});function fA({types:t,node:e}){return e?Array.isArray(t)?t.includes(e.type):e.type===t:!1}const wte=ht.create({name:"trailingNode",addOptions(){return{node:"paragraph",notAfter:["paragraph"]}},addProseMirrorPlugins(){const t=new xt(this.name),e=Object.entries(this.editor.schema.nodes).map(([,n])=>n).filter(n=>this.options.notAfter.includes(n.name));return[new gt({key:t,appendTransaction:(n,r,i)=>{const{doc:s,tr:o,schema:a}=i,u=t.getState(i),c=s.content.size,d=a.nodes[this.options.node];return u&&d?o.insert(c,d.create()):null},state:{init:(n,r)=>{const i=r.tr.doc.lastChild;return!fA({node:i,types:e})},apply:(n,r)=>{if(!n.docChanged)return r;const i=n.doc.lastChild;return!fA({node:i,types:e})}}})]}}),vte=t=>{if(!t.children.length)return;const e=t.querySelectorAll("span");e&&e.forEach(n=>{var r,i;const s=n.getAttribute("style"),o=(i=(r=n.parentElement)===null||r===void 0?void 0:r.closest("span"))===null||i===void 0?void 0:i.getAttribute("style");n.setAttribute("style",`${o};${s}`)})},bte=yr.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!1}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&vte(t),{}):!1}]},renderHTML({HTMLAttributes:t}){return["span",kt(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({tr:t})=>{const{selection:e}=t;return t.doc.nodesBetween(e.from,e.to,(n,r)=>{if(n.isTextblock)return!0;n.marks.filter(i=>i.type===this.type).some(i=>Object.values(i.attrs).some(s=>!!s))||t.removeMark(r,r+n.nodeSize,this.type)}),!0}}}}),xte=ht.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:["paragraph"],attributes:{class:{}}},{types:this.options.types,attributes:{fontSize:{parseHTML:t=>t.style.fontSize.replace(/['"]+/g,""),renderHTML:t=>t.fontSize?{style:`font-size: ${t.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:t=>({chain:e})=>e().setMark("textStyle",{fontSize:t}).run(),unsetFontSize:()=>({chain:t})=>t().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),Ete=ht.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:t=>t.style.fontFamily,renderHTML:t=>t.fontFamily?{style:`font-family: ${t.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:t=>({chain:e})=>e().setMark("textStyle",{fontFamily:t}).run(),unsetFontFamily:()=>({chain:t})=>t().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),Cte=ht.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;return(e=t.style.color)===null||e===void 0?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),HN=A.memo(({className:t,...e})=>z.jsx("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:z.jsx("path",{d:"M18.7071 6.70711C19.0976 6.31658 19.0976 5.68342 18.7071 5.29289C18.3166 4.90237 17.6834 4.90237 17.2929 5.29289L12 10.5858L6.70711 5.29289C6.31658 4.90237 5.68342 4.90237 5.29289 5.29289C4.90237 5.68342 4.90237 6.31658 5.29289 6.70711L10.5858 12L5.29289 17.2929C4.90237 17.6834 4.90237 18.3166 5.29289 18.7071C5.68342 19.0976 6.31658 19.0976 6.70711 18.7071L12 13.4142L17.2929 18.7071C17.6834 19.0976 18.3166 19.0976 18.7071 18.7071C19.0976 18.3166 19.0976 17.6834 18.7071 17.2929L13.4142 12L18.7071 6.70711Z",fill:"currentColor"})}));HN.displayName="CloseIcon";function Ste(t){const[e,n]=A.useState(null),r=async o=>{var c,d,h;if(o.size>t.maxSize){const p=new Error(`File size exceeds maximum allowed (${t.maxSize/1024/1024}MB)`);return(c=t.onError)==null||c.call(t,p),null}const a=new AbortController,u={id:crypto.randomUUID(),file:o,progress:0,status:"uploading",abortController:a};n(u);try{if(!t.upload)throw new Error("Upload function is not defined");const p=await t.upload(o,m=>{n(w=>w?{...w,progress:m.progress}:null)},a.signal);if(!p)throw new Error("Upload failed: No URL returned");return a.signal.aborted?null:(n(m=>m?{...m,status:"success",url:p,progress:100}:null),(d=t.onSuccess)==null||d.call(t,p),p)}catch(p){return a.signal.aborted||(n(m=>m?{...m,status:"error",progress:0}:null),(h=t.onError)==null||h.call(t,p instanceof Error?p:new Error("Upload failed"))),null}};return{fileItem:e,uploadFiles:async o=>{var u,c,d;if(!o||o.length===0)return(u=t.onError)==null||u.call(t,new Error("No files to upload")),null;if(t.limit&&o.length>t.limit)return(c=t.onError)==null||c.call(t,new Error(`Maximum ${t.limit} file${t.limit===1?"":"s"} allowed`)),null;const a=o[0];return a?r(a):((d=t.onError)==null||d.call(t,new Error("File is undefined")),null)},clearFileItem:()=>{e&&(e.abortController&&e.abortController.abort(),e.url&&URL.revokeObjectURL(e.url),n(null))}}}const $N=()=>z.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",className:"tiptap-image-upload-icon",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[z.jsx("path",{d:"M11.1953 4.41771C10.3478 4.08499 9.43578 3.94949 8.5282 4.02147C7.62062 4.09345 6.74133 4.37102 5.95691 4.83316C5.1725 5.2953 4.50354 5.92989 4.00071 6.68886C3.49788 7.44783 3.17436 8.31128 3.05465 9.2138C2.93495 10.1163 3.0222 11.0343 3.3098 11.8981C3.5974 12.7619 4.07781 13.5489 4.71463 14.1995C5.10094 14.5942 5.09414 15.2274 4.69945 15.6137C4.30476 16 3.67163 15.9932 3.28532 15.5985C2.43622 14.731 1.79568 13.6816 1.41221 12.5299C1.02875 11.3781 0.91241 10.1542 1.07201 8.95084C1.23162 7.74748 1.66298 6.59621 2.33343 5.58425C3.00387 4.57229 3.89581 3.72617 4.9417 3.10998C5.98758 2.4938 7.15998 2.1237 8.37008 2.02773C9.58018 1.93176 10.7963 2.11243 11.9262 2.55605C13.0561 2.99968 14.0703 3.69462 14.8919 4.58825C15.5423 5.29573 16.0585 6.11304 16.4177 7.00002H17.4999C18.6799 6.99991 19.8288 7.37933 20.7766 8.08222C21.7245 8.78515 22.4212 9.7743 22.7637 10.9036C23.1062 12.0328 23.0765 13.2423 22.6788 14.3534C22.2812 15.4644 21.5367 16.4181 20.5554 17.0736C20.0962 17.3803 19.4752 17.2567 19.1684 16.7975C18.8617 16.3382 18.9853 15.7172 19.4445 15.4105C20.069 14.9934 20.5427 14.3865 20.7958 13.6794C21.0488 12.9724 21.0678 12.2027 20.8498 11.4841C20.6318 10.7655 20.1885 10.136 19.5853 9.6887C18.9821 9.24138 18.251 8.99993 17.5001 9.00002H15.71C15.2679 9.00002 14.8783 8.70973 14.7518 8.28611C14.4913 7.41374 14.0357 6.61208 13.4195 5.94186C12.8034 5.27164 12.0427 4.75043 11.1953 4.41771Z",fill:"currentColor"}),z.jsx("path",{d:"M11 14.4142V21C11 21.5523 11.4477 22 12 22C12.5523 22 13 21.5523 13 21V14.4142L15.2929 16.7071C15.6834 17.0976 16.3166 17.0976 16.7071 16.7071C17.0976 16.3166 17.0976 15.6834 16.7071 15.2929L12.7078 11.2936C12.7054 11.2912 12.703 11.2888 12.7005 11.2864C12.5208 11.1099 12.2746 11.0008 12.003 11L12 11L11.997 11C11.8625 11.0004 11.7343 11.0273 11.6172 11.0759C11.502 11.1236 11.3938 11.1937 11.2995 11.2864C11.297 11.2888 11.2946 11.2912 11.2922 11.2936L7.29289 15.2929C6.90237 15.6834 6.90237 16.3166 7.29289 16.7071C7.68342 17.0976 8.31658 17.0976 8.70711 16.7071L11 14.4142Z",fill:"currentColor"})]}),kte=()=>z.jsx("svg",{width:"43",height:"57",viewBox:"0 0 43 57",fill:"currentColor",className:"tiptap-image-upload-dropzone-rect-primary",xmlns:"http://www.w3.org/2000/svg",children:z.jsx("path",{d:"M0.75 10.75C0.75 5.64137 4.89137 1.5 10 1.5H32.3431C33.2051 1.5 34.0317 1.84241 34.6412 2.4519L40.2981 8.10876C40.9076 8.71825 41.25 9.5449 41.25 10.4069V46.75C41.25 51.8586 37.1086 56 32 56H10C4.89137 56 0.75 51.8586 0.75 46.75V10.75Z",fill:"currentColor",fillOpacity:"0.11",stroke:"currentColor",strokeWidth:"1.5"})}),Tte=()=>z.jsx("svg",{width:"10",height:"10",className:"tiptap-image-upload-dropzone-rect-secondary",viewBox:"0 0 10 10",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:z.jsx("path",{d:"M0 0.75H0.343146C1.40401 0.75 2.42143 1.17143 3.17157 1.92157L8.82843 7.57843C9.57857 8.32857 10 9.34599 10 10.4069V10.75H4C1.79086 10.75 0 8.95914 0 6.75V0.75Z",fill:"currentColor"})}),Ate=({onFile:t,children:e})=>{const[n,r]=A.useState(!1),i=a=>{r(!1),a.preventDefault(),a.stopPropagation();const u=Array.from(a.dataTransfer.files);t(u)},s=a=>{a.preventDefault(),r(!0)},o=a=>{a.preventDefault(),r(!1)};return z.jsx("div",{className:`tiptap-image-upload-dragger ${n?"tiptap-image-upload-dragger-active":""}`,onDrop:i,onDragOver:s,onDragLeave:o,children:e})},_te=({file:t,progress:e,status:n,onRemove:r})=>{const i=s=>{if(s===0)return"0 Bytes";const o=1024,a=["Bytes","KB","MB","GB"],u=Math.floor(Math.log(s)/Math.log(o));return`${parseFloat((s/Math.pow(o,u)).toFixed(2))} ${a[u]}`};return z.jsxs("div",{className:"tiptap-image-upload-preview",children:[n==="uploading"&&z.jsx("div",{className:"tiptap-image-upload-progress",style:{width:`${e}%`}}),z.jsxs("div",{className:"tiptap-image-upload-preview-content",children:[z.jsxs("div",{className:"tiptap-image-upload-file-info",children:[z.jsx("div",{className:"tiptap-image-upload-file-icon",children:z.jsx($N,{})}),z.jsxs("div",{className:"tiptap-image-upload-details",children:[z.jsx("span",{className:"tiptap-image-upload-text",children:t.name}),z.jsx("span",{className:"tiptap-image-upload-subtext",children:i(t.size)})]})]}),z.jsxs("div",{className:"tiptap-image-upload-actions",children:[n==="uploading"&&z.jsxs("span",{className:"tiptap-image-upload-progress-text",children:[e,"%"]}),z.jsx("button",{className:"tiptap-image-upload-close-btn",onClick:s=>{s.stopPropagation(),r()},children:z.jsx(HN,{})})]})]})]})},Rte=({maxSize:t})=>z.jsxs(z.Fragment,{children:[z.jsxs("div",{className:"tiptap-image-upload-dropzone",children:[z.jsx(kte,{}),z.jsx(Tte,{}),z.jsx("div",{className:"tiptap-image-upload-icon-container",children:z.jsx($N,{})})]}),z.jsxs("div",{className:"tiptap-image-upload-content",children:[z.jsxs("span",{className:"tiptap-image-upload-text",children:[z.jsx("em",{children:"Click to upload"})," or drag and drop"]}),z.jsxs("span",{className:"tiptap-image-upload-subtext",children:["Maximum file size ",t/1024/1024,"MB."]})]})]}),Nte=t=>{const{accept:e,limit:n,maxSize:r}=t.node.attrs,i=A.useRef(null),s=t.extension,o={maxSize:r,limit:n,accept:e,upload:s.options.upload,onSuccess:s.options.onSuccess,onError:s.options.onError},{fileItem:a,uploadFiles:u,clearFileItem:c}=Ste(o),d=m=>{var y,x;const w=m.target.files;if(!w||w.length===0){(x=(y=s.options).onError)==null||x.call(y,new Error("No file selected"));return}h(Array.from(w))},h=async m=>{var y;const w=await u(m);if(w){const x=t.getPos(),v=((y=m[0])==null?void 0:y.name.replace(/\.[^/.]+$/,""))||"unknown";t.editor.chain().focus().deleteRange({from:x,to:x+1}).insertContentAt(x,[{type:"image",attrs:{src:w,alt:v,title:v}}]).run()}},p=()=>{i.current&&!a&&(i.current.value="",i.current.click())};return z.jsxs(DH,{className:"tiptap-image-upload",tabIndex:0,onClick:p,children:[!a&&z.jsx(Ate,{onFile:h,children:z.jsx(Rte,{maxSize:r})}),a&&z.jsx(_te,{file:a.file,progress:a.progress,status:a.status,onRemove:c}),z.jsx("input",{ref:i,name:"file",accept:e,type:"file",onChange:d,onClick:m=>m.stopPropagation()})]})},Ote=er.create({name:"imageUpload",group:"block",draggable:!0,selectable:!0,atom:!0,addOptions(){return{accept:"image/*",limit:1,maxSize:0,upload:void 0,onError:void 0,onSuccess:void 0}},addAttributes(){return{accept:{default:this.options.accept},limit:{default:this.options.limit},maxSize:{default:this.options.maxSize}}},parseHTML(){return[{tag:'div[data-type="image-upload"]'}]},renderHTML({HTMLAttributes:t}){return["div",kt({"data-type":"image-upload"},t)]},addNodeView(){return jH(Nte)},addCommands(){return{setImageUploadNode:(t={})=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addKeyboardShortcuts(){return{Enter:({editor:t})=>{const{selection:e}=t.state,{nodeAfter:n}=e.$from;if(n&&n.type.name==="imageUpload"&&t.isActive("imageUpload")){const r=t.view.nodeDOM(e.$from.pos);if(r&&r instanceof HTMLElement){const i=r.firstChild;if(i&&i instanceof HTMLElement)return i.click(),!0}}return!1}}}}),Ite=({key:t,editor:e,onPaste:n,onDrop:r,allowedMimeTypes:i})=>new gt({key:t||new xt("fileHandler"),props:{handleDrop(s,o){var a;if(!r||!(!((a=o.dataTransfer)===null||a===void 0)&&a.files.length))return!1;const u=s.posAtCoords({left:o.clientX,top:o.clientY});let c=Array.from(o.dataTransfer.files);return i&&(c=c.filter(d=>i.includes(d.type))),c.length!==0&&(o.preventDefault(),o.stopPropagation(),r(e,c,(u==null?void 0:u.pos)||0),!0)},handlePaste(s,o){var a;if(!n||!(!((a=o.clipboardData)===null||a===void 0)&&a.files.length))return!1;let u=Array.from(o.clipboardData.files);const c=o.clipboardData.getData("text/html");return i&&(u=u.filter(d=>i.includes(d.type))),u.length!==0&&(o.preventDefault(),o.stopPropagation(),n(e,u,c),!(c.length>0))}}}),Mte=ht.create({name:"fileHandler",addOptions:()=>({onPaste:void 0,onDrop:void 0,allowedMimeTypes:void 0}),addProseMirrorPlugins(){return[Ite({key:new xt(this.name),editor:this.editor,allowedMimeTypes:this.options.allowedMimeTypes,onDrop:this.options.onDrop,onPaste:this.options.onPaste})]}});class dA{static fileHandler(){return{allowedMimeTypes:["image/png","image/jpeg","image/gif","image/webp"],onDrop:(e,n,r)=>{n.forEach(i=>{this.uploadImage(e,i,r)})},onPaste:(e,n,r)=>{n.forEach(i=>{if(r)return console.log(r),!1;this.uploadImage(e,i,e.state.selection.anchor)})}}}static uploadImage(e,n,r){const i=new FileReader;i.readAsDataURL(n),i.onload=()=>{e.chain().insertContentAt(r,{type:"image",attrs:{src:i.result}}).focus().run()}}static exportDocx(){return{onCompleteExport:e=>{const n="arquivo-documento",r=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}),i=URL.createObjectURL(r),s=document.createElement("a");s.href=i,s.download=`${n}.docx`,s.click(),URL.revokeObjectURL(i)}}}}const Dte=[qq,Qq.configure({types:["heading","paragraph"]}),_G,Jq,Zq.configure({nested:!0}),kG.configure({multicolor:!0}),Xq,EG,AG,TG,xte,Ete,bte,Cte,yte,Ote.configure({accept:"image/*",maxSize:cb,limit:3,upload:Wz,onError:t=>console.error("Upload failed:",t)}),wte,gte.configure({openOnClick:!0}),jee.configure(dA.exportDocx()),Kee.configure({types:["heading","paragraph"]}),qK.configure({pageHeight:842,pageGap:20,pageBreakBackground:"#f9fbfd",pageHeaderHeight:50}),Mte.configure(dA.fileHandler())];function Lte(){const{editor:t}=Ba(),e=A.useMemo(()=>new ER(t),[t]);return z.jsxs(z.Fragment,{children:[z.jsx("button",{onClick:()=>e.alterarTextoIA("aumentartexto"),children:"B1"}),z.jsx("button",{onClick:()=>e.adicionarTextoIA(),children:"B2"})]})}const Xx=[{label:"Green",value:"var(--tt-color-highlight-green)",border:"var(--tt-color-highlight-green-contrast)"},{label:"Blue",value:"var(--tt-color-highlight-blue)",border:"var(--tt-color-highlight-blue-contrast)"},{label:"Red",value:"var(--tt-color-highlight-red)",border:"var(--tt-color-highlight-red-contrast)"},{label:"Purple",value:"var(--tt-color-highlight-purple)",border:"var(--tt-color-highlight-purple-contrast)"},{label:"Yellow",value:"var(--tt-color-highlight-yellow)",border:"var(--tt-color-highlight-yellow-contrast)"}];function zN({editor:t,containerRef:e,query:n,items:r,onSelect:i,onClose:s,orientation:o="vertical",autoSelectFirstItem:a=!0}){const[u,c]=A.useState(a?0:-1);return A.useEffect(()=>{const d=p=>{if(!r.length)return!1;const m=()=>c(y=>y===-1?0:(y+1)%r.length),w=()=>c(y=>y===-1?r.length-1:(y-1+r.length)%r.length);switch(p.key){case"ArrowUp":return o==="horizontal"?!1:(p.preventDefault(),w(),!0);case"ArrowDown":return o==="horizontal"?!1:(p.preventDefault(),m(),!0);case"ArrowLeft":return o==="vertical"?!1:(p.preventDefault(),w(),!0);case"ArrowRight":return o==="vertical"?!1:(p.preventDefault(),m(),!0);case"Tab":return p.preventDefault(),p.shiftKey?w():m(),!0;case"Home":return p.preventDefault(),c(0),!0;case"End":return p.preventDefault(),c(r.length-1),!0;case"Enter":return p.isComposing?!1:(p.preventDefault(),u!==-1&&r[u]&&(i==null||i(r[u])),!0);case"Escape":return p.preventDefault(),s==null||s(),!0;default:return!1}};let h=null;if(t?h=t.view.dom:e!=null&&e.current&&(h=e.current),h)return h.addEventListener("keydown",d,!0),()=>{h==null||h.removeEventListener("keydown",d,!0)}},[t,e,r,u,i,s,o]),A.useEffect(()=>{n&&c(a?0:-1)},[n,a]),{selectedIndex:r.length?u:void 0,setSelectedIndex:c}}function xg(t,e,n=void 0){return()=>t.chain().focus()[e](n).run()}const Yx=A.memo(({className:t,...e})=>z.jsx("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:z.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.43471 4.01458C4.34773 4.06032 4.26607 4.11977 4.19292 4.19292C4.11977 4.26607 4.06032 4.34773 4.01458 4.43471C2.14611 6.40628 1 9.0693 1 12C1 18.0751 5.92487 23 12 23C14.9306 23 17.5936 21.854 19.5651 19.9856C19.6522 19.9398 19.7339 19.8803 19.8071 19.8071C19.8803 19.7339 19.9398 19.6522 19.9856 19.5651C21.854 17.5936 23 14.9306 23 12C23 5.92487 18.0751 1 12 1C9.0693 1 6.40628 2.14611 4.43471 4.01458ZM6.38231 4.9681C7.92199 3.73647 9.87499 3 12 3C16.9706 3 21 7.02944 21 12C21 14.125 20.2635 16.078 19.0319 17.6177L6.38231 4.9681ZM17.6177 19.0319C16.078 20.2635 14.125 21 12 21C7.02944 21 3 16.9706 3 12C3 9.87499 3.73647 7.92199 4.9681 6.38231L17.6177 19.0319Z",fill:"currentColor"})}));Yx.displayName="BanIcon";function Pte(t){const{color:e,isActive:n,onClick:r}=t;return z.jsx(Dt,{type:"button","data-style":"ghost","data-active-state":n?"on":"off",role:"button",tabIndex:-1,"aria-label":`${e} text color`,onClick:()=>r(e),children:z.jsx(z.Fragment,{children:z.jsx("span",{className:"tiptap-button-highlight",style:{"--highlight-color":e}})})})}function Fte(t){const{editor:e,colors:n,onClose:r,removeColor:i,selectedIndex:s}=t,o=A.useRef(null);A.useEffect(()=>{console.log("selectedIndex: ",s)},[e]),console.log("colors: ",n);const a=e==null?void 0:e.getAttributes("textStyle").color,u=A.useCallback(d=>a==d,[e]),c=A.useCallback(d=>{xg(e,"setColor",d)(),r()},[e]);return z.jsxs("div",{ref:o,className:"tiptap-color-highlight-content",tabIndex:0,children:[z.jsx("div",{className:"tiptap-button-group","data-orientation":"horizontal",children:n.map((d,h)=>z.jsx(Pte,{isActive:u(d.value),editor:e,color:d.value,"aria-label":`${d.label} text color`,tabIndex:h===s?0:-1,"data-highlighted":s===h,onClick:p=>c(p)},d.value))}),z.jsx(Ha,{}),z.jsx("div",{className:"tiptap-button-group",children:z.jsx(Dt,{onClick:i,"aria-label":"Remove highlight",tabIndex:s===n.length?0:-1,type:"button",role:"menuitem","data-style":"ghost","data-highlighted":s===n.length,children:z.jsx(Yx,{className:"tiptap-button-icon"})})})]})}function Bte({onClose:t,...e}){const{editor:n}=Ba(),[r,i]=A.useState(!1),s=A.useRef(null),a=(n==null?void 0:n.getAttributes("textStyle").color)??!1,u=Xx,c=A.useMemo(()=>[...u,{label:"Remover cor",value:"none"}],[u]),d=A.useCallback(()=>{if(!n)return;xg(n,"unsetColor")(),t()},[n,t]),{selectedIndex:h}=zN({containerRef:s,items:c,orientation:"both",onSelect:p=>{p.value==="none"&&d(),t==null||t()},onClose:t,autoSelectFirstItem:!1});return z.jsxs(ig,{open:r,onOpenChange:i,children:[z.jsx(Df,{asChild:!0,children:z.jsx(Dt,{type:"button",className:"tiptap-button","data-style":"ghost","data-appearance":"default",role:"button",tabIndex:-1,"aria-label":"Highlight text",tooltip:"Highlight","data-active-state":a?"on":"off","aria-pressed":a,...e,children:z.jsx(NW,{className:"tiptap-button-icon"})})}),z.jsx(Lf,{"aria-label":"Cor do texto",children:z.jsx(Fte,{editor:n,colors:u,onClose:()=>i(!1),removeColor:d,"data-highlighted":h===u.length,selectedIndex:h})})]})}const UN=A.createContext(null);function Zx(){const t=A.useContext(UN);if(!t)throw new Error("DropdownMenu components must be wrapped in <DropdownMenu />");return t}function jte({initialOpen:t=!1,open:e,onOpenChange:n,side:r="bottom",align:i="start"}){const[s,o]=A.useState(t),[a,u]=A.useState(`${r}-${i}`),[c,d]=A.useState(null),h=e??s,p=n??o,m=A.useRef([]),w=A.useRef([]),y=rx({open:h,onOpenChange:p,placement:a,middleware:[Z2({mainAxis:4}),Q2(),J2({padding:4})],whileElementsMounted:Y2}),{context:x}=y,v=ix([M_(x,{event:"mousedown",toggle:!0,ignoreMouse:!1}),sx(x,{role:"menu"}),nx(x,{outsidePress:!0,outsidePressEvent:"mousedown"}),Oz(x,{listRef:m,activeIndex:c,onNavigate:d,loop:!0}),Mz(x,{listRef:w,onMatch:h?d:void 0,activeIndex:c})]),S=A.useCallback((k,E)=>{u(`${k}-${E}`)},[]);return A.useMemo(()=>({open:h,setOpen:p,activeIndex:c,setActiveIndex:d,elementsRef:m,labelsRef:w,updatePosition:S,...v,...y}),[h,p,c,v,y,S])}function Eg({children:t,...e}){const n=jte(e);return z.jsx(UN.Provider,{value:n,children:z.jsx(rz,{elementsRef:n.elementsRef,labelsRef:n.labelsRef,children:t})})}const Vf=A.forwardRef(({children:t,asChild:e=!1,...n},r)=>{const i=Zx(),s=A.isValidElement(t)?parseInt(A.version,10)>=19?t.props.ref:t.ref:void 0,o=ja([i.refs.setReference,r,s]);if(e&&A.isValidElement(t)){const a={"data-state":i.open?"open":"closed"};return A.cloneElement(t,i.getReferenceProps({ref:o,...n,...typeof t.props=="object"?t.props:{},"aria-expanded":i.open,"aria-haspopup":"menu",...a}))}return z.jsx("button",{ref:o,"aria-expanded":i.open,"aria-haspopup":"menu","data-state":i.open?"open":"closed",...i.getReferenceProps(n),children:t})});Vf.displayName="DropdownMenuTrigger";const Wf=A.forwardRef(({style:t,className:e,orientation:n="vertical",side:r="bottom",align:i="start",portal:s=!0,portalProps:o={},...a},u)=>{const c=Zx(),d=ja([c.refs.setFloating,u]);if(A.useEffect(()=>{c.updatePosition(r,i)},[c,r,i]),!c.open)return null;const h=z.jsx(I_,{context:c.context,modal:!1,initialFocus:0,returnFocus:!0,children:z.jsx("div",{ref:d,className:`tiptap-dropdown-menu ${e||""}`,style:{position:c.strategy,top:c.y??0,left:c.x??0,outline:"none",...t},"aria-orientation":n,"data-orientation":n,"data-state":c.open?"open":"closed","data-side":r,"data-align":i,...c.getFloatingProps(a),children:a.children})});return s?z.jsx(tx,{...o,children:h}):h});Wf.displayName="DropdownMenuContent";const Kf=A.forwardRef(({children:t,disabled:e,asChild:n=!1,onSelect:r,className:i,...s},o)=>{const a=Zx(),u=iz({label:e?null:t==null?void 0:t.toString()}),c=a.activeIndex===u.index,d=A.useCallback(p=>{var m;e||(r==null||r(),(m=s.onClick)==null||m.call(s,p),a.setOpen(!1))},[a,e,r,s]),h={ref:ja([u.ref,o]),role:"menuitem",className:i,tabIndex:c?0:-1,"data-highlighted":c,"aria-disabled":e,...a.getItemProps({...s,onClick:d})};if(n&&A.isValidElement(t)){const p=t.props,m={...h,...typeof t.props=="object"?t.props:{}},w={onClick:y=>{var x;d(y),(x=p.onClick)==null||x.call(p,y)}};return A.cloneElement(t,{...m,...w})}return z.jsx("div",{...h,children:t})});Kf.displayName="DropdownMenuItem";const Jx=A.forwardRef(({children:t,label:e,className:n,...r},i)=>z.jsx("div",{...r,ref:i,role:"group","aria-label":e,className:`tiptap-button-group ${n||""}`,children:t}));Jx.displayName="DropdownMenuGroup";const Hte=A.forwardRef(({className:t,...e},n)=>z.jsx(Ha,{ref:n,className:`tiptap-dropdown-menu-separator ${t||""}`,...e}));Hte.displayName=Ha.displayName;const qf=A.memo(({className:t,...e})=>z.jsx("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:z.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.29289 8.29289C5.68342 7.90237 6.31658 7.90237 6.70711 8.29289L12 13.5858L17.2929 8.29289C17.6834 7.90237 18.3166 7.90237 18.7071 8.29289C19.0976 8.68342 19.0976 9.31658 18.7071 9.70711L12.7071 15.7071C12.3166 16.0976 11.6834 16.0976 11.2929 15.7071L5.29289 9.70711C4.90237 9.31658 4.90237 8.68342 5.29289 8.29289Z",fill:"currentColor"})}));qf.displayName="ChevronDownIcon";function $te(){const t=["Arial","Times New Roman","Georgia","Garamond","Calibri","Cambria"],[e,n]=A.useState(!1),[r,i]=A.useState("Arial"),{editor:s}=Ba(),o=s==null?void 0:s.getAttributes("textStyle");if(A.useEffect(()=>{i((o==null?void 0:o.fontFamily)??"Arial")},[s,t]),A.useEffect(()=>{s==null||s.chain().focus().setFontFamily("Arial").run()},[]),!!s)return z.jsxs(Eg,{open:e,onOpenChange:n,children:[z.jsx(Vf,{asChild:!0,children:z.jsxs(Dt,{type:"button","data-style":"ghost",children:[r?t.find(a=>a===r):"Fontes",z.jsx(qf,{className:"tiptap-button-dropdown-small"})]})}),z.jsx(Wf,{children:t.map(a=>z.jsx(Kf,{asChild:!0,children:z.jsx(Dt,{onClick:()=>{xg(s,"setFontFamily",a)(),i(a),n(!1)},"data-style":"ghost",role:"menuitem","data-active-state":r===a?"on":"off",children:a})},a))})]})}function zte(){const[t,e]=A.useState("16px"),{editor:n}=Ba(),r=n==null?void 0:n.getAttributes("textStyle"),i=[12,16,20,24,30,36,48];function s(o){const a=n.getAttributes("heading").level;a&&n.chain().focus().toggleHeading({level:a}).run(),e(o),xg(n,"setFontSize",o)()}if(A.useEffect(()=>{const o=r==null?void 0:r.fontSize;e(o??"16px")},[n,r]),!!n)return z.jsxs(Eg,{children:[z.jsx(Vf,{onClick:o=>{o.stopPropagation()},children:z.jsxs(Dt,{type:"button","data-style":"ghost",children:[t,z.jsx(qf,{className:"tiptap-button-dropdown-small"})]})}),z.jsx(Wf,{children:i.map(o=>z.jsx(Kf,{asChild:!0,children:z.jsx(Dt,{onClick:()=>s(`${o}px`),"data-style":"ghost",role:"menuitem","data-active-state":t===`${o}px`?"on":"off",children:`${o}px`})},o))})]})}const $b=A.forwardRef(({orientation:t="horizontal",size:e,className:n="",style:r={},...i},s)=>{const o={...r,...t==="horizontal"&&!e&&{flex:1},...e&&{width:t==="vertical"?"1px":e,height:t==="horizontal"?"1px":e}};return z.jsx("div",{ref:s,...i,className:n,style:o})});$b.displayName="Spacer";const VN=A.memo(({className:t,...e})=>z.jsxs("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[z.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 6C8 5.44772 8.44772 5 9 5H16C16.5523 5 17 5.44772 17 6C17 6.55228 16.5523 7 16 7H9C8.44772 7 8 6.55228 8 6Z",fill:"currentColor"}),z.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 3C4.55228 3 5 3.44772 5 4L5 20C5 20.5523 4.55229 21 4 21C3.44772 21 3 20.5523 3 20L3 4C3 3.44772 3.44772 3 4 3Z",fill:"currentColor"}),z.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 12C8 11.4477 8.44772 11 9 11H20C20.5523 11 21 11.4477 21 12C21 12.5523 20.5523 13 20 13H9C8.44772 13 8 12.5523 8 12Z",fill:"currentColor"}),z.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 18C8 17.4477 8.44772 17 9 17H16C16.5523 17 17 17.4477 17 18C17 18.5523 16.5523 19 16 19H9C8.44772 19 8 18.5523 8 18Z",fill:"currentColor"})]}));VN.displayName="BlockQuoteIcon";function Ute(t){if(!t)return!1;try{return t.can().toggleWrap("blockquote")}catch{return!1}}function Vte(t){return t?t.isActive("blockquote"):!1}function Wte(t){return t?t.chain().focus().toggleWrap("blockquote").run():!1}function Kte(t,e,n=!1){return!!(!t||n||!e)}function qte(t){const{editor:e,hideWhenUnavailable:n,nodeInSchema:r,canToggle:i}=t;return!r||!e||n&&(Gr(e.state.selection)||!i)?!1:!!(e!=null&&e.isEditable)}function Gte(t,e=!1,n=!1){const r=Mf("blockquote",t),i=Ute(t),s=Kte(t,i,e),o=Vte(t),a=A.useMemo(()=>qte({editor:t,hideWhenUnavailable:n,nodeInSchema:r,canToggle:i}),[t,n,r,i]),u=A.useCallback(()=>!s&&t?Wte(t):!1,[t,s]);return{nodeInSchema:r,canToggle:i,isDisabled:s,isActive:o,shouldShow:a,handleToggle:u,shortcutKey:"Ctrl-Shift-b",label:"Citação"}}const WN=A.forwardRef(({editor:t,text:e,hideWhenUnavailable:n=!1,className:r="",disabled:i,onClick:s,children:o,...a},u)=>{const c=Rr(t),{isDisabled:d,isActive:h,shouldShow:p,handleToggle:m,shortcutKey:w,label:y}=Gte(c,i,n),x=A.useCallback(v=>{s==null||s(v),!v.defaultPrevented&&!d&&m()},[s,d,m]);return!p||!c||!c.isEditable?null:z.jsx(Dt,{type:"button",className:r.trim(),disabled:d,"data-style":"ghost","data-active-state":h?"on":"off","data-disabled":d,role:"button",tabIndex:-1,"aria-label":"blockquote","aria-pressed":h,tooltip:y,shortcutKeys:w,onClick:x,...a,ref:u,children:o||z.jsxs(z.Fragment,{children:[z.jsx(VN,{className:"tiptap-button-icon"}),e&&z.jsx("span",{className:"tiptap-button-text",children:e})]})})});WN.displayName="BlockQuoteButton";function Qx(t){if(!t)return!1;try{return t.can().setMark("highlight")}catch{return!1}}function Xte(t,e){return t?t.isActive("highlight",{color:e}):!1}function Yte(t,e,n,r){if(t)try{const i=t.chain().focus();if(Uz(n))i.toggleMark("highlight",{color:e}).run();else if(r!=null&&r!==-1)i.setNodeSelection(r).toggleMark("highlight",{color:e}).run();else if(n){const s=Vz({editor:t,node:n});s?i.setNodeSelection(s.pos).toggleMark("highlight",{color:e}).run():i.toggleMark("highlight",{color:e}).run()}else i.toggleMark("highlight",{color:e}).run();t.chain().setMeta("hideDragHandle",!0).run()}catch(i){console.error("Failed to apply highlight:",i)}}function Zte(t,e=!1){return!t||e?!0:t.isActive("code")||t.isActive("codeBlock")||t.isActive("imageUpload")||!Qx(t)}function Jte(t,e,n){return!(!n||!t||e&&(Gr(t.state.selection)||!Qx(t)))}function Qte(t,e,n=!1,r=!1){const i=rg("highlight",t),s=Zte(t,n),o=Xte(t,e),a=A.useMemo(()=>Jte(t,r,i),[t,r,i]);return{highlightInSchema:i,isDisabled:s,isActive:o,shouldShow:a}}const KN=A.forwardRef(({editor:t,node:e,nodePos:n,color:r,text:i,hideWhenUnavailable:s=!1,className:o="",disabled:a,onClick:u,onApplied:c,children:d,style:h,...p},m)=>{const w=Rr(t),{isDisabled:y,isActive:x,shouldShow:v}=Qte(w,r,a,s),S=A.useCallback(E=>{u==null||u(E),!E.defaultPrevented&&!y&&w&&(Yte(w,r,e,n),c==null||c(r))},[r,w,y,e,n,u,c]),k=A.useMemo(()=>({...h,"--highlight-color":r}),[r,h]);return!v||!w||!w.isEditable?null:z.jsx(Dt,{type:"button",className:o.trim(),disabled:y,"data-style":"ghost","data-active-state":x?"on":"off","data-disabled":y,role:"button",tabIndex:-1,"aria-label":`${r} highlight color`,"aria-pressed":x,onClick:S,style:k,...p,ref:m,children:d||z.jsxs(z.Fragment,{children:[z.jsx("span",{className:"tiptap-button-highlight",style:{"--highlight-color":r}}),i&&z.jsx("span",{className:"tiptap-button-text",children:i})]})})});KN.displayName="ColorHighlightButton";const ene=A.forwardRef((t,e)=>{const{className:n,children:r}=t;return z.jsx(Dt,{type:"button",className:n,"data-style":"ghost","data-appearance":"default",role:"button",tabIndex:-1,"aria-label":"Highlight text",tooltip:"Highlight",ref:e,...t,children:r||z.jsx(cx,{className:"tiptap-button-icon"})})}),eE=ene;function qN({editor:t,colors:e=Xx,onClose:n}){const r=Rr(t),i=A.useRef(null),s=A.useCallback(()=>{r&&(r.chain().focus().unsetMark("highlight").run(),n==null||n())},[r,n]),o=A.useMemo(()=>[...e,{label:"Remove highlight",value:"none"}],[e]),{selectedIndex:a}=zN({containerRef:i,items:o,orientation:"both",onSelect:u=>{u.value==="none"&&s(),n==null||n()},onClose:n,autoSelectFirstItem:!1});return z.jsxs("div",{ref:i,className:"tiptap-color-highlight-content",tabIndex:0,children:[z.jsx("div",{className:"tiptap-button-group","data-orientation":"horizontal",children:e.map((u,c)=>z.jsx(KN,{editor:r,color:u.value,"aria-label":`${u.label} highlight color`,tabIndex:c===a?0:-1,"data-highlighted":a===c,onClick:n},u.value))}),z.jsx(Ha,{}),z.jsx("div",{className:"tiptap-button-group",children:z.jsx(Dt,{onClick:s,"aria-label":"Remove highlight",tabIndex:a===e.length?0:-1,type:"button",role:"menuitem","data-style":"ghost","data-highlighted":a===e.length,children:z.jsx(Yx,{className:"tiptap-button-icon"})})})]})}eE.displayName="ColorHighlightPopoverButton";function tne({editor:t,colors:e=Xx,hideWhenUnavailable:n=!1,...r}){const i=Rr(t),[s,o]=A.useState(!1),[a,u]=A.useState(!1),c=rg("highlight",i);A.useEffect(()=>{if(!i)return;const p=()=>{let m=!1;(!c||!i)&&(m=!0),(i.isActive("code")||i.isActive("codeBlock")||i.isActive("imageUpload"))&&(m=!0),u(m)};return i.on("selectionUpdate",p),i.on("update",p),()=>{i.off("selectionUpdate",p),i.off("update",p)}},[i,c]);const d=(i==null?void 0:i.isActive("highlight"))??!1;return!A.useMemo(()=>!n||!i?!0:!(Gr(i.state.selection)||!Qx(i)),[n,i])||!i||!i.isEditable?null:z.jsxs(ig,{open:s,onOpenChange:o,children:[z.jsx(Df,{asChild:!0,children:z.jsx(eE,{disabled:a,"data-active-state":d?"on":"off","data-disabled":a,"aria-pressed":d,...r})}),z.jsx(Lf,{"aria-label":"Highlight colors",children:z.jsx(qN,{editor:i,colors:e,onClose:()=>o(!1)})})]})}const zb=A.memo(({className:t,...e})=>z.jsx("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:z.jsx("path",{d:"M6 3C6.55228 3 7 3.44772 7 4V11H17V4C17 3.44772 17.4477 3 18 3C18.5523 3 19 3.44772 19 4V20C19 20.5523 18.5523 21 18 21C17.4477 21 17 20.5523 17 20V13H7V20C7 20.5523 6.55228 21 6 21C5.44772 21 5 20.5523 5 20V4C5 3.44772 5.44772 3 6 3Z",fill:"currentColor"})}));zb.displayName="HeadingIcon";const GN=A.memo(({className:t,...e})=>z.jsxs("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[z.jsx("path",{d:"M5 6C5 5.44772 4.55228 5 4 5C3.44772 5 3 5.44772 3 6V18C3 18.5523 3.44772 19 4 19C4.55228 19 5 18.5523 5 18V13H11V18C11 18.5523 11.4477 19 12 19C12.5523 19 13 18.5523 13 18V6C13 5.44772 12.5523 5 12 5C11.4477 5 11 5.44772 11 6V11H5V6Z",fill:"currentColor"}),z.jsx("path",{d:"M21.0001 10C21.0001 9.63121 20.7971 9.29235 20.472 9.11833C20.1468 8.94431 19.7523 8.96338 19.4454 9.16795L16.4454 11.168C15.9859 11.4743 15.8617 12.0952 16.1681 12.5547C16.4744 13.0142 17.0953 13.1384 17.5548 12.8321L19.0001 11.8685V18C19.0001 18.5523 19.4478 19 20.0001 19C20.5524 19 21.0001 18.5523 21.0001 18V10Z",fill:"currentColor"})]}));GN.displayName="HeadingOneIcon";const XN=A.memo(({className:t,...e})=>z.jsxs("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[z.jsx("path",{d:"M5 6C5 5.44772 4.55228 5 4 5C3.44772 5 3 5.44772 3 6V18C3 18.5523 3.44772 19 4 19C4.55228 19 5 18.5523 5 18V13H11V18C11 18.5523 11.4477 19 12 19C12.5523 19 13 18.5523 13 18V6C13 5.44772 12.5523 5 12 5C11.4477 5 11 5.44772 11 6V11H5V6Z",fill:"currentColor"}),z.jsx("path",{d:"M22.0001 12C22.0001 10.7611 21.1663 9.79297 20.0663 9.42632C18.9547 9.05578 17.6171 9.28724 16.4001 10.2C15.9582 10.5314 15.8687 11.1582 16.2001 11.6C16.5314 12.0418 17.1582 12.1314 17.6001 11.8C18.383 11.2128 19.0455 11.1942 19.4338 11.3237C19.8339 11.457 20.0001 11.7389 20.0001 12C20.0001 12.4839 19.8554 12.7379 19.6537 12.9481C19.4275 13.1837 19.1378 13.363 18.7055 13.6307C18.6313 13.6767 18.553 13.7252 18.4701 13.777C17.9572 14.0975 17.3128 14.5261 16.8163 15.2087C16.3007 15.9177 16.0001 16.8183 16.0001 18C16.0001 18.5523 16.4478 19 17.0001 19H21.0001C21.5523 19 22.0001 18.5523 22.0001 18C22.0001 17.4477 21.5523 17 21.0001 17H18.131C18.21 16.742 18.3176 16.5448 18.4338 16.385C18.6873 16.0364 19.0429 15.7775 19.5301 15.473C19.5898 15.4357 19.6536 15.3966 19.7205 15.3556C20.139 15.0992 20.6783 14.7687 21.0964 14.3332C21.6447 13.7621 22.0001 13.0161 22.0001 12Z",fill:"currentColor"})]}));XN.displayName="HeadingTwoIcon";const YN=A.memo(({className:t,...e})=>z.jsxs("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[z.jsx("path",{d:"M4 5C4.55228 5 5 5.44772 5 6V11H11V6C11 5.44772 11.4477 5 12 5C12.5523 5 13 5.44772 13 6V18C13 18.5523 12.5523 19 12 19C11.4477 19 11 18.5523 11 18V13H5V18C5 18.5523 4.55228 19 4 19C3.44772 19 3 18.5523 3 18V6C3 5.44772 3.44772 5 4 5Z",fill:"currentColor"}),z.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.4608 11.2169C19.1135 11.0531 18.5876 11.0204 18.0069 11.3619C17.5309 11.642 16.918 11.4831 16.638 11.007C16.358 10.531 16.5169 9.91809 16.9929 9.63807C18.1123 8.97962 19.3364 8.94691 20.314 9.40808C21.2839 9.86558 21.9999 10.818 21.9999 12C21.9999 12.7957 21.6838 13.5587 21.1212 14.1213C20.5586 14.6839 19.7956 15 18.9999 15C18.4476 15 17.9999 14.5523 17.9999 14C17.9999 13.4477 18.4476 13 18.9999 13C19.2651 13 19.5195 12.8947 19.707 12.7071C19.8946 12.5196 19.9999 12.2652 19.9999 12C19.9999 11.6821 19.8159 11.3844 19.4608 11.2169Z",fill:"currentColor"}),z.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.0001 14C18.0001 13.4477 18.4478 13 19.0001 13C19.7957 13 20.5588 13.3161 21.1214 13.8787C21.684 14.4413 22.0001 15.2043 22.0001 16C22.0001 17.2853 21.2767 18.3971 20.1604 18.8994C19.0257 19.41 17.642 19.2315 16.4001 18.3C15.9582 17.9686 15.8687 17.3418 16.2001 16.9C16.5314 16.4582 17.1582 16.3686 17.6001 16.7C18.3581 17.2685 18.9744 17.24 19.3397 17.0756C19.7234 16.9029 20.0001 16.5147 20.0001 16C20.0001 15.7348 19.8947 15.4804 19.7072 15.2929C19.5196 15.1054 19.2653 15 19.0001 15C18.4478 15 18.0001 14.5523 18.0001 14Z",fill:"currentColor"})]}));YN.displayName="HeadingThreeIcon";const ZN=A.memo(({className:t,...e})=>z.jsxs("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[z.jsx("path",{d:"M4 5C4.55228 5 5 5.44772 5 6V11H11V6C11 5.44772 11.4477 5 12 5C12.5523 5 13 5.44772 13 6V18C13 18.5523 12.5523 19 12 19C11.4477 19 11 18.5523 11 18V13H5V18C5 18.5523 4.55228 19 4 19C3.44772 19 3 18.5523 3 18V6C3 5.44772 3.44772 5 4 5Z",fill:"currentColor"}),z.jsx("path",{d:"M17 9C17.5523 9 18 9.44772 18 10V13H20V10C20 9.44772 20.4477 9 21 9C21.5523 9 22 9.44772 22 10V18C22 18.5523 21.5523 19 21 19C20.4477 19 20 18.5523 20 18V15H17C16.4477 15 16 14.5523 16 14V10C16 9.44772 16.4477 9 17 9Z",fill:"currentColor"})]}));ZN.displayName="HeadingFourIcon";const JN=A.memo(({className:t,...e})=>z.jsxs("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[z.jsx("path",{d:"M5 6C5 5.44772 4.55228 5 4 5C3.44772 5 3 5.44772 3 6V18C3 18.5523 3.44772 19 4 19C4.55228 19 5 18.5523 5 18V13H11V18C11 18.5523 11.4477 19 12 19C12.5523 19 13 18.5523 13 18V6C13 5.44772 12.5523 5 12 5C11.4477 5 11 5.44772 11 6V11H5V6Z",fill:"currentColor"}),z.jsx("path",{d:"M16 10C16 9.44772 16.4477 9 17 9H21C21.5523 9 22 9.44772 22 10C22 10.5523 21.5523 11 21 11H18V12H18.3C20.2754 12 22 13.4739 22 15.5C22 17.5261 20.2754 19 18.3 19C17.6457 19 17.0925 18.8643 16.5528 18.5944C16.0588 18.3474 15.8586 17.7468 16.1055 17.2528C16.3525 16.7588 16.9532 16.5586 17.4472 16.8056C17.7074 16.9357 17.9542 17 18.3 17C19.3246 17 20 16.2739 20 15.5C20 14.7261 19.3246 14 18.3 14H17C16.4477 14 16 13.5523 16 13L16 12.9928V10Z",fill:"currentColor"})]}));JN.displayName="HeadingFiveIcon";const QN=A.memo(({className:t,...e})=>z.jsxs("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[z.jsx("path",{d:"M5 6C5 5.44772 4.55228 5 4 5C3.44772 5 3 5.44772 3 6V18C3 18.5523 3.44772 19 4 19C4.55228 19 5 18.5523 5 18V13H11V18C11 18.5523 11.4477 19 12 19C12.5523 19 13 18.5523 13 18V6C13 5.44772 12.5523 5 12 5C11.4477 5 11 5.44772 11 6V11H5V6Z",fill:"currentColor"}),z.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.7071 9.29289C21.0976 9.68342 21.0976 10.3166 20.7071 10.7071C19.8392 11.575 19.2179 12.2949 18.7889 13.0073C18.8587 13.0025 18.929 13 19 13C20.6569 13 22 14.3431 22 16C22 17.6569 20.6569 19 19 19C17.3431 19 16 17.6569 16 16C16 14.6007 16.2837 13.4368 16.8676 12.3419C17.4384 11.2717 18.2728 10.3129 19.2929 9.29289C19.6834 8.90237 20.3166 8.90237 20.7071 9.29289ZM19 17C18.4477 17 18 16.5523 18 16C18 15.4477 18.4477 15 19 15C19.5523 15 20 15.4477 20 16C20 16.5523 19.5523 17 19 17Z",fill:"currentColor"})]}));QN.displayName="HeadingSixIcon";const eO={1:GN,2:XN,3:YN,4:ZN,5:JN,6:QN},nne={1:"Ctrl-Alt-1",2:"Ctrl-Alt-2",3:"Ctrl-Alt-3",4:"Ctrl-Alt-4",5:"Ctrl-Alt-5",6:"Ctrl-Alt-6"};function rne(t,e){if(!t)return!1;try{return t.can().toggleNode("heading","paragraph",{level:e})}catch{return!1}}function ine(t,e){return t?t.isActive("heading",{level:e}):!1}function sne(t,e){t&&(t.isActive("heading",{level:e})?t.chain().focus().setNode("paragraph").run():t.chain().focus().toggleNode("heading","paragraph",{level:e}).run())}function one(t,e,n=!1){return!!(!t||n||!rne(t,e))}function ane(t){const{editor:e,hideWhenUnavailable:n,headingInSchema:r}=t;return!(!r||!e||n&&Gr(e.state.selection))}function tO(t){return`Título ${t}`}function lne(t,e,n=!1){const r=Mf("heading",t),i=one(t,e,n),s=ine(t,e),o=eO[e],a=nne[e],u=tO(e);return{headingInSchema:r,isDisabled:i,isActive:s,Icon:o,shortcutKey:a,formattedName:u}}const nO=A.forwardRef(({editor:t,level:e,text:n,hideWhenUnavailable:r=!1,className:i="",disabled:s,onClick:o,children:a,...u},c)=>{const d=Rr(t),{headingInSchema:h,isDisabled:p,isActive:m,Icon:w,shortcutKey:y,formattedName:x}=lne(d,e,s),v=A.useCallback(k=>{o==null||o(k),!k.defaultPrevented&&!p&&d&&sne(d,e)},[o,p,d,e]);return!A.useMemo(()=>ane({editor:d,level:e,hideWhenUnavailable:r,headingInSchema:h}),[d,e,r,h])||!d||!d.isEditable?null:z.jsx(Dt,{type:"button",className:i.trim(),disabled:p,"data-style":"ghost","data-active-state":m?"on":"off","data-disabled":p,role:"button",tabIndex:-1,"aria-label":x,"aria-pressed":m,tooltip:x,shortcutKeys:y,onClick:v,...u,ref:c,children:a||z.jsxs(z.Fragment,{children:[z.jsx(w,{className:"tiptap-button-icon"}),n&&z.jsx("span",{className:"tiptap-button-text",children:n})]})})});nO.displayName="HeadingButton";function une({editor:t,levels:e=[1,2,3,4,5,6],hideWhenUnavailable:n=!1,onOpenChange:r,...i}){const[s,o]=A.useState(!1),a=Rr(t),u=Mf("heading",a),c=A.useCallback(y=>{o(y),r==null||r(y)},[r]),d=A.useCallback(()=>{if(!a)return z.jsx(zb,{className:"tiptap-button-icon"});const y=e.find(v=>a.isActive("heading",{level:v}));if(!y)return z.jsx(zb,{className:"tiptap-button-icon"});const x=eO[y];return z.jsx(x,{className:"tiptap-button-icon"})},[a,e]),h=A.useCallback(()=>a?e.some(y=>a.can().toggleNode("heading","paragraph",{level:y})):!1,[a,e]),p=!h(),m=(a==null?void 0:a.isActive("heading"))??!1;return!A.useMemo(()=>!(!u||!a||n&&(Gr(a.state.selection)||!h())),[u,a,n,h])||!a||!a.isEditable?null:z.jsxs(Eg,{open:s,onOpenChange:c,children:[z.jsx(Vf,{asChild:!0,children:z.jsxs(Dt,{type:"button",disabled:p,"data-style":"ghost","data-active-state":m?"on":"off","data-disabled":p,role:"button",tabIndex:-1,"aria-label":"Format text as heading","aria-pressed":m,tooltip:"Heading",...i,children:[d(),z.jsx(qf,{className:"tiptap-button-dropdown-small"})]})}),z.jsx(Wf,{children:z.jsx(Jx,{children:e.map(y=>z.jsx(Kf,{asChild:!0,children:z.jsx(nO,{editor:a,level:y,text:tO(y),tooltip:""})},`heading-${y}`))})})]})}const Cg=A.memo(({className:t,...e})=>z.jsxs("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[z.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 6C7 5.44772 7.44772 5 8 5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H8C7.44772 7 7 6.55228 7 6Z",fill:"currentColor"}),z.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 12C7 11.4477 7.44772 11 8 11H21C21.5523 11 22 11.4477 22 12C22 12.5523 21.5523 13 21 13H8C7.44772 13 7 12.5523 7 12Z",fill:"currentColor"}),z.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 18C7 17.4477 7.44772 17 8 17H21C21.5523 17 22 17.4477 22 18C22 18.5523 21.5523 19 21 19H8C7.44772 19 7 18.5523 7 18Z",fill:"currentColor"}),z.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6C2 5.44772 2.44772 5 3 5H3.01C3.56228 5 4.01 5.44772 4.01 6C4.01 6.55228 3.56228 7 3.01 7H3C2.44772 7 2 6.55228 2 6Z",fill:"currentColor"}),z.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 12C2 11.4477 2.44772 11 3 11H3.01C3.56228 11 4.01 11.4477 4.01 12C4.01 12.5523 3.56228 13 3.01 13H3C2.44772 13 2 12.5523 2 12Z",fill:"currentColor"}),z.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 18C2 17.4477 2.44772 17 3 17H3.01C3.56228 17 4.01 17.4477 4.01 18C4.01 18.5523 3.56228 19 3.01 19H3C2.44772 19 2 18.5523 2 18Z",fill:"currentColor"})]}));Cg.displayName="ListIcon";const rO=A.memo(({className:t,...e})=>z.jsxs("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[z.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 6C9 5.44772 9.44772 5 10 5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H10C9.44772 7 9 6.55228 9 6Z",fill:"currentColor"}),z.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 12C9 11.4477 9.44772 11 10 11H21C21.5523 11 22 11.4477 22 12C22 12.5523 21.5523 13 21 13H10C9.44772 13 9 12.5523 9 12Z",fill:"currentColor"}),z.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 18C9 17.4477 9.44772 17 10 17H21C21.5523 17 22 17.4477 22 18C22 18.5523 21.5523 19 21 19H10C9.44772 19 9 18.5523 9 18Z",fill:"currentColor"}),z.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 6C3 5.44772 3.44772 5 4 5H5C5.55228 5 6 5.44772 6 6V10C6 10.5523 5.55228 11 5 11C4.44772 11 4 10.5523 4 10V7C3.44772 7 3 6.55228 3 6Z",fill:"currentColor"}),z.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 10C3 9.44772 3.44772 9 4 9H6C6.55228 9 7 9.44772 7 10C7 10.5523 6.55228 11 6 11H4C3.44772 11 3 10.5523 3 10Z",fill:"currentColor"}),z.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.82219 13.0431C6.54543 13.4047 6.99997 14.1319 6.99997 15C6.99997 15.5763 6.71806 16.0426 6.48747 16.35C6.31395 16.5814 6.1052 16.8044 5.91309 17H5.99997C6.55226 17 6.99997 17.4477 6.99997 18C6.99997 18.5523 6.55226 19 5.99997 19H3.99997C3.44769 19 2.99997 18.5523 2.99997 18C2.99997 17.4237 3.28189 16.9575 3.51247 16.65C3.74323 16.3424 4.03626 16.0494 4.26965 15.8161C4.27745 15.8083 4.2852 15.8006 4.29287 15.7929C4.55594 15.5298 4.75095 15.3321 4.88748 15.15C4.96287 15.0495 4.99021 14.9922 4.99911 14.9714C4.99535 14.9112 4.9803 14.882 4.9739 14.8715C4.96613 14.8588 4.95382 14.845 4.92776 14.8319C4.87723 14.8067 4.71156 14.7623 4.44719 14.8944C3.95321 15.1414 3.35254 14.9412 3.10555 14.4472C2.85856 13.9533 3.05878 13.3526 3.55276 13.1056C4.28839 12.7378 5.12272 12.6934 5.82219 13.0431Z",fill:"currentColor"})]}));rO.displayName="ListOrderedIcon";const iO=A.memo(({className:t,...e})=>z.jsxs("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[z.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6C2 4.89543 2.89543 4 4 4H8C9.10457 4 10 4.89543 10 6V10C10 11.1046 9.10457 12 8 12H4C2.89543 12 2 11.1046 2 10V6ZM8 6H4V10H8V6Z",fill:"currentColor"}),z.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.70711 14.2929C10.0976 14.6834 10.0976 15.3166 9.70711 15.7071L5.70711 19.7071C5.31658 20.0976 4.68342 20.0976 4.29289 19.7071L2.29289 17.7071C1.90237 17.3166 1.90237 16.6834 2.29289 16.2929C2.68342 15.9024 3.31658 15.9024 3.70711 16.2929L5 17.5858L8.29289 14.2929C8.68342 13.9024 9.31658 13.9024 9.70711 14.2929Z",fill:"currentColor"}),z.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 6C12 5.44772 12.4477 5 13 5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H13C12.4477 7 12 6.55228 12 6Z",fill:"currentColor"}),z.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 12C12 11.4477 12.4477 11 13 11H21C21.5523 11 22 11.4477 22 12C22 12.5523 21.5523 13 21 13H13C12.4477 13 12 12.5523 12 12Z",fill:"currentColor"}),z.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 18C12 17.4477 12.4477 17 13 17H21C21.5523 17 22 17.4477 22 18C22 18.5523 21.5523 19 21 19H13C12.4477 19 12 18.5523 12 18Z",fill:"currentColor"})]}));iO.displayName="ListTodoIcon";const sO=[{label:"Marcadores",type:"bulletList",icon:Cg},{label:"Números",type:"orderedList",icon:rO},{label:"Tarefas",type:"taskList",icon:iO}],cne={bulletList:"Ctrl-Shift-8",orderedList:"Ctrl-Shift-7",taskList:"Ctrl-Shift-9"};function oO(t,e){if(!t)return!1;switch(e){case"bulletList":return t.can().toggleBulletList();case"orderedList":return t.can().toggleOrderedList();case"taskList":return t.can().toggleList("taskList","taskItem");default:return!1}}function tE(t,e){if(!t)return!1;switch(e){case"bulletList":return t.isActive("bulletList");case"orderedList":return t.isActive("orderedList");case"taskList":return t.isActive("taskList");default:return!1}}function fne(t,e){if(t)switch(e){case"bulletList":t.chain().focus().toggleBulletList().run();break;case"orderedList":t.chain().focus().toggleOrderedList().run();break;case"taskList":t.chain().focus().toggleList("taskList","taskItem").run();break}}function dne(t){return sO.find(e=>e.type===t)}function hne(t){const{editor:e,type:n,hideWhenUnavailable:r,listInSchema:i}=t;return!(!i||!e||r&&(Gr(e.state.selection)||!oO(e,n)))}function pne(t,e){const n=Mf(e,t),r=dne(e),i=tE(t,e),s=cne[e];return{listInSchema:n,listOption:r,isActive:i,shortcutKey:s}}const aO=A.forwardRef(({editor:t,type:e,hideWhenUnavailable:n=!1,className:r="",onClick:i,text:s,children:o,...a},u)=>{const c=Rr(t),{listInSchema:d,listOption:h,isActive:p,shortcutKey:m}=pne(c,e),w=(h==null?void 0:h.icon)||Cg,y=A.useCallback(v=>{i==null||i(v),!v.defaultPrevented&&c&&fne(c,e)},[i,c,e]);return!A.useMemo(()=>hne({editor:c,type:e,hideWhenUnavailable:n,listInSchema:d}),[c,e,n,d])||!c||!c.isEditable?null:z.jsx(Dt,{type:"button",className:r.trim(),"data-style":"ghost","data-active-state":p?"on":"off",role:"button",tabIndex:-1,"aria-label":(h==null?void 0:h.label)||e,"aria-pressed":p,tooltip:(h==null?void 0:h.label)||e,shortcutKeys:m,onClick:y,...a,ref:u,children:o||z.jsxs(z.Fragment,{children:[z.jsx(w,{className:"tiptap-button-icon"}),s&&z.jsx("span",{className:"tiptap-button-text",children:s})]})})});aO.displayName="ListButton";function mne(t,e){return t?e.some(n=>oO(t,n)):!1}function gne(t,e){return t?e.some(n=>tE(t,n)):!1}function yne(t){return sO.filter(e=>!e.type||t.includes(e.type))}function wne(t){const{editor:e,hideWhenUnavailable:n,listInSchema:r,canToggleAny:i}=t;return!(!r||!e||n&&(Gr(e.state.selection)||!i))}function vne(t,e){const[n,r]=A.useState(!1),i=e.some(c=>Mf(c,t)),s=A.useMemo(()=>yne(e),[e]),o=mne(t,e),a=gne(t,e),u=A.useCallback((c,d)=>{r(c),d==null||d(c)},[]);return{isOpen:n,setIsOpen:r,listInSchema:i,filteredLists:s,canToggleAny:o,isAnyActive:a,handleOpenChange:u}}function bne(t,e){return A.useCallback(()=>{const n=e.find(r=>tE(t,r.type));return n?z.jsx(n.icon,{className:"tiptap-button-icon"}):z.jsx(Cg,{className:"tiptap-button-icon"})},[t,e])}function xne({editor:t,types:e=["bulletList","orderedList","taskList"],hideWhenUnavailable:n=!1,onOpenChange:r,...i}){const s=Rr(t),{isOpen:o,listInSchema:a,filteredLists:u,canToggleAny:c,isAnyActive:d,handleOpenChange:h}=vne(s,e),p=bne(s,u),m=A.useMemo(()=>wne({editor:s,listTypes:e,hideWhenUnavailable:n,listInSchema:a,canToggleAny:c}),[s,e,n,a,c]),w=A.useCallback(y=>h(y,r),[h,r]);return!m||!s||!s.isEditable?null:z.jsxs(Eg,{open:o,onOpenChange:w,children:[z.jsx(Vf,{asChild:!0,children:z.jsxs(Dt,{type:"button","data-style":"ghost","data-active-state":d?"on":"off",role:"button",tabIndex:-1,"aria-label":"List options",tooltip:"List",...i,children:[p(),z.jsx(qf,{className:"tiptap-button-dropdown-small"})]})}),z.jsx(Wf,{children:z.jsx(Jx,{children:u.map(y=>z.jsx(Kf,{asChild:!0,children:z.jsx(aO,{editor:s,type:y.type,text:y.label,hideWhenUnavailable:n,tooltip:""})},y.type))})})]})}const lO=A.memo(({className:t,...e})=>z.jsx("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:z.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 2.5C5.17157 2.5 4.5 3.17157 4.5 4V20C4.5 20.8284 5.17157 21.5 6 21.5H15C16.4587 21.5 17.8576 20.9205 18.8891 19.8891C19.9205 18.8576 20.5 17.4587 20.5 16C20.5 14.5413 19.9205 13.1424 18.8891 12.1109C18.6781 11.9 18.4518 11.7079 18.2128 11.5359C19.041 10.5492 19.5 9.29829 19.5 8C19.5 6.54131 18.9205 5.14236 17.8891 4.11091C16.8576 3.07946 15.4587 2.5 14 2.5H6ZM14 10.5C14.663 10.5 15.2989 10.2366 15.7678 9.76777C16.2366 9.29893 16.5 8.66304 16.5 8C16.5 7.33696 16.2366 6.70107 15.7678 6.23223C15.2989 5.76339 14.663 5.5 14 5.5H7.5V10.5H14ZM7.5 18.5V13.5H15C15.663 13.5 16.2989 13.7634 16.7678 14.2322C17.2366 14.7011 17.5 15.337 17.5 16C17.5 16.663 17.2366 17.2989 16.7678 17.7678C16.2989 18.2366 15.663 18.5 15 18.5H7.5Z",fill:"currentColor"})}));lO.displayName="BoldIcon";const uO=A.memo(({className:t,...e})=>z.jsxs("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[z.jsx("path",{d:"M15.4545 4.2983C15.6192 3.77115 15.3254 3.21028 14.7983 3.04554C14.2712 2.88081 13.7103 3.1746 13.5455 3.70175L8.54554 19.7017C8.38081 20.2289 8.6746 20.7898 9.20175 20.9545C9.72889 21.1192 10.2898 20.8254 10.4545 20.2983L15.4545 4.2983Z",fill:"currentColor"}),z.jsx("path",{d:"M6.70711 7.29289C7.09763 7.68342 7.09763 8.31658 6.70711 8.70711L3.41421 12L6.70711 15.2929C7.09763 15.6834 7.09763 16.3166 6.70711 16.7071C6.31658 17.0976 5.68342 17.0976 5.29289 16.7071L1.29289 12.7071C0.902369 12.3166 0.902369 11.6834 1.29289 11.2929L5.29289 7.29289C5.68342 6.90237 6.31658 6.90237 6.70711 7.29289Z",fill:"currentColor"}),z.jsx("path",{d:"M17.2929 7.29289C17.6834 6.90237 18.3166 6.90237 18.7071 7.29289L22.7071 11.2929C23.0976 11.6834 23.0976 12.3166 22.7071 12.7071L18.7071 16.7071C18.3166 17.0976 17.6834 17.0976 17.2929 16.7071C16.9024 16.3166 16.9024 15.6834 17.2929 15.2929L20.5858 12L17.2929 8.70711C16.9024 8.31658 16.9024 7.68342 17.2929 7.29289Z",fill:"currentColor"})]}));uO.displayName="Code2Icon";const cO=A.memo(({className:t,...e})=>z.jsx("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:z.jsx("path",{d:"M15.0222 3H19C19.5523 3 20 3.44772 20 4C20 4.55228 19.5523 5 19 5H15.693L10.443 19H14C14.5523 19 15 19.4477 15 20C15 20.5523 14.5523 21 14 21H9.02418C9.00802 21.0004 8.99181 21.0004 8.97557 21H5C4.44772 21 4 20.5523 4 20C4 19.4477 4.44772 19 5 19H8.30704L13.557 5H10C9.44772 5 9 4.55228 9 4C9 3.44772 9.44772 3 10 3H14.9782C14.9928 2.99968 15.0075 2.99967 15.0222 3Z",fill:"currentColor"})}));cO.displayName="ItalicIcon";const fO=A.memo(({className:t,...e})=>z.jsxs("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[z.jsx("path",{d:"M9.00039 3H16.0001C16.5524 3 17.0001 3.44772 17.0001 4C17.0001 4.55229 16.5524 5 16.0001 5H9.00011C8.68006 4.99983 8.36412 5.07648 8.07983 5.22349C7.79555 5.37051 7.55069 5.5836 7.36585 5.84487C7.181 6.10614 7.06155 6.40796 7.01754 6.72497C6.97352 7.04198 7.00623 7.36492 7.11292 7.66667C7.29701 8.18737 7.02414 8.75872 6.50344 8.94281C5.98274 9.1269 5.4114 8.85403 5.2273 8.33333C5.01393 7.72984 4.94851 7.08396 5.03654 6.44994C5.12456 5.81592 5.36346 5.21229 5.73316 4.68974C6.10285 4.1672 6.59256 3.74101 7.16113 3.44698C7.72955 3.15303 8.36047 2.99975 9.00039 3Z",fill:"currentColor"}),z.jsx("path",{d:"M18 13H20C20.5523 13 21 12.5523 21 12C21 11.4477 20.5523 11 20 11H4C3.44772 11 3 11.4477 3 12C3 12.5523 3.44772 13 4 13H14C14.7956 13 15.5587 13.3161 16.1213 13.8787C16.6839 14.4413 17 15.2044 17 16C17 16.7956 16.6839 17.5587 16.1213 18.1213C15.5587 18.6839 14.7956 19 14 19H6C5.44772 19 5 19.4477 5 20C5 20.5523 5.44772 21 6 21H14C15.3261 21 16.5979 20.4732 17.5355 19.5355C18.4732 18.5979 19 17.3261 19 16C19 14.9119 18.6453 13.8604 18 13Z",fill:"currentColor"})]}));fO.displayName="StrikeIcon";const dO=A.memo(({className:t,...e})=>z.jsxs("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[z.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.29289 7.29289C3.68342 6.90237 4.31658 6.90237 4.70711 7.29289L12.7071 15.2929C13.0976 15.6834 13.0976 16.3166 12.7071 16.7071C12.3166 17.0976 11.6834 17.0976 11.2929 16.7071L3.29289 8.70711C2.90237 8.31658 2.90237 7.68342 3.29289 7.29289Z",fill:"currentColor"}),z.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.7071 7.29289C13.0976 7.68342 13.0976 8.31658 12.7071 8.70711L4.70711 16.7071C4.31658 17.0976 3.68342 17.0976 3.29289 16.7071C2.90237 16.3166 2.90237 15.6834 3.29289 15.2929L11.2929 7.29289C11.6834 6.90237 12.3166 6.90237 12.7071 7.29289Z",fill:"currentColor"}),z.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.4079 14.3995C18.0284 14.0487 18.7506 13.9217 19.4536 14.0397C20.1566 14.1578 20.7977 14.5138 21.2696 15.0481L21.2779 15.0574L21.2778 15.0575C21.7439 15.5988 22 16.2903 22 17C22 18.0823 21.3962 18.8401 20.7744 19.3404C20.194 19.8073 19.4858 20.141 18.9828 20.378C18.9638 20.387 18.9451 20.3958 18.9266 20.4045C18.4473 20.6306 18.2804 20.7817 18.1922 20.918C18.1773 20.9412 18.1619 20.9681 18.1467 21H21C21.5523 21 22 21.4477 22 22C22 22.5523 21.5523 23 21 23H17C16.4477 23 16 22.5523 16 22C16 21.1708 16.1176 20.4431 16.5128 19.832C16.9096 19.2184 17.4928 18.8695 18.0734 18.5956C18.6279 18.334 19.138 18.0901 19.5207 17.7821C19.8838 17.49 20 17.2477 20 17C20 16.7718 19.9176 16.5452 19.7663 16.3672C19.5983 16.1792 19.3712 16.0539 19.1224 16.0121C18.8722 15.9701 18.6152 16.015 18.3942 16.1394C18.1794 16.2628 18.0205 16.4549 17.9422 16.675C17.7572 17.1954 17.1854 17.4673 16.665 17.2822C16.1446 17.0972 15.8728 16.5254 16.0578 16.005C16.2993 15.3259 16.7797 14.7584 17.4039 14.4018L17.4079 14.3995L17.4079 14.3995Z",fill:"currentColor"})]}));dO.displayName="SubscriptIcon";const hO=A.memo(({className:t,...e})=>z.jsxs("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[z.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.7071 7.29289C13.0976 7.68342 13.0976 8.31658 12.7071 8.70711L4.70711 16.7071C4.31658 17.0976 3.68342 17.0976 3.29289 16.7071C2.90237 16.3166 2.90237 15.6834 3.29289 15.2929L11.2929 7.29289C11.6834 6.90237 12.3166 6.90237 12.7071 7.29289Z",fill:"currentColor"}),z.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.29289 7.29289C3.68342 6.90237 4.31658 6.90237 4.70711 7.29289L12.7071 15.2929C13.0976 15.6834 13.0976 16.3166 12.7071 16.7071C12.3166 17.0976 11.6834 17.0976 11.2929 16.7071L3.29289 8.70711C2.90237 8.31658 2.90237 7.68342 3.29289 7.29289Z",fill:"currentColor"}),z.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.405 1.40657C18.0246 1.05456 18.7463 0.92634 19.4492 1.04344C20.1521 1.16054 20.7933 1.51583 21.2652 2.0497L21.2697 2.05469L21.2696 2.05471C21.7431 2.5975 22 3.28922 22 4.00203C22 5.08579 21.3952 5.84326 20.7727 6.34289C20.1966 6.80531 19.4941 7.13675 18.9941 7.37261C18.9714 7.38332 18.9491 7.39383 18.9273 7.40415C18.4487 7.63034 18.2814 7.78152 18.1927 7.91844C18.1778 7.94155 18.1625 7.96834 18.1473 8.00003H21C21.5523 8.00003 22 8.44774 22 9.00003C22 9.55231 21.5523 10 21 10H17C16.4477 10 16 9.55231 16 9.00003C16 8.17007 16.1183 7.44255 16.5138 6.83161C16.9107 6.21854 17.4934 5.86971 18.0728 5.59591C18.6281 5.33347 19.1376 5.09075 19.5208 4.78316C19.8838 4.49179 20 4.25026 20 4.00203C20 3.77192 19.9178 3.54865 19.7646 3.37182C19.5968 3.18324 19.3696 3.05774 19.1205 3.01625C18.8705 2.97459 18.6137 3.02017 18.3933 3.14533C18.1762 3.26898 18.0191 3.45826 17.9406 3.67557C17.7531 4.19504 17.18 4.46414 16.6605 4.27662C16.141 4.0891 15.8719 3.51596 16.0594 2.99649C16.303 2.3219 16.7817 1.76125 17.4045 1.40689L17.405 1.40657Z",fill:"currentColor"})]}));hO.displayName="SuperscriptIcon";const pO=A.memo(({className:t,...e})=>z.jsx("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:z.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 4C7 3.44772 6.55228 3 6 3C5.44772 3 5 3.44772 5 4V10C5 11.8565 5.7375 13.637 7.05025 14.9497C8.36301 16.2625 10.1435 17 12 17C13.8565 17 15.637 16.2625 16.9497 14.9497C18.2625 13.637 19 11.8565 19 10V4C19 3.44772 18.5523 3 18 3C17.4477 3 17 3.44772 17 4V10C17 11.3261 16.4732 12.5979 15.5355 13.5355C14.5979 14.4732 13.3261 15 12 15C10.6739 15 9.40215 14.4732 8.46447 13.5355C7.52678 12.5979 7 11.3261 7 10V4ZM4 19C3.44772 19 3 19.4477 3 20C3 20.5523 3.44772 21 4 21H20C20.5523 21 21 20.5523 21 20C21 19.4477 20.5523 19 20 19H4Z",fill:"currentColor"})}));pO.displayName="UnderlineIcon";const Ene={bold:lO,italic:cO,underline:pO,strike:fO,code:uO,superscript:hO,subscript:dO},Cne={bold:"Ctrl-b",italic:"Ctrl-i",underline:"Ctrl-u",strike:"Ctrl-Shift-s",code:"Ctrl-e",superscript:"Ctrl-.",subscript:"Ctrl-,"};function mO(t,e){if(!t)return!1;try{return t.can().toggleMark(e)}catch{return!1}}function Sne(t,e){return t?t.isActive(e):!1}function kne(t,e){t&&t.chain().focus().toggleMark(e).run()}function Tne(t,e,n=!1){return!!(!t||n||t.isActive("codeBlock")||!mO(t,e))}function Ane(t){const{editor:e,type:n,hideWhenUnavailable:r,markInSchema:i}=t;return!(!i||!e||r&&(Gr(e.state.selection)||!mO(e,n)))}function _ne(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Rne(t,e,n=!1){const r=rg(e,t),i=Tne(t,e,n),s=Sne(t,e),o=Ene[e],a=Cne[e],u=_ne(e);return{markInSchema:r,isDisabled:i,isActive:s,Icon:o,shortcutKey:a,formattedName:u}}const Tc=A.forwardRef(({editor:t,type:e,text:n,hideWhenUnavailable:r=!1,className:i="",disabled:s,onClick:o,children:a,...u},c)=>{const d=Rr(t),{markInSchema:h,isDisabled:p,isActive:m,Icon:w,shortcutKey:y,formattedName:x}=Rne(d,e,s),v=A.useCallback(k=>{o==null||o(k),!k.defaultPrevented&&!p&&d&&kne(d,e)},[o,p,d,e]);return!A.useMemo(()=>Ane({editor:d,type:e,hideWhenUnavailable:r,markInSchema:h}),[d,e,r,h])||!d||!d.isEditable?null:z.jsx(Dt,{type:"button",className:i.trim(),disabled:p,"data-style":"ghost","data-active-state":m?"on":"off","data-disabled":p,role:"button",tabIndex:-1,"aria-label":e,"aria-pressed":m,tooltip:x,shortcutKeys:y,onClick:v,...u,ref:c,children:a||z.jsxs(z.Fragment,{children:[z.jsx(w,{className:"tiptap-button-icon"}),n&&z.jsx("span",{className:"tiptap-button-text",children:n})]})})});Tc.displayName="MarkButton";const gO=A.memo(({className:t,...e})=>z.jsxs("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[z.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6C2 5.44772 2.44772 5 3 5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H3C2.44772 7 2 6.55228 2 6Z",fill:"currentColor"}),z.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 12C6 11.4477 6.44772 11 7 11H17C17.5523 11 18 11.4477 18 12C18 12.5523 17.5523 13 17 13H7C6.44772 13 6 12.5523 6 12Z",fill:"currentColor"}),z.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 18C4 17.4477 4.44772 17 5 17H19C19.5523 17 20 17.4477 20 18C20 18.5523 19.5523 19 19 19H5C4.44772 19 4 18.5523 4 18Z",fill:"currentColor"})]}));gO.displayName="AlignCenterIcon";const yO=A.memo(({className:t,...e})=>z.jsxs("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[z.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6C2 5.44772 2.44772 5 3 5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H3C2.44772 7 2 6.55228 2 6Z",fill:"currentColor"}),z.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 12C2 11.4477 2.44772 11 3 11H21C21.5523 11 22 11.4477 22 12C22 12.5523 21.5523 13 21 13H3C2.44772 13 2 12.5523 2 12Z",fill:"currentColor"}),z.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 18C2 17.4477 2.44772 17 3 17H21C21.5523 17 22 17.4477 22 18C22 18.5523 21.5523 19 21 19H3C2.44772 19 2 18.5523 2 18Z",fill:"currentColor"})]}));yO.displayName="AlignJustifyIcon";const wO=A.memo(({className:t,...e})=>z.jsxs("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[z.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6C2 5.44772 2.44772 5 3 5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H3C2.44772 7 2 6.55228 2 6Z",fill:"currentColor"}),z.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 12C2 11.4477 2.44772 11 3 11H15C15.5523 11 16 11.4477 16 12C16 12.5523 15.5523 13 15 13H3C2.44772 13 2 12.5523 2 12Z",fill:"currentColor"}),z.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 18C2 17.4477 2.44772 17 3 17H17C17.5523 17 18 17.4477 18 18C18 18.5523 17.5523 19 17 19H3C2.44772 19 2 18.5523 2 18Z",fill:"currentColor"})]}));wO.displayName="AlignLeftIcon";const vO=A.memo(({className:t,...e})=>z.jsxs("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[z.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6C2 5.44772 2.44772 5 3 5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H3C2.44772 7 2 6.55228 2 6Z",fill:"currentColor"}),z.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 12C8 11.4477 8.44772 11 9 11H21C21.5523 11 22 11.4477 22 12C22 12.5523 21.5523 13 21 13H9C8.44772 13 8 12.5523 8 12Z",fill:"currentColor"}),z.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 18C6 17.4477 6.44772 17 7 17H21C21.5523 17 22 17.4477 22 18C22 18.5523 21.5523 19 21 19H7C6.44772 19 6 18.5523 6 18Z",fill:"currentColor"})]}));vO.displayName="AlignRightIcon";const Nne={left:wO,center:gO,right:vO,justify:yO},One={left:"Ctrl-Shift-l",center:"Ctrl-Shift-e",right:"Ctrl-Shift-r",justify:"Ctrl-Shift-j"},Ine={left:"Alinhar à esquerda",center:"Centralizar",right:"Alinhar à direita",justify:"Justificar"};function Mne(t){return"setTextAlign"in t}function Dne(t){if(!t)return!1;const e=t.extensionManager.extensions.some(n=>n.name==="textAlign");return e||console.warn("TextAlign extension is not available. Make sure it is included in your editor configuration."),e}function Lne(t,e,n){if(!t||!n)return!1;try{return t.can().setTextAlign(e)}catch{return!1}}function Pne(t,e){return t?t.isActive({textAlign:e}):!1}function Fne(t,e){if(!t)return!1;const n=t.chain().focus();return Mne(n)?n.setTextAlign(e).run():!1}function Bne(t,e,n,r=!1){return!!(!t||!e||r||!n)}function jne(t,e,n){return!(!(t!=null&&t.isEditable)||n&&!e)}function Hne(t,e,n=!1,r=!1){const i=A.useMemo(()=>Dne(t),[t]),s=A.useMemo(()=>Lne(t,e,i),[t,e,i]),o=Bne(t,i,s,n),a=Pne(t,e),u=A.useCallback(()=>!i||!t||o?!1:Fne(t,e),[i,t,o,e]),c=A.useMemo(()=>jne(t,s,r),[t,s,r]),d=Nne[e],h=One[e],p=Ine[e];return{alignAvailable:i,canAlign:s,isDisabled:o,isActive:a,handleAlignment:u,shouldShow:c,Icon:d,shortcutKey:h,label:p}}const Ac=A.forwardRef(({editor:t,align:e,text:n,hideWhenUnavailable:r=!1,className:i="",disabled:s,onClick:o,children:a,...u},c)=>{const d=Rr(t),{isDisabled:h,isActive:p,handleAlignment:m,shouldShow:w,Icon:y,shortcutKey:x,label:v}=Hne(d,e,s,r),S=A.useCallback(k=>{o==null||o(k),!k.defaultPrevented&&!s&&m()},[o,s,m]);return!w||!d||!d.isEditable?null:z.jsx(Dt,{type:"button",className:i.trim(),disabled:h,"data-style":"ghost","data-active-state":p?"on":"off","data-disabled":h,role:"button",tabIndex:-1,"aria-label":v,"aria-pressed":p,tooltip:v,shortcutKeys:x,onClick:S,...u,ref:c,children:a||z.jsxs(z.Fragment,{children:[z.jsx(y,{className:"tiptap-button-icon"}),n&&z.jsx("span",{className:"tiptap-button-text",children:n})]})})});Ac.displayName="TextAlignButton";const bO=A.memo(({className:t,...e})=>z.jsx("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:z.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.7071 2.29289C15.3166 1.90237 14.6834 1.90237 14.2929 2.29289C13.9024 2.68342 13.9024 3.31658 14.2929 3.70711L17.5858 7H9.5C7.77609 7 6.12279 7.68482 4.90381 8.90381C3.68482 10.1228 3 11.7761 3 13.5C3 14.3536 3.16813 15.1988 3.49478 15.9874C3.82144 16.7761 4.30023 17.4926 4.90381 18.0962C6.12279 19.3152 7.77609 20 9.5 20H13C13.5523 20 14 19.5523 14 19C14 18.4477 13.5523 18 13 18H9.5C8.30653 18 7.16193 17.5259 6.31802 16.682C5.90016 16.2641 5.56869 15.768 5.34254 15.2221C5.1164 14.6761 5 14.0909 5 13.5C5 12.3065 5.47411 11.1619 6.31802 10.318C7.16193 9.47411 8.30653 9 9.5 9H17.5858L14.2929 12.2929C13.9024 12.6834 13.9024 13.3166 14.2929 13.7071C14.6834 14.0976 15.3166 14.0976 15.7071 13.7071L20.7071 8.70711C21.0976 8.31658 21.0976 7.68342 20.7071 7.29289L15.7071 2.29289Z",fill:"currentColor"})}));bO.displayName="Redo2Icon";const xO=A.memo(({className:t,...e})=>z.jsx("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:z.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.70711 3.70711C10.0976 3.31658 10.0976 2.68342 9.70711 2.29289C9.31658 1.90237 8.68342 1.90237 8.29289 2.29289L3.29289 7.29289C2.90237 7.68342 2.90237 8.31658 3.29289 8.70711L8.29289 13.7071C8.68342 14.0976 9.31658 14.0976 9.70711 13.7071C10.0976 13.3166 10.0976 12.6834 9.70711 12.2929L6.41421 9H14.5C15.0909 9 15.6761 9.1164 16.2221 9.34254C16.768 9.56869 17.2641 9.90016 17.682 10.318C18.0998 10.7359 18.4313 11.232 18.6575 11.7779C18.8836 12.3239 19 12.9091 19 13.5C19 14.0909 18.8836 14.6761 18.6575 15.2221C18.4313 15.768 18.0998 16.2641 17.682 16.682C17.2641 17.0998 16.768 17.4313 16.2221 17.6575C15.6761 17.8836 15.0909 18 14.5 18H11C10.4477 18 10 18.4477 10 19C10 19.5523 10.4477 20 11 20H14.5C15.3536 20 16.1988 19.8319 16.9874 19.5052C17.7761 19.1786 18.4926 18.6998 19.0962 18.0962C19.6998 17.4926 20.1786 16.7761 20.5052 15.9874C20.8319 15.1988 21 14.3536 21 13.5C21 12.6464 20.8319 11.8012 20.5052 11.0126C20.1786 10.2239 19.6998 9.50739 19.0962 8.90381C18.4926 8.30022 17.7761 7.82144 16.9874 7.49478C16.1988 7.16813 15.3536 7 14.5 7H6.41421L9.70711 3.70711Z",fill:"currentColor"})}));xO.displayName="Undo2Icon";const $ne={undo:xO,redo:bO},zne={undo:"Ctrl-z",redo:"Ctrl-Shift-z"},Une={undo:"Desfazer",redo:"Refazer"};function EO(t,e){return t?e==="undo"?t.can().undo():t.can().redo():!1}function Vne(t,e){if(!t)return!1;const n=t.chain().focus();return e==="undo"?n.undo().run():n.redo().run()}function Wne(t,e,n=!1){return n?!0:!EO(t,e)}function Kne(t,e,n=!1){const r=A.useMemo(()=>EO(t,e),[t,e]),i=Wne(t,e,n),s=A.useCallback(()=>{!t||i||Vne(t,e)},[t,e,i]),o=$ne[e],a=Une[e],u=zne[e];return{canExecute:r,isDisabled:i,handleAction:s,Icon:o,actionLabel:a,shortcutKey:u}}const Ub=A.forwardRef(({editor:t,action:e,text:n,className:r="",disabled:i,onClick:s,children:o,...a},u)=>{const c=Rr(t),{isDisabled:d,handleAction:h,Icon:p,actionLabel:m,shortcutKey:w}=Kne(c,e,i),y=A.useCallback(x=>{s==null||s(x),!x.defaultPrevented&&!i&&h()},[s,i,h]);return!c||!c.isEditable?null:z.jsx(Dt,{ref:u,type:"button",className:r.trim(),disabled:d,"data-style":"ghost","data-disabled":d,role:"button",tabIndex:-1,"aria-label":m,tooltip:m,shortcutKeys:w,onClick:y,...a,children:o||z.jsxs(z.Fragment,{children:[z.jsx(p,{className:"tiptap-button-icon"}),n&&z.jsx("span",{className:"tiptap-button-text",children:n})]})})});Ub.displayName="UndoRedoButton";const qne=({onHighlighterClick:t,onLinkClick:e,isMobile:n})=>z.jsxs(z.Fragment,{children:[z.jsx($b,{}),z.jsxs(Zs,{children:[z.jsx(Ub,{action:"undo"}),z.jsx(Ub,{action:"redo"})]}),z.jsx(ra,{}),z.jsxs(Zs,{children:[z.jsx($te,{}),z.jsx(zte,{})]}),z.jsx(ra,{}),z.jsxs(Zs,{children:[z.jsx(une,{levels:[1,2,3,4]}),z.jsx(xne,{types:["bulletList","orderedList"]}),z.jsx(WN,{})]}),z.jsx(ra,{}),z.jsxs(Zs,{children:[z.jsx(Tc,{type:"bold"}),z.jsx(Tc,{type:"italic"}),z.jsx(Tc,{type:"strike"}),z.jsx(Tc,{type:"underline"}),n?z.jsx(eE,{onClick:t}):z.jsx(tne,{}),n?z.jsx(ux,{onClick:e}):z.jsx(Gz,{}),z.jsx(Bte,{})]}),z.jsx(ra,{}),z.jsxs(Zs,{children:[z.jsx(Ac,{align:"left"}),z.jsx(Ac,{align:"center"}),z.jsx(Ac,{align:"right"}),z.jsx(Ac,{align:"justify"})]}),z.jsx(Lte,{}),z.jsx($b,{}),n&&z.jsx(ra,{}),z.jsx(Zs,{})]}),li=()=>new Map,Vb=t=>{const e=li();return t.forEach((n,r)=>{e.set(r,n)}),e},xs=(t,e,n)=>{let r=t.get(e);return r===void 0&&t.set(e,r=n()),r},Gne=(t,e)=>{const n=[];for(const[r,i]of t)n.push(e(i,r));return n},Xne=(t,e)=>{for(const[n,r]of t)if(e(r,n))return!0;return!1},Ia=()=>new Set,vv=t=>t[t.length-1],Yne=(t,e)=>{for(let n=0;n<e.length;n++)t.push(e[n])},Ma=Array.from,Zne=(t,e)=>{for(let n=0;n<t.length;n++)if(e(t[n],n,t))return!0;return!1},Wb=Array.isArray;class CO{constructor(){this._observers=li()}on(e,n){return xs(this._observers,e,Ia).add(n),n}once(e,n){const r=(...i)=>{this.off(e,r),n(...i)};this.on(e,r)}off(e,n){const r=this._observers.get(e);r!==void 0&&(r.delete(n),r.size===0&&this._observers.delete(e))}emit(e,n){return Ma((this._observers.get(e)||li()).values()).forEach(r=>r(...n))}destroy(){this._observers=li()}}const ms=Math.floor,cp=Math.abs,pu=(t,e)=>t<e?t:e,vo=(t,e)=>t>e?t:e,SO=t=>t!==0?t<0:1/t<0,hA=1,pA=2,bv=4,xv=8,df=32,cs=64,Xn=128,Jne=1<<29,Sg=31,Kb=63,ba=127,Qne=2147483647,kO=Number.MAX_SAFE_INTEGER,ere=Number.isInteger||(t=>typeof t=="number"&&isFinite(t)&&ms(t)===t),tre=String.fromCharCode,nre=t=>t.toLowerCase(),rre=/^\s*/g,ire=t=>t.replace(rre,""),sre=/([A-Z])/g,mA=(t,e)=>ire(t.replace(sre,n=>`${e}${nre(n)}`)),ore=t=>{const e=unescape(encodeURIComponent(t)),n=e.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=e.codePointAt(i);return r},hf=typeof TextEncoder<"u"?new TextEncoder:null,are=t=>hf.encode(t),lre=hf?are:ore;let Kc=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});Kc&&Kc.decode(new Uint8Array).length===1&&(Kc=null);class Gf{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const Xf=()=>new Gf,ure=t=>{const e=Xf();return t(e),ai(e)},cre=t=>{let e=t.cpos;for(let n=0;n<t.bufs.length;n++)e+=t.bufs[n].length;return e},ai=t=>{const e=new Uint8Array(cre(t));let n=0;for(let r=0;r<t.bufs.length;r++){const i=t.bufs[r];e.set(i,n),n+=i.length}return e.set(new Uint8Array(t.cbuf.buffer,0,t.cpos),n),e},fre=(t,e)=>{const n=t.cbuf.length;n-t.cpos<e&&(t.bufs.push(new Uint8Array(t.cbuf.buffer,0,t.cpos)),t.cbuf=new Uint8Array(vo(n,e)*2),t.cpos=0)},fn=(t,e)=>{const n=t.cbuf.length;t.cpos===n&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(n*2),t.cpos=0),t.cbuf[t.cpos++]=e},qb=fn,lt=(t,e)=>{for(;e>ba;)fn(t,Xn|ba&e),e=ms(e/128);fn(t,ba&e)},nE=(t,e)=>{const n=SO(e);for(n&&(e=-e),fn(t,(e>Kb?Xn:0)|(n?cs:0)|Kb&e),e=ms(e/64);e>0;)fn(t,(e>ba?Xn:0)|ba&e),e=ms(e/128)},Gb=new Uint8Array(3e4),dre=Gb.length/3,hre=(t,e)=>{if(e.length<dre){const n=hf.encodeInto(e,Gb).written||0;lt(t,n);for(let r=0;r<n;r++)fn(t,Gb[r])}else kr(t,lre(e))},pre=(t,e)=>{const n=unescape(encodeURIComponent(e)),r=n.length;lt(t,r);for(let i=0;i<r;i++)fn(t,n.codePointAt(i))},Kl=hf&&hf.encodeInto?hre:pre,kg=(t,e)=>{const n=t.cbuf.length,r=t.cpos,i=pu(n-r,e.length),s=e.length-i;t.cbuf.set(e.subarray(0,i),r),t.cpos+=i,s>0&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(vo(n*2,s)),t.cbuf.set(e.subarray(i)),t.cpos=s)},kr=(t,e)=>{lt(t,e.byteLength),kg(t,e)},rE=(t,e)=>{fre(t,e);const n=new DataView(t.cbuf.buffer,t.cpos,e);return t.cpos+=e,n},mre=(t,e)=>rE(t,4).setFloat32(0,e,!1),gre=(t,e)=>rE(t,8).setFloat64(0,e,!1),yre=(t,e)=>rE(t,8).setBigInt64(0,e,!1),gA=new DataView(new ArrayBuffer(4)),wre=t=>(gA.setFloat32(0,t),gA.getFloat32(0)===t),mu=(t,e)=>{switch(typeof e){case"string":fn(t,119),Kl(t,e);break;case"number":ere(e)&&cp(e)<=Qne?(fn(t,125),nE(t,e)):wre(e)?(fn(t,124),mre(t,e)):(fn(t,123),gre(t,e));break;case"bigint":fn(t,122),yre(t,e);break;case"object":if(e===null)fn(t,126);else if(Wb(e)){fn(t,117),lt(t,e.length);for(let n=0;n<e.length;n++)mu(t,e[n])}else if(e instanceof Uint8Array)fn(t,116),kr(t,e);else{fn(t,118);const n=Object.keys(e);lt(t,n.length);for(let r=0;r<n.length;r++){const i=n[r];Kl(t,i),mu(t,e[i])}}break;case"boolean":fn(t,e?120:121);break;default:fn(t,127)}};class yA extends Gf{constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&lt(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}const wA=t=>{t.count>0&&(nE(t.encoder,t.count===1?t.s:-t.s),t.count>1&&lt(t.encoder,t.count-2))};class fp{constructor(){this.encoder=new Gf,this.s=0,this.count=0}write(e){this.s===e?this.count++:(wA(this),this.count=1,this.s=e)}toUint8Array(){return wA(this),ai(this.encoder)}}const vA=t=>{if(t.count>0){const e=t.diff*2+(t.count===1?0:1);nE(t.encoder,e),t.count>1&&lt(t.encoder,t.count-2)}};class Ev{constructor(){this.encoder=new Gf,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(vA(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return vA(this),ai(this.encoder)}}class vre{constructor(){this.sarr=[],this.s="",this.lensE=new fp}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){const e=new Gf;return this.sarr.push(this.s),this.s="",Kl(e,this.sarr.join("")),kg(e,this.lensE.toUint8Array()),ai(e)}}const bo=t=>new Error(t),ui=()=>{throw bo("Method unimplemented")},wr=()=>{throw bo("Unexpected case")},TO=bo("Unexpected end of array"),AO=bo("Integer out of Range");class Tg{constructor(e){this.arr=e,this.pos=0}}const iE=t=>new Tg(t),bre=t=>t.pos!==t.arr.length,xre=(t,e)=>{const n=new Uint8Array(t.arr.buffer,t.pos+t.arr.byteOffset,e);return t.pos+=e,n},jr=t=>xre(t,Ot(t)),pf=t=>t.arr[t.pos++],Ot=t=>{let e=0,n=1;const r=t.arr.length;for(;t.pos<r;){const i=t.arr[t.pos++];if(e=e+(i&ba)*n,n*=128,i<Xn)return e;if(e>kO)throw AO}throw TO},sE=t=>{let e=t.arr[t.pos++],n=e&Kb,r=64;const i=(e&cs)>0?-1:1;if(!(e&Xn))return i*n;const s=t.arr.length;for(;t.pos<s;){if(e=t.arr[t.pos++],n=n+(e&ba)*r,r*=128,e<Xn)return i*n;if(n>kO)throw AO}throw TO},Ere=t=>{let e=Ot(t);if(e===0)return"";{let n=String.fromCodePoint(pf(t));if(--e<100)for(;e--;)n+=String.fromCodePoint(pf(t));else for(;e>0;){const r=e<1e4?e:1e4,i=t.arr.subarray(t.pos,t.pos+r);t.pos+=r,n+=String.fromCodePoint.apply(null,i),e-=r}return decodeURIComponent(escape(n))}},Cre=t=>Kc.decode(jr(t)),Xb=Kc?Cre:Ere,oE=(t,e)=>{const n=new DataView(t.arr.buffer,t.arr.byteOffset+t.pos,e);return t.pos+=e,n},Sre=t=>oE(t,4).getFloat32(0,!1),kre=t=>oE(t,8).getFloat64(0,!1),Tre=t=>oE(t,8).getBigInt64(0,!1),Are=[t=>{},t=>null,sE,Sre,kre,Tre,t=>!1,t=>!0,Xb,t=>{const e=Ot(t),n={};for(let r=0;r<e;r++){const i=Xb(t);n[i]=vm(t)}return n},t=>{const e=Ot(t),n=[];for(let r=0;r<e;r++)n.push(vm(t));return n},jr],vm=t=>Are[127-pf(t)](t);class bA extends Tg{constructor(e,n){super(e),this.reader=n,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),bre(this)?this.count=Ot(this)+1:this.count=-1),this.count--,this.s}}class dp extends Tg{constructor(e){super(e),this.s=0,this.count=0}read(){if(this.count===0){this.s=sE(this);const e=SO(this.s);this.count=1,e&&(this.s=-this.s,this.count=Ot(this)+2)}return this.count--,this.s}}class Cv extends Tg{constructor(e){super(e),this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){const e=sE(this),n=e&1;this.diff=ms(e/2),this.count=1,n&&(this.count=Ot(this)+2)}return this.s+=this.diff,this.count--,this.s}}class _re{constructor(e){this.decoder=new dp(e),this.str=Xb(this.decoder),this.spos=0}read(){const e=this.spos+this.decoder.read(),n=this.str.slice(this.spos,e);return this.spos=e,n}}const Rre=crypto.getRandomValues.bind(crypto),Nre=Math.random,_O=()=>Rre(new Uint32Array(1))[0],Ore=t=>t[ms(Nre()*t.length)],Ire="10000000-1000-4000-8000"+-1e11,Mre=()=>Ire.replace(/[018]/g,t=>(t^_O()&15>>t/4).toString(16)),Dre=Date.now,xA=t=>new Promise(t);Promise.all.bind(Promise);const EA=t=>t===void 0?null:t;class Lre{constructor(){this.map=new Map}setItem(e,n){this.map.set(e,n)}getItem(e){return this.map.get(e)}}let RO=new Lre,Pre=!0;try{typeof localStorage<"u"&&localStorage&&(RO=localStorage,Pre=!1)}catch{}const Fre=RO,Bre=Object.assign,NO=Object.keys,jre=(t,e)=>{for(const n in t)e(t[n],n)},CA=t=>NO(t).length,Hre=t=>{for(const e in t)return!1;return!0},OO=(t,e)=>{for(const n in t)if(!e(t[n],n))return!1;return!0},$re=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),zre=(t,e)=>t===e||CA(t)===CA(e)&&OO(t,(n,r)=>(n!==void 0||$re(e,r))&&e[r]===n),Ure=Object.freeze,IO=t=>{for(const e in t){const n=t[e];(typeof n=="object"||typeof n=="function")&&IO(t[e])}return Ure(t)},aE=(t,e,n=0)=>{try{for(;n<t.length;n++)t[n](...e)}finally{n<t.length&&aE(t,e,n+1)}},Vre=(t,e)=>e.includes(t);var MO={};const gu=typeof process<"u"&&process.release&&/node|io\.js/.test(process.release.name)&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]",DO=typeof window<"u"&&typeof document<"u"&&!gu;let xi;const Wre=()=>{if(xi===void 0)if(gu){xi=li();const t=process.argv;let e=null;for(let n=0;n<t.length;n++){const r=t[n];r[0]==="-"?(e!==null&&xi.set(e,""),e=r):e!==null&&(xi.set(e,r),e=null)}e!==null&&xi.set(e,"")}else typeof location=="object"?(xi=li(),(location.search||"?").slice(1).split("&").forEach(t=>{if(t.length!==0){const[e,n]=t.split("=");xi.set(`--${mA(e,"-")}`,n),xi.set(`-${mA(e,"-")}`,n)}})):xi=li();return xi},Yb=t=>Wre().has(t),bm=t=>EA(gu?MO[t.toUpperCase().replaceAll("-","_")]:Fre.getItem(t)),LO=t=>Yb("--"+t)||bm(t)!==null;LO("production");const Kre=gu&&Vre(MO.FORCE_COLOR,["true","1","2"]),qre=Kre||!Yb("--no-colors")&&!LO("no-color")&&(!gu||process.stdout.isTTY)&&(!gu||Yb("--color")||bm("COLORTERM")!==null||(bm("TERM")||"").includes("color")),Gre=t=>{let e="";for(let n=0;n<t.byteLength;n++)e+=tre(t[n]);return btoa(e)},Xre=t=>Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("base64"),Yre=DO?Gre:Xre,Zre=t=>ure(e=>mu(e,t));class Jre{constructor(e,n){this.left=e,this.right=n}}const Qi=(t,e)=>new Jre(t,e),Qre=typeof document<"u"?document:{};typeof DOMParser<"u"&&new DOMParser;const eie=t=>Gne(t,(e,n)=>`${n}:${e};`).join(""),tie=t=>class{constructor(n){this._=n}destroy(){t(this._)}},nie=tie(clearTimeout),PO=(t,e)=>new nie(setTimeout(e,t)),Es=Symbol,FO=Es(),BO=Es(),rie=Es(),iie=Es(),sie=Es(),jO=Es(),oie=Es(),lE=Es(),aie=Es(),lie=t=>{var i;t.length===1&&((i=t[0])==null?void 0:i.constructor)===Function&&(t=t[0]());const e=[],n=[];let r=0;for(;r<t.length;r++){const s=t[r];if(s===void 0)break;if(s.constructor===String||s.constructor===Number)e.push(s);else if(s.constructor===Object)break}for(r>0&&n.push(e.join(""));r<t.length;r++){const s=t[r];s instanceof Symbol||n.push(s)}return n},uie={[FO]:Qi("font-weight","bold"),[BO]:Qi("font-weight","normal"),[rie]:Qi("color","blue"),[sie]:Qi("color","green"),[iie]:Qi("color","grey"),[jO]:Qi("color","red"),[oie]:Qi("color","purple"),[lE]:Qi("color","orange"),[aie]:Qi("color","black")},cie=t=>{var o;t.length===1&&((o=t[0])==null?void 0:o.constructor)===Function&&(t=t[0]());const e=[],n=[],r=li();let i=[],s=0;for(;s<t.length;s++){const a=t[s],u=uie[a];if(u!==void 0)r.set(u.left,u.right);else{if(a===void 0)break;if(a.constructor===String||a.constructor===Number){const c=eie(r);s>0||c.length>0?(e.push("%c"+a),n.push(c)):e.push(a)}else break}}for(s>0&&(i=n,i.unshift(e.join("")));s<t.length;s++){const a=t[s];a instanceof Symbol||i.push(a)}return i},HO=qre?cie:lie,fie=(...t)=>{console.log(...HO(t)),zO.forEach(e=>e.print(t))},$O=(...t)=>{console.warn(...HO(t)),t.unshift(lE),zO.forEach(e=>e.print(t))},zO=Ia(),UO=t=>({[Symbol.iterator](){return this},next:t}),die=(t,e)=>UO(()=>{let n;do n=t.next();while(!n.done&&!e(n.value));return n}),Sv=(t,e)=>UO(()=>{const{done:n,value:r}=t.next();return{done:n,value:n?void 0:e(r)}});class uE{constructor(e,n){this.clock=e,this.len=n}}class Cu{constructor(){this.clients=new Map}}const xo=(t,e,n)=>e.clients.forEach((r,i)=>{const s=t.doc.store.clients.get(i);if(s!=null){const o=s[s.length-1],a=o.id.clock+o.length;for(let u=0,c=r[u];u<r.length&&c.clock<a;c=r[++u])ZO(t,s,c.clock,c.len,n)}}),hie=(t,e)=>{let n=0,r=t.length-1;for(;n<=r;){const i=ms((n+r)/2),s=t[i],o=s.clock;if(o<=e){if(e<o+s.len)return i;n=i+1}else r=i-1}return null},Su=(t,e)=>{const n=t.clients.get(e.client);return n!==void 0&&hie(n,e.clock)!==null},cE=t=>{t.clients.forEach(e=>{e.sort((i,s)=>i.clock-s.clock);let n,r;for(n=1,r=1;n<e.length;n++){const i=e[r-1],s=e[n];i.clock+i.len>=s.clock?i.len=vo(i.len,s.clock+s.len-i.clock):(r<n&&(e[r]=s),r++)}e.length=r})},Zb=t=>{const e=new Cu;for(let n=0;n<t.length;n++)t[n].clients.forEach((r,i)=>{if(!e.clients.has(i)){const s=r.slice();for(let o=n+1;o<t.length;o++)Yne(s,t[o].clients.get(i)||[]);e.clients.set(i,s)}});return cE(e),e},mf=(t,e,n,r)=>{xs(t.clients,e,()=>[]).push(new uE(n,r))},VO=()=>new Cu,pie=t=>{const e=VO();return t.clients.forEach((n,r)=>{const i=[];for(let s=0;s<n.length;s++){const o=n[s];if(o.deleted){const a=o.id.clock;let u=o.length;if(s+1<n.length)for(let c=n[s+1];s+1<n.length&&c.deleted;c=n[++s+1])u+=c.length;i.push(new uE(a,u))}}i.length>0&&e.clients.set(r,i)}),e},fE=(t,e)=>{lt(t.restEncoder,e.clients.size),Ma(e.clients.entries()).sort((n,r)=>r[0]-n[0]).forEach(([n,r])=>{t.resetDsCurVal(),lt(t.restEncoder,n);const i=r.length;lt(t.restEncoder,i);for(let s=0;s<i;s++){const o=r[s];t.writeDsClock(o.clock),t.writeDsLen(o.len)}})},mie=t=>{const e=new Cu,n=Ot(t.restDecoder);for(let r=0;r<n;r++){t.resetDsCurVal();const i=Ot(t.restDecoder),s=Ot(t.restDecoder);if(s>0){const o=xs(e.clients,i,()=>[]);for(let a=0;a<s;a++)o.push(new uE(t.readDsClock(),t.readDsLen()))}}return e},SA=(t,e,n)=>{const r=new Cu,i=Ot(t.restDecoder);for(let s=0;s<i;s++){t.resetDsCurVal();const o=Ot(t.restDecoder),a=Ot(t.restDecoder),u=n.clients.get(o)||[],c=Jt(n,o);for(let d=0;d<a;d++){const h=t.readDsClock(),p=h+t.readDsLen();if(h<c){c<p&&mf(r,o,c,p-c);let m=fi(u,h),w=u[m];for(!w.deleted&&w.id.clock<h&&(u.splice(m+1,0,Am(e,w,h-w.id.clock)),m++);m<u.length&&(w=u[m++],w.id.clock<p);)w.deleted||(p<w.id.clock+w.length&&u.splice(m,0,Am(e,w,p-w.id.clock)),w.delete(e))}else mf(r,o,h,p-h)}}if(r.clients.size>0){const s=new Ag;return lt(s.restEncoder,0),fE(s,r),s.toUint8Array()}return null},WO=_O;class Wa extends CO{constructor({guid:e=Mre(),collectionid:n=null,gc:r=!0,gcFilter:i=()=>!0,meta:s=null,autoLoad:o=!1,shouldLoad:a=!0}={}){super(),this.gc=r,this.gcFilter=i,this.clientID=WO(),this.guid=e,this.collectionid=n,this.share=new Map,this.store=new XO,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=a,this.autoLoad=o,this.meta=s,this.isLoaded=!1,this.isSynced=!1,this.isDestroyed=!1,this.whenLoaded=xA(c=>{this.on("load",()=>{this.isLoaded=!0,c(this)})});const u=()=>xA(c=>{const d=h=>{(h===void 0||h===!0)&&(this.off("sync",d),c())};this.on("sync",d)});this.on("sync",c=>{c===!1&&this.isSynced&&(this.whenSynced=u()),this.isSynced=c===void 0||c===!0,this.isSynced&&!this.isLoaded&&this.emit("load",[this])}),this.whenSynced=u()}load(){const e=this._item;e!==null&&!this.shouldLoad&&vt(e.parent.doc,n=>{n.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(Ma(this.subdocs).map(e=>e.guid))}transact(e,n=null){return vt(this,e,n)}get(e,n=gn){const r=xs(this.share,e,()=>{const s=new n;return s._integrate(this,null),s}),i=r.constructor;if(n!==gn&&i!==n)if(i===gn){const s=new n;s._map=r._map,r._map.forEach(o=>{for(;o!==null;o=o.left)o.parent=s}),s._start=r._start;for(let o=s._start;o!==null;o=o.right)o.parent=s;return s._length=r._length,this.share.set(e,s),s._integrate(this,null),s}else throw new Error(`Type with the name ${e} has already been defined with a different constructor`);return r}getArray(e=""){return this.get(e,Xl)}getText(e=""){return this.get(e,Eo)}getMap(e=""){return this.get(e,yu)}getXmlElement(e=""){return this.get(e,Hn)}getXmlFragment(e=""){return this.get(e,Da)}toJSON(){const e={};return this.share.forEach((n,r)=>{e[r]=n.toJSON()}),e}destroy(){this.isDestroyed=!0,Ma(this.subdocs).forEach(n=>n.destroy());const e=this._item;if(e!==null){this._item=null;const n=e.content;n.doc=new Wa({guid:this.guid,...n.opts,shouldLoad:!1}),n.doc._item=e,vt(e.parent.doc,r=>{const i=n.doc;e.deleted||r.subdocsAdded.add(i),r.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}}class gie{constructor(e){this.dsCurrVal=0,this.restDecoder=e}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=Ot(this.restDecoder),this.dsCurrVal}readDsLen(){const e=Ot(this.restDecoder)+1;return this.dsCurrVal+=e,e}}class xm extends gie{constructor(e){super(e),this.keys=[],Ot(e),this.keyClockDecoder=new Cv(jr(e)),this.clientDecoder=new dp(jr(e)),this.leftClockDecoder=new Cv(jr(e)),this.rightClockDecoder=new Cv(jr(e)),this.infoDecoder=new bA(jr(e),pf),this.stringDecoder=new _re(jr(e)),this.parentInfoDecoder=new bA(jr(e),pf),this.typeRefDecoder=new dp(jr(e)),this.lenDecoder=new dp(jr(e))}readLeftID(){return new ql(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new ql(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return vm(this.restDecoder)}readBuf(){return jr(this.restDecoder)}readJSON(){return vm(this.restDecoder)}readKey(){const e=this.keyClockDecoder.read();if(e<this.keys.length)return this.keys[e];{const n=this.stringDecoder.read();return this.keys.push(n),n}}}class yie{constructor(){this.restEncoder=Xf()}toUint8Array(){return ai(this.restEncoder)}resetDsCurVal(){}writeDsClock(e){lt(this.restEncoder,e)}writeDsLen(e){lt(this.restEncoder,e)}}class wie extends yie{writeLeftID(e){lt(this.restEncoder,e.client),lt(this.restEncoder,e.clock)}writeRightID(e){lt(this.restEncoder,e.client),lt(this.restEncoder,e.clock)}writeClient(e){lt(this.restEncoder,e)}writeInfo(e){qb(this.restEncoder,e)}writeString(e){Kl(this.restEncoder,e)}writeParentInfo(e){lt(this.restEncoder,e?1:0)}writeTypeRef(e){lt(this.restEncoder,e)}writeLen(e){lt(this.restEncoder,e)}writeAny(e){mu(this.restEncoder,e)}writeBuf(e){kr(this.restEncoder,e)}writeJSON(e){Kl(this.restEncoder,JSON.stringify(e))}writeKey(e){Kl(this.restEncoder,e)}}class vie{constructor(){this.restEncoder=Xf(),this.dsCurrVal=0}toUint8Array(){return ai(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(e){const n=e-this.dsCurrVal;this.dsCurrVal=e,lt(this.restEncoder,n)}writeDsLen(e){e===0&&wr(),lt(this.restEncoder,e-1),this.dsCurrVal+=e}}class Ag extends vie{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new Ev,this.clientEncoder=new fp,this.leftClockEncoder=new Ev,this.rightClockEncoder=new Ev,this.infoEncoder=new yA(qb),this.stringEncoder=new vre,this.parentInfoEncoder=new yA(qb),this.typeRefEncoder=new fp,this.lenEncoder=new fp}toUint8Array(){const e=Xf();return lt(e,0),kr(e,this.keyClockEncoder.toUint8Array()),kr(e,this.clientEncoder.toUint8Array()),kr(e,this.leftClockEncoder.toUint8Array()),kr(e,this.rightClockEncoder.toUint8Array()),kr(e,ai(this.infoEncoder)),kr(e,this.stringEncoder.toUint8Array()),kr(e,ai(this.parentInfoEncoder)),kr(e,this.typeRefEncoder.toUint8Array()),kr(e,this.lenEncoder.toUint8Array()),kg(e,ai(this.restEncoder)),ai(e)}writeLeftID(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}writeRightID(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}writeClient(e){this.clientEncoder.write(e)}writeInfo(e){this.infoEncoder.write(e)}writeString(e){this.stringEncoder.write(e)}writeParentInfo(e){this.parentInfoEncoder.write(e?1:0)}writeTypeRef(e){this.typeRefEncoder.write(e)}writeLen(e){this.lenEncoder.write(e)}writeAny(e){mu(this.restEncoder,e)}writeBuf(e){kr(this.restEncoder,e)}writeJSON(e){mu(this.restEncoder,e)}writeKey(e){const n=this.keyMap.get(e);n===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(n)}}const bie=(t,e,n,r)=>{r=vo(r,e[0].id.clock);const i=fi(e,r);lt(t.restEncoder,e.length-i),t.writeClient(n),lt(t.restEncoder,r);const s=e[i];s.write(t,r-s.id.clock);for(let o=i+1;o<e.length;o++)e[o].write(t,0)},KO=(t,e,n)=>{const r=new Map;n.forEach((i,s)=>{Jt(e,s)>i&&r.set(s,i)}),_g(e).forEach((i,s)=>{n.has(s)||r.set(s,0)}),lt(t.restEncoder,r.size),Ma(r.entries()).sort((i,s)=>s[0]-i[0]).forEach(([i,s])=>{bie(t,e.clients.get(i),i,s)})},xie=(t,e)=>{const n=li(),r=Ot(t.restDecoder);for(let i=0;i<r;i++){const s=Ot(t.restDecoder),o=new Array(s),a=t.readClient();let u=Ot(t.restDecoder);n.set(a,{i:0,refs:o});for(let c=0;c<s;c++){const d=t.readInfo();switch(Sg&d){case 0:{const h=t.readLen();o[c]=new zr(st(a,u),h),u+=h;break}case 10:{const h=Ot(t.restDecoder);o[c]=new si(st(a,u),h),u+=h;break}default:{const h=(d&(cs|Xn))===0,p=new mt(st(a,u),null,(d&Xn)===Xn?t.readLeftID():null,null,(d&cs)===cs?t.readRightID():null,h?t.readParentInfo()?e.get(t.readString()):t.readLeftID():null,h&&(d&df)===df?t.readString():null,v9(t,d));o[c]=p,u+=p.length}}}}return n},Eie=(t,e,n)=>{const r=[];let i=Ma(n.keys()).sort((m,w)=>m-w);if(i.length===0)return null;const s=()=>{if(i.length===0)return null;let m=n.get(i[i.length-1]);for(;m.refs.length===m.i;)if(i.pop(),i.length>0)m=n.get(i[i.length-1]);else return null;return m};let o=s();if(o===null)return null;const a=new XO,u=new Map,c=(m,w)=>{const y=u.get(m);(y==null||y>w)&&u.set(m,w)};let d=o.refs[o.i++];const h=new Map,p=()=>{for(const m of r){const w=m.id.client,y=n.get(w);y?(y.i--,a.clients.set(w,y.refs.slice(y.i)),n.delete(w),y.i=0,y.refs=[]):a.clients.set(w,[m]),i=i.filter(x=>x!==w)}r.length=0};for(;;){if(d.constructor!==si){const w=xs(h,d.id.client,()=>Jt(e,d.id.client))-d.id.clock;if(w<0)r.push(d),c(d.id.client,d.id.clock-1),p();else{const y=d.getMissing(t,e);if(y!==null){r.push(d);const x=n.get(y)||{refs:[],i:0};if(x.refs.length===x.i)c(y,Jt(e,y)),p();else{d=x.refs[x.i++];continue}}else(w===0||w<d.length)&&(d.integrate(t,w),h.set(d.id.client,d.id.clock+d.length))}}if(r.length>0)d=r.pop();else if(o!==null&&o.i<o.refs.length)d=o.refs[o.i++];else{if(o=s(),o===null)break;d=o.refs[o.i++]}}if(a.clients.size>0){const m=new Ag;return KO(m,a,new Map),lt(m.restEncoder,0),{missing:u,update:m.toUint8Array()}}return null},Cie=(t,e)=>KO(t,e.doc.store,e.beforeState),Sie=(t,e,n,r=new xm(t))=>vt(e,i=>{i.local=!1;let s=!1;const o=i.doc,a=o.store,u=xie(r,o),c=Eie(i,a,u),d=a.pendingStructs;if(d){for(const[p,m]of d.missing)if(m<Jt(a,p)){s=!0;break}if(c){for(const[p,m]of c.missing){const w=d.missing.get(p);(w==null||w>m)&&d.missing.set(p,m)}d.update=MA([d.update,c.update])}}else a.pendingStructs=c;const h=SA(r,i,a);if(a.pendingDs){const p=new xm(iE(a.pendingDs));Ot(p.restDecoder);const m=SA(p,i,a);h&&m?a.pendingDs=MA([h,m]):a.pendingDs=h||m}else a.pendingDs=h;if(s){const p=a.pendingStructs.update;a.pendingStructs=null,Jb(i.doc,p)}},n,!1),Jb=(t,e,n,r=xm)=>{const i=iE(e);Sie(i,t,n,new r(i))};class kie{constructor(){this.l=[]}}const kA=()=>new kie,TA=(t,e)=>t.l.push(e),AA=(t,e)=>{const n=t.l,r=n.length;t.l=n.filter(i=>e!==i),r===t.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},qO=(t,e,n)=>aE(t.l,[e,n]);class ql{constructor(e,n){this.client=e,this.clock=n}}const qh=(t,e)=>t===e||t!==null&&e!==null&&t.client===e.client&&t.clock===e.clock,st=(t,e)=>new ql(t,e),gf=t=>{for(const[e,n]of t.doc.share.entries())if(n===t)return e;throw wr()},yf=(t,e)=>{for(;e!==null;){if(e.parent===t)return!0;e=e.parent._item}return!1};class Em{constructor(e,n,r,i=0){this.type=e,this.tname=n,this.item=r,this.assoc=i}}class Tie{constructor(e,n,r=0){this.type=e,this.index=n,this.assoc=r}}const Aie=(t,e,n=0)=>new Tie(t,e,n),Gh=(t,e,n)=>{let r=null,i=null;return t._item===null?i=gf(t):r=st(t._item.id.client,t._item.id.clock),new Em(r,i,e,n)},kv=(t,e,n=0)=>{let r=t._start;if(n<0){if(e===0)return Gh(t,null,n);e--}for(;r!==null;){if(!r.deleted&&r.countable){if(r.length>e)return Gh(t,st(r.id.client,r.id.clock+e),n);e-=r.length}if(r.right===null&&n<0)return Gh(t,r.lastId,n);r=r.right}return Gh(t,null,n)},_ie=(t,e)=>{const n=Gl(t,e),r=e.clock-n.id.clock;return{item:n,diff:r}},Rie=(t,e,n=!0)=>{const r=e.store,i=t.item,s=t.type,o=t.tname,a=t.assoc;let u=null,c=0;if(i!==null){if(Jt(r,i.client)<=i.clock)return null;const d=n?n2(r,i):_ie(r,i),h=d.item;if(!(h instanceof mt))return null;if(u=h.parent,u._item===null||!u._item.deleted){c=h.deleted||!h.countable?0:d.diff+(a>=0?0:1);let p=h.left;for(;p!==null;)!p.deleted&&p.countable&&(c+=p.length),p=p.left}}else{if(o!==null)u=e.get(o);else if(s!==null){if(Jt(r,s.client)<=s.clock)return null;const{item:d}=n?n2(r,s):{item:Gl(r,s)};if(d instanceof mt&&d.content instanceof pi)u=d.content.type;else return null}else throw wr();a>=0?c=u._length:c=0}return Aie(u,c,t.assoc)};class dE{constructor(e,n){this.ds=e,this.sv=n}}const GO=(t,e)=>new dE(t,e),Tv=t=>GO(pie(t.store),_g(t.store)),sa=(t,e)=>e===void 0?!t.deleted:e.sv.has(t.id.client)&&(e.sv.get(t.id.client)||0)>t.id.clock&&!Su(e.ds,t.id),Qb=(t,e)=>{const n=xs(t.meta,Qb,Ia),r=t.doc.store;n.has(e)||(e.sv.forEach((i,s)=>{i<Jt(r,s)&&fr(t,st(s,i))}),xo(t,e.ds,i=>{}),n.add(e))};class XO{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const _g=t=>{const e=new Map;return t.clients.forEach((n,r)=>{const i=n[n.length-1];e.set(r,i.id.clock+i.length)}),e},Jt=(t,e)=>{const n=t.clients.get(e);if(n===void 0)return 0;const r=n[n.length-1];return r.id.clock+r.length},YO=(t,e)=>{let n=t.clients.get(e.id.client);if(n===void 0)n=[],t.clients.set(e.id.client,n);else{const r=n[n.length-1];if(r.id.clock+r.length!==e.id.clock)throw wr()}n.push(e)},fi=(t,e)=>{let n=0,r=t.length-1,i=t[r],s=i.id.clock;if(s===e)return r;let o=ms(e/(s+i.length-1)*r);for(;n<=r;){if(i=t[o],s=i.id.clock,s<=e){if(e<s+i.length)return o;n=o+1}else r=o-1;o=ms((n+r)/2)}throw wr()},Nie=(t,e)=>{const n=t.clients.get(e.client);return n[fi(n,e.clock)]},Gl=Nie,e2=(t,e,n)=>{const r=fi(e,n),i=e[r];return i.id.clock<n&&i instanceof mt?(e.splice(r+1,0,Am(t,i,n-i.id.clock)),r+1):r},fr=(t,e)=>{const n=t.doc.store.clients.get(e.client);return n[e2(t,n,e.clock)]},_A=(t,e,n)=>{const r=e.clients.get(n.client),i=fi(r,n.clock),s=r[i];return n.clock!==s.id.clock+s.length-1&&s.constructor!==zr&&r.splice(i+1,0,Am(t,s,n.clock-s.id.clock+1)),s},Oie=(t,e,n)=>{const r=t.clients.get(e.id.client);r[fi(r,e.id.clock)]=n},ZO=(t,e,n,r,i)=>{if(r===0)return;const s=n+r;let o=e2(t,e,n),a;do a=e[o++],s<a.id.clock+a.length&&e2(t,e,s),i(a);while(o<e.length&&e[o].id.clock<s)};class Iie{constructor(e,n,r){this.doc=e,this.deleteSet=new Cu,this.beforeState=_g(e.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=n,this.meta=new Map,this.local=r,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}}const RA=(t,e)=>e.deleteSet.clients.size===0&&!Xne(e.afterState,(n,r)=>e.beforeState.get(r)!==n)?!1:(cE(e.deleteSet),Cie(t,e),fE(t,e.deleteSet),!0),NA=(t,e,n)=>{const r=e._item;(r===null||r.id.clock<(t.beforeState.get(r.id.client)||0)&&!r.deleted)&&xs(t.changed,e,Ia).add(n)},hp=(t,e)=>{let n=t[e],r=t[e-1],i=e;for(;i>0;n=r,r=t[--i-1]){if(r.deleted===n.deleted&&r.constructor===n.constructor&&r.mergeWith(n)){n instanceof mt&&n.parentSub!==null&&n.parent._map.get(n.parentSub)===n&&n.parent._map.set(n.parentSub,r);continue}break}const s=e-i;return s&&t.splice(e+1-s,s),s},Mie=(t,e,n)=>{for(const[r,i]of t.clients.entries()){const s=e.clients.get(r);for(let o=i.length-1;o>=0;o--){const a=i[o],u=a.clock+a.len;for(let c=fi(s,a.clock),d=s[c];c<s.length&&d.id.clock<u;d=s[++c]){const h=s[c];if(a.clock+a.len<=h.id.clock)break;h instanceof mt&&h.deleted&&!h.keep&&n(h)&&h.gc(e,!1)}}}},Die=(t,e)=>{t.clients.forEach((n,r)=>{const i=e.clients.get(r);for(let s=n.length-1;s>=0;s--){const o=n[s],a=pu(i.length-1,1+fi(i,o.clock+o.len-1));for(let u=a,c=i[u];u>0&&c.id.clock>=o.clock;c=i[u])u-=1+hp(i,u)}})},JO=(t,e)=>{if(e<t.length){const n=t[e],r=n.doc,i=r.store,s=n.deleteSet,o=n._mergeStructs;try{cE(s),n.afterState=_g(n.doc.store),r.emit("beforeObserverCalls",[n,r]);const a=[];n.changed.forEach((u,c)=>a.push(()=>{(c._item===null||!c._item.deleted)&&c._callObserver(n,u)})),a.push(()=>{n.changedParentTypes.forEach((u,c)=>{c._dEH.l.length>0&&(c._item===null||!c._item.deleted)&&(u=u.filter(d=>d.target._item===null||!d.target._item.deleted),u.forEach(d=>{d.currentTarget=c,d._path=null}),u.sort((d,h)=>d.path.length-h.path.length),qO(c._dEH,u,n))})}),a.push(()=>r.emit("afterTransaction",[n,r])),aE(a,[]),n._needFormattingCleanup&&ese(n)}finally{r.gc&&Mie(s,i,r.gcFilter),Die(s,i),n.afterState.forEach((d,h)=>{const p=n.beforeState.get(h)||0;if(p!==d){const m=i.clients.get(h),w=vo(fi(m,p),1);for(let y=m.length-1;y>=w;)y-=1+hp(m,y)}});for(let d=o.length-1;d>=0;d--){const{client:h,clock:p}=o[d].id,m=i.clients.get(h),w=fi(m,p);w+1<m.length&&hp(m,w+1)>1||w>0&&hp(m,w)}if(!n.local&&n.afterState.get(r.clientID)!==n.beforeState.get(r.clientID)&&(fie(lE,FO,"[yjs] ",BO,jO,"Changed the client-id because another client seems to be using it."),r.clientID=WO()),r.emit("afterTransactionCleanup",[n,r]),r._observers.has("update")){const d=new wie;RA(d,n)&&r.emit("update",[d.toUint8Array(),n.origin,r,n])}if(r._observers.has("updateV2")){const d=new Ag;RA(d,n)&&r.emit("updateV2",[d.toUint8Array(),n.origin,r,n])}const{subdocsAdded:a,subdocsLoaded:u,subdocsRemoved:c}=n;(a.size>0||c.size>0||u.size>0)&&(a.forEach(d=>{d.clientID=r.clientID,d.collectionid==null&&(d.collectionid=r.collectionid),r.subdocs.add(d)}),c.forEach(d=>r.subdocs.delete(d)),r.emit("subdocs",[{loaded:u,added:a,removed:c},r,n]),c.forEach(d=>d.destroy())),t.length<=e+1?(r._transactionCleanups=[],r.emit("afterAllTransactions",[r,t])):JO(t,e+1)}}},vt=(t,e,n=null,r=!0)=>{const i=t._transactionCleanups;let s=!1,o=null;t._transaction===null&&(s=!0,t._transaction=new Iie(t,n,r),i.push(t._transaction),i.length===1&&t.emit("beforeAllTransactions",[t]),t.emit("beforeTransaction",[t._transaction,t]));try{o=e(t._transaction)}finally{if(s){const a=t._transaction===i[0];t._transaction=null,a&&JO(i,0)}}return o};class Lie{constructor(e,n){this.insertions=n,this.deletions=e,this.meta=new Map}}const OA=(t,e,n)=>{xo(t,n.deletions,r=>{r instanceof mt&&e.scope.some(i=>i===t.doc||yf(i,r))&&yE(r,!1)})},IA=(t,e,n)=>{let r=null;const i=t.doc,s=t.scope;vt(i,a=>{for(;e.length>0&&t.currStackItem===null;){const u=i.store,c=e.pop(),d=new Set,h=[];let p=!1;xo(a,c.insertions,m=>{if(m instanceof mt){if(m.redone!==null){let{item:w,diff:y}=n2(u,m.id);y>0&&(w=fr(a,st(w.id.client,w.id.clock+y))),m=w}!m.deleted&&s.some(w=>w===a.doc||yf(w,m))&&h.push(m)}}),xo(a,c.deletions,m=>{m instanceof mt&&s.some(w=>w===a.doc||yf(w,m))&&!Su(c.insertions,m.id)&&d.add(m)}),d.forEach(m=>{p=w9(a,m,d,c.insertions,t.ignoreRemoteMapChanges,t)!==null||p});for(let m=h.length-1;m>=0;m--){const w=h[m];t.deleteFilter(w)&&(w.delete(a),p=!0)}t.currStackItem=p?c:null}a.changed.forEach((u,c)=>{u.has(null)&&c._searchMarker&&(c._searchMarker.length=0)}),r=a},t);const o=t.currStackItem;if(o!=null){const a=r.changedParentTypes;t.emit("stack-item-popped",[{stackItem:o,type:n,changedParentTypes:a,origin:t},t]),t.currStackItem=null}return o};class QO extends CO{constructor(e,{captureTimeout:n=500,captureTransaction:r=u=>!0,deleteFilter:i=()=>!0,trackedOrigins:s=new Set([null]),ignoreRemoteMapChanges:o=!1,doc:a=Wb(e)?e[0].doc:e instanceof Wa?e:e.doc}={}){super(),this.scope=[],this.doc=a,this.addToScope(e),this.deleteFilter=i,s.add(this),this.trackedOrigins=s,this.captureTransaction=r,this.undoStack=[],this.redoStack=[],this.undoing=!1,this.redoing=!1,this.currStackItem=null,this.lastChange=0,this.ignoreRemoteMapChanges=o,this.captureTimeout=n,this.afterTransactionHandler=u=>{if(!this.captureTransaction(u)||!this.scope.some(x=>u.changedParentTypes.has(x)||x===this.doc)||!this.trackedOrigins.has(u.origin)&&(!u.origin||!this.trackedOrigins.has(u.origin.constructor)))return;const c=this.undoing,d=this.redoing,h=c?this.redoStack:this.undoStack;c?this.stopCapturing():d||this.clear(!1,!0);const p=new Cu;u.afterState.forEach((x,v)=>{const S=u.beforeState.get(v)||0,k=x-S;k>0&&mf(p,v,S,k)});const m=Dre();let w=!1;if(this.lastChange>0&&m-this.lastChange<this.captureTimeout&&h.length>0&&!c&&!d){const x=h[h.length-1];x.deletions=Zb([x.deletions,u.deleteSet]),x.insertions=Zb([x.insertions,p])}else h.push(new Lie(u.deleteSet,p)),w=!0;!c&&!d&&(this.lastChange=m),xo(u,u.deleteSet,x=>{x instanceof mt&&this.scope.some(v=>v===u.doc||yf(v,x))&&yE(x,!0)});const y=[{stackItem:h[h.length-1],origin:u.origin,type:c?"redo":"undo",changedParentTypes:u.changedParentTypes},this];w?this.emit("stack-item-added",y):this.emit("stack-item-updated",y)},this.doc.on("afterTransaction",this.afterTransactionHandler),this.doc.on("destroy",()=>{this.destroy()})}addToScope(e){const n=new Set(this.scope);e=Wb(e)?e:[e],e.forEach(r=>{n.has(r)||(n.add(r),(r instanceof gn?r.doc!==this.doc:r!==this.doc)&&$O("[yjs#509] Not same Y.Doc"),this.scope.push(r))})}addTrackedOrigin(e){this.trackedOrigins.add(e)}removeTrackedOrigin(e){this.trackedOrigins.delete(e)}clear(e=!0,n=!0){(e&&this.canUndo()||n&&this.canRedo())&&this.doc.transact(r=>{e&&(this.undoStack.forEach(i=>OA(r,this,i)),this.undoStack=[]),n&&(this.redoStack.forEach(i=>OA(r,this,i)),this.redoStack=[]),this.emit("stack-cleared",[{undoStackCleared:e,redoStackCleared:n}])})}stopCapturing(){this.lastChange=0}undo(){this.undoing=!0;let e;try{e=IA(this,this.undoStack,"undo")}finally{this.undoing=!1}return e}redo(){this.redoing=!0;let e;try{e=IA(this,this.redoStack,"redo")}finally{this.redoing=!1}return e}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}destroy(){this.trackedOrigins.delete(this),this.doc.off("afterTransaction",this.afterTransactionHandler),super.destroy()}}function*Pie(t){const e=Ot(t.restDecoder);for(let n=0;n<e;n++){const r=Ot(t.restDecoder),i=t.readClient();let s=Ot(t.restDecoder);for(let o=0;o<r;o++){const a=t.readInfo();if(a===10){const u=Ot(t.restDecoder);yield new si(st(i,s),u),s+=u}else if(Sg&a){const u=(a&(cs|Xn))===0,c=new mt(st(i,s),null,(a&Xn)===Xn?t.readLeftID():null,null,(a&cs)===cs?t.readRightID():null,u?t.readParentInfo()?t.readString():t.readLeftID():null,u&&(a&df)===df?t.readString():null,v9(t,a));yield c,s+=c.length}else{const u=t.readLen();yield new zr(st(i,s),u),s+=u}}}}class Fie{constructor(e,n){this.gen=Pie(e),this.curr=null,this.done=!1,this.filterSkips=n,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===si);return this.curr}}class Bie{constructor(e){this.currClient=0,this.startClock=0,this.written=0,this.encoder=e,this.clientStructs=[]}}const jie=(t,e)=>{if(t.constructor===zr){const{client:n,clock:r}=t.id;return new zr(st(n,r+e),t.length-e)}else if(t.constructor===si){const{client:n,clock:r}=t.id;return new si(st(n,r+e),t.length-e)}else{const n=t,{client:r,clock:i}=n.id;return new mt(st(r,i+e),null,st(r,i+e-1),null,n.rightOrigin,n.parent,n.parentSub,n.content.splice(e))}},MA=(t,e=xm,n=Ag)=>{if(t.length===1)return t[0];const r=t.map(d=>new e(iE(d)));let i=r.map(d=>new Fie(d,!0)),s=null;const o=new n,a=new Bie(o);for(;i=i.filter(p=>p.curr!==null),i.sort((p,m)=>{if(p.curr.id.client===m.curr.id.client){const w=p.curr.id.clock-m.curr.id.clock;return w===0?p.curr.constructor===m.curr.constructor?0:p.curr.constructor===si?1:-1:w}else return m.curr.id.client-p.curr.id.client}),i.length!==0;){const d=i[0],h=d.curr.id.client;if(s!==null){let p=d.curr,m=!1;for(;p!==null&&p.id.clock+p.length<=s.struct.id.clock+s.struct.length&&p.id.client>=s.struct.id.client;)p=d.next(),m=!0;if(p===null||p.id.client!==h||m&&p.id.clock>s.struct.id.clock+s.struct.length)continue;if(h!==s.struct.id.client)xc(a,s.struct,s.offset),s={struct:p,offset:0},d.next();else if(s.struct.id.clock+s.struct.length<p.id.clock)if(s.struct.constructor===si)s.struct.length=p.id.clock+p.length-s.struct.id.clock;else{xc(a,s.struct,s.offset);const w=p.id.clock-s.struct.id.clock-s.struct.length;s={struct:new si(st(h,s.struct.id.clock+s.struct.length),w),offset:0}}else{const w=s.struct.id.clock+s.struct.length-p.id.clock;w>0&&(s.struct.constructor===si?s.struct.length-=w:p=jie(p,w)),s.struct.mergeWith(p)||(xc(a,s.struct,s.offset),s={struct:p,offset:0},d.next())}}else s={struct:d.curr,offset:0},d.next();for(let p=d.curr;p!==null&&p.id.client===h&&p.id.clock===s.struct.id.clock+s.struct.length&&p.constructor!==si;p=d.next())xc(a,s.struct,s.offset),s={struct:p,offset:0}}s!==null&&(xc(a,s.struct,s.offset),s=null),Hie(a);const u=r.map(d=>mie(d)),c=Zb(u);return fE(o,c),o.toUint8Array()},e9=t=>{t.written>0&&(t.clientStructs.push({written:t.written,restEncoder:ai(t.encoder.restEncoder)}),t.encoder.restEncoder=Xf(),t.written=0)},xc=(t,e,n)=>{t.written>0&&t.currClient!==e.id.client&&e9(t),t.written===0&&(t.currClient=e.id.client,t.encoder.writeClient(e.id.client),lt(t.encoder.restEncoder,e.id.clock+n)),e.write(t.encoder,n),t.written++},Hie=t=>{e9(t);const e=t.encoder.restEncoder;lt(e,t.clientStructs.length);for(let n=0;n<t.clientStructs.length;n++){const r=t.clientStructs[n];lt(e,r.written),kg(e,r.restEncoder)}},DA="You must not compute changes after the event-handler fired.";class Rg{constructor(e,n){this.target=e,this.currentTarget=e,this.transaction=n,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=$ie(this.currentTarget,this.target))}deletes(e){return Su(this.transaction.deleteSet,e.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw bo(DA);const e=new Map,n=this.target;this.transaction.changed.get(n).forEach(i=>{if(i!==null){const s=n._map.get(i);let o,a;if(this.adds(s)){let u=s.left;for(;u!==null&&this.adds(u);)u=u.left;if(this.deletes(s))if(u!==null&&this.deletes(u))o="delete",a=vv(u.content.getContent());else return;else u!==null&&this.deletes(u)?(o="update",a=vv(u.content.getContent())):(o="add",a=void 0)}else if(this.deletes(s))o="delete",a=vv(s.content.getContent());else return;e.set(i,{action:o,oldValue:a})}}),this._keys=e}return this._keys}get delta(){return this.changes.delta}adds(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}get changes(){let e=this._changes;if(e===null){if(this.transaction.doc._transactionCleanups.length===0)throw bo(DA);const n=this.target,r=Ia(),i=Ia(),s=[];if(e={added:r,deleted:i,delta:s,keys:this.keys},this.transaction.changed.get(n).has(null)){let a=null;const u=()=>{a&&s.push(a)};for(let c=n._start;c!==null;c=c.right)c.deleted?this.deletes(c)&&!this.adds(c)&&((a===null||a.delete===void 0)&&(u(),a={delete:0}),a.delete+=c.length,i.add(c)):this.adds(c)?((a===null||a.insert===void 0)&&(u(),a={insert:[]}),a.insert=a.insert.concat(c.content.getContent()),r.add(c)):((a===null||a.retain===void 0)&&(u(),a={retain:0}),a.retain+=c.length);a!==null&&a.retain===void 0&&u()}this._changes=e}return e}}const $ie=(t,e)=>{const n=[];for(;e._item!==null&&e!==t;){if(e._item.parentSub!==null)n.unshift(e._item.parentSub);else{let r=0,i=e._item.parent._start;for(;i!==e._item&&i!==null;)!i.deleted&&i.countable&&(r+=i.length),i=i.right;n.unshift(r)}e=e._item.parent}return n},$n=()=>{$O("Invalid access: Add Yjs type to a document before reading data.")},t9=80;let hE=0;class zie{constructor(e,n){e.marker=!0,this.p=e,this.index=n,this.timestamp=hE++}}const Uie=t=>{t.timestamp=hE++},n9=(t,e,n)=>{t.p.marker=!1,t.p=e,e.marker=!0,t.index=n,t.timestamp=hE++},Vie=(t,e,n)=>{if(t.length>=t9){const r=t.reduce((i,s)=>i.timestamp<s.timestamp?i:s);return n9(r,e,n),r}else{const r=new zie(e,n);return t.push(r),r}},Ng=(t,e)=>{if(t._start===null||e===0||t._searchMarker===null)return null;const n=t._searchMarker.length===0?null:t._searchMarker.reduce((s,o)=>cp(e-s.index)<cp(e-o.index)?s:o);let r=t._start,i=0;for(n!==null&&(r=n.p,i=n.index,Uie(n));r.right!==null&&i<e;){if(!r.deleted&&r.countable){if(e<i+r.length)break;i+=r.length}r=r.right}for(;r.left!==null&&i>e;)r=r.left,!r.deleted&&r.countable&&(i-=r.length);for(;r.left!==null&&r.left.id.client===r.id.client&&r.left.id.clock+r.left.length===r.id.clock;)r=r.left,!r.deleted&&r.countable&&(i-=r.length);return n!==null&&cp(n.index-i)<r.parent.length/t9?(n9(n,r,i),n):Vie(t._searchMarker,r,i)},wf=(t,e,n)=>{for(let r=t.length-1;r>=0;r--){const i=t[r];if(n>0){let s=i.p;for(s.marker=!1;s&&(s.deleted||!s.countable);)s=s.left,s&&!s.deleted&&s.countable&&(i.index-=s.length);if(s===null||s.marker===!0){t.splice(r,1);continue}i.p=s,s.marker=!0}(e<i.index||n>0&&e===i.index)&&(i.index=vo(e,i.index+n))}},Og=(t,e,n)=>{const r=t,i=e.changedParentTypes;for(;xs(i,t,()=>[]).push(n),t._item!==null;)t=t._item.parent;qO(r._eH,n,e)};class gn{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=kA(),this._dEH=kA(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(e,n){this.doc=e,this._item=n}_copy(){throw ui()}clone(){throw ui()}_write(e){}get _first(){let e=this._start;for(;e!==null&&e.deleted;)e=e.right;return e}_callObserver(e,n){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(e){TA(this._eH,e)}observeDeep(e){TA(this._dEH,e)}unobserve(e){AA(this._eH,e)}unobserveDeep(e){AA(this._dEH,e)}toJSON(){}}const r9=(t,e,n)=>{t.doc??$n(),e<0&&(e=t._length+e),n<0&&(n=t._length+n);let r=n-e;const i=[];let s=t._start;for(;s!==null&&r>0;){if(s.countable&&!s.deleted){const o=s.content.getContent();if(o.length<=e)e-=o.length;else{for(let a=e;a<o.length&&r>0;a++)i.push(o[a]),r--;e=0}}s=s.right}return i},i9=t=>{t.doc??$n();const e=[];let n=t._start;for(;n!==null;){if(n.countable&&!n.deleted){const r=n.content.getContent();for(let i=0;i<r.length;i++)e.push(r[i])}n=n.right}return e},s9=(t,e)=>{const n=[];let r=t._start;for(;r!==null;){if(r.countable&&sa(r,e)){const i=r.content.getContent();for(let s=0;s<i.length;s++)n.push(i[s])}r=r.right}return n},vf=(t,e)=>{let n=0,r=t._start;for(t.doc??$n();r!==null;){if(r.countable&&!r.deleted){const i=r.content.getContent();for(let s=0;s<i.length;s++)e(i[s],n++,t)}r=r.right}},o9=(t,e)=>{const n=[];return vf(t,(r,i)=>{n.push(e(r,i,t))}),n},Wie=t=>{let e=t._start,n=null,r=0;return{[Symbol.iterator](){return this},next:()=>{if(n===null){for(;e!==null&&e.deleted;)e=e.right;if(e===null)return{done:!0,value:void 0};n=e.content.getContent(),r=0,e=e.right}const i=n[r++];return n.length<=r&&(n=null),{done:!1,value:i}}}},a9=(t,e)=>{t.doc??$n();const n=Ng(t,e);let r=t._start;for(n!==null&&(r=n.p,e-=n.index);r!==null;r=r.right)if(!r.deleted&&r.countable){if(e<r.length)return r.content.getContent()[e];e-=r.length}},Cm=(t,e,n,r)=>{let i=n;const s=t.doc,o=s.clientID,a=s.store,u=n===null?e._start:n.right;let c=[];const d=()=>{c.length>0&&(i=new mt(st(o,Jt(a,o)),i,i&&i.lastId,u,u&&u.id,e,null,new La(c)),i.integrate(t,0),c=[])};r.forEach(h=>{if(h===null)c.push(h);else switch(h.constructor){case Number:case Object:case Boolean:case Array:case String:c.push(h);break;default:switch(d(),h.constructor){case Uint8Array:case ArrayBuffer:i=new mt(st(o,Jt(a,o)),i,i&&i.lastId,u,u&&u.id,e,null,new Yf(new Uint8Array(h))),i.integrate(t,0);break;case Wa:i=new mt(st(o,Jt(a,o)),i,i&&i.lastId,u,u&&u.id,e,null,new Zf(h)),i.integrate(t,0);break;default:if(h instanceof gn)i=new mt(st(o,Jt(a,o)),i,i&&i.lastId,u,u&&u.id,e,null,new pi(h)),i.integrate(t,0);else throw new Error("Unexpected content type in insert operation")}}}),d()},l9=()=>bo("Length exceeded!"),u9=(t,e,n,r)=>{if(n>e._length)throw l9();if(n===0)return e._searchMarker&&wf(e._searchMarker,n,r.length),Cm(t,e,null,r);const i=n,s=Ng(e,n);let o=e._start;for(s!==null&&(o=s.p,n-=s.index,n===0&&(o=o.prev,n+=o&&o.countable&&!o.deleted?o.length:0));o!==null;o=o.right)if(!o.deleted&&o.countable){if(n<=o.length){n<o.length&&fr(t,st(o.id.client,o.id.clock+n));break}n-=o.length}return e._searchMarker&&wf(e._searchMarker,i,r.length),Cm(t,e,o,r)},Kie=(t,e,n)=>{let i=(e._searchMarker||[]).reduce((s,o)=>o.index>s.index?o:s,{index:0,p:e._start}).p;if(i)for(;i.right;)i=i.right;return Cm(t,e,i,n)},c9=(t,e,n,r)=>{if(r===0)return;const i=n,s=r,o=Ng(e,n);let a=e._start;for(o!==null&&(a=o.p,n-=o.index);a!==null&&n>0;a=a.right)!a.deleted&&a.countable&&(n<a.length&&fr(t,st(a.id.client,a.id.clock+n)),n-=a.length);for(;r>0&&a!==null;)a.deleted||(r<a.length&&fr(t,st(a.id.client,a.id.clock+r)),a.delete(t),r-=a.length),a=a.right;if(r>0)throw l9();e._searchMarker&&wf(e._searchMarker,i,-s+r)},Sm=(t,e,n)=>{const r=e._map.get(n);r!==void 0&&r.delete(t)},pE=(t,e,n,r)=>{const i=e._map.get(n)||null,s=t.doc,o=s.clientID;let a;if(r==null)a=new La([r]);else switch(r.constructor){case Number:case Object:case Boolean:case Array:case String:case Date:case BigInt:a=new La([r]);break;case Uint8Array:a=new Yf(r);break;case Wa:a=new Zf(r);break;default:if(r instanceof gn)a=new pi(r);else throw new Error("Unexpected content type")}new mt(st(o,Jt(s.store,o)),i,i&&i.lastId,null,null,e,n,a).integrate(t,0)},mE=(t,e)=>{t.doc??$n();const n=t._map.get(e);return n!==void 0&&!n.deleted?n.content.getContent()[n.length-1]:void 0},f9=t=>{const e={};return t.doc??$n(),t._map.forEach((n,r)=>{n.deleted||(e[r]=n.content.getContent()[n.length-1])}),e},d9=(t,e)=>{t.doc??$n();const n=t._map.get(e);return n!==void 0&&!n.deleted},qie=(t,e)=>{const n={};return t._map.forEach((r,i)=>{let s=r;for(;s!==null&&(!e.sv.has(s.id.client)||s.id.clock>=(e.sv.get(s.id.client)||0));)s=s.left;s!==null&&sa(s,e)&&(n[i]=s.content.getContent()[s.length-1])}),n},Xh=t=>(t.doc??$n(),die(t._map.entries(),e=>!e[1].deleted));class Gie extends Rg{}class Xl extends gn{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(e){const n=new Xl;return n.push(e),n}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Xl}clone(){const e=new Xl;return e.insert(0,this.toArray().map(n=>n instanceof gn?n.clone():n)),e}get length(){return this.doc??$n(),this._length}_callObserver(e,n){super._callObserver(e,n),Og(this,e,new Gie(this,e))}insert(e,n){this.doc!==null?vt(this.doc,r=>{u9(r,this,e,n)}):this._prelimContent.splice(e,0,...n)}push(e){this.doc!==null?vt(this.doc,n=>{Kie(n,this,e)}):this._prelimContent.push(...e)}unshift(e){this.insert(0,e)}delete(e,n=1){this.doc!==null?vt(this.doc,r=>{c9(r,this,e,n)}):this._prelimContent.splice(e,n)}get(e){return a9(this,e)}toArray(){return i9(this)}slice(e=0,n=this.length){return r9(this,e,n)}toJSON(){return this.map(e=>e instanceof gn?e.toJSON():e)}map(e){return o9(this,e)}forEach(e){vf(this,e)}[Symbol.iterator](){return Wie(this)}_write(e){e.writeTypeRef(vse)}}const Xie=t=>new Xl;class Yie extends Rg{constructor(e,n,r){super(e,n),this.keysChanged=r}}class yu extends gn{constructor(e){super(),this._prelimContent=null,e===void 0?this._prelimContent=new Map:this._prelimContent=new Map(e)}_integrate(e,n){super._integrate(e,n),this._prelimContent.forEach((r,i)=>{this.set(i,r)}),this._prelimContent=null}_copy(){return new yu}clone(){const e=new yu;return this.forEach((n,r)=>{e.set(r,n instanceof gn?n.clone():n)}),e}_callObserver(e,n){Og(this,e,new Yie(this,e,n))}toJSON(){this.doc??$n();const e={};return this._map.forEach((n,r)=>{if(!n.deleted){const i=n.content.getContent()[n.length-1];e[r]=i instanceof gn?i.toJSON():i}}),e}get size(){return[...Xh(this)].length}keys(){return Sv(Xh(this),e=>e[0])}values(){return Sv(Xh(this),e=>e[1].content.getContent()[e[1].length-1])}entries(){return Sv(Xh(this),e=>[e[0],e[1].content.getContent()[e[1].length-1]])}forEach(e){this.doc??$n(),this._map.forEach((n,r)=>{n.deleted||e(n.content.getContent()[n.length-1],r,this)})}[Symbol.iterator](){return this.entries()}delete(e){this.doc!==null?vt(this.doc,n=>{Sm(n,this,e)}):this._prelimContent.delete(e)}set(e,n){return this.doc!==null?vt(this.doc,r=>{pE(r,this,e,n)}):this._prelimContent.set(e,n),n}get(e){return mE(this,e)}has(e){return d9(this,e)}clear(){this.doc!==null?vt(this.doc,e=>{this.forEach(function(n,r,i){Sm(e,i,r)})}):this._prelimContent.clear()}_write(e){e.writeTypeRef(bse)}}const Zie=t=>new yu,ao=(t,e)=>t===e||typeof t=="object"&&typeof e=="object"&&t&&e&&zre(t,e);class t2{constructor(e,n,r,i){this.left=e,this.right=n,this.index=r,this.currentAttributes=i}forward(){switch(this.right===null&&wr(),this.right.content.constructor){case rn:this.right.deleted||ku(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}}const LA=(t,e,n)=>{for(;e.right!==null&&n>0;){switch(e.right.content.constructor){case rn:e.right.deleted||ku(e.currentAttributes,e.right.content);break;default:e.right.deleted||(n<e.right.length&&fr(t,st(e.right.id.client,e.right.id.clock+n)),e.index+=e.right.length,n-=e.right.length);break}e.left=e.right,e.right=e.right.right}return e},Yh=(t,e,n,r)=>{const i=new Map,s=r?Ng(e,n):null;if(s){const o=new t2(s.p.left,s.p,s.index,i);return LA(t,o,n-s.index)}else{const o=new t2(null,e._start,0,i);return LA(t,o,n)}},h9=(t,e,n,r)=>{for(;n.right!==null&&(n.right.deleted===!0||n.right.content.constructor===rn&&ao(r.get(n.right.content.key),n.right.content.value));)n.right.deleted||r.delete(n.right.content.key),n.forward();const i=t.doc,s=i.clientID;r.forEach((o,a)=>{const u=n.left,c=n.right,d=new mt(st(s,Jt(i.store,s)),u,u&&u.lastId,c,c&&c.id,e,null,new rn(a,o));d.integrate(t,0),n.right=d,n.forward()})},ku=(t,e)=>{const{key:n,value:r}=e;r===null?t.delete(n):t.set(n,r)},p9=(t,e)=>{for(;t.right!==null;){if(!(t.right.deleted||t.right.content.constructor===rn&&ao(e[t.right.content.key]??null,t.right.content.value)))break;t.forward()}},m9=(t,e,n,r)=>{const i=t.doc,s=i.clientID,o=new Map;for(const a in r){const u=r[a],c=n.currentAttributes.get(a)??null;if(!ao(c,u)){o.set(a,c);const{left:d,right:h}=n;n.right=new mt(st(s,Jt(i.store,s)),d,d&&d.lastId,h,h&&h.id,e,null,new rn(a,u)),n.right.integrate(t,0),n.forward()}}return o},Av=(t,e,n,r,i)=>{n.currentAttributes.forEach((p,m)=>{i[m]===void 0&&(i[m]=null)});const s=t.doc,o=s.clientID;p9(n,i);const a=m9(t,e,n,i),u=r.constructor===String?new di(r):r instanceof gn?new pi(r):new Ka(r);let{left:c,right:d,index:h}=n;e._searchMarker&&wf(e._searchMarker,n.index,u.getLength()),d=new mt(st(o,Jt(s.store,o)),c,c&&c.lastId,d,d&&d.id,e,null,u),d.integrate(t,0),n.right=d,n.index=h,n.forward(),h9(t,e,n,a)},PA=(t,e,n,r,i)=>{const s=t.doc,o=s.clientID;p9(n,i);const a=m9(t,e,n,i);e:for(;n.right!==null&&(r>0||a.size>0&&(n.right.deleted||n.right.content.constructor===rn));){if(!n.right.deleted)switch(n.right.content.constructor){case rn:{const{key:u,value:c}=n.right.content,d=i[u];if(d!==void 0){if(ao(d,c))a.delete(u);else{if(r===0)break e;a.set(u,c)}n.right.delete(t)}else n.currentAttributes.set(u,c);break}default:r<n.right.length&&fr(t,st(n.right.id.client,n.right.id.clock+r)),r-=n.right.length;break}n.forward()}if(r>0){let u="";for(;r>0;r--)u+=`
`;n.right=new mt(st(o,Jt(s.store,o)),n.left,n.left&&n.left.lastId,n.right,n.right&&n.right.id,e,null,new di(u)),n.right.integrate(t,0),n.forward()}h9(t,e,n,a)},g9=(t,e,n,r,i)=>{let s=e;const o=li();for(;s&&(!s.countable||s.deleted);){if(!s.deleted&&s.content.constructor===rn){const c=s.content;o.set(c.key,c)}s=s.right}let a=0,u=!1;for(;e!==s;){if(n===e&&(u=!0),!e.deleted){const c=e.content;switch(c.constructor){case rn:{const{key:d,value:h}=c,p=r.get(d)??null;(o.get(d)!==c||p===h)&&(e.delete(t),a++,!u&&(i.get(d)??null)===h&&p!==h&&(p===null?i.delete(d):i.set(d,p))),!u&&!e.deleted&&ku(i,c);break}}}e=e.right}return a},Jie=(t,e)=>{for(;e&&e.right&&(e.right.deleted||!e.right.countable);)e=e.right;const n=new Set;for(;e&&(e.deleted||!e.countable);){if(!e.deleted&&e.content.constructor===rn){const r=e.content.key;n.has(r)?e.delete(t):n.add(r)}e=e.left}},Qie=t=>{let e=0;return vt(t.doc,n=>{let r=t._start,i=t._start,s=li();const o=Vb(s);for(;i;){if(i.deleted===!1)switch(i.content.constructor){case rn:ku(o,i.content);break;default:e+=g9(n,r,i,s,o),s=Vb(o),r=i;break}i=i.right}}),e},ese=t=>{const e=new Set,n=t.doc;for(const[r,i]of t.afterState.entries()){const s=t.beforeState.get(r)||0;i!==s&&ZO(t,n.store.clients.get(r),s,i,o=>{!o.deleted&&o.content.constructor===rn&&o.constructor!==zr&&e.add(o.parent)})}vt(n,r=>{xo(t,t.deleteSet,i=>{if(i instanceof zr||!i.parent._hasFormatting||e.has(i.parent))return;const s=i.parent;i.content.constructor===rn?e.add(s):Jie(r,i)});for(const i of e)Qie(i)})},FA=(t,e,n)=>{const r=n,i=Vb(e.currentAttributes),s=e.right;for(;n>0&&e.right!==null;){if(e.right.deleted===!1)switch(e.right.content.constructor){case pi:case Ka:case di:n<e.right.length&&fr(t,st(e.right.id.client,e.right.id.clock+n)),n-=e.right.length,e.right.delete(t);break}e.forward()}s&&g9(t,s,e.right,i,e.currentAttributes);const o=(e.left||e.right).parent;return o._searchMarker&&wf(o._searchMarker,e.index,-r+n),e};class tse extends Rg{constructor(e,n,r){super(e,n),this.childListChanged=!1,this.keysChanged=new Set,r.forEach(i=>{i===null?this.childListChanged=!0:this.keysChanged.add(i)})}get changes(){if(this._changes===null){const e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}get delta(){if(this._delta===null){const e=this.target.doc,n=[];vt(e,r=>{const i=new Map,s=new Map;let o=this.target._start,a=null;const u={};let c="",d=0,h=0;const p=()=>{if(a!==null){let m=null;switch(a){case"delete":h>0&&(m={delete:h}),h=0;break;case"insert":(typeof c=="object"||c.length>0)&&(m={insert:c},i.size>0&&(m.attributes={},i.forEach((w,y)=>{w!==null&&(m.attributes[y]=w)}))),c="";break;case"retain":d>0&&(m={retain:d},Hre(u)||(m.attributes=Bre({},u))),d=0;break}m&&n.push(m),a=null}};for(;o!==null;){switch(o.content.constructor){case pi:case Ka:this.adds(o)?this.deletes(o)||(p(),a="insert",c=o.content.getContent()[0],p()):this.deletes(o)?(a!=="delete"&&(p(),a="delete"),h+=1):o.deleted||(a!=="retain"&&(p(),a="retain"),d+=1);break;case di:this.adds(o)?this.deletes(o)||(a!=="insert"&&(p(),a="insert"),c+=o.content.str):this.deletes(o)?(a!=="delete"&&(p(),a="delete"),h+=o.length):o.deleted||(a!=="retain"&&(p(),a="retain"),d+=o.length);break;case rn:{const{key:m,value:w}=o.content;if(this.adds(o)){if(!this.deletes(o)){const y=i.get(m)??null;ao(y,w)?w!==null&&o.delete(r):(a==="retain"&&p(),ao(w,s.get(m)??null)?delete u[m]:u[m]=w)}}else if(this.deletes(o)){s.set(m,w);const y=i.get(m)??null;ao(y,w)||(a==="retain"&&p(),u[m]=y)}else if(!o.deleted){s.set(m,w);const y=u[m];y!==void 0&&(ao(y,w)?y!==null&&o.delete(r):(a==="retain"&&p(),w===null?delete u[m]:u[m]=w))}o.deleted||(a==="insert"&&p(),ku(i,o.content));break}}o=o.right}for(p();n.length>0;){const m=n[n.length-1];if(m.retain!==void 0&&m.attributes===void 0)n.pop();else break}}),this._delta=n}return this._delta}}class Eo extends gn{constructor(e){super(),this._pending=e!==void 0?[()=>this.insert(0,e)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this.doc??$n(),this._length}_integrate(e,n){super._integrate(e,n);try{this._pending.forEach(r=>r())}catch(r){console.error(r)}this._pending=null}_copy(){return new Eo}clone(){const e=new Eo;return e.applyDelta(this.toDelta()),e}_callObserver(e,n){super._callObserver(e,n);const r=new tse(this,e,n);Og(this,e,r),!e.local&&this._hasFormatting&&(e._needFormattingCleanup=!0)}toString(){this.doc??$n();let e="",n=this._start;for(;n!==null;)!n.deleted&&n.countable&&n.content.constructor===di&&(e+=n.content.str),n=n.right;return e}toJSON(){return this.toString()}applyDelta(e,{sanitize:n=!0}={}){this.doc!==null?vt(this.doc,r=>{const i=new t2(null,this._start,0,new Map);for(let s=0;s<e.length;s++){const o=e[s];if(o.insert!==void 0){const a=!n&&typeof o.insert=="string"&&s===e.length-1&&i.right===null&&o.insert.slice(-1)===`
`?o.insert.slice(0,-1):o.insert;(typeof a!="string"||a.length>0)&&Av(r,this,i,a,o.attributes||{})}else o.retain!==void 0?PA(r,this,i,o.retain,o.attributes||{}):o.delete!==void 0&&FA(r,i,o.delete)}}):this._pending.push(()=>this.applyDelta(e))}toDelta(e,n,r){this.doc??$n();const i=[],s=new Map,o=this.doc;let a="",u=this._start;function c(){if(a.length>0){const h={};let p=!1;s.forEach((w,y)=>{p=!0,h[y]=w});const m={insert:a};p&&(m.attributes=h),i.push(m),a=""}}const d=()=>{for(;u!==null;){if(sa(u,e)||n!==void 0&&sa(u,n))switch(u.content.constructor){case di:{const h=s.get("ychange");e!==void 0&&!sa(u,e)?(h===void 0||h.user!==u.id.client||h.type!=="removed")&&(c(),s.set("ychange",r?r("removed",u.id):{type:"removed"})):n!==void 0&&!sa(u,n)?(h===void 0||h.user!==u.id.client||h.type!=="added")&&(c(),s.set("ychange",r?r("added",u.id):{type:"added"})):h!==void 0&&(c(),s.delete("ychange")),a+=u.content.str;break}case pi:case Ka:{c();const h={insert:u.content.getContent()[0]};if(s.size>0){const p={};h.attributes=p,s.forEach((m,w)=>{p[w]=m})}i.push(h);break}case rn:sa(u,e)&&(c(),ku(s,u.content));break}u=u.right}c()};return e||n?vt(o,h=>{e&&Qb(h,e),n&&Qb(h,n),d()},"cleanup"):d(),i}insert(e,n,r){if(n.length<=0)return;const i=this.doc;i!==null?vt(i,s=>{const o=Yh(s,this,e,!r);r||(r={},o.currentAttributes.forEach((a,u)=>{r[u]=a})),Av(s,this,o,n,r)}):this._pending.push(()=>this.insert(e,n,r))}insertEmbed(e,n,r){const i=this.doc;i!==null?vt(i,s=>{const o=Yh(s,this,e,!r);Av(s,this,o,n,r||{})}):this._pending.push(()=>this.insertEmbed(e,n,r||{}))}delete(e,n){if(n===0)return;const r=this.doc;r!==null?vt(r,i=>{FA(i,Yh(i,this,e,!0),n)}):this._pending.push(()=>this.delete(e,n))}format(e,n,r){if(n===0)return;const i=this.doc;i!==null?vt(i,s=>{const o=Yh(s,this,e,!1);o.right!==null&&PA(s,this,o,n,r)}):this._pending.push(()=>this.format(e,n,r))}removeAttribute(e){this.doc!==null?vt(this.doc,n=>{Sm(n,this,e)}):this._pending.push(()=>this.removeAttribute(e))}setAttribute(e,n){this.doc!==null?vt(this.doc,r=>{pE(r,this,e,n)}):this._pending.push(()=>this.setAttribute(e,n))}getAttribute(e){return mE(this,e)}getAttributes(){return f9(this)}_write(e){e.writeTypeRef(xse)}}const nse=t=>new Eo;class _v{constructor(e,n=()=>!0){this._filter=n,this._root=e,this._currentNode=e._start,this._firstCall=!0,e.doc??$n()}[Symbol.iterator](){return this}next(){let e=this._currentNode,n=e&&e.content&&e.content.type;if(e!==null&&(!this._firstCall||e.deleted||!this._filter(n)))do if(n=e.content.type,!e.deleted&&(n.constructor===Hn||n.constructor===Da)&&n._start!==null)e=n._start;else for(;e!==null;){const r=e.next;if(r!==null){e=r;break}else e.parent===this._root?e=null:e=e.parent._item}while(e!==null&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,e===null?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}}class Da extends gn{constructor(){super(),this._prelimContent=[]}get firstChild(){const e=this._first;return e?e.content.getContent()[0]:null}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Da}clone(){const e=new Da;return e.insert(0,this.toArray().map(n=>n instanceof gn?n.clone():n)),e}get length(){return this.doc??$n(),this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(e){return new _v(this,e)}querySelector(e){e=e.toUpperCase();const r=new _v(this,i=>i.nodeName&&i.nodeName.toUpperCase()===e).next();return r.done?null:r.value}querySelectorAll(e){return e=e.toUpperCase(),Ma(new _v(this,n=>n.nodeName&&n.nodeName.toUpperCase()===e))}_callObserver(e,n){Og(this,e,new sse(this,n,e))}toString(){return o9(this,e=>e.toString()).join("")}toJSON(){return this.toString()}toDOM(e=document,n={},r){const i=e.createDocumentFragment();return r!==void 0&&r._createAssociation(i,this),vf(this,s=>{i.insertBefore(s.toDOM(e,n,r),null)}),i}insert(e,n){this.doc!==null?vt(this.doc,r=>{u9(r,this,e,n)}):this._prelimContent.splice(e,0,...n)}insertAfter(e,n){if(this.doc!==null)vt(this.doc,r=>{const i=e&&e instanceof gn?e._item:e;Cm(r,this,i,n)});else{const r=this._prelimContent,i=e===null?0:r.findIndex(s=>s===e)+1;if(i===0&&e!==null)throw bo("Reference item not found");r.splice(i,0,...n)}}delete(e,n=1){this.doc!==null?vt(this.doc,r=>{c9(r,this,e,n)}):this._prelimContent.splice(e,n)}toArray(){return i9(this)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}get(e){return a9(this,e)}slice(e=0,n=this.length){return r9(this,e,n)}forEach(e){vf(this,e)}_write(e){e.writeTypeRef(Cse)}}const rse=t=>new Da;class Hn extends Da{constructor(e="UNDEFINED"){super(),this.nodeName=e,this._prelimAttrs=new Map}get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_integrate(e,n){super._integrate(e,n),this._prelimAttrs.forEach((r,i)=>{this.setAttribute(i,r)}),this._prelimAttrs=null}_copy(){return new Hn(this.nodeName)}clone(){const e=new Hn(this.nodeName),n=this.getAttributes();return jre(n,(r,i)=>{typeof r=="string"&&e.setAttribute(i,r)}),e.insert(0,this.toArray().map(r=>r instanceof gn?r.clone():r)),e}toString(){const e=this.getAttributes(),n=[],r=[];for(const a in e)r.push(a);r.sort();const i=r.length;for(let a=0;a<i;a++){const u=r[a];n.push(u+'="'+e[u]+'"')}const s=this.nodeName.toLocaleLowerCase(),o=n.length>0?" "+n.join(" "):"";return`<${s}${o}>${super.toString()}</${s}>`}removeAttribute(e){this.doc!==null?vt(this.doc,n=>{Sm(n,this,e)}):this._prelimAttrs.delete(e)}setAttribute(e,n){this.doc!==null?vt(this.doc,r=>{pE(r,this,e,n)}):this._prelimAttrs.set(e,n)}getAttribute(e){return mE(this,e)}hasAttribute(e){return d9(this,e)}getAttributes(e){return e?qie(this,e):f9(this)}toDOM(e=document,n={},r){const i=e.createElement(this.nodeName),s=this.getAttributes();for(const o in s){const a=s[o];typeof a=="string"&&i.setAttribute(o,a)}return vf(this,o=>{i.appendChild(o.toDOM(e,n,r))}),r!==void 0&&r._createAssociation(i,this),i}_write(e){e.writeTypeRef(Ese),e.writeKey(this.nodeName)}}const ise=t=>new Hn(t.readKey());class sse extends Rg{constructor(e,n,r){super(e,r),this.childListChanged=!1,this.attributesChanged=new Set,n.forEach(i=>{i===null?this.childListChanged=!0:this.attributesChanged.add(i)})}}class km extends yu{constructor(e){super(),this.hookName=e}_copy(){return new km(this.hookName)}clone(){const e=new km(this.hookName);return this.forEach((n,r)=>{e.set(r,n)}),e}toDOM(e=document,n={},r){const i=n[this.hookName];let s;return i!==void 0?s=i.createDom(this):s=document.createElement(this.hookName),s.setAttribute("data-yjs-hook",this.hookName),r!==void 0&&r._createAssociation(s,this),s}_write(e){e.writeTypeRef(Sse),e.writeKey(this.hookName)}}const ose=t=>new km(t.readKey());class gr extends Eo{get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_copy(){return new gr}clone(){const e=new gr;return e.applyDelta(this.toDelta()),e}toDOM(e=document,n,r){const i=e.createTextNode(this.toString());return r!==void 0&&r._createAssociation(i,this),i}toString(){return this.toDelta().map(e=>{const n=[];for(const i in e.attributes){const s=[];for(const o in e.attributes[i])s.push({key:o,value:e.attributes[i][o]});s.sort((o,a)=>o.key<a.key?-1:1),n.push({nodeName:i,attrs:s})}n.sort((i,s)=>i.nodeName<s.nodeName?-1:1);let r="";for(let i=0;i<n.length;i++){const s=n[i];r+=`<${s.nodeName}`;for(let o=0;o<s.attrs.length;o++){const a=s.attrs[o];r+=` ${a.key}="${a.value}"`}r+=">"}r+=e.insert;for(let i=n.length-1;i>=0;i--)r+=`</${n[i].nodeName}>`;return r}).join("")}toJSON(){return this.toString()}_write(e){e.writeTypeRef(kse)}}const ase=t=>new gr;class gE{constructor(e,n){this.id=e,this.length=n}get deleted(){throw ui()}mergeWith(e){return!1}write(e,n,r){throw ui()}integrate(e,n){throw ui()}}const lse=0;class zr extends gE{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,n){n>0&&(this.id.clock+=n,this.length-=n),YO(e.doc.store,this)}write(e,n){e.writeInfo(lse),e.writeLen(this.length-n)}getMissing(e,n){return null}}class Yf{constructor(e){this.content=e}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new Yf(this.content)}splice(e){throw ui()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeBuf(this.content)}getRef(){return 3}}const use=t=>new Yf(t.readBuf());class bf{constructor(e){this.len=e}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new bf(this.len)}splice(e){const n=new bf(this.len-e);return this.len=e,n}mergeWith(e){return this.len+=e.len,!0}integrate(e,n){mf(e.deleteSet,n.id.client,n.id.clock,this.len),n.markDeleted()}delete(e){}gc(e){}write(e,n){e.writeLen(this.len-n)}getRef(){return 1}}const cse=t=>new bf(t.readLen()),y9=(t,e)=>new Wa({guid:t,...e,shouldLoad:e.shouldLoad||e.autoLoad||!1});class Zf{constructor(e){e._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=e;const n={};this.opts=n,e.gc||(n.gc=!1),e.autoLoad&&(n.autoLoad=!0),e.meta!==null&&(n.meta=e.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new Zf(y9(this.doc.guid,this.opts))}splice(e){throw ui()}mergeWith(e){return!1}integrate(e,n){this.doc._item=n,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}delete(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}gc(e){}write(e,n){e.writeString(this.doc.guid),e.writeAny(this.opts)}getRef(){return 9}}const fse=t=>new Zf(y9(t.readString(),t.readAny()));class Ka{constructor(e){this.embed=e}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new Ka(this.embed)}splice(e){throw ui()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeJSON(this.embed)}getRef(){return 5}}const dse=t=>new Ka(t.readJSON());class rn{constructor(e,n){this.key=e,this.value=n}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new rn(this.key,this.value)}splice(e){throw ui()}mergeWith(e){return!1}integrate(e,n){const r=n.parent;r._searchMarker=null,r._hasFormatting=!0}delete(e){}gc(e){}write(e,n){e.writeKey(this.key),e.writeJSON(this.value)}getRef(){return 6}}const hse=t=>new rn(t.readKey(),t.readJSON());class Tm{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new Tm(this.arr)}splice(e){const n=new Tm(this.arr.slice(e));return this.arr=this.arr.slice(0,e),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){const r=this.arr.length;e.writeLen(r-n);for(let i=n;i<r;i++){const s=this.arr[i];e.writeString(s===void 0?"undefined":JSON.stringify(s))}}getRef(){return 2}}const pse=t=>{const e=t.readLen(),n=[];for(let r=0;r<e;r++){const i=t.readString();i==="undefined"?n.push(void 0):n.push(JSON.parse(i))}return new Tm(n)},mse=bm("node_env")==="development";class La{constructor(e){this.arr=e,mse&&IO(e)}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new La(this.arr)}splice(e){const n=new La(this.arr.slice(e));return this.arr=this.arr.slice(0,e),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){const r=this.arr.length;e.writeLen(r-n);for(let i=n;i<r;i++){const s=this.arr[i];e.writeAny(s)}}getRef(){return 8}}const gse=t=>{const e=t.readLen(),n=[];for(let r=0;r<e;r++)n.push(t.readAny());return new La(n)};class di{constructor(e){this.str=e}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new di(this.str)}splice(e){const n=new di(this.str.slice(e));this.str=this.str.slice(0,e);const r=this.str.charCodeAt(e-1);return r>=55296&&r<=56319&&(this.str=this.str.slice(0,e-1)+"�",n.str="�"+n.str.slice(1)),n}mergeWith(e){return this.str+=e.str,!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeString(n===0?this.str:this.str.slice(n))}getRef(){return 4}}const yse=t=>new di(t.readString()),wse=[Xie,Zie,nse,ise,rse,ose,ase],vse=0,bse=1,xse=2,Ese=3,Cse=4,Sse=5,kse=6;class pi{constructor(e){this.type=e}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new pi(this.type._copy())}splice(e){throw ui()}mergeWith(e){return!1}integrate(e,n){this.type._integrate(e.doc,n)}delete(e){let n=this.type._start;for(;n!==null;)n.deleted?n.id.clock<(e.beforeState.get(n.id.client)||0)&&e._mergeStructs.push(n):n.delete(e),n=n.right;this.type._map.forEach(r=>{r.deleted?r.id.clock<(e.beforeState.get(r.id.client)||0)&&e._mergeStructs.push(r):r.delete(e)}),e.changed.delete(this.type)}gc(e){let n=this.type._start;for(;n!==null;)n.gc(e,!0),n=n.right;this.type._start=null,this.type._map.forEach(r=>{for(;r!==null;)r.gc(e,!0),r=r.left}),this.type._map=new Map}write(e,n){this.type._write(e)}getRef(){return 7}}const Tse=t=>new pi(wse[t.readTypeRef()](t)),n2=(t,e)=>{let n=e,r=0,i;do r>0&&(n=st(n.client,n.clock+r)),i=Gl(t,n),r=n.clock-i.id.clock,n=i.redone;while(n!==null&&i instanceof mt);return{item:i,diff:r}},yE=(t,e)=>{for(;t!==null&&t.keep!==e;)t.keep=e,t=t.parent._item},Am=(t,e,n)=>{const{client:r,clock:i}=e.id,s=new mt(st(r,i+n),e,st(r,i+n-1),e.right,e.rightOrigin,e.parent,e.parentSub,e.content.splice(n));return e.deleted&&s.markDeleted(),e.keep&&(s.keep=!0),e.redone!==null&&(s.redone=st(e.redone.client,e.redone.clock+n)),e.right=s,s.right!==null&&(s.right.left=s),t._mergeStructs.push(s),s.parentSub!==null&&s.right===null&&s.parent._map.set(s.parentSub,s),e.length=n,s},BA=(t,e)=>Zne(t,n=>Su(n.deletions,e)),w9=(t,e,n,r,i,s)=>{const o=t.doc,a=o.store,u=o.clientID,c=e.redone;if(c!==null)return fr(t,c);let d=e.parent._item,h=null,p;if(d!==null&&d.deleted===!0){if(d.redone===null&&(!n.has(d)||w9(t,d,n,r,i,s)===null))return null;for(;d.redone!==null;)d=fr(t,d.redone)}const m=d===null?e.parent:d.content.type;if(e.parentSub===null){for(h=e.left,p=e;h!==null;){let v=h;for(;v!==null&&v.parent._item!==d;)v=v.redone===null?null:fr(t,v.redone);if(v!==null&&v.parent._item===d){h=v;break}h=h.left}for(;p!==null;){let v=p;for(;v!==null&&v.parent._item!==d;)v=v.redone===null?null:fr(t,v.redone);if(v!==null&&v.parent._item===d){p=v;break}p=p.right}}else if(p=null,e.right&&!i){for(h=e;h!==null&&h.right!==null&&(h.right.redone||Su(r,h.right.id)||BA(s.undoStack,h.right.id)||BA(s.redoStack,h.right.id));)for(h=h.right;h.redone;)h=fr(t,h.redone);if(h&&h.right!==null)return null}else h=m._map.get(e.parentSub)||null;const w=Jt(a,u),y=st(u,w),x=new mt(y,h,h&&h.lastId,p,p&&p.id,m,e.parentSub,e.content.copy());return e.redone=y,yE(x,!0),x.integrate(t,0),x};class mt extends gE{constructor(e,n,r,i,s,o,a,u){super(e,u.getLength()),this.origin=r,this.left=n,this.right=i,this.rightOrigin=s,this.parent=o,this.parentSub=a,this.redone=null,this.content=u,this.info=this.content.isCountable()?pA:0}set marker(e){(this.info&xv)>0!==e&&(this.info^=xv)}get marker(){return(this.info&xv)>0}get keep(){return(this.info&hA)>0}set keep(e){this.keep!==e&&(this.info^=hA)}get countable(){return(this.info&pA)>0}get deleted(){return(this.info&bv)>0}set deleted(e){this.deleted!==e&&(this.info^=bv)}markDeleted(){this.info|=bv}getMissing(e,n){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=Jt(n,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=Jt(n,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===ql&&this.id.client!==this.parent.client&&this.parent.clock>=Jt(n,this.parent.client))return this.parent.client;if(this.origin&&(this.left=_A(e,n,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=fr(e,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===zr||this.right&&this.right.constructor===zr)this.parent=null;else if(!this.parent)this.left&&this.left.constructor===mt?(this.parent=this.left.parent,this.parentSub=this.left.parentSub):this.right&&this.right.constructor===mt&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===ql){const r=Gl(n,this.parent);r.constructor===zr?this.parent=null:this.parent=r.content.type}return null}integrate(e,n){if(n>0&&(this.id.clock+=n,this.left=_A(e,e.doc.store,st(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(n),this.length-=n),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let r=this.left,i;if(r!==null)i=r.right;else if(this.parentSub!==null)for(i=this.parent._map.get(this.parentSub)||null;i!==null&&i.left!==null;)i=i.left;else i=this.parent._start;const s=new Set,o=new Set;for(;i!==null&&i!==this.right;){if(o.add(i),s.add(i),qh(this.origin,i.origin)){if(i.id.client<this.id.client)r=i,s.clear();else if(qh(this.rightOrigin,i.rightOrigin))break}else if(i.origin!==null&&o.has(Gl(e.doc.store,i.origin)))s.has(Gl(e.doc.store,i.origin))||(r=i,s.clear());else break;i=i.right}this.left=r}if(this.left!==null){const r=this.left.right;this.right=r,this.left.right=this}else{let r;if(this.parentSub!==null)for(r=this.parent._map.get(this.parentSub)||null;r!==null&&r.left!==null;)r=r.left;else r=this.parent._start,this.parent._start=this;this.right=r}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(e)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),YO(e.doc.store,this),this.content.integrate(e,this),NA(e,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(e)}else new zr(this.id,this.length).integrate(e,0)}get next(){let e=this.right;for(;e!==null&&e.deleted;)e=e.right;return e}get prev(){let e=this.left;for(;e!==null&&e.deleted;)e=e.left;return e}get lastId(){return this.length===1?this.id:st(this.id.client,this.id.clock+this.length-1)}mergeWith(e){if(this.constructor===e.constructor&&qh(e.origin,this.lastId)&&this.right===e&&qh(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&this.redone===null&&e.redone===null&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){const n=this.parent._searchMarker;return n&&n.forEach(r=>{r.p===e&&(r.p=this,!this.deleted&&this.countable&&(r.index-=this.length))}),e.keep&&(this.keep=!0),this.right=e.right,this.right!==null&&(this.right.left=this),this.length+=e.length,!0}return!1}delete(e){if(!this.deleted){const n=this.parent;this.countable&&this.parentSub===null&&(n._length-=this.length),this.markDeleted(),mf(e.deleteSet,this.id.client,this.id.clock,this.length),NA(e,n,this.parentSub),this.content.delete(e)}}gc(e,n){if(!this.deleted)throw wr();this.content.gc(e),n?Oie(e,this,new zr(this.id,this.length)):this.content=new bf(this.length)}write(e,n){const r=n>0?st(this.id.client,this.id.clock+n-1):this.origin,i=this.rightOrigin,s=this.parentSub,o=this.content.getRef()&Sg|(r===null?0:Xn)|(i===null?0:cs)|(s===null?0:df);if(e.writeInfo(o),r!==null&&e.writeLeftID(r),i!==null&&e.writeRightID(i),r===null&&i===null){const a=this.parent;if(a._item!==void 0){const u=a._item;if(u===null){const c=gf(a);e.writeParentInfo(!0),e.writeString(c)}else e.writeParentInfo(!1),e.writeLeftID(u.id)}else a.constructor===String?(e.writeParentInfo(!0),e.writeString(a)):a.constructor===ql?(e.writeParentInfo(!1),e.writeLeftID(a)):wr();s!==null&&e.writeString(s)}this.content.write(e,n)}}const v9=(t,e)=>Ase[e&Sg](t),Ase=[()=>{wr()},cse,pse,use,yse,dse,hse,Tse,gse,fse,()=>{wr()}],_se=10;class si extends gE{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,n){wr()}write(e,n){e.writeInfo(_se),lt(e.restEncoder,this.length-n)}getMissing(e,n){return null}}const b9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{},x9="__ $YJS$ __";b9[x9]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438");b9[x9]=!0;const Rse=()=>{let t=!0;return(e,n)=>{if(t){t=!1;try{e()}finally{t=!0}}else n!==void 0&&n()}},Nse=/[\uD800-\uDBFF]/,Ose=/[\uDC00-\uDFFF]/,Ise=(t,e)=>{let n=0,r=0;for(;n<t.length&&n<e.length&&t[n]===e[n];)n++;for(n>0&&Nse.test(t[n-1])&&n--;r+n<t.length&&r+n<e.length&&t[t.length-r-1]===e[e.length-r-1];)r++;return r>0&&Ose.test(t[t.length-r])&&r--,{index:n,remove:t.length-n-r,insert:e.slice(n,e.length-r)}},Mse=Ise,Ut=new xt("y-sync"),fs=new xt("y-undo");new xt("yjs-cursor");const Ii=(t,e)=>t>>>e|t<<32-e,Dse=t=>Ii(t,2)^Ii(t,13)^Ii(t,22),Lse=t=>Ii(t,6)^Ii(t,11)^Ii(t,25),Pse=t=>Ii(t,7)^Ii(t,18)^t>>>3,Fse=t=>Ii(t,17)^Ii(t,19)^t>>>10,Bse=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),jse=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);class Hse{constructor(){const e=new ArrayBuffer(320);this._H=new Uint32Array(e,0,8),this._H.set(jse),this._W=new Uint32Array(e,64,64)}_updateHash(){const e=this._H,n=this._W;for(let h=16;h<64;h++)n[h]=Fse(n[h-2])+n[h-7]+Pse(n[h-15])+n[h-16];let r=e[0],i=e[1],s=e[2],o=e[3],a=e[4],u=e[5],c=e[6],d=e[7];for(let h=0,p,m;h<64;h++)p=d+Lse(a)+(a&u^~a&c)+Bse[h]+n[h]>>>0,m=Dse(r)+(r&i^r&s^i&s)>>>0,d=c,c=u,u=a,a=o+p>>>0,o=s,s=i,i=r,r=p+m>>>0;e[0]+=r,e[1]+=i,e[2]+=s,e[3]+=o,e[4]+=a,e[5]+=u,e[6]+=c,e[7]+=d}digest(e){let n=0;for(;n+56<=e.length;){let o=0;for(;o<16&&n+3<e.length;o++)this._W[o]=e[n++]<<24|e[n++]<<16|e[n++]<<8|e[n++];if(n%64!==0){for(this._W.fill(0,o,16);n<e.length;)this._W[o]|=e[n]<<(3-n%4)*8,n++;this._W[o]|=Xn<<(3-n%4)*8}this._updateHash()}const r=n%64!==0;this._W.fill(0,0,16);let i=0;for(;n<e.length;i++)for(let o=3;o>=0&&n<e.length;o--)this._W[i]|=e[n++]<<o*8;r||(this._W[i-(n%4===0?0:1)]|=Xn<<(3-n%4)*8),this._W[14]=e.byteLength/Jne,this._W[15]=e.byteLength*8,this._updateHash();const s=new Uint8Array(32);for(let o=0;o<this._H.length;o++)for(let a=0;a<4;a++)s[o*4+a]=this._H[o]>>>(3-a)*8;return s}}const $se=t=>new Hse().digest(t),zse=t=>{for(let n=6;n<t.length;n++)t[n%6]=t[n%6]^t[n];return t.slice(0,6)},Use=t=>Yre(zse($se(Zre(t)))),_m=(t,e)=>e===void 0?!t.deleted:e.sv.has(t.id.client)&&e.sv.get(t.id.client)>t.id.clock&&!Su(e.ds,t.id),Vse=[{light:"#ecd44433",dark:"#ecd444"}],Wse=(t,e,n)=>{if(!t.has(n)){if(t.size<e.length){const r=Ia();t.forEach(i=>r.add(i)),e=e.filter(i=>!r.has(i))}t.set(n,Ore(e))}return t.get(n)},Kse=(t,{colors:e=Vse,colorMapping:n=new Map,permanentUserData:r=null,onFirstRender:i=()=>{},mapping:s}={})=>{let o=!1;const a=new Gse(t,s),u=new gt({props:{editable:c=>{const d=Ut.getState(c);return d.snapshot==null&&d.prevSnapshot==null}},key:Ut,state:{init:(c,d)=>({type:t,doc:t.doc,binding:a,snapshot:null,prevSnapshot:null,isChangeOrigin:!1,isUndoRedoOperation:!1,addToHistory:!0,colors:e,colorMapping:n,permanentUserData:r}),apply:(c,d)=>{const h=c.getMeta(Ut);if(h!==void 0){d=Object.assign({},d);for(const p in h)d[p]=h[p]}return d.addToHistory=c.getMeta("addToHistory")!==!1,d.isChangeOrigin=h!==void 0&&!!h.isChangeOrigin,d.isUndoRedoOperation=h!==void 0&&!!h.isChangeOrigin&&!!h.isUndoRedoOperation,a.prosemirrorView!==null&&h!==void 0&&(h.snapshot!=null||h.prevSnapshot!=null)&&PO(0,()=>{a.prosemirrorView!=null&&(h.restore==null?a._renderSnapshot(h.snapshot,h.prevSnapshot,d):(a._renderSnapshot(h.snapshot,h.snapshot,d),delete d.restore,delete d.snapshot,delete d.prevSnapshot,a.mux(()=>{a._prosemirrorChanged(a.prosemirrorView.state.doc)})))}),d}},view:c=>(a.initView(c),s==null&&a._forceRerender(),i(),{update:()=>{const d=u.getState(c.state);if(d.snapshot==null&&d.prevSnapshot==null&&(o||c.state.doc.content.findDiffStart(c.state.doc.type.createAndFill().content)!==null)){if(o=!0,d.addToHistory===!1&&!d.isChangeOrigin){const h=fs.getState(c.state),p=h&&h.undoManager;p&&p.stopCapturing()}a.mux(()=>{d.doc.transact(h=>{h.meta.set("addToHistory",d.addToHistory),a._prosemirrorChanged(c.state.doc)},Ut)})}},destroy:()=>{a.destroy()}})});return u},qse=(t,e,n)=>{if(e!==null&&e.anchor!==null&&e.head!==null)if(e.type==="all")t.setSelection(new Ar(t.doc));else if(e.type==="node"){const r=mp(n.doc,n.type,e.anchor,n.mapping);t.setSelection(Ke.create(t.doc,r))}else{const r=mp(n.doc,n.type,e.anchor,n.mapping),i=mp(n.doc,n.type,e.head,n.mapping);r!==null&&i!==null&&t.setSelection(Ye.between(t.doc.resolve(r),t.doc.resolve(i)))}},r2=(t,e)=>({type:e.selection.jsonID,anchor:a2(e.selection.anchor,t.type,t.mapping),head:a2(e.selection.head,t.type,t.mapping)});class Gse{constructor(e,n=new Map){this.type=e,this.prosemirrorView=null,this.mux=Rse(),this.mapping=n,this.isOMark=new Map,this._observeFunction=this._typeChanged.bind(this),this.doc=e.doc,this.beforeTransactionSelection=null,this.beforeAllTransactions=()=>{this.beforeTransactionSelection===null&&this.prosemirrorView!=null&&(this.beforeTransactionSelection=r2(this,this.prosemirrorView.state))},this.afterAllTransactions=()=>{this.beforeTransactionSelection=null},this._domSelectionInView=null}get _tr(){return this.prosemirrorView.state.tr.setMeta("addToHistory",!1)}_isLocalCursorInView(){return this.prosemirrorView.hasFocus()?(DO&&this._domSelectionInView===null&&(PO(0,()=>{this._domSelectionInView=null}),this._domSelectionInView=this._isDomSelectionInView()),this._domSelectionInView):!1}_isDomSelectionInView(){const e=this.prosemirrorView._root.getSelection();if(e==null||e.anchorNode==null)return!1;const n=this.prosemirrorView._root.createRange();n.setStart(e.anchorNode,e.anchorOffset),n.setEnd(e.focusNode,e.focusOffset),n.getClientRects().length===0&&n.startContainer&&n.collapsed&&n.selectNodeContents(n.startContainer);const i=n.getBoundingClientRect(),s=Qre.documentElement;return i.bottom>=0&&i.right>=0&&i.left<=(window.innerWidth||s.clientWidth||0)&&i.top<=(window.innerHeight||s.clientHeight||0)}renderSnapshot(e,n){n||(n=GO(VO(),new Map)),this.prosemirrorView.dispatch(this._tr.setMeta(Ut,{snapshot:e,prevSnapshot:n}))}unrenderSnapshot(){this.mapping.clear(),this.mux(()=>{const e=this.type.toArray().map(r=>pp(r,this.prosemirrorView.state.schema,this)).filter(r=>r!==null),n=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new Le(Ae.from(e),0,0));n.setMeta(Ut,{snapshot:null,prevSnapshot:null}),this.prosemirrorView.dispatch(n)})}_forceRerender(){this.mapping.clear(),this.mux(()=>{const e=this.beforeTransactionSelection!==null?null:this.prosemirrorView.state.selection,n=this.type.toArray().map(i=>pp(i,this.prosemirrorView.state.schema,this)).filter(i=>i!==null),r=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new Le(Ae.from(n),0,0));if(e){const i=pu(vo(e.anchor,0),r.doc.content.size),s=pu(vo(e.head,0),r.doc.content.size);r.setSelection(Ye.create(r.doc,i,s))}this.prosemirrorView.dispatch(r.setMeta(Ut,{isChangeOrigin:!0,binding:this}))})}_renderSnapshot(e,n,r){let i=this.doc,s=this.type;if(e||(e=Tv(this.doc)),e instanceof Uint8Array||n instanceof Uint8Array)if((!(e instanceof Uint8Array)||!(n instanceof Uint8Array))&&wr(),i=new Wa({gc:!1}),Jb(i,n),n=Tv(i),Jb(i,e),e=Tv(i),s._item===null){const o=Array.from(this.doc.share.keys()).find(a=>this.doc.share.get(a)===this.type);s=i.getXmlFragment(o)}else{const o=i.store.clients.get(s._item.id.client)??[],a=fi(o,s._item.id.clock);s=o[a].content.type}this.mapping.clear(),this.mux(()=>{i.transact(o=>{const a=r.permanentUserData;a&&a.dss.forEach(h=>{xo(o,h,p=>{})});const u=(h,p)=>{const m=h==="added"?a.getUserByClientId(p.client):a.getUserByDeletedId(p);return{user:m,type:h,color:Wse(r.colorMapping,r.colors,m)}},c=s9(s,new dE(n.ds,e.sv)).map(h=>!h._item.deleted||_m(h._item,e)||_m(h._item,n)?pp(h,this.prosemirrorView.state.schema,{mapping:new Map,isOMark:new Map},e,n,u):null).filter(h=>h!==null),d=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new Le(Ae.from(c),0,0));this.prosemirrorView.dispatch(d.setMeta(Ut,{isChangeOrigin:!0}))},Ut)})}_typeChanged(e,n){if(this.prosemirrorView==null)return;const r=Ut.getState(this.prosemirrorView.state);if(e.length===0||r.snapshot!=null||r.prevSnapshot!=null){this.renderSnapshot(r.snapshot,r.prevSnapshot);return}this.mux(()=>{const i=(a,u)=>this.mapping.delete(u);xo(n,n.deleteSet,a=>{if(a.constructor===mt){const u=a.content.type;u&&this.mapping.delete(u)}}),n.changed.forEach(i),n.changedParentTypes.forEach(i);const s=this.type.toArray().map(a=>E9(a,this.prosemirrorView.state.schema,this)).filter(a=>a!==null);let o=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new Le(Ae.from(s),0,0));qse(o,this.beforeTransactionSelection,this),o=o.setMeta(Ut,{isChangeOrigin:!0,isUndoRedoOperation:n.origin instanceof QO}),this.beforeTransactionSelection!==null&&this._isLocalCursorInView()&&o.scrollIntoView(),this.prosemirrorView.dispatch(o)})}_prosemirrorChanged(e){this.doc.transact(()=>{s2(this.doc,this.type,e,this),this.beforeTransactionSelection=r2(this,this.prosemirrorView.state)},Ut)}initView(e){this.prosemirrorView!=null&&this.destroy(),this.prosemirrorView=e,this.doc.on("beforeAllTransactions",this.beforeAllTransactions),this.doc.on("afterAllTransactions",this.afterAllTransactions),this.type.observeDeep(this._observeFunction)}destroy(){this.prosemirrorView!=null&&(this.prosemirrorView=null,this.type.unobserveDeep(this._observeFunction),this.doc.off("beforeAllTransactions",this.beforeAllTransactions),this.doc.off("afterAllTransactions",this.afterAllTransactions))}}const E9=(t,e,n,r,i,s)=>{const o=n.mapping.get(t);if(o===void 0){if(t instanceof Hn)return pp(t,e,n,r,i,s);throw ui()}return o},pp=(t,e,n,r,i,s)=>{const o=[],a=u=>{var c,d;if(u instanceof Hn){const h=E9(u,e,n,r,i,s);h!==null&&o.push(h)}else{const h=(d=(c=u._item.right)==null?void 0:c.content)==null?void 0:d.type;h instanceof Eo&&!h._item.deleted&&h._item.id.client===h.doc.clientID&&(u.applyDelta([{retain:u.length},...h.toDelta()]),h.doc.transact(m=>{h._item.delete(m)}));const p=Xse(u,e,n,r,i,s);p!==null&&p.forEach(m=>{m!==null&&o.push(m)})}};r===void 0||i===void 0?t.toArray().forEach(a):s9(t,new dE(i.ds,r.sv)).forEach(a);try{const u=t.getAttributes(r);r!==void 0&&(_m(t._item,r)?_m(t._item,i)||(u.ychange=s?s("added",t._item.id):{type:"added"}):u.ychange=s?s("removed",t._item.id):{type:"removed"});const c=e.node(t.nodeName,u,o);return n.mapping.set(t,c),c}catch{return t.doc.transact(c=>{t._item.delete(c)},Ut),n.mapping.delete(t),null}},Xse=(t,e,n,r,i,s)=>{const o=[],a=t.toDelta(r,i,s);try{for(let u=0;u<a.length;u++){const c=a[u];o.push(e.text(c.insert,toe(c.attributes,e)))}}catch{return t.doc.transact(c=>{t._item.delete(c)},Ut),null}return o},Yse=(t,e)=>{const n=new gr,r=t.map(i=>({insert:i.text,attributes:S9(i.marks,e)}));return n.applyDelta(r),e.mapping.set(n,t),n},Zse=(t,e)=>{const n=new Hn(t.type.name);for(const r in t.attrs){const i=t.attrs[r];i!==null&&r!=="ychange"&&n.setAttribute(r,i)}return n.insert(0,Ig(t).map(r=>i2(r,e))),e.mapping.set(n,t),n},i2=(t,e)=>t instanceof Array?Yse(t,e):Zse(t,e),jA=t=>typeof t=="object"&&t!==null,wE=(t,e)=>{const n=Object.keys(t).filter(i=>t[i]!==null);let r=n.length===(e==null?0:Object.keys(e).filter(i=>e[i]!==null).length);for(let i=0;i<n.length&&r;i++){const s=n[i],o=t[s],a=e[s];r=s==="ychange"||o===a||jA(o)&&jA(a)&&wE(o,a)}return r},Ig=t=>{const e=t.content.content,n=[];for(let r=0;r<e.length;r++){const i=e[r];if(i.isText){const s=[];for(let o=e[r];r<e.length&&o.isText;o=e[++r])s.push(o);r--,n.push(s)}else n.push(i)}return n},C9=(t,e)=>{const n=t.toDelta();return n.length===e.length&&n.every((r,i)=>r.insert===e[i].text&&NO(r.attributes||{}).length===e[i].marks.length&&OO(r.attributes,(s,o)=>{var c;const a=vE(o),u=e[i].marks;return wE(s,(c=u.find(d=>d.type.name===a))==null?void 0:c.attrs)}))},xf=(t,e)=>{if(t instanceof Hn&&!(e instanceof Array)&&o2(t,e)){const n=Ig(e);return t._length===n.length&&wE(t.getAttributes(),e.attrs)&&t.toArray().every((r,i)=>xf(r,n[i]))}return t instanceof gr&&e instanceof Array&&C9(t,e)},Rm=(t,e)=>t===e||t instanceof Array&&e instanceof Array&&t.length===e.length&&t.every((n,r)=>e[r]===n),HA=(t,e,n)=>{const r=t.toArray(),i=Ig(e),s=i.length,o=r.length,a=pu(o,s);let u=0,c=0,d=!1;for(;u<a;u++){const h=r[u],p=i[u];if(Rm(n.mapping.get(h),p))d=!0;else if(!xf(h,p))break}for(;u+c<a;c++){const h=r[o-c-1],p=i[s-c-1];if(Rm(n.mapping.get(h),p))d=!0;else if(!xf(h,p))break}return{equalityFactor:u+c,foundMappedChild:d}},Jse=t=>{let e="",n=t._start;const r={};for(;n!==null;)n.deleted||(n.countable&&n.content instanceof di?e+=n.content.str:n.content instanceof rn&&(r[n.content.key]=null)),n=n.right;return{str:e,nAttrs:r}},Qse=(t,e,n)=>{n.mapping.set(t,e);const{nAttrs:r,str:i}=Jse(t),s=e.map(c=>({insert:c.text,attributes:Object.assign({},r,S9(c.marks,n))})),{insert:o,remove:a,index:u}=Mse(i,s.map(c=>c.insert).join(""));t.delete(u,a),t.insert(u,o),t.applyDelta(s.map(c=>({retain:c.insert.length,attributes:c.attributes})))},eoe=/(.*)(--[a-zA-Z0-9+/=]{8})$/,vE=t=>{var e;return((e=eoe.exec(t))==null?void 0:e[1])??t},toe=(t,e)=>{const n=[];for(const r in t)n.push(e.mark(vE(r),t[r]));return n},S9=(t,e)=>{const n={};return t.forEach(r=>{if(r.type.name!=="ychange"){const i=xs(e.isOMark,r.type,()=>!r.type.excludes(r.type));n[i?`${r.type.name}--${Use(r.toJSON())}`:r.type.name]=r.attrs}}),n},s2=(t,e,n,r)=>{if(e instanceof Hn&&e.nodeName!==n.type.name)throw new Error("node name mismatch!");if(r.mapping.set(e,n),e instanceof Hn){const h=e.getAttributes(),p=n.attrs;for(const m in p)p[m]!==null?h[m]!==p[m]&&m!=="ychange"&&e.setAttribute(m,p[m]):e.removeAttribute(m);for(const m in h)p[m]===void 0&&e.removeAttribute(m)}const i=Ig(n),s=i.length,o=e.toArray(),a=o.length,u=pu(s,a);let c=0,d=0;for(;c<u;c++){const h=o[c],p=i[c];if(!Rm(r.mapping.get(h),p))if(xf(h,p))r.mapping.set(h,p);else break}for(;d+c+1<u;d++){const h=o[a-d-1],p=i[s-d-1];if(!Rm(r.mapping.get(h),p))if(xf(h,p))r.mapping.set(h,p);else break}t.transact(()=>{for(;a-c-d>0&&s-c-d>0;){const p=o[c],m=i[c],w=o[a-d-1],y=i[s-d-1];if(p instanceof gr&&m instanceof Array)C9(p,m)||Qse(p,m,r),c+=1;else{let x=p instanceof Hn&&o2(p,m),v=w instanceof Hn&&o2(w,y);if(x&&v){const S=HA(p,m,r),k=HA(w,y,r);S.foundMappedChild&&!k.foundMappedChild?v=!1:!S.foundMappedChild&&k.foundMappedChild||S.equalityFactor<k.equalityFactor?x=!1:v=!1}x?(s2(t,p,m,r),c+=1):v?(s2(t,w,y,r),d+=1):(r.mapping.delete(e.get(c)),e.delete(c,1),e.insert(c,[i2(m,r)]),c+=1)}}const h=a-c-d;if(a===1&&s===0&&o[0]instanceof gr?(r.mapping.delete(o[0]),o[0].delete(0,o[0].length)):h>0&&(e.slice(c,c+h).forEach(p=>r.mapping.delete(p)),e.delete(c,h)),c+d<s){const p=[];for(let m=c;m<s-d;m++)p.push(i2(i[m],r));e.insert(c,p)}},Ut)},o2=(t,e)=>!(e instanceof Array)&&t.nodeName===e.type.name,a2=(t,e,n)=>{if(t===0)return kv(e,0,-1);let r=e._first===null?null:e._first.content.type;for(;r!==null&&e!==r;){if(r instanceof gr){if(r._length>=t)return kv(r,t,-1);if(t-=r._length,r._item!==null&&r._item.next!==null)r=r._item.next.content.type;else{do r=r._item===null?null:r._item.parent,t--;while(r!==e&&r!==null&&r._item!==null&&r._item.next===null);r!==null&&r!==e&&(r=r._item===null?null:r._item.next.content.type)}}else{const i=(n.get(r)||{nodeSize:0}).nodeSize;if(r._first!==null&&t<i)r=r._first.content.type,t--;else{if(t===1&&r._length===0&&i>1)return new Em(r._item===null?null:r._item.id,r._item===null?gf(r):null,null);if(t-=i,r._item!==null&&r._item.next!==null)r=r._item.next.content.type;else{if(t===0)return r=r._item===null?r:r._item.parent,new Em(r._item===null?null:r._item.id,r._item===null?gf(r):null,null);do r=r._item.parent,t--;while(r!==e&&r._item.next===null);r!==e&&(r=r._item.next.content.type)}}}if(r===null)throw wr();if(t===0&&r.constructor!==gr&&r!==e)return noe(r._item.parent,r._item)}return kv(e,e._length,-1)},noe=(t,e)=>{let n=null,r=null;return t._item===null?r=gf(t):n=st(t._item.id.client,t._item.id.clock),new Em(n,r,e.id)},mp=(t,e,n,r)=>{const i=Rie(n,t);if(i===null||i.type!==e&&!yf(e,i.type._item))return null;let s=i.type,o=0;if(s.constructor===gr)o=i.index;else if(s._item===null||!s._item.deleted){let a=s._first,u=0;for(;u<s._length&&u<i.index&&a!==null;){if(!a.deleted){const c=a.content.type;u++,c instanceof gr?o+=c._length:o+=r.get(c).nodeSize}a=a.right}o+=1}for(;s!==e&&s._item!==null;){const a=s._item.parent;if(a._item===null||!a._item.deleted){o+=1;let u=a._first;for(;u!==null;){const c=u.content.type;if(c===s)break;u.deleted||(c instanceof gr?o+=c._length:o+=r.get(c).nodeSize),u=u.right}}s=a}return o-1};function roe(t){const e=t.toArray(),n=r=>{let i;if(r instanceof gr)i=r.toDelta().map(o=>{const a={type:"text",text:o.insert};return o.attributes&&(a.marks=Object.keys(o.attributes).map(u=>{const c=o.attributes[u],h={type:vE(u)};return Object.keys(c)&&(h.attrs=c),h})),a});else if(r instanceof Hn){i={type:r.nodeName};const s=r.getAttributes();Object.keys(s).length&&(i.attrs=s);const o=r.toArray();o.length&&(i.content=o.map(n).flat())}else wr();return i};return{type:"doc",content:e.map(n)}}const ioe=t=>{var e,n;return((n=(e=fs.getState(t))==null?void 0:e.undoManager)==null?void 0:n.undo())!=null},soe=t=>{var e,n;return((n=(e=fs.getState(t))==null?void 0:e.undoManager)==null?void 0:n.redo())!=null},ooe=new Set(["paragraph"]),aoe=(t,e)=>!(t instanceof mt)||!(t.content instanceof pi)||!(t.content.type instanceof Eo||t.content.type instanceof Hn&&e.has(t.content.type.nodeName))||t.content.type._length===0,loe=({protectedNodes:t=ooe,trackedOrigins:e=[],undoManager:n=null}={})=>new gt({key:fs,state:{init:(r,i)=>{const s=Ut.getState(i),o=n||new QO(s.type,{trackedOrigins:new Set([Ut].concat(e)),deleteFilter:a=>aoe(a,t),captureTransaction:a=>a.meta.get("addToHistory")!==!1});return{undoManager:o,prevSel:null,hasUndoOps:o.undoStack.length>0,hasRedoOps:o.redoStack.length>0}},apply:(r,i,s,o)=>{const a=Ut.getState(o).binding,u=i.undoManager,c=u.undoStack.length>0,d=u.redoStack.length>0;return a?{undoManager:u,prevSel:r2(a,s),hasUndoOps:c,hasRedoOps:d}:c!==i.hasUndoOps||d!==i.hasRedoOps?Object.assign({},i,{hasUndoOps:u.undoStack.length>0,hasRedoOps:u.redoStack.length>0}):i}},view:r=>{const i=Ut.getState(r.state),s=fs.getState(r.state).undoManager;return s.on("stack-item-added",({stackItem:o})=>{const a=i.binding;a&&o.meta.set(a,fs.getState(r.state).prevSel)}),s.on("stack-item-popped",({stackItem:o})=>{const a=i.binding;a&&(a.beforeTransactionSelection=o.meta.get(a)||a.beforeTransactionSelection)}),{destroy:()=>{s.destroy()}}}});ht.create({name:"collaboration",priority:1e3,addOptions(){return{document:null,field:"default",fragment:null}},addStorage(){return{isDisabled:!1}},onCreate(){this.editor.extensionManager.extensions.find(t=>t.name==="history")&&console.warn('[tiptap warn]: "@tiptap/extension-collaboration" comes with its own history support and is not compatible with "@tiptap/extension-history".')},addCommands(){return{undo:()=>({tr:t,state:e,dispatch:n})=>(t.setMeta("preventDispatch",!0),fs.getState(e).undoManager.undoStack.length===0?!1:n?ioe(e):!0),redo:()=>({tr:t,state:e,dispatch:n})=>(t.setMeta("preventDispatch",!0),fs.getState(e).undoManager.redoStack.length===0?!1:n?soe(e):!0)}},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo()}},addProseMirrorPlugins(){var t;const e=this.options.fragment?this.options.fragment:this.options.document.getXmlFragment(this.options.field),n=loe(this.options.yUndoOptions),r=n.spec.view;n.spec.view=o=>{const{undoManager:a}=fs.getState(o.state);a.restore&&(a.restore(),a.restore=()=>{});const u=r?r(o):void 0;return{destroy:()=>{const c=a.trackedOrigins.has(a),d=a._observers;a.restore=()=>{c&&a.trackedOrigins.add(a),a.doc.on("afterTransaction",a.afterTransactionHandler),a._observers=d},u!=null&&u.destroy&&u.destroy()}}};const i={...this.options.ySyncOptions,onFirstRender:this.options.onFirstRender},s=Kse(e,i);return this.editor.options.enableContentCheck&&((t=e.doc)===null||t===void 0||t.on("beforeTransaction",()=>{try{const o=roe(e);if(o.content.length===0)return;this.editor.schema.nodeFromJSON(o).check()}catch(o){return this.editor.emit("contentError",{error:o,editor:this.editor,disableCollaboration:()=>{var a;(a=e.doc)===null||a===void 0||a.destroy(),this.storage.isDisabled=!0}}),!1}})),[s,n,this.editor.options.enableContentCheck&&new gt({key:new xt("filterInvalidContent"),filterTransaction:()=>{var o;return this.storage.isDisabled&&((o=e.doc)===null||o===void 0||o.destroy()),!0}})].filter(Boolean)}});function uoe(t){return!!t.getMeta(Ut)}function $A(t){if(!t.length)return Mt.empty;const e=[],n=t[0].$from.node(0);return t.forEach(r=>{const i=r.$from.pos,s=r.$from.nodeAfter;s&&e.push(Nn.node(i,i+s.nodeSize,{class:"ProseMirror-selectednoderange"}))}),Mt.create(n,e)}function Mg(t,e,n){const r=[],i=t.node(0);n=typeof n=="number"&&n>=0?n:t.sameParent(e)?Math.max(0,t.sharedDepth(e.pos)-1):t.sharedDepth(e.pos);const s=new Xc(t,e,n),o=s.depth===0?0:i.resolve(s.start).posAtIndex(0);return s.parent.forEach((a,u)=>{const c=o+u,d=c+a.nodeSize;if(c<s.start||c>=s.end)return;const h=new A6(i.resolve(c),i.resolve(d));r.push(h)}),r}let coe=class k9{constructor(e,n){this.anchor=e,this.head=n}map(e){return new k9(e.map(this.anchor),e.map(this.head))}resolve(e){const n=e.resolve(this.anchor),r=e.resolve(this.head);return new lo(n,r)}},lo=class Xs extends Qe{constructor(e,n,r,i=1){const{doc:s}=e,o=e===n,a=e.pos===s.content.size&&n.pos===s.content.size,u=o&&!a?s.resolve(n.pos+(i>0?1:-1)):n,c=o&&a?s.resolve(e.pos-(i>0?1:-1)):e,d=Mg(c.min(u),c.max(u),r);super(u.pos>=e.pos?d[0].$from:d[d.length-1].$to,u.pos>=e.pos?d[d.length-1].$to:d[0].$from,d),this.depth=r}get $to(){return this.ranges[this.ranges.length-1].$to}eq(e){return e instanceof Xs&&e.$from.pos===this.$from.pos&&e.$to.pos===this.$to.pos}map(e,n){const r=e.resolve(n.map(this.anchor)),i=e.resolve(n.map(this.head));return new Xs(r,i)}toJSON(){return{type:"nodeRange",anchor:this.anchor,head:this.head}}get isForwards(){return this.head>=this.anchor}get isBackwards(){return!this.isForwards}extendBackwards(){const{doc:e}=this.$from;if(this.isForwards&&this.ranges.length>1){const i=this.ranges.slice(0,-1),s=i[0].$from,o=i[i.length-1].$to;return new Xs(s,o,this.depth)}const n=this.ranges[0],r=e.resolve(Math.max(0,n.$from.pos-1));return new Xs(this.$anchor,r,this.depth)}extendForwards(){const{doc:e}=this.$from;if(this.isBackwards&&this.ranges.length>1){const i=this.ranges.slice(1),s=i[0].$from,o=i[i.length-1].$to;return new Xs(o,s,this.depth)}const n=this.ranges[this.ranges.length-1],r=e.resolve(Math.min(e.content.size,n.$to.pos+1));return new Xs(this.$anchor,r,this.depth)}static fromJSON(e,n){return new Xs(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r,i,s=1){return new this(e.resolve(n),e.resolve(r),i,s)}getBookmark(){return new coe(this.anchor,this.head)}};function Zh(t){return t instanceof lo}lo.prototype.visible=!1;ht.create({name:"nodeRange",addOptions:()=>({depth:void 0,key:"Mod"}),addKeyboardShortcuts(){return{"Shift-ArrowUp":({editor:t})=>{const{depth:e}=this.options,{view:n,state:r}=t,{doc:i,selection:s,tr:o}=r,{anchor:a,head:u}=s;if(!Zh(s)){const d=lo.create(i,a,u,e,-1);return o.setSelection(d),n.dispatch(o),!0}const c=s.extendBackwards();return o.setSelection(c),n.dispatch(o),!0},"Shift-ArrowDown":({editor:t})=>{const{depth:e}=this.options,{view:n,state:r}=t,{doc:i,selection:s,tr:o}=r,{anchor:a,head:u}=s;if(!Zh(s)){const d=lo.create(i,a,u,e);return o.setSelection(d),n.dispatch(o),!0}const c=s.extendForwards();return o.setSelection(c),n.dispatch(o),!0},"Mod-a":({editor:t})=>{const{depth:e}=this.options,{view:n,state:r}=t,{doc:i,tr:s}=r,o=lo.create(i,0,i.content.size,e);return s.setSelection(o),n.dispatch(s),!0}}},onSelectionUpdate(){const{selection:t}=this.editor.state;Zh(t)&&this.editor.view.dom.classList.add("ProseMirror-noderangeselection")},addProseMirrorPlugins(){let t=!1,e=!1;return[new gt({key:new xt("nodeRange"),props:{attributes:()=>t?{class:"ProseMirror-noderangeselection"}:{class:""},handleDOMEvents:{mousedown:(n,r)=>{const{key:i}=this.options,s=/Mac/.test(navigator.platform),o=!!r.shiftKey,a=!!r.ctrlKey,u=!!r.altKey,c=!!r.metaKey;return(i==null||i==="Shift"&&o||i==="Control"&&a||i==="Alt"&&u||i==="Meta"&&c||i==="Mod"&&(s?c:a))&&(e=!0),!!e&&(document.addEventListener("mouseup",()=>{e=!1;const{state:d}=n,{doc:h,selection:p,tr:m}=d,{$anchor:w,$head:y}=p;if(w.sameParent(y))return;const x=lo.create(h,w.pos,y.pos,this.options.depth);m.setSelection(x),n.dispatch(m)},{once:!0}),!1)}},decorations:n=>{const{selection:r}=n,i=Zh(r);if(t=!1,!e)return i?(t=!0,$A(r.ranges)):null;const{$from:s,$to:o}=r;if(!i&&s.sameParent(o))return null;const a=Mg(s,o,this.options.depth);return a.length?(t=!0,$A(a)):null}}})]}});function foe(t){const e=t.cloneNode(!0),n=[t,...Array.from(t.getElementsByTagName("*"))],r=[e,...Array.from(e.getElementsByTagName("*"))];return n.forEach((i,s)=>{r[s].style.cssText=function(o){let a="";const u=getComputedStyle(o);for(let c=0;c<u.length;c+=1)a+=`${u[c]}:${u.getPropertyValue(u[c])};`;return a}(i)}),e}const T9=t=>{const{x:e,y:n,direction:r,editor:i}=t;let s=null,o=null,a=null,u=e;for(;o===null&&u<window.innerWidth&&u>0;){const c=document.elementsFromPoint(u,n),d=c.findIndex(p=>p.classList.contains("ProseMirror")),h=c.slice(0,d);if(h.length>0){const p=h[0];if(s=p,a=i.view.posAtDOM(p,0),a>=0){o=i.state.doc.nodeAt(Math.max(a-1,0)),o!=null&&o.isText&&(o=i.state.doc.nodeAt(Math.max(a-1,0))),o||(o=i.state.doc.nodeAt(Math.max(a,0)));break}}r==="left"?u-=1:u+=1}return{resultElement:s,resultNode:o,pos:a??null}};function Jh(t,e){return window.getComputedStyle(t)[e]}function doe(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function zA(t){var e;(e=t.parentNode)===null||e===void 0||e.removeChild(t)}function hoe(t,e){const{doc:n}=e.view.state,r=T9({editor:e,x:t.clientX,y:t.clientY,direction:"right"});if(!r.resultNode||r.pos===null)return[];const i=t.clientX,s=function(d,h,p){const m=parseInt(Jh(d.dom,"paddingLeft"),10),w=parseInt(Jh(d.dom,"paddingRight"),10),y=parseInt(Jh(d.dom,"borderLeftWidth"),10),x=parseInt(Jh(d.dom,"borderLeftWidth"),10),v=d.dom.getBoundingClientRect();return{left:doe(h,v.left+m+y,v.right-w-x),top:p}}(e.view,i,t.clientY),o=e.view.posAtCoords(s);if(!o)return[];const{pos:a}=o;if(!n.resolve(a).parent)return[];const u=n.resolve(r.pos),c=n.resolve(r.pos+1);return Mg(u,c,0)}const UA=(t,e)=>{const n=t.resolve(e),{depth:r}=n;return r===0?e:n.pos-n.parentOffset-1},VA=(t,e)=>{const n=t.nodeAt(e),r=t.resolve(e);let{depth:i}=r,s=n;for(;i>0;){const o=r.node(i);i-=1,i===0&&(s=o)}return s},Rv=(t,e)=>{const n=Ut.getState(t);return n?a2(e,n.type,n.binding.mapping):null},WA=(t,e)=>{let n=e;for(;n&&n.parentNode&&n.parentNode!==t.dom;)n=n.parentNode;return n},A9=new xt("dragHandle"),_9=({pluginKey:t=A9,element:e,editor:n,tippyOptions:r,onNodeChange:i})=>{const s=document.createElement("div");let o,a=null,u=!1,c=null,d=-1;return e.addEventListener("dragstart",h=>{(function(p,m){const{view:w}=m;if(!p.dataTransfer)return;const{empty:y,$from:x,$to:v}=w.state.selection,S=hoe(p,m),k=Mg(x,v,0),E=k.some(H=>S.find(X=>X.$from===H.$from&&X.$to===H.$to)),R=y||!E?S:k;if(!R.length)return;const{tr:B}=w.state,$=document.createElement("div"),K=R[0].$from.pos,F=R[R.length-1].$to.pos,ie=lo.create(w.state.doc,K,F),me=ie.content();R.forEach(H=>{const X=foe(w.nodeDOM(H.$from.pos));$.append(X)}),$.style.position="absolute",$.style.top="-10000px",document.body.append($),p.dataTransfer.clearData(),p.dataTransfer.setDragImage($,0,0),w.dragging={slice:me,move:!0},B.setSelection(ie),w.dispatch(B),document.addEventListener("drop",()=>zA($),{once:!0})})(h,n),setTimeout(()=>{e&&(e.style.pointerEvents="none")},0)}),e.addEventListener("dragend",()=>{e&&(e.style.pointerEvents="auto")}),new gt({key:typeof t=="string"?new xt(t):t,state:{init:()=>({locked:!1}),apply(h,p,m,w){const y=h.getMeta("lockDragHandle"),x=h.getMeta("hideDragHandle");if(y!==void 0&&(u=y),x&&a)return a.hide(),u=!1,c=null,d=-1,i==null||i({editor:n,node:null,pos:-1}),p;if(h.docChanged&&d!==-1&&e&&a)if(uoe(h)){const v=((S,k)=>{const E=Ut.getState(S);return E?mp(E.doc,E.type,k,E.binding.mapping)||0:-1})(w,o);v!==d&&(d=v)}else{const v=h.mapping.map(d);v!==d&&(d=v,o=Rv(w,d))}return p}},view:h=>{var p;return e.draggable=!0,e.style.pointerEvents="auto",(p=n.view.dom.parentElement)===null||p===void 0||p.appendChild(s),s.appendChild(e),s.style.pointerEvents="none",s.style.position="absolute",s.style.top="0",s.style.left="0",{update(m,w){if(!e)return;if(!n.isEditable)return a==null||a.destroy(),void(a=null);if(a||(a=vu(h.dom,{getReferenceClientRect:null,interactive:!0,trigger:"manual",placement:"left-start",hideOnClick:!1,duration:100,popperOptions:{modifiers:[{name:"flip",enabled:!1},{name:"preventOverflow",options:{rootBoundary:"document",mainAxis:!1}}]},...r,appendTo:s,content:e})),e.draggable=!u,h.state.doc.eq(w.doc)||d===-1)return;let y=h.nodeDOM(d);if(y=WA(h,y),y===h.dom||(y==null?void 0:y.nodeType)!==1)return;const x=h.posAtDOM(y,0),v=VA(n.state.doc,x),S=UA(n.state.doc,x);c=v,d=S,o=Rv(h.state,d),i==null||i({editor:n,node:c,pos:d}),a.setProps({getReferenceClientRect:()=>y.getBoundingClientRect()})},destroy(){a==null||a.destroy(),e&&zA(s)}}},props:{handleDOMEvents:{mouseleave:(h,p)=>(u||p.target&&!s.contains(p.relatedTarget)&&(a==null||a.hide(),c=null,d=-1,i==null||i({editor:n,node:null,pos:-1})),!1),mousemove(h,p){if(!e||!a||u)return!1;const m=T9({x:p.clientX,y:p.clientY,direction:"right",editor:n});if(!m.resultElement)return!1;let w=m.resultElement;if(w=WA(h,w),w===h.dom||(w==null?void 0:w.nodeType)!==1)return!1;const y=h.posAtDOM(w,0),x=VA(n.state.doc,y);if(x!==c){const v=UA(n.state.doc,y);c=x,d=v,o=Rv(h.state,d),i==null||i({editor:n,node:c,pos:d}),a.setProps({getReferenceClientRect:()=>w.getBoundingClientRect()}),a.show()}return!1}}}})};ht.create({name:"dragHandle",addOptions:()=>({render(){const t=document.createElement("div");return t.classList.add("drag-handle"),t},tippyOptions:{},locked:!1,onNodeChange:()=>null}),addCommands(){return{lockDragHandle:()=>({editor:t})=>(this.options.locked=!0,t.commands.setMeta("lockDragHandle",this.options.locked)),unlockDragHandle:()=>({editor:t})=>(this.options.locked=!1,t.commands.setMeta("lockDragHandle",this.options.locked)),toggleDragHandle:()=>({editor:t})=>(this.options.locked=!this.options.locked,t.commands.setMeta("lockDragHandle",this.options.locked))}},addProseMirrorPlugins(){const t=this.options.render();return[_9({tippyOptions:this.options.tippyOptions,element:t,editor:this.editor,onNodeChange:this.options.onNodeChange})]}});const poe=t=>{const{className:e="drag-handle",children:n,editor:r,pluginKey:i=A9,onNodeChange:s,tippyOptions:o={}}=t,[a,u]=A.useState(null),c=A.useRef(null);return A.useEffect(()=>a?r.isDestroyed?()=>{c.current=null}:(c.current||(c.current=_9({editor:r,element:a,pluginKey:i,tippyOptions:o,onNodeChange:s}),r.registerPlugin(c.current)),()=>{r.unregisterPlugin(i),c.current=null}):()=>{c.current=null},[a,r,s,i]),Wt.createElement("div",{className:e,ref:u},n)},moe=({type:t,onBack:e})=>z.jsxs(z.Fragment,{children:[z.jsx(Zs,{children:z.jsxs(Dt,{"data-style":"ghost",onClick:e,children:[z.jsx(K_,{className:"tiptap-button-icon"}),t==="highlighter"?z.jsx(cx,{className:"tiptap-button-icon"}):z.jsx(lx,{className:"tiptap-button-icon"})]})}),z.jsx(ra,{}),t==="highlighter"?z.jsx(qN,{}):z.jsx(qz,{})]});function goe(){var u;const t=Xz(),e=q_(),[n,r]=A.useState("main"),i=A.useRef(null),s=OH({immediatelyRender:!1,editorProps:{attributes:{autocomplete:"off",autocorrect:"off",autocapitalize:"off","aria-label":"Main content area, start typing to enter text."}},extensions:Dte,content:"<p><span style='font-family: Arial; font-size: 16px;'>Carregando...</span></p>"}),o=Yz({editor:s,overlayHeight:((u=i.current)==null?void 0:u.getBoundingClientRect().height)??0});if(A.useEffect(()=>{!t&&n!=="main"&&r("main")},[t,n]),new Eb(s).loadAllBubbleIntegrations(),!!s)return z.jsx(z.Fragment,{children:z.jsxs(V2.Provider,{value:{editor:s},children:[z.jsx(B_,{ref:i,style:t?{bottom:`calc(100% - ${e.height-o.y}px)`}:{},children:n==="main"?z.jsx(qne,{onHighlighterClick:()=>r("highlighter"),onLinkClick:()=>r("link"),isMobile:t}):z.jsx(moe,{type:n==="highlighter"?"highlighter":"link",onBack:()=>r("main")})}),z.jsxs("div",{className:"content-wrapper",children:[z.jsx(poe,{editor:s,className:"mt-1 cursor-grab",children:z.jsx(DW,{size:15})}),z.jsx(xH,{editor:s,role:"presentation",className:"simple-editor-content"})]}),z.jsx(KK,{})]})})}function yoe(){return A.useEffect(()=>{},[]),z.jsx(z.Fragment,{children:z.jsx(goe,{})})}let woe={data:""},voe=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||woe,boe=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,xoe=/\/\*[^]*?\*\/|  +/g,KA=/\n+/g,ro=(t,e)=>{let n="",r="",i="";for(let s in t){let o=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+o+";":r+=s[1]=="f"?ro(o,s):s+"{"+ro(o,s[1]=="k"?"":e)+"}":typeof o=="object"?r+=ro(o,e?e.replace(/([^,])+/g,a=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,a):a?a+" "+u:u)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=ro.p?ro.p(s,o):s+":"+o+";")}return n+(e&&i?e+"{"+i+"}":i)+r},es={},R9=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+R9(t[n]);return e}return t},Eoe=(t,e,n,r,i)=>{let s=R9(t),o=es[s]||(es[s]=(u=>{let c=0,d=11;for(;c<u.length;)d=101*d+u.charCodeAt(c++)>>>0;return"go"+d})(s));if(!es[o]){let u=s!==t?t:(c=>{let d,h,p=[{}];for(;d=boe.exec(c.replace(xoe,""));)d[4]?p.shift():d[3]?(h=d[3].replace(KA," ").trim(),p.unshift(p[0][h]=p[0][h]||{})):p[0][d[1]]=d[2].replace(KA," ").trim();return p[0]})(t);es[o]=ro(i?{["@keyframes "+o]:u}:u,n?"":"."+o)}let a=n&&es.g?es.g:null;return n&&(es.g=es[o]),((u,c,d,h)=>{h?c.data=c.data.replace(h,u):c.data.indexOf(u)===-1&&(c.data=d?u+c.data:c.data+u)})(es[o],e,r,a),o},Coe=(t,e,n)=>t.reduce((r,i,s)=>{let o=e[s];if(o&&o.call){let a=o(n),u=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=u?"."+u:a&&typeof a=="object"?a.props?"":ro(a,""):a===!1?"":a}return r+i+(o??"")},"");function Dg(t){let e=this||{},n=t.call?t(e.p):t;return Eoe(n.unshift?n.raw?Coe(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,voe(e.target),e.g,e.o,e.k)}let N9,l2,u2;Dg.bind({g:1});let gs=Dg.bind({k:1});function Soe(t,e,n,r){ro.p=e,N9=t,l2=n,u2=r}function No(t,e){let n=this||{};return function(){let r=arguments;function i(s,o){let a=Object.assign({},s),u=a.className||i.className;n.p=Object.assign({theme:l2&&l2()},a),n.o=/ *go\d+/.test(u),a.className=Dg.apply(n,r)+(u?" "+u:"");let c=t;return t[0]&&(c=a.as||t,delete a.as),u2&&c[0]&&u2(a),N9(c,a)}return i}}var koe=t=>typeof t=="function",Nm=(t,e)=>koe(t)?t(e):t,Toe=(()=>{let t=0;return()=>(++t).toString()})(),O9=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),Aoe=20,I9=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,Aoe)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:n}=e;return I9(t,{type:t.toasts.find(s=>s.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(s=>s.id===r||r===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},gp=[],fa={toasts:[],pausedAt:void 0},qa=t=>{fa=I9(fa,t),gp.forEach(e=>{e(fa)})},_oe={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Roe=(t={})=>{let[e,n]=A.useState(fa),r=A.useRef(fa);A.useEffect(()=>(r.current!==fa&&n(fa),gp.push(n),()=>{let s=gp.indexOf(n);s>-1&&gp.splice(s,1)}),[]);let i=e.toasts.map(s=>{var o,a,u;return{...t,...t[s.type],...s,removeDelay:s.removeDelay||((o=t[s.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:s.duration||((a=t[s.type])==null?void 0:a.duration)||(t==null?void 0:t.duration)||_oe[s.type],style:{...t.style,...(u=t[s.type])==null?void 0:u.style,...s.style}}});return{...e,toasts:i}},Noe=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||Toe()}),Jf=t=>(e,n)=>{let r=Noe(e,t,n);return qa({type:2,toast:r}),r.id},ur=(t,e)=>Jf("blank")(t,e);ur.error=Jf("error");ur.success=Jf("success");ur.loading=Jf("loading");ur.custom=Jf("custom");ur.dismiss=t=>{qa({type:3,toastId:t})};ur.remove=t=>qa({type:4,toastId:t});ur.promise=(t,e,n)=>{let r=ur.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let s=e.success?Nm(e.success,i):void 0;return s?ur.success(s,{id:r,...n,...n==null?void 0:n.success}):ur.dismiss(r),i}).catch(i=>{let s=e.error?Nm(e.error,i):void 0;s?ur.error(s,{id:r,...n,...n==null?void 0:n.error}):ur.dismiss(r)}),t};var Ooe=(t,e)=>{qa({type:1,toast:{id:t,height:e}})},Ioe=()=>{qa({type:5,time:Date.now()})},qc=new Map,Moe=1e3,Doe=(t,e=Moe)=>{if(qc.has(t))return;let n=setTimeout(()=>{qc.delete(t),qa({type:4,toastId:t})},e);qc.set(t,n)},Loe=t=>{let{toasts:e,pausedAt:n}=Roe(t);A.useEffect(()=>{if(n)return;let s=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let u=(a.duration||0)+a.pauseDuration-(s-a.createdAt);if(u<0){a.visible&&ur.dismiss(a.id);return}return setTimeout(()=>ur.dismiss(a.id),u)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=A.useCallback(()=>{n&&qa({type:6,time:Date.now()})},[n]),i=A.useCallback((s,o)=>{let{reverseOrder:a=!1,gutter:u=8,defaultPosition:c}=o||{},d=e.filter(m=>(m.position||c)===(s.position||c)&&m.height),h=d.findIndex(m=>m.id===s.id),p=d.filter((m,w)=>w<h&&m.visible).length;return d.filter(m=>m.visible).slice(...a?[p+1]:[0,p]).reduce((m,w)=>m+(w.height||0)+u,0)},[e]);return A.useEffect(()=>{e.forEach(s=>{if(s.dismissed)Doe(s.id,s.removeDelay);else{let o=qc.get(s.id);o&&(clearTimeout(o),qc.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:Ooe,startPause:Ioe,endPause:r,calculateOffset:i}}},Poe=gs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Foe=gs`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Boe=gs`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,joe=No("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Poe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Foe} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Boe} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Hoe=gs`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,$oe=No("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${Hoe} 1s linear infinite;
`,zoe=gs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Uoe=gs`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Voe=No("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${zoe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Uoe} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Woe=No("div")`
  position: absolute;
`,Koe=No("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,qoe=gs`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Goe=No("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${qoe} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Xoe=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?A.createElement(Goe,null,e):e:n==="blank"?null:A.createElement(Koe,null,A.createElement($oe,{...r}),n!=="loading"&&A.createElement(Woe,null,n==="error"?A.createElement(joe,{...r}):A.createElement(Voe,{...r})))},Yoe=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Zoe=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,Joe="0%{opacity:0;} 100%{opacity:1;}",Qoe="0%{opacity:1;} 100%{opacity:0;}",eae=No("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,tae=No("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,nae=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=O9()?[Joe,Qoe]:[Yoe(n),Zoe(n)];return{animation:e?`${gs(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${gs(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},rae=A.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?nae(t.position||e||"top-center",t.visible):{opacity:0},s=A.createElement(Xoe,{toast:t}),o=A.createElement(tae,{...t.ariaProps},Nm(t.message,t));return A.createElement(eae,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:s,message:o}):A.createElement(A.Fragment,null,s,o))});Soe(A.createElement);var iae=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let s=A.useCallback(o=>{if(o){let a=()=>{let u=o.getBoundingClientRect().height;r(t,u)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return A.createElement("div",{ref:s,className:e,style:n},i)},sae=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:O9()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},oae=Dg`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Qh=16,aae=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:s,containerClassName:o})=>{let{toasts:a,handlers:u}=Loe(n);return A.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Qh,left:Qh,right:Qh,bottom:Qh,pointerEvents:"none",...s},className:o,onMouseEnter:u.startPause,onMouseLeave:u.endPause},a.map(c=>{let d=c.position||e,h=u.calculateOffset(c,{reverseOrder:t,gutter:r,defaultPosition:e}),p=sae(d,h);return A.createElement(iae,{id:c.id,key:c.id,onHeightUpdate:u.updateHeight,className:c.visible?oae:"",style:p},c.type==="custom"?Nm(c.message,c):i?i(c):A.createElement(rae,{toast:c,position:d}))}))};PM.createRoot(document.getElementById("root")).render(z.jsxs(BM,{children:[z.jsx(aae,{}),z.jsx(yoe,{})]}));
