function t7(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function xC(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var wp={exports:{}},Ja={},vp={exports:{}},Qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i2;function n7(){if(i2)return Qe;i2=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function g(H){return H===null||typeof H!="object"?null:(H=p&&H[p]||H["@@iterator"],typeof H=="function"?H:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,v={};function E(H,L,re){this.props=H,this.context=L,this.refs=v,this.updater=re||m}E.prototype.isReactComponent={},E.prototype.setState=function(H,L){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,L,"setState")},E.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function b(){}b.prototype=E.prototype;function T(H,L,re){this.props=H,this.context=L,this.refs=v,this.updater=re||m}var A=T.prototype=new b;A.constructor=T,w(A,E.prototype),A.isPureReactComponent=!0;var k=Array.isArray,I=Object.prototype.hasOwnProperty,j={current:null},W={key:!0,ref:!0,__self:!0,__source:!0};function ee(H,L,re){var le,me={},ie=null,D=null;if(L!=null)for(le in L.ref!==void 0&&(D=L.ref),L.key!==void 0&&(ie=""+L.key),L)I.call(L,le)&&!W.hasOwnProperty(le)&&(me[le]=L[le]);var M=arguments.length-2;if(M===1)me.children=re;else if(1<M){for(var ne=Array(M),Q=0;Q<M;Q++)ne[Q]=arguments[Q+2];me.children=ne}if(H&&H.defaultProps)for(le in M=H.defaultProps,M)me[le]===void 0&&(me[le]=M[le]);return{$$typeof:n,type:H,key:ie,ref:D,props:me,_owner:j.current}}function F(H,L){return{$$typeof:n,type:H.type,key:L,ref:H.ref,props:H.props,_owner:H._owner}}function se(H){return typeof H=="object"&&H!==null&&H.$$typeof===n}function be(H){var L={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(re){return L[re]})}var B=/\/+/g;function Y(H,L){return typeof H=="object"&&H!==null&&H.key!=null?be(""+H.key):L.toString(36)}function N(H,L,re,le,me){var ie=typeof H;(ie==="undefined"||ie==="boolean")&&(H=null);var D=!1;if(H===null)D=!0;else switch(ie){case"string":case"number":D=!0;break;case"object":switch(H.$$typeof){case n:case e:D=!0}}if(D)return D=H,me=me(D),H=le===""?"."+Y(D,0):le,k(me)?(re="",H!=null&&(re=H.replace(B,"$&/")+"/"),N(me,L,re,"",function(Q){return Q})):me!=null&&(se(me)&&(me=F(me,re+(!me.key||D&&D.key===me.key?"":(""+me.key).replace(B,"$&/")+"/")+H)),L.push(me)),1;if(D=0,le=le===""?".":le+":",k(H))for(var M=0;M<H.length;M++){ie=H[M];var ne=le+Y(ie,M);D+=N(ie,L,re,ne,me)}else if(ne=g(H),typeof ne=="function")for(H=ne.call(H),M=0;!(ie=H.next()).done;)ie=ie.value,ne=le+Y(ie,M++),D+=N(ie,L,re,ne,me);else if(ie==="object")throw L=String(H),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return D}function G(H,L,re){if(H==null)return H;var le=[],me=0;return N(H,le,"","",function(ie){return L.call(re,ie,me++)}),le}function ue(H){if(H._status===-1){var L=H._result;L=L(),L.then(function(re){(H._status===0||H._status===-1)&&(H._status=1,H._result=re)},function(re){(H._status===0||H._status===-1)&&(H._status=2,H._result=re)}),H._status===-1&&(H._status=0,H._result=L)}if(H._status===1)return H._result.default;throw H._result}var q={current:null},X={transition:null},te={ReactCurrentDispatcher:q,ReactCurrentBatchConfig:X,ReactCurrentOwner:j};function de(){throw Error("act(...) is not supported in production builds of React.")}return Qe.Children={map:G,forEach:function(H,L,re){G(H,function(){L.apply(this,arguments)},re)},count:function(H){var L=0;return G(H,function(){L++}),L},toArray:function(H){return G(H,function(L){return L})||[]},only:function(H){if(!se(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},Qe.Component=E,Qe.Fragment=t,Qe.Profiler=i,Qe.PureComponent=T,Qe.StrictMode=r,Qe.Suspense=c,Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,Qe.act=de,Qe.cloneElement=function(H,L,re){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var le=w({},H.props),me=H.key,ie=H.ref,D=H._owner;if(L!=null){if(L.ref!==void 0&&(ie=L.ref,D=j.current),L.key!==void 0&&(me=""+L.key),H.type&&H.type.defaultProps)var M=H.type.defaultProps;for(ne in L)I.call(L,ne)&&!W.hasOwnProperty(ne)&&(le[ne]=L[ne]===void 0&&M!==void 0?M[ne]:L[ne])}var ne=arguments.length-2;if(ne===1)le.children=re;else if(1<ne){M=Array(ne);for(var Q=0;Q<ne;Q++)M[Q]=arguments[Q+2];le.children=M}return{$$typeof:n,type:H.type,key:me,ref:ie,props:le,_owner:D}},Qe.createContext=function(H){return H={$$typeof:o,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:s,_context:H},H.Consumer=H},Qe.createElement=ee,Qe.createFactory=function(H){var L=ee.bind(null,H);return L.type=H,L},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(H){return{$$typeof:l,render:H}},Qe.isValidElement=se,Qe.lazy=function(H){return{$$typeof:h,_payload:{_status:-1,_result:H},_init:ue}},Qe.memo=function(H,L){return{$$typeof:f,type:H,compare:L===void 0?null:L}},Qe.startTransition=function(H){var L=X.transition;X.transition={};try{H()}finally{X.transition=L}},Qe.unstable_act=de,Qe.useCallback=function(H,L){return q.current.useCallback(H,L)},Qe.useContext=function(H){return q.current.useContext(H)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(H){return q.current.useDeferredValue(H)},Qe.useEffect=function(H,L){return q.current.useEffect(H,L)},Qe.useId=function(){return q.current.useId()},Qe.useImperativeHandle=function(H,L,re){return q.current.useImperativeHandle(H,L,re)},Qe.useInsertionEffect=function(H,L){return q.current.useInsertionEffect(H,L)},Qe.useLayoutEffect=function(H,L){return q.current.useLayoutEffect(H,L)},Qe.useMemo=function(H,L){return q.current.useMemo(H,L)},Qe.useReducer=function(H,L,re){return q.current.useReducer(H,L,re)},Qe.useRef=function(H){return q.current.useRef(H)},Qe.useState=function(H){return q.current.useState(H)},Qe.useSyncExternalStore=function(H,L,re){return q.current.useSyncExternalStore(H,L,re)},Qe.useTransition=function(){return q.current.useTransition()},Qe.version="18.3.1",Qe}var s2;function Jg(){return s2||(s2=1,vp.exports=n7()),vp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o2;function r7(){if(o2)return Ja;o2=1;var n=Jg(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,f){var h,p={},g=null,m=null;f!==void 0&&(g=""+f),c.key!==void 0&&(g=""+c.key),c.ref!==void 0&&(m=c.ref);for(h in c)r.call(c,h)&&!s.hasOwnProperty(h)&&(p[h]=c[h]);if(l&&l.defaultProps)for(h in c=l.defaultProps,c)p[h]===void 0&&(p[h]=c[h]);return{$$typeof:e,type:l,key:g,ref:m,props:p,_owner:i.current}}return Ja.Fragment=t,Ja.jsx=o,Ja.jsxs=o,Ja}var a2;function i7(){return a2||(a2=1,wp.exports=r7()),wp.exports}var K=i7(),uc={},bp={exports:{}},In={},xp={exports:{}},Ep={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l2;function s7(){return l2||(l2=1,function(n){function e(X,te){var de=X.length;X.push(te);e:for(;0<de;){var H=de-1>>>1,L=X[H];if(0<i(L,te))X[H]=te,X[de]=L,de=H;else break e}}function t(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var te=X[0],de=X.pop();if(de!==te){X[0]=de;e:for(var H=0,L=X.length,re=L>>>1;H<re;){var le=2*(H+1)-1,me=X[le],ie=le+1,D=X[ie];if(0>i(me,de))ie<L&&0>i(D,me)?(X[H]=D,X[ie]=de,H=ie):(X[H]=me,X[le]=de,H=le);else if(ie<L&&0>i(D,de))X[H]=D,X[ie]=de,H=ie;else break e}}return te}function i(X,te){var de=X.sortIndex-te.sortIndex;return de!==0?de:X.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();n.unstable_now=function(){return o.now()-l}}var c=[],f=[],h=1,p=null,g=3,m=!1,w=!1,v=!1,E=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(X){for(var te=t(f);te!==null;){if(te.callback===null)r(f);else if(te.startTime<=X)r(f),te.sortIndex=te.expirationTime,e(c,te);else break;te=t(f)}}function k(X){if(v=!1,A(X),!w)if(t(c)!==null)w=!0,ue(I);else{var te=t(f);te!==null&&q(k,te.startTime-X)}}function I(X,te){w=!1,v&&(v=!1,b(ee),ee=-1),m=!0;var de=g;try{for(A(te),p=t(c);p!==null&&(!(p.expirationTime>te)||X&&!be());){var H=p.callback;if(typeof H=="function"){p.callback=null,g=p.priorityLevel;var L=H(p.expirationTime<=te);te=n.unstable_now(),typeof L=="function"?p.callback=L:p===t(c)&&r(c),A(te)}else r(c);p=t(c)}if(p!==null)var re=!0;else{var le=t(f);le!==null&&q(k,le.startTime-te),re=!1}return re}finally{p=null,g=de,m=!1}}var j=!1,W=null,ee=-1,F=5,se=-1;function be(){return!(n.unstable_now()-se<F)}function B(){if(W!==null){var X=n.unstable_now();se=X;var te=!0;try{te=W(!0,X)}finally{te?Y():(j=!1,W=null)}}else j=!1}var Y;if(typeof T=="function")Y=function(){T(B)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,G=N.port2;N.port1.onmessage=B,Y=function(){G.postMessage(null)}}else Y=function(){E(B,0)};function ue(X){W=X,j||(j=!0,Y())}function q(X,te){ee=E(function(){X(n.unstable_now())},te)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_continueExecution=function(){w||m||(w=!0,ue(I))},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return g},n.unstable_getFirstCallbackNode=function(){return t(c)},n.unstable_next=function(X){switch(g){case 1:case 2:case 3:var te=3;break;default:te=g}var de=g;g=te;try{return X()}finally{g=de}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(X,te){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var de=g;g=X;try{return te()}finally{g=de}},n.unstable_scheduleCallback=function(X,te,de){var H=n.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?H+de:H):de=H,X){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=de+L,X={id:h++,callback:te,priorityLevel:X,startTime:de,expirationTime:L,sortIndex:-1},de>H?(X.sortIndex=de,e(f,X),t(c)===null&&X===t(f)&&(v?(b(ee),ee=-1):v=!0,q(k,de-H))):(X.sortIndex=L,e(c,X),w||m||(w=!0,ue(I))),X},n.unstable_shouldYield=be,n.unstable_wrapCallback=function(X){var te=g;return function(){var de=g;g=te;try{return X.apply(this,arguments)}finally{g=de}}}}(Ep)),Ep}var u2;function o7(){return u2||(u2=1,xp.exports=s7()),xp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c2;function a7(){if(c2)return In;c2=1;var n=Jg(),e=o7();function t(a){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+a,d=1;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(a,u){o(a,u),o(a+"Capture",u)}function o(a,u){for(i[a]=u,a=0;a<u.length;a++)r.add(u[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function g(a){return c.call(p,a)?!0:c.call(h,a)?!1:f.test(a)?p[a]=!0:(h[a]=!0,!1)}function m(a,u,d,y){if(d!==null&&d.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return y?!1:d!==null?!d.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function w(a,u,d,y){if(u===null||typeof u>"u"||m(a,u,d,y))return!0;if(y)return!1;if(d!==null)switch(d.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function v(a,u,d,y,S,R,V){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=y,this.attributeNamespace=S,this.mustUseProperty=d,this.propertyName=a,this.type=u,this.sanitizeURL=R,this.removeEmptyString=V}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){E[a]=new v(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var u=a[0];E[u]=new v(u,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){E[a]=new v(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){E[a]=new v(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){E[a]=new v(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){E[a]=new v(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){E[a]=new v(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){E[a]=new v(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){E[a]=new v(a,5,!1,a.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function T(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var u=a.replace(b,T);E[u]=new v(u,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var u=a.replace(b,T);E[u]=new v(u,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var u=a.replace(b,T);E[u]=new v(u,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){E[a]=new v(a,1,!1,a.toLowerCase(),null,!1,!1)}),E.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){E[a]=new v(a,1,!1,a.toLowerCase(),null,!0,!0)});function A(a,u,d,y){var S=E.hasOwnProperty(u)?E[u]:null;(S!==null?S.type!==0:y||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(w(u,d,S,y)&&(d=null),y||S===null?g(u)&&(d===null?a.removeAttribute(u):a.setAttribute(u,""+d)):S.mustUseProperty?a[S.propertyName]=d===null?S.type===3?!1:"":d:(u=S.attributeName,y=S.attributeNamespace,d===null?a.removeAttribute(u):(S=S.type,d=S===3||S===4&&d===!0?"":""+d,y?a.setAttributeNS(y,u,d):a.setAttribute(u,d))))}var k=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),j=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),se=Symbol.for("react.provider"),be=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),q=Symbol.for("react.offscreen"),X=Symbol.iterator;function te(a){return a===null||typeof a!="object"?null:(a=X&&a[X]||a["@@iterator"],typeof a=="function"?a:null)}var de=Object.assign,H;function L(a){if(H===void 0)try{throw Error()}catch(d){var u=d.stack.trim().match(/\n( *(at )?)/);H=u&&u[1]||""}return`
`+H+a}var re=!1;function le(a,u){if(!a||re)return"";re=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(xe){var y=xe}Reflect.construct(a,[],u)}else{try{u.call()}catch(xe){y=xe}a.call(u.prototype)}else{try{throw Error()}catch(xe){y=xe}a()}}catch(xe){if(xe&&y&&typeof xe.stack=="string"){for(var S=xe.stack.split(`
`),R=y.stack.split(`
`),V=S.length-1,oe=R.length-1;1<=V&&0<=oe&&S[V]!==R[oe];)oe--;for(;1<=V&&0<=oe;V--,oe--)if(S[V]!==R[oe]){if(V!==1||oe!==1)do if(V--,oe--,0>oe||S[V]!==R[oe]){var ce=`
`+S[V].replace(" at new "," at ");return a.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",a.displayName)),ce}while(1<=V&&0<=oe);break}}}finally{re=!1,Error.prepareStackTrace=d}return(a=a?a.displayName||a.name:"")?L(a):""}function me(a){switch(a.tag){case 5:return L(a.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return a=le(a.type,!1),a;case 11:return a=le(a.type.render,!1),a;case 1:return a=le(a.type,!0),a;default:return""}}function ie(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case W:return"Fragment";case j:return"Portal";case F:return"Profiler";case ee:return"StrictMode";case Y:return"Suspense";case N:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case be:return(a.displayName||"Context")+".Consumer";case se:return(a._context.displayName||"Context")+".Provider";case B:var u=a.render;return a=a.displayName,a||(a=u.displayName||u.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case G:return u=a.displayName||null,u!==null?u:ie(a.type)||"Memo";case ue:u=a._payload,a=a._init;try{return ie(a(u))}catch{}}return null}function D(a){var u=a.type;switch(a.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=u.render,a=a.displayName||a.name||"",u.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ie(u);case 8:return u===ee?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function M(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function ne(a){var u=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Q(a){var u=ne(a)?"checked":"value",d=Object.getOwnPropertyDescriptor(a.constructor.prototype,u),y=""+a[u];if(!a.hasOwnProperty(u)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var S=d.get,R=d.set;return Object.defineProperty(a,u,{configurable:!0,get:function(){return S.call(this)},set:function(V){y=""+V,R.call(this,V)}}),Object.defineProperty(a,u,{enumerable:d.enumerable}),{getValue:function(){return y},setValue:function(V){y=""+V},stopTracking:function(){a._valueTracker=null,delete a[u]}}}}function U(a){a._valueTracker||(a._valueTracker=Q(a))}function $(a){if(!a)return!1;var u=a._valueTracker;if(!u)return!0;var d=u.getValue(),y="";return a&&(y=ne(a)?a.checked?"true":"false":a.value),a=y,a!==d?(u.setValue(a),!0):!1}function fe(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function _(a,u){var d=u.checked;return de({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??a._wrapperState.initialChecked})}function he(a,u){var d=u.defaultValue==null?"":u.defaultValue,y=u.checked!=null?u.checked:u.defaultChecked;d=M(u.value!=null?u.value:d),a._wrapperState={initialChecked:y,initialValue:d,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function P(a,u){u=u.checked,u!=null&&A(a,"checked",u,!1)}function x(a,u){P(a,u);var d=M(u.value),y=u.type;if(d!=null)y==="number"?(d===0&&a.value===""||a.value!=d)&&(a.value=""+d):a.value!==""+d&&(a.value=""+d);else if(y==="submit"||y==="reset"){a.removeAttribute("value");return}u.hasOwnProperty("value")?O(a,u.type,d):u.hasOwnProperty("defaultValue")&&O(a,u.type,M(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(a.defaultChecked=!!u.defaultChecked)}function C(a,u,d){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var y=u.type;if(!(y!=="submit"&&y!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+a._wrapperState.initialValue,d||u===a.value||(a.value=u),a.defaultValue=u}d=a.name,d!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,d!==""&&(a.name=d)}function O(a,u,d){(u!=="number"||fe(a.ownerDocument)!==a)&&(d==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+d&&(a.defaultValue=""+d))}var Z=Array.isArray;function ae(a,u,d,y){if(a=a.options,u){u={};for(var S=0;S<d.length;S++)u["$"+d[S]]=!0;for(d=0;d<a.length;d++)S=u.hasOwnProperty("$"+a[d].value),a[d].selected!==S&&(a[d].selected=S),S&&y&&(a[d].defaultSelected=!0)}else{for(d=""+M(d),u=null,S=0;S<a.length;S++){if(a[S].value===d){a[S].selected=!0,y&&(a[S].defaultSelected=!0);return}u!==null||a[S].disabled||(u=a[S])}u!==null&&(u.selected=!0)}}function J(a,u){if(u.dangerouslySetInnerHTML!=null)throw Error(t(91));return de({},u,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function ge(a,u){var d=u.value;if(d==null){if(d=u.children,u=u.defaultValue,d!=null){if(u!=null)throw Error(t(92));if(Z(d)){if(1<d.length)throw Error(t(93));d=d[0]}u=d}u==null&&(u=""),d=u}a._wrapperState={initialValue:M(d)}}function we(a,u){var d=M(u.value),y=M(u.defaultValue);d!=null&&(d=""+d,d!==a.value&&(a.value=d),u.defaultValue==null&&a.defaultValue!==d&&(a.defaultValue=d)),y!=null&&(a.defaultValue=""+y)}function Ee(a){var u=a.textContent;u===a._wrapperState.initialValue&&u!==""&&u!==null&&(a.value=u)}function ke(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Me(a,u){return a==null||a==="http://www.w3.org/1999/xhtml"?ke(u):a==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Ue,yt=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,d,y,S){MSApp.execUnsafeLocalFunction(function(){return a(u,d,y,S)})}:a}(function(a,u){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=u;else{for(Ue=Ue||document.createElement("div"),Ue.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=Ue.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;u.firstChild;)a.appendChild(u.firstChild)}});function Mt(a,u){if(u){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=u;return}}a.textContent=u}var rt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yn=["Webkit","ms","Moz","O"];Object.keys(rt).forEach(function(a){yn.forEach(function(u){u=u+a.charAt(0).toUpperCase()+a.substring(1),rt[u]=rt[a]})});function it(a,u,d){return u==null||typeof u=="boolean"||u===""?"":d||typeof u!="number"||u===0||rt.hasOwnProperty(a)&&rt[a]?(""+u).trim():u+"px"}function xr(a,u){a=a.style;for(var d in u)if(u.hasOwnProperty(d)){var y=d.indexOf("--")===0,S=it(d,u[d],y);d==="float"&&(d="cssFloat"),y?a.setProperty(d,S):a[d]=S}}var pi=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ut(a,u){if(u){if(pi[a]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(t(137,a));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(t(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(t(61))}if(u.style!=null&&typeof u.style!="object")throw Error(t(62))}}function wn(a,u){if(a.indexOf("-")===-1)return typeof u.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Er=null;function ds(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var mi=null,Gn=null,Zn=null;function hs(a){if(a=Pa(a)){if(typeof mi!="function")throw Error(t(280));var u=a.stateNode;u&&(u=Su(u),mi(a.stateNode,a.type,u))}}function E0(a){Gn?Zn?Zn.push(a):Zn=[a]:Gn=a}function C0(){if(Gn){var a=Gn,u=Zn;if(Zn=Gn=null,hs(a),u)for(a=0;a<u.length;a++)hs(u[a])}}function S0(a,u){return a(u)}function k0(){}var Ld=!1;function T0(a,u,d){if(Ld)return a(u,d);Ld=!0;try{return S0(a,u,d)}finally{Ld=!1,(Gn!==null||Zn!==null)&&(k0(),C0())}}function ma(a,u){var d=a.stateNode;if(d===null)return null;var y=Su(d);if(y===null)return null;d=y[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(a=a.type,y=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!y;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(t(231,u,typeof d));return d}var Pd=!1;if(l)try{var ga={};Object.defineProperty(ga,"passive",{get:function(){Pd=!0}}),window.addEventListener("test",ga,ga),window.removeEventListener("test",ga,ga)}catch{Pd=!1}function lk(a,u,d,y,S,R,V,oe,ce){var xe=Array.prototype.slice.call(arguments,3);try{u.apply(d,xe)}catch(Re){this.onError(Re)}}var ya=!1,nu=null,ru=!1,Fd=null,uk={onError:function(a){ya=!0,nu=a}};function ck(a,u,d,y,S,R,V,oe,ce){ya=!1,nu=null,lk.apply(uk,arguments)}function fk(a,u,d,y,S,R,V,oe,ce){if(ck.apply(this,arguments),ya){if(ya){var xe=nu;ya=!1,nu=null}else throw Error(t(198));ru||(ru=!0,Fd=xe)}}function ps(a){var u=a,d=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do u=a,u.flags&4098&&(d=u.return),a=u.return;while(a)}return u.tag===3?d:null}function A0(a){if(a.tag===13){var u=a.memoizedState;if(u===null&&(a=a.alternate,a!==null&&(u=a.memoizedState)),u!==null)return u.dehydrated}return null}function R0(a){if(ps(a)!==a)throw Error(t(188))}function dk(a){var u=a.alternate;if(!u){if(u=ps(a),u===null)throw Error(t(188));return u!==a?null:a}for(var d=a,y=u;;){var S=d.return;if(S===null)break;var R=S.alternate;if(R===null){if(y=S.return,y!==null){d=y;continue}break}if(S.child===R.child){for(R=S.child;R;){if(R===d)return R0(S),a;if(R===y)return R0(S),u;R=R.sibling}throw Error(t(188))}if(d.return!==y.return)d=S,y=R;else{for(var V=!1,oe=S.child;oe;){if(oe===d){V=!0,d=S,y=R;break}if(oe===y){V=!0,y=S,d=R;break}oe=oe.sibling}if(!V){for(oe=R.child;oe;){if(oe===d){V=!0,d=R,y=S;break}if(oe===y){V=!0,y=R,d=S;break}oe=oe.sibling}if(!V)throw Error(t(189))}}if(d.alternate!==y)throw Error(t(190))}if(d.tag!==3)throw Error(t(188));return d.stateNode.current===d?a:u}function _0(a){return a=dk(a),a!==null?N0(a):null}function N0(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var u=N0(a);if(u!==null)return u;a=a.sibling}return null}var O0=e.unstable_scheduleCallback,I0=e.unstable_cancelCallback,hk=e.unstable_shouldYield,pk=e.unstable_requestPaint,Rt=e.unstable_now,mk=e.unstable_getCurrentPriorityLevel,Bd=e.unstable_ImmediatePriority,M0=e.unstable_UserBlockingPriority,iu=e.unstable_NormalPriority,gk=e.unstable_LowPriority,D0=e.unstable_IdlePriority,su=null,Cr=null;function yk(a){if(Cr&&typeof Cr.onCommitFiberRoot=="function")try{Cr.onCommitFiberRoot(su,a,void 0,(a.current.flags&128)===128)}catch{}}var cr=Math.clz32?Math.clz32:bk,wk=Math.log,vk=Math.LN2;function bk(a){return a>>>=0,a===0?32:31-(wk(a)/vk|0)|0}var ou=64,au=4194304;function wa(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function lu(a,u){var d=a.pendingLanes;if(d===0)return 0;var y=0,S=a.suspendedLanes,R=a.pingedLanes,V=d&268435455;if(V!==0){var oe=V&~S;oe!==0?y=wa(oe):(R&=V,R!==0&&(y=wa(R)))}else V=d&~S,V!==0?y=wa(V):R!==0&&(y=wa(R));if(y===0)return 0;if(u!==0&&u!==y&&!(u&S)&&(S=y&-y,R=u&-u,S>=R||S===16&&(R&4194240)!==0))return u;if(y&4&&(y|=d&16),u=a.entangledLanes,u!==0)for(a=a.entanglements,u&=y;0<u;)d=31-cr(u),S=1<<d,y|=a[d],u&=~S;return y}function xk(a,u){switch(a){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ek(a,u){for(var d=a.suspendedLanes,y=a.pingedLanes,S=a.expirationTimes,R=a.pendingLanes;0<R;){var V=31-cr(R),oe=1<<V,ce=S[V];ce===-1?(!(oe&d)||oe&y)&&(S[V]=xk(oe,u)):ce<=u&&(a.expiredLanes|=oe),R&=~oe}}function jd(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function L0(){var a=ou;return ou<<=1,!(ou&4194240)&&(ou=64),a}function zd(a){for(var u=[],d=0;31>d;d++)u.push(a);return u}function va(a,u,d){a.pendingLanes|=u,u!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,u=31-cr(u),a[u]=d}function Ck(a,u){var d=a.pendingLanes&~u;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=u,a.mutableReadLanes&=u,a.entangledLanes&=u,u=a.entanglements;var y=a.eventTimes;for(a=a.expirationTimes;0<d;){var S=31-cr(d),R=1<<S;u[S]=0,y[S]=-1,a[S]=-1,d&=~R}}function Hd(a,u){var d=a.entangledLanes|=u;for(a=a.entanglements;d;){var y=31-cr(d),S=1<<y;S&u|a[y]&u&&(a[y]|=u),d&=~S}}var st=0;function P0(a){return a&=-a,1<a?4<a?a&268435455?16:536870912:4:1}var F0,Ud,B0,j0,z0,Vd=!1,uu=[],gi=null,yi=null,wi=null,ba=new Map,xa=new Map,vi=[],Sk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function H0(a,u){switch(a){case"focusin":case"focusout":gi=null;break;case"dragenter":case"dragleave":yi=null;break;case"mouseover":case"mouseout":wi=null;break;case"pointerover":case"pointerout":ba.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":xa.delete(u.pointerId)}}function Ea(a,u,d,y,S,R){return a===null||a.nativeEvent!==R?(a={blockedOn:u,domEventName:d,eventSystemFlags:y,nativeEvent:R,targetContainers:[S]},u!==null&&(u=Pa(u),u!==null&&Ud(u)),a):(a.eventSystemFlags|=y,u=a.targetContainers,S!==null&&u.indexOf(S)===-1&&u.push(S),a)}function kk(a,u,d,y,S){switch(u){case"focusin":return gi=Ea(gi,a,u,d,y,S),!0;case"dragenter":return yi=Ea(yi,a,u,d,y,S),!0;case"mouseover":return wi=Ea(wi,a,u,d,y,S),!0;case"pointerover":var R=S.pointerId;return ba.set(R,Ea(ba.get(R)||null,a,u,d,y,S)),!0;case"gotpointercapture":return R=S.pointerId,xa.set(R,Ea(xa.get(R)||null,a,u,d,y,S)),!0}return!1}function U0(a){var u=ms(a.target);if(u!==null){var d=ps(u);if(d!==null){if(u=d.tag,u===13){if(u=A0(d),u!==null){a.blockedOn=u,z0(a.priority,function(){B0(d)});return}}else if(u===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function cu(a){if(a.blockedOn!==null)return!1;for(var u=a.targetContainers;0<u.length;){var d=$d(a.domEventName,a.eventSystemFlags,u[0],a.nativeEvent);if(d===null){d=a.nativeEvent;var y=new d.constructor(d.type,d);Er=y,d.target.dispatchEvent(y),Er=null}else return u=Pa(d),u!==null&&Ud(u),a.blockedOn=d,!1;u.shift()}return!0}function V0(a,u,d){cu(a)&&d.delete(u)}function Tk(){Vd=!1,gi!==null&&cu(gi)&&(gi=null),yi!==null&&cu(yi)&&(yi=null),wi!==null&&cu(wi)&&(wi=null),ba.forEach(V0),xa.forEach(V0)}function Ca(a,u){a.blockedOn===u&&(a.blockedOn=null,Vd||(Vd=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Tk)))}function Sa(a){function u(S){return Ca(S,a)}if(0<uu.length){Ca(uu[0],a);for(var d=1;d<uu.length;d++){var y=uu[d];y.blockedOn===a&&(y.blockedOn=null)}}for(gi!==null&&Ca(gi,a),yi!==null&&Ca(yi,a),wi!==null&&Ca(wi,a),ba.forEach(u),xa.forEach(u),d=0;d<vi.length;d++)y=vi[d],y.blockedOn===a&&(y.blockedOn=null);for(;0<vi.length&&(d=vi[0],d.blockedOn===null);)U0(d),d.blockedOn===null&&vi.shift()}var uo=k.ReactCurrentBatchConfig,fu=!0;function Ak(a,u,d,y){var S=st,R=uo.transition;uo.transition=null;try{st=1,Wd(a,u,d,y)}finally{st=S,uo.transition=R}}function Rk(a,u,d,y){var S=st,R=uo.transition;uo.transition=null;try{st=4,Wd(a,u,d,y)}finally{st=S,uo.transition=R}}function Wd(a,u,d,y){if(fu){var S=$d(a,u,d,y);if(S===null)lh(a,u,y,du,d),H0(a,y);else if(kk(S,a,u,d,y))y.stopPropagation();else if(H0(a,y),u&4&&-1<Sk.indexOf(a)){for(;S!==null;){var R=Pa(S);if(R!==null&&F0(R),R=$d(a,u,d,y),R===null&&lh(a,u,y,du,d),R===S)break;S=R}S!==null&&y.stopPropagation()}else lh(a,u,y,null,d)}}var du=null;function $d(a,u,d,y){if(du=null,a=ds(y),a=ms(a),a!==null)if(u=ps(a),u===null)a=null;else if(d=u.tag,d===13){if(a=A0(u),a!==null)return a;a=null}else if(d===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;a=null}else u!==a&&(a=null);return du=a,null}function W0(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mk()){case Bd:return 1;case M0:return 4;case iu:case gk:return 16;case D0:return 536870912;default:return 16}default:return 16}}var bi=null,Kd=null,hu=null;function $0(){if(hu)return hu;var a,u=Kd,d=u.length,y,S="value"in bi?bi.value:bi.textContent,R=S.length;for(a=0;a<d&&u[a]===S[a];a++);var V=d-a;for(y=1;y<=V&&u[d-y]===S[R-y];y++);return hu=S.slice(a,1<y?1-y:void 0)}function pu(a){var u=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&u===13&&(a=13)):a=u,a===10&&(a=13),32<=a||a===13?a:0}function mu(){return!0}function K0(){return!1}function zn(a){function u(d,y,S,R,V){this._reactName=d,this._targetInst=S,this.type=y,this.nativeEvent=R,this.target=V,this.currentTarget=null;for(var oe in a)a.hasOwnProperty(oe)&&(d=a[oe],this[oe]=d?d(R):R[oe]);return this.isDefaultPrevented=(R.defaultPrevented!=null?R.defaultPrevented:R.returnValue===!1)?mu:K0,this.isPropagationStopped=K0,this}return de(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=mu)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=mu)},persist:function(){},isPersistent:mu}),u}var co={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qd=zn(co),ka=de({},co,{view:0,detail:0}),_k=zn(ka),Gd,Zd,Ta,gu=de({},ka,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jd,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Ta&&(Ta&&a.type==="mousemove"?(Gd=a.screenX-Ta.screenX,Zd=a.screenY-Ta.screenY):Zd=Gd=0,Ta=a),Gd)},movementY:function(a){return"movementY"in a?a.movementY:Zd}}),q0=zn(gu),Nk=de({},gu,{dataTransfer:0}),Ok=zn(Nk),Ik=de({},ka,{relatedTarget:0}),Xd=zn(Ik),Mk=de({},co,{animationName:0,elapsedTime:0,pseudoElement:0}),Dk=zn(Mk),Lk=de({},co,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Pk=zn(Lk),Fk=de({},co,{data:0}),G0=zn(Fk),Bk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hk(a){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(a):(a=zk[a])?!!u[a]:!1}function Jd(){return Hk}var Uk=de({},ka,{key:function(a){if(a.key){var u=Bk[a.key]||a.key;if(u!=="Unidentified")return u}return a.type==="keypress"?(a=pu(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?jk[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jd,charCode:function(a){return a.type==="keypress"?pu(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?pu(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Vk=zn(Uk),Wk=de({},gu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Z0=zn(Wk),$k=de({},ka,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jd}),Kk=zn($k),qk=de({},co,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gk=zn(qk),Zk=de({},gu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Xk=zn(Zk),Jk=[9,13,27,32],Yd=l&&"CompositionEvent"in window,Aa=null;l&&"documentMode"in document&&(Aa=document.documentMode);var Yk=l&&"TextEvent"in window&&!Aa,X0=l&&(!Yd||Aa&&8<Aa&&11>=Aa),J0=" ",Y0=!1;function Q0(a,u){switch(a){case"keyup":return Jk.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ew(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var fo=!1;function Qk(a,u){switch(a){case"compositionend":return ew(u);case"keypress":return u.which!==32?null:(Y0=!0,J0);case"textInput":return a=u.data,a===J0&&Y0?null:a;default:return null}}function e6(a,u){if(fo)return a==="compositionend"||!Yd&&Q0(a,u)?(a=$0(),hu=Kd=bi=null,fo=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return X0&&u.locale!=="ko"?null:u.data;default:return null}}var t6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tw(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u==="input"?!!t6[a.type]:u==="textarea"}function nw(a,u,d,y){E0(y),u=xu(u,"onChange"),0<u.length&&(d=new qd("onChange","change",null,d,y),a.push({event:d,listeners:u}))}var Ra=null,_a=null;function n6(a){bw(a,0)}function yu(a){var u=yo(a);if($(u))return a}function r6(a,u){if(a==="change")return u}var rw=!1;if(l){var Qd;if(l){var eh="oninput"in document;if(!eh){var iw=document.createElement("div");iw.setAttribute("oninput","return;"),eh=typeof iw.oninput=="function"}Qd=eh}else Qd=!1;rw=Qd&&(!document.documentMode||9<document.documentMode)}function sw(){Ra&&(Ra.detachEvent("onpropertychange",ow),_a=Ra=null)}function ow(a){if(a.propertyName==="value"&&yu(_a)){var u=[];nw(u,_a,a,ds(a)),T0(n6,u)}}function i6(a,u,d){a==="focusin"?(sw(),Ra=u,_a=d,Ra.attachEvent("onpropertychange",ow)):a==="focusout"&&sw()}function s6(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return yu(_a)}function o6(a,u){if(a==="click")return yu(u)}function a6(a,u){if(a==="input"||a==="change")return yu(u)}function l6(a,u){return a===u&&(a!==0||1/a===1/u)||a!==a&&u!==u}var fr=typeof Object.is=="function"?Object.is:l6;function Na(a,u){if(fr(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var d=Object.keys(a),y=Object.keys(u);if(d.length!==y.length)return!1;for(y=0;y<d.length;y++){var S=d[y];if(!c.call(u,S)||!fr(a[S],u[S]))return!1}return!0}function aw(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function lw(a,u){var d=aw(a);a=0;for(var y;d;){if(d.nodeType===3){if(y=a+d.textContent.length,a<=u&&y>=u)return{node:d,offset:u-a};a=y}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=aw(d)}}function uw(a,u){return a&&u?a===u?!0:a&&a.nodeType===3?!1:u&&u.nodeType===3?uw(a,u.parentNode):"contains"in a?a.contains(u):a.compareDocumentPosition?!!(a.compareDocumentPosition(u)&16):!1:!1}function cw(){for(var a=window,u=fe();u instanceof a.HTMLIFrameElement;){try{var d=typeof u.contentWindow.location.href=="string"}catch{d=!1}if(d)a=u.contentWindow;else break;u=fe(a.document)}return u}function th(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u&&(u==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||u==="textarea"||a.contentEditable==="true")}function u6(a){var u=cw(),d=a.focusedElem,y=a.selectionRange;if(u!==d&&d&&d.ownerDocument&&uw(d.ownerDocument.documentElement,d)){if(y!==null&&th(d)){if(u=y.start,a=y.end,a===void 0&&(a=u),"selectionStart"in d)d.selectionStart=u,d.selectionEnd=Math.min(a,d.value.length);else if(a=(u=d.ownerDocument||document)&&u.defaultView||window,a.getSelection){a=a.getSelection();var S=d.textContent.length,R=Math.min(y.start,S);y=y.end===void 0?R:Math.min(y.end,S),!a.extend&&R>y&&(S=y,y=R,R=S),S=lw(d,R);var V=lw(d,y);S&&V&&(a.rangeCount!==1||a.anchorNode!==S.node||a.anchorOffset!==S.offset||a.focusNode!==V.node||a.focusOffset!==V.offset)&&(u=u.createRange(),u.setStart(S.node,S.offset),a.removeAllRanges(),R>y?(a.addRange(u),a.extend(V.node,V.offset)):(u.setEnd(V.node,V.offset),a.addRange(u)))}}for(u=[],a=d;a=a.parentNode;)a.nodeType===1&&u.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<u.length;d++)a=u[d],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var c6=l&&"documentMode"in document&&11>=document.documentMode,ho=null,nh=null,Oa=null,rh=!1;function fw(a,u,d){var y=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;rh||ho==null||ho!==fe(y)||(y=ho,"selectionStart"in y&&th(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Oa&&Na(Oa,y)||(Oa=y,y=xu(nh,"onSelect"),0<y.length&&(u=new qd("onSelect","select",null,u,d),a.push({event:u,listeners:y}),u.target=ho)))}function wu(a,u){var d={};return d[a.toLowerCase()]=u.toLowerCase(),d["Webkit"+a]="webkit"+u,d["Moz"+a]="moz"+u,d}var po={animationend:wu("Animation","AnimationEnd"),animationiteration:wu("Animation","AnimationIteration"),animationstart:wu("Animation","AnimationStart"),transitionend:wu("Transition","TransitionEnd")},ih={},dw={};l&&(dw=document.createElement("div").style,"AnimationEvent"in window||(delete po.animationend.animation,delete po.animationiteration.animation,delete po.animationstart.animation),"TransitionEvent"in window||delete po.transitionend.transition);function vu(a){if(ih[a])return ih[a];if(!po[a])return a;var u=po[a],d;for(d in u)if(u.hasOwnProperty(d)&&d in dw)return ih[a]=u[d];return a}var hw=vu("animationend"),pw=vu("animationiteration"),mw=vu("animationstart"),gw=vu("transitionend"),yw=new Map,ww="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xi(a,u){yw.set(a,u),s(u,[a])}for(var sh=0;sh<ww.length;sh++){var oh=ww[sh],f6=oh.toLowerCase(),d6=oh[0].toUpperCase()+oh.slice(1);xi(f6,"on"+d6)}xi(hw,"onAnimationEnd"),xi(pw,"onAnimationIteration"),xi(mw,"onAnimationStart"),xi("dblclick","onDoubleClick"),xi("focusin","onFocus"),xi("focusout","onBlur"),xi(gw,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ia="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h6=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ia));function vw(a,u,d){var y=a.type||"unknown-event";a.currentTarget=d,fk(y,u,void 0,a),a.currentTarget=null}function bw(a,u){u=(u&4)!==0;for(var d=0;d<a.length;d++){var y=a[d],S=y.event;y=y.listeners;e:{var R=void 0;if(u)for(var V=y.length-1;0<=V;V--){var oe=y[V],ce=oe.instance,xe=oe.currentTarget;if(oe=oe.listener,ce!==R&&S.isPropagationStopped())break e;vw(S,oe,xe),R=ce}else for(V=0;V<y.length;V++){if(oe=y[V],ce=oe.instance,xe=oe.currentTarget,oe=oe.listener,ce!==R&&S.isPropagationStopped())break e;vw(S,oe,xe),R=ce}}}if(ru)throw a=Fd,ru=!1,Fd=null,a}function ht(a,u){var d=u[ph];d===void 0&&(d=u[ph]=new Set);var y=a+"__bubble";d.has(y)||(xw(u,a,2,!1),d.add(y))}function ah(a,u,d){var y=0;u&&(y|=4),xw(d,a,y,u)}var bu="_reactListening"+Math.random().toString(36).slice(2);function Ma(a){if(!a[bu]){a[bu]=!0,r.forEach(function(d){d!=="selectionchange"&&(h6.has(d)||ah(d,!1,a),ah(d,!0,a))});var u=a.nodeType===9?a:a.ownerDocument;u===null||u[bu]||(u[bu]=!0,ah("selectionchange",!1,u))}}function xw(a,u,d,y){switch(W0(u)){case 1:var S=Ak;break;case 4:S=Rk;break;default:S=Wd}d=S.bind(null,u,d,a),S=void 0,!Pd||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(S=!0),y?S!==void 0?a.addEventListener(u,d,{capture:!0,passive:S}):a.addEventListener(u,d,!0):S!==void 0?a.addEventListener(u,d,{passive:S}):a.addEventListener(u,d,!1)}function lh(a,u,d,y,S){var R=y;if(!(u&1)&&!(u&2)&&y!==null)e:for(;;){if(y===null)return;var V=y.tag;if(V===3||V===4){var oe=y.stateNode.containerInfo;if(oe===S||oe.nodeType===8&&oe.parentNode===S)break;if(V===4)for(V=y.return;V!==null;){var ce=V.tag;if((ce===3||ce===4)&&(ce=V.stateNode.containerInfo,ce===S||ce.nodeType===8&&ce.parentNode===S))return;V=V.return}for(;oe!==null;){if(V=ms(oe),V===null)return;if(ce=V.tag,ce===5||ce===6){y=R=V;continue e}oe=oe.parentNode}}y=y.return}T0(function(){var xe=R,Re=ds(d),Ne=[];e:{var Ae=yw.get(a);if(Ae!==void 0){var Le=qd,Be=a;switch(a){case"keypress":if(pu(d)===0)break e;case"keydown":case"keyup":Le=Vk;break;case"focusin":Be="focus",Le=Xd;break;case"focusout":Be="blur",Le=Xd;break;case"beforeblur":case"afterblur":Le=Xd;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Le=q0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Le=Ok;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Le=Kk;break;case hw:case pw:case mw:Le=Dk;break;case gw:Le=Gk;break;case"scroll":Le=_k;break;case"wheel":Le=Xk;break;case"copy":case"cut":case"paste":Le=Pk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Le=Z0}var ze=(u&4)!==0,_t=!ze&&a==="scroll",ye=ze?Ae!==null?Ae+"Capture":null:Ae;ze=[];for(var pe=xe,ve;pe!==null;){ve=pe;var Ie=ve.stateNode;if(ve.tag===5&&Ie!==null&&(ve=Ie,ye!==null&&(Ie=ma(pe,ye),Ie!=null&&ze.push(Da(pe,Ie,ve)))),_t)break;pe=pe.return}0<ze.length&&(Ae=new Le(Ae,Be,null,d,Re),Ne.push({event:Ae,listeners:ze}))}}if(!(u&7)){e:{if(Ae=a==="mouseover"||a==="pointerover",Le=a==="mouseout"||a==="pointerout",Ae&&d!==Er&&(Be=d.relatedTarget||d.fromElement)&&(ms(Be)||Be[Hr]))break e;if((Le||Ae)&&(Ae=Re.window===Re?Re:(Ae=Re.ownerDocument)?Ae.defaultView||Ae.parentWindow:window,Le?(Be=d.relatedTarget||d.toElement,Le=xe,Be=Be?ms(Be):null,Be!==null&&(_t=ps(Be),Be!==_t||Be.tag!==5&&Be.tag!==6)&&(Be=null)):(Le=null,Be=xe),Le!==Be)){if(ze=q0,Ie="onMouseLeave",ye="onMouseEnter",pe="mouse",(a==="pointerout"||a==="pointerover")&&(ze=Z0,Ie="onPointerLeave",ye="onPointerEnter",pe="pointer"),_t=Le==null?Ae:yo(Le),ve=Be==null?Ae:yo(Be),Ae=new ze(Ie,pe+"leave",Le,d,Re),Ae.target=_t,Ae.relatedTarget=ve,Ie=null,ms(Re)===xe&&(ze=new ze(ye,pe+"enter",Be,d,Re),ze.target=ve,ze.relatedTarget=_t,Ie=ze),_t=Ie,Le&&Be)t:{for(ze=Le,ye=Be,pe=0,ve=ze;ve;ve=mo(ve))pe++;for(ve=0,Ie=ye;Ie;Ie=mo(Ie))ve++;for(;0<pe-ve;)ze=mo(ze),pe--;for(;0<ve-pe;)ye=mo(ye),ve--;for(;pe--;){if(ze===ye||ye!==null&&ze===ye.alternate)break t;ze=mo(ze),ye=mo(ye)}ze=null}else ze=null;Le!==null&&Ew(Ne,Ae,Le,ze,!1),Be!==null&&_t!==null&&Ew(Ne,_t,Be,ze,!0)}}e:{if(Ae=xe?yo(xe):window,Le=Ae.nodeName&&Ae.nodeName.toLowerCase(),Le==="select"||Le==="input"&&Ae.type==="file")var He=r6;else if(tw(Ae))if(rw)He=a6;else{He=s6;var We=i6}else(Le=Ae.nodeName)&&Le.toLowerCase()==="input"&&(Ae.type==="checkbox"||Ae.type==="radio")&&(He=o6);if(He&&(He=He(a,xe))){nw(Ne,He,d,Re);break e}We&&We(a,Ae,xe),a==="focusout"&&(We=Ae._wrapperState)&&We.controlled&&Ae.type==="number"&&O(Ae,"number",Ae.value)}switch(We=xe?yo(xe):window,a){case"focusin":(tw(We)||We.contentEditable==="true")&&(ho=We,nh=xe,Oa=null);break;case"focusout":Oa=nh=ho=null;break;case"mousedown":rh=!0;break;case"contextmenu":case"mouseup":case"dragend":rh=!1,fw(Ne,d,Re);break;case"selectionchange":if(c6)break;case"keydown":case"keyup":fw(Ne,d,Re)}var $e;if(Yd)e:{switch(a){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else fo?Q0(a,d)&&(Ke="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(Ke="onCompositionStart");Ke&&(X0&&d.locale!=="ko"&&(fo||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&fo&&($e=$0()):(bi=Re,Kd="value"in bi?bi.value:bi.textContent,fo=!0)),We=xu(xe,Ke),0<We.length&&(Ke=new G0(Ke,a,null,d,Re),Ne.push({event:Ke,listeners:We}),$e?Ke.data=$e:($e=ew(d),$e!==null&&(Ke.data=$e)))),($e=Yk?Qk(a,d):e6(a,d))&&(xe=xu(xe,"onBeforeInput"),0<xe.length&&(Re=new G0("onBeforeInput","beforeinput",null,d,Re),Ne.push({event:Re,listeners:xe}),Re.data=$e))}bw(Ne,u)})}function Da(a,u,d){return{instance:a,listener:u,currentTarget:d}}function xu(a,u){for(var d=u+"Capture",y=[];a!==null;){var S=a,R=S.stateNode;S.tag===5&&R!==null&&(S=R,R=ma(a,d),R!=null&&y.unshift(Da(a,R,S)),R=ma(a,u),R!=null&&y.push(Da(a,R,S))),a=a.return}return y}function mo(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function Ew(a,u,d,y,S){for(var R=u._reactName,V=[];d!==null&&d!==y;){var oe=d,ce=oe.alternate,xe=oe.stateNode;if(ce!==null&&ce===y)break;oe.tag===5&&xe!==null&&(oe=xe,S?(ce=ma(d,R),ce!=null&&V.unshift(Da(d,ce,oe))):S||(ce=ma(d,R),ce!=null&&V.push(Da(d,ce,oe)))),d=d.return}V.length!==0&&a.push({event:u,listeners:V})}var p6=/\r\n?/g,m6=/\u0000|\uFFFD/g;function Cw(a){return(typeof a=="string"?a:""+a).replace(p6,`
`).replace(m6,"")}function Eu(a,u,d){if(u=Cw(u),Cw(a)!==u&&d)throw Error(t(425))}function Cu(){}var uh=null,ch=null;function fh(a,u){return a==="textarea"||a==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var dh=typeof setTimeout=="function"?setTimeout:void 0,g6=typeof clearTimeout=="function"?clearTimeout:void 0,Sw=typeof Promise=="function"?Promise:void 0,y6=typeof queueMicrotask=="function"?queueMicrotask:typeof Sw<"u"?function(a){return Sw.resolve(null).then(a).catch(w6)}:dh;function w6(a){setTimeout(function(){throw a})}function hh(a,u){var d=u,y=0;do{var S=d.nextSibling;if(a.removeChild(d),S&&S.nodeType===8)if(d=S.data,d==="/$"){if(y===0){a.removeChild(S),Sa(u);return}y--}else d!=="$"&&d!=="$?"&&d!=="$!"||y++;d=S}while(d);Sa(u)}function Ei(a){for(;a!=null;a=a.nextSibling){var u=a.nodeType;if(u===1||u===3)break;if(u===8){if(u=a.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return a}function kw(a){a=a.previousSibling;for(var u=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"){if(u===0)return a;u--}else d==="/$"&&u++}a=a.previousSibling}return null}var go=Math.random().toString(36).slice(2),Sr="__reactFiber$"+go,La="__reactProps$"+go,Hr="__reactContainer$"+go,ph="__reactEvents$"+go,v6="__reactListeners$"+go,b6="__reactHandles$"+go;function ms(a){var u=a[Sr];if(u)return u;for(var d=a.parentNode;d;){if(u=d[Hr]||d[Sr]){if(d=u.alternate,u.child!==null||d!==null&&d.child!==null)for(a=kw(a);a!==null;){if(d=a[Sr])return d;a=kw(a)}return u}a=d,d=a.parentNode}return null}function Pa(a){return a=a[Sr]||a[Hr],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function yo(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(t(33))}function Su(a){return a[La]||null}var mh=[],wo=-1;function Ci(a){return{current:a}}function pt(a){0>wo||(a.current=mh[wo],mh[wo]=null,wo--)}function ut(a,u){wo++,mh[wo]=a.current,a.current=u}var Si={},an=Ci(Si),An=Ci(!1),gs=Si;function vo(a,u){var d=a.type.contextTypes;if(!d)return Si;var y=a.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===u)return y.__reactInternalMemoizedMaskedChildContext;var S={},R;for(R in d)S[R]=u[R];return y&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=u,a.__reactInternalMemoizedMaskedChildContext=S),S}function Rn(a){return a=a.childContextTypes,a!=null}function ku(){pt(An),pt(an)}function Tw(a,u,d){if(an.current!==Si)throw Error(t(168));ut(an,u),ut(An,d)}function Aw(a,u,d){var y=a.stateNode;if(u=u.childContextTypes,typeof y.getChildContext!="function")return d;y=y.getChildContext();for(var S in y)if(!(S in u))throw Error(t(108,D(a)||"Unknown",S));return de({},d,y)}function Tu(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Si,gs=an.current,ut(an,a),ut(An,An.current),!0}function Rw(a,u,d){var y=a.stateNode;if(!y)throw Error(t(169));d?(a=Aw(a,u,gs),y.__reactInternalMemoizedMergedChildContext=a,pt(An),pt(an),ut(an,a)):pt(An),ut(An,d)}var Ur=null,Au=!1,gh=!1;function _w(a){Ur===null?Ur=[a]:Ur.push(a)}function x6(a){Au=!0,_w(a)}function ki(){if(!gh&&Ur!==null){gh=!0;var a=0,u=st;try{var d=Ur;for(st=1;a<d.length;a++){var y=d[a];do y=y(!0);while(y!==null)}Ur=null,Au=!1}catch(S){throw Ur!==null&&(Ur=Ur.slice(a+1)),O0(Bd,ki),S}finally{st=u,gh=!1}}return null}var bo=[],xo=0,Ru=null,_u=0,Xn=[],Jn=0,ys=null,Vr=1,Wr="";function ws(a,u){bo[xo++]=_u,bo[xo++]=Ru,Ru=a,_u=u}function Nw(a,u,d){Xn[Jn++]=Vr,Xn[Jn++]=Wr,Xn[Jn++]=ys,ys=a;var y=Vr;a=Wr;var S=32-cr(y)-1;y&=~(1<<S),d+=1;var R=32-cr(u)+S;if(30<R){var V=S-S%5;R=(y&(1<<V)-1).toString(32),y>>=V,S-=V,Vr=1<<32-cr(u)+S|d<<S|y,Wr=R+a}else Vr=1<<R|d<<S|y,Wr=a}function yh(a){a.return!==null&&(ws(a,1),Nw(a,1,0))}function wh(a){for(;a===Ru;)Ru=bo[--xo],bo[xo]=null,_u=bo[--xo],bo[xo]=null;for(;a===ys;)ys=Xn[--Jn],Xn[Jn]=null,Wr=Xn[--Jn],Xn[Jn]=null,Vr=Xn[--Jn],Xn[Jn]=null}var Hn=null,Un=null,gt=!1,dr=null;function Ow(a,u){var d=tr(5,null,null,0);d.elementType="DELETED",d.stateNode=u,d.return=a,u=a.deletions,u===null?(a.deletions=[d],a.flags|=16):u.push(d)}function Iw(a,u){switch(a.tag){case 5:var d=a.type;return u=u.nodeType!==1||d.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(a.stateNode=u,Hn=a,Un=Ei(u.firstChild),!0):!1;case 6:return u=a.pendingProps===""||u.nodeType!==3?null:u,u!==null?(a.stateNode=u,Hn=a,Un=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(d=ys!==null?{id:Vr,overflow:Wr}:null,a.memoizedState={dehydrated:u,treeContext:d,retryLane:1073741824},d=tr(18,null,null,0),d.stateNode=u,d.return=a,a.child=d,Hn=a,Un=null,!0):!1;default:return!1}}function vh(a){return(a.mode&1)!==0&&(a.flags&128)===0}function bh(a){if(gt){var u=Un;if(u){var d=u;if(!Iw(a,u)){if(vh(a))throw Error(t(418));u=Ei(d.nextSibling);var y=Hn;u&&Iw(a,u)?Ow(y,d):(a.flags=a.flags&-4097|2,gt=!1,Hn=a)}}else{if(vh(a))throw Error(t(418));a.flags=a.flags&-4097|2,gt=!1,Hn=a}}}function Mw(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Hn=a}function Nu(a){if(a!==Hn)return!1;if(!gt)return Mw(a),gt=!0,!1;var u;if((u=a.tag!==3)&&!(u=a.tag!==5)&&(u=a.type,u=u!=="head"&&u!=="body"&&!fh(a.type,a.memoizedProps)),u&&(u=Un)){if(vh(a))throw Dw(),Error(t(418));for(;u;)Ow(a,u),u=Ei(u.nextSibling)}if(Mw(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(t(317));e:{for(a=a.nextSibling,u=0;a;){if(a.nodeType===8){var d=a.data;if(d==="/$"){if(u===0){Un=Ei(a.nextSibling);break e}u--}else d!=="$"&&d!=="$!"&&d!=="$?"||u++}a=a.nextSibling}Un=null}}else Un=Hn?Ei(a.stateNode.nextSibling):null;return!0}function Dw(){for(var a=Un;a;)a=Ei(a.nextSibling)}function Eo(){Un=Hn=null,gt=!1}function xh(a){dr===null?dr=[a]:dr.push(a)}var E6=k.ReactCurrentBatchConfig;function Fa(a,u,d){if(a=d.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(t(309));var y=d.stateNode}if(!y)throw Error(t(147,a));var S=y,R=""+a;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===R?u.ref:(u=function(V){var oe=S.refs;V===null?delete oe[R]:oe[R]=V},u._stringRef=R,u)}if(typeof a!="string")throw Error(t(284));if(!d._owner)throw Error(t(290,a))}return a}function Ou(a,u){throw a=Object.prototype.toString.call(u),Error(t(31,a==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":a))}function Lw(a){var u=a._init;return u(a._payload)}function Pw(a){function u(ye,pe){if(a){var ve=ye.deletions;ve===null?(ye.deletions=[pe],ye.flags|=16):ve.push(pe)}}function d(ye,pe){if(!a)return null;for(;pe!==null;)u(ye,pe),pe=pe.sibling;return null}function y(ye,pe){for(ye=new Map;pe!==null;)pe.key!==null?ye.set(pe.key,pe):ye.set(pe.index,pe),pe=pe.sibling;return ye}function S(ye,pe){return ye=Mi(ye,pe),ye.index=0,ye.sibling=null,ye}function R(ye,pe,ve){return ye.index=ve,a?(ve=ye.alternate,ve!==null?(ve=ve.index,ve<pe?(ye.flags|=2,pe):ve):(ye.flags|=2,pe)):(ye.flags|=1048576,pe)}function V(ye){return a&&ye.alternate===null&&(ye.flags|=2),ye}function oe(ye,pe,ve,Ie){return pe===null||pe.tag!==6?(pe=dp(ve,ye.mode,Ie),pe.return=ye,pe):(pe=S(pe,ve),pe.return=ye,pe)}function ce(ye,pe,ve,Ie){var He=ve.type;return He===W?Re(ye,pe,ve.props.children,Ie,ve.key):pe!==null&&(pe.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===ue&&Lw(He)===pe.type)?(Ie=S(pe,ve.props),Ie.ref=Fa(ye,pe,ve),Ie.return=ye,Ie):(Ie=tc(ve.type,ve.key,ve.props,null,ye.mode,Ie),Ie.ref=Fa(ye,pe,ve),Ie.return=ye,Ie)}function xe(ye,pe,ve,Ie){return pe===null||pe.tag!==4||pe.stateNode.containerInfo!==ve.containerInfo||pe.stateNode.implementation!==ve.implementation?(pe=hp(ve,ye.mode,Ie),pe.return=ye,pe):(pe=S(pe,ve.children||[]),pe.return=ye,pe)}function Re(ye,pe,ve,Ie,He){return pe===null||pe.tag!==7?(pe=Ts(ve,ye.mode,Ie,He),pe.return=ye,pe):(pe=S(pe,ve),pe.return=ye,pe)}function Ne(ye,pe,ve){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return pe=dp(""+pe,ye.mode,ve),pe.return=ye,pe;if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case I:return ve=tc(pe.type,pe.key,pe.props,null,ye.mode,ve),ve.ref=Fa(ye,null,pe),ve.return=ye,ve;case j:return pe=hp(pe,ye.mode,ve),pe.return=ye,pe;case ue:var Ie=pe._init;return Ne(ye,Ie(pe._payload),ve)}if(Z(pe)||te(pe))return pe=Ts(pe,ye.mode,ve,null),pe.return=ye,pe;Ou(ye,pe)}return null}function Ae(ye,pe,ve,Ie){var He=pe!==null?pe.key:null;if(typeof ve=="string"&&ve!==""||typeof ve=="number")return He!==null?null:oe(ye,pe,""+ve,Ie);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case I:return ve.key===He?ce(ye,pe,ve,Ie):null;case j:return ve.key===He?xe(ye,pe,ve,Ie):null;case ue:return He=ve._init,Ae(ye,pe,He(ve._payload),Ie)}if(Z(ve)||te(ve))return He!==null?null:Re(ye,pe,ve,Ie,null);Ou(ye,ve)}return null}function Le(ye,pe,ve,Ie,He){if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number")return ye=ye.get(ve)||null,oe(pe,ye,""+Ie,He);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case I:return ye=ye.get(Ie.key===null?ve:Ie.key)||null,ce(pe,ye,Ie,He);case j:return ye=ye.get(Ie.key===null?ve:Ie.key)||null,xe(pe,ye,Ie,He);case ue:var We=Ie._init;return Le(ye,pe,ve,We(Ie._payload),He)}if(Z(Ie)||te(Ie))return ye=ye.get(ve)||null,Re(pe,ye,Ie,He,null);Ou(pe,Ie)}return null}function Be(ye,pe,ve,Ie){for(var He=null,We=null,$e=pe,Ke=pe=0,$t=null;$e!==null&&Ke<ve.length;Ke++){$e.index>Ke?($t=$e,$e=null):$t=$e.sibling;var tt=Ae(ye,$e,ve[Ke],Ie);if(tt===null){$e===null&&($e=$t);break}a&&$e&&tt.alternate===null&&u(ye,$e),pe=R(tt,pe,Ke),We===null?He=tt:We.sibling=tt,We=tt,$e=$t}if(Ke===ve.length)return d(ye,$e),gt&&ws(ye,Ke),He;if($e===null){for(;Ke<ve.length;Ke++)$e=Ne(ye,ve[Ke],Ie),$e!==null&&(pe=R($e,pe,Ke),We===null?He=$e:We.sibling=$e,We=$e);return gt&&ws(ye,Ke),He}for($e=y(ye,$e);Ke<ve.length;Ke++)$t=Le($e,ye,Ke,ve[Ke],Ie),$t!==null&&(a&&$t.alternate!==null&&$e.delete($t.key===null?Ke:$t.key),pe=R($t,pe,Ke),We===null?He=$t:We.sibling=$t,We=$t);return a&&$e.forEach(function(Di){return u(ye,Di)}),gt&&ws(ye,Ke),He}function ze(ye,pe,ve,Ie){var He=te(ve);if(typeof He!="function")throw Error(t(150));if(ve=He.call(ve),ve==null)throw Error(t(151));for(var We=He=null,$e=pe,Ke=pe=0,$t=null,tt=ve.next();$e!==null&&!tt.done;Ke++,tt=ve.next()){$e.index>Ke?($t=$e,$e=null):$t=$e.sibling;var Di=Ae(ye,$e,tt.value,Ie);if(Di===null){$e===null&&($e=$t);break}a&&$e&&Di.alternate===null&&u(ye,$e),pe=R(Di,pe,Ke),We===null?He=Di:We.sibling=Di,We=Di,$e=$t}if(tt.done)return d(ye,$e),gt&&ws(ye,Ke),He;if($e===null){for(;!tt.done;Ke++,tt=ve.next())tt=Ne(ye,tt.value,Ie),tt!==null&&(pe=R(tt,pe,Ke),We===null?He=tt:We.sibling=tt,We=tt);return gt&&ws(ye,Ke),He}for($e=y(ye,$e);!tt.done;Ke++,tt=ve.next())tt=Le($e,ye,Ke,tt.value,Ie),tt!==null&&(a&&tt.alternate!==null&&$e.delete(tt.key===null?Ke:tt.key),pe=R(tt,pe,Ke),We===null?He=tt:We.sibling=tt,We=tt);return a&&$e.forEach(function(e7){return u(ye,e7)}),gt&&ws(ye,Ke),He}function _t(ye,pe,ve,Ie){if(typeof ve=="object"&&ve!==null&&ve.type===W&&ve.key===null&&(ve=ve.props.children),typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case I:e:{for(var He=ve.key,We=pe;We!==null;){if(We.key===He){if(He=ve.type,He===W){if(We.tag===7){d(ye,We.sibling),pe=S(We,ve.props.children),pe.return=ye,ye=pe;break e}}else if(We.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===ue&&Lw(He)===We.type){d(ye,We.sibling),pe=S(We,ve.props),pe.ref=Fa(ye,We,ve),pe.return=ye,ye=pe;break e}d(ye,We);break}else u(ye,We);We=We.sibling}ve.type===W?(pe=Ts(ve.props.children,ye.mode,Ie,ve.key),pe.return=ye,ye=pe):(Ie=tc(ve.type,ve.key,ve.props,null,ye.mode,Ie),Ie.ref=Fa(ye,pe,ve),Ie.return=ye,ye=Ie)}return V(ye);case j:e:{for(We=ve.key;pe!==null;){if(pe.key===We)if(pe.tag===4&&pe.stateNode.containerInfo===ve.containerInfo&&pe.stateNode.implementation===ve.implementation){d(ye,pe.sibling),pe=S(pe,ve.children||[]),pe.return=ye,ye=pe;break e}else{d(ye,pe);break}else u(ye,pe);pe=pe.sibling}pe=hp(ve,ye.mode,Ie),pe.return=ye,ye=pe}return V(ye);case ue:return We=ve._init,_t(ye,pe,We(ve._payload),Ie)}if(Z(ve))return Be(ye,pe,ve,Ie);if(te(ve))return ze(ye,pe,ve,Ie);Ou(ye,ve)}return typeof ve=="string"&&ve!==""||typeof ve=="number"?(ve=""+ve,pe!==null&&pe.tag===6?(d(ye,pe.sibling),pe=S(pe,ve),pe.return=ye,ye=pe):(d(ye,pe),pe=dp(ve,ye.mode,Ie),pe.return=ye,ye=pe),V(ye)):d(ye,pe)}return _t}var Co=Pw(!0),Fw=Pw(!1),Iu=Ci(null),Mu=null,So=null,Eh=null;function Ch(){Eh=So=Mu=null}function Sh(a){var u=Iu.current;pt(Iu),a._currentValue=u}function kh(a,u,d){for(;a!==null;){var y=a.alternate;if((a.childLanes&u)!==u?(a.childLanes|=u,y!==null&&(y.childLanes|=u)):y!==null&&(y.childLanes&u)!==u&&(y.childLanes|=u),a===d)break;a=a.return}}function ko(a,u){Mu=a,Eh=So=null,a=a.dependencies,a!==null&&a.firstContext!==null&&(a.lanes&u&&(_n=!0),a.firstContext=null)}function Yn(a){var u=a._currentValue;if(Eh!==a)if(a={context:a,memoizedValue:u,next:null},So===null){if(Mu===null)throw Error(t(308));So=a,Mu.dependencies={lanes:0,firstContext:a}}else So=So.next=a;return u}var vs=null;function Th(a){vs===null?vs=[a]:vs.push(a)}function Bw(a,u,d,y){var S=u.interleaved;return S===null?(d.next=d,Th(u)):(d.next=S.next,S.next=d),u.interleaved=d,$r(a,y)}function $r(a,u){a.lanes|=u;var d=a.alternate;for(d!==null&&(d.lanes|=u),d=a,a=a.return;a!==null;)a.childLanes|=u,d=a.alternate,d!==null&&(d.childLanes|=u),d=a,a=a.return;return d.tag===3?d.stateNode:null}var Ti=!1;function Ah(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jw(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Kr(a,u){return{eventTime:a,lane:u,tag:0,payload:null,callback:null,next:null}}function Ai(a,u,d){var y=a.updateQueue;if(y===null)return null;if(y=y.shared,et&2){var S=y.pending;return S===null?u.next=u:(u.next=S.next,S.next=u),y.pending=u,$r(a,d)}return S=y.interleaved,S===null?(u.next=u,Th(y)):(u.next=S.next,S.next=u),y.interleaved=u,$r(a,d)}function Du(a,u,d){if(u=u.updateQueue,u!==null&&(u=u.shared,(d&4194240)!==0)){var y=u.lanes;y&=a.pendingLanes,d|=y,u.lanes=d,Hd(a,d)}}function zw(a,u){var d=a.updateQueue,y=a.alternate;if(y!==null&&(y=y.updateQueue,d===y)){var S=null,R=null;if(d=d.firstBaseUpdate,d!==null){do{var V={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};R===null?S=R=V:R=R.next=V,d=d.next}while(d!==null);R===null?S=R=u:R=R.next=u}else S=R=u;d={baseState:y.baseState,firstBaseUpdate:S,lastBaseUpdate:R,shared:y.shared,effects:y.effects},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=u}function Lu(a,u,d,y){var S=a.updateQueue;Ti=!1;var R=S.firstBaseUpdate,V=S.lastBaseUpdate,oe=S.shared.pending;if(oe!==null){S.shared.pending=null;var ce=oe,xe=ce.next;ce.next=null,V===null?R=xe:V.next=xe,V=ce;var Re=a.alternate;Re!==null&&(Re=Re.updateQueue,oe=Re.lastBaseUpdate,oe!==V&&(oe===null?Re.firstBaseUpdate=xe:oe.next=xe,Re.lastBaseUpdate=ce))}if(R!==null){var Ne=S.baseState;V=0,Re=xe=ce=null,oe=R;do{var Ae=oe.lane,Le=oe.eventTime;if((y&Ae)===Ae){Re!==null&&(Re=Re.next={eventTime:Le,lane:0,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null});e:{var Be=a,ze=oe;switch(Ae=u,Le=d,ze.tag){case 1:if(Be=ze.payload,typeof Be=="function"){Ne=Be.call(Le,Ne,Ae);break e}Ne=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=ze.payload,Ae=typeof Be=="function"?Be.call(Le,Ne,Ae):Be,Ae==null)break e;Ne=de({},Ne,Ae);break e;case 2:Ti=!0}}oe.callback!==null&&oe.lane!==0&&(a.flags|=64,Ae=S.effects,Ae===null?S.effects=[oe]:Ae.push(oe))}else Le={eventTime:Le,lane:Ae,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null},Re===null?(xe=Re=Le,ce=Ne):Re=Re.next=Le,V|=Ae;if(oe=oe.next,oe===null){if(oe=S.shared.pending,oe===null)break;Ae=oe,oe=Ae.next,Ae.next=null,S.lastBaseUpdate=Ae,S.shared.pending=null}}while(!0);if(Re===null&&(ce=Ne),S.baseState=ce,S.firstBaseUpdate=xe,S.lastBaseUpdate=Re,u=S.shared.interleaved,u!==null){S=u;do V|=S.lane,S=S.next;while(S!==u)}else R===null&&(S.shared.lanes=0);Es|=V,a.lanes=V,a.memoizedState=Ne}}function Hw(a,u,d){if(a=u.effects,u.effects=null,a!==null)for(u=0;u<a.length;u++){var y=a[u],S=y.callback;if(S!==null){if(y.callback=null,y=d,typeof S!="function")throw Error(t(191,S));S.call(y)}}}var Ba={},kr=Ci(Ba),ja=Ci(Ba),za=Ci(Ba);function bs(a){if(a===Ba)throw Error(t(174));return a}function Rh(a,u){switch(ut(za,u),ut(ja,a),ut(kr,Ba),a=u.nodeType,a){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Me(null,"");break;default:a=a===8?u.parentNode:u,u=a.namespaceURI||null,a=a.tagName,u=Me(u,a)}pt(kr),ut(kr,u)}function To(){pt(kr),pt(ja),pt(za)}function Uw(a){bs(za.current);var u=bs(kr.current),d=Me(u,a.type);u!==d&&(ut(ja,a),ut(kr,d))}function _h(a){ja.current===a&&(pt(kr),pt(ja))}var wt=Ci(0);function Pu(a){for(var u=a;u!==null;){if(u.tag===13){var d=u.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if(u.flags&128)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Nh=[];function Oh(){for(var a=0;a<Nh.length;a++)Nh[a]._workInProgressVersionPrimary=null;Nh.length=0}var Fu=k.ReactCurrentDispatcher,Ih=k.ReactCurrentBatchConfig,xs=0,vt=null,zt=null,Vt=null,Bu=!1,Ha=!1,Ua=0,C6=0;function ln(){throw Error(t(321))}function Mh(a,u){if(u===null)return!1;for(var d=0;d<u.length&&d<a.length;d++)if(!fr(a[d],u[d]))return!1;return!0}function Dh(a,u,d,y,S,R){if(xs=R,vt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Fu.current=a===null||a.memoizedState===null?A6:R6,a=d(y,S),Ha){R=0;do{if(Ha=!1,Ua=0,25<=R)throw Error(t(301));R+=1,Vt=zt=null,u.updateQueue=null,Fu.current=_6,a=d(y,S)}while(Ha)}if(Fu.current=Hu,u=zt!==null&&zt.next!==null,xs=0,Vt=zt=vt=null,Bu=!1,u)throw Error(t(300));return a}function Lh(){var a=Ua!==0;return Ua=0,a}function Tr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?vt.memoizedState=Vt=a:Vt=Vt.next=a,Vt}function Qn(){if(zt===null){var a=vt.alternate;a=a!==null?a.memoizedState:null}else a=zt.next;var u=Vt===null?vt.memoizedState:Vt.next;if(u!==null)Vt=u,zt=a;else{if(a===null)throw Error(t(310));zt=a,a={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},Vt===null?vt.memoizedState=Vt=a:Vt=Vt.next=a}return Vt}function Va(a,u){return typeof u=="function"?u(a):u}function Ph(a){var u=Qn(),d=u.queue;if(d===null)throw Error(t(311));d.lastRenderedReducer=a;var y=zt,S=y.baseQueue,R=d.pending;if(R!==null){if(S!==null){var V=S.next;S.next=R.next,R.next=V}y.baseQueue=S=R,d.pending=null}if(S!==null){R=S.next,y=y.baseState;var oe=V=null,ce=null,xe=R;do{var Re=xe.lane;if((xs&Re)===Re)ce!==null&&(ce=ce.next={lane:0,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null}),y=xe.hasEagerState?xe.eagerState:a(y,xe.action);else{var Ne={lane:Re,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null};ce===null?(oe=ce=Ne,V=y):ce=ce.next=Ne,vt.lanes|=Re,Es|=Re}xe=xe.next}while(xe!==null&&xe!==R);ce===null?V=y:ce.next=oe,fr(y,u.memoizedState)||(_n=!0),u.memoizedState=y,u.baseState=V,u.baseQueue=ce,d.lastRenderedState=y}if(a=d.interleaved,a!==null){S=a;do R=S.lane,vt.lanes|=R,Es|=R,S=S.next;while(S!==a)}else S===null&&(d.lanes=0);return[u.memoizedState,d.dispatch]}function Fh(a){var u=Qn(),d=u.queue;if(d===null)throw Error(t(311));d.lastRenderedReducer=a;var y=d.dispatch,S=d.pending,R=u.memoizedState;if(S!==null){d.pending=null;var V=S=S.next;do R=a(R,V.action),V=V.next;while(V!==S);fr(R,u.memoizedState)||(_n=!0),u.memoizedState=R,u.baseQueue===null&&(u.baseState=R),d.lastRenderedState=R}return[R,y]}function Vw(){}function Ww(a,u){var d=vt,y=Qn(),S=u(),R=!fr(y.memoizedState,S);if(R&&(y.memoizedState=S,_n=!0),y=y.queue,Bh(qw.bind(null,d,y,a),[a]),y.getSnapshot!==u||R||Vt!==null&&Vt.memoizedState.tag&1){if(d.flags|=2048,Wa(9,Kw.bind(null,d,y,S,u),void 0,null),Wt===null)throw Error(t(349));xs&30||$w(d,u,S)}return S}function $w(a,u,d){a.flags|=16384,a={getSnapshot:u,value:d},u=vt.updateQueue,u===null?(u={lastEffect:null,stores:null},vt.updateQueue=u,u.stores=[a]):(d=u.stores,d===null?u.stores=[a]:d.push(a))}function Kw(a,u,d,y){u.value=d,u.getSnapshot=y,Gw(u)&&Zw(a)}function qw(a,u,d){return d(function(){Gw(u)&&Zw(a)})}function Gw(a){var u=a.getSnapshot;a=a.value;try{var d=u();return!fr(a,d)}catch{return!0}}function Zw(a){var u=$r(a,1);u!==null&&gr(u,a,1,-1)}function Xw(a){var u=Tr();return typeof a=="function"&&(a=a()),u.memoizedState=u.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Va,lastRenderedState:a},u.queue=a,a=a.dispatch=T6.bind(null,vt,a),[u.memoizedState,a]}function Wa(a,u,d,y){return a={tag:a,create:u,destroy:d,deps:y,next:null},u=vt.updateQueue,u===null?(u={lastEffect:null,stores:null},vt.updateQueue=u,u.lastEffect=a.next=a):(d=u.lastEffect,d===null?u.lastEffect=a.next=a:(y=d.next,d.next=a,a.next=y,u.lastEffect=a)),a}function Jw(){return Qn().memoizedState}function ju(a,u,d,y){var S=Tr();vt.flags|=a,S.memoizedState=Wa(1|u,d,void 0,y===void 0?null:y)}function zu(a,u,d,y){var S=Qn();y=y===void 0?null:y;var R=void 0;if(zt!==null){var V=zt.memoizedState;if(R=V.destroy,y!==null&&Mh(y,V.deps)){S.memoizedState=Wa(u,d,R,y);return}}vt.flags|=a,S.memoizedState=Wa(1|u,d,R,y)}function Yw(a,u){return ju(8390656,8,a,u)}function Bh(a,u){return zu(2048,8,a,u)}function Qw(a,u){return zu(4,2,a,u)}function ev(a,u){return zu(4,4,a,u)}function tv(a,u){if(typeof u=="function")return a=a(),u(a),function(){u(null)};if(u!=null)return a=a(),u.current=a,function(){u.current=null}}function nv(a,u,d){return d=d!=null?d.concat([a]):null,zu(4,4,tv.bind(null,u,a),d)}function jh(){}function rv(a,u){var d=Qn();u=u===void 0?null:u;var y=d.memoizedState;return y!==null&&u!==null&&Mh(u,y[1])?y[0]:(d.memoizedState=[a,u],a)}function iv(a,u){var d=Qn();u=u===void 0?null:u;var y=d.memoizedState;return y!==null&&u!==null&&Mh(u,y[1])?y[0]:(a=a(),d.memoizedState=[a,u],a)}function sv(a,u,d){return xs&21?(fr(d,u)||(d=L0(),vt.lanes|=d,Es|=d,a.baseState=!0),u):(a.baseState&&(a.baseState=!1,_n=!0),a.memoizedState=d)}function S6(a,u){var d=st;st=d!==0&&4>d?d:4,a(!0);var y=Ih.transition;Ih.transition={};try{a(!1),u()}finally{st=d,Ih.transition=y}}function ov(){return Qn().memoizedState}function k6(a,u,d){var y=Oi(a);if(d={lane:y,action:d,hasEagerState:!1,eagerState:null,next:null},av(a))lv(u,d);else if(d=Bw(a,u,d,y),d!==null){var S=bn();gr(d,a,y,S),uv(d,u,y)}}function T6(a,u,d){var y=Oi(a),S={lane:y,action:d,hasEagerState:!1,eagerState:null,next:null};if(av(a))lv(u,S);else{var R=a.alternate;if(a.lanes===0&&(R===null||R.lanes===0)&&(R=u.lastRenderedReducer,R!==null))try{var V=u.lastRenderedState,oe=R(V,d);if(S.hasEagerState=!0,S.eagerState=oe,fr(oe,V)){var ce=u.interleaved;ce===null?(S.next=S,Th(u)):(S.next=ce.next,ce.next=S),u.interleaved=S;return}}catch{}finally{}d=Bw(a,u,S,y),d!==null&&(S=bn(),gr(d,a,y,S),uv(d,u,y))}}function av(a){var u=a.alternate;return a===vt||u!==null&&u===vt}function lv(a,u){Ha=Bu=!0;var d=a.pending;d===null?u.next=u:(u.next=d.next,d.next=u),a.pending=u}function uv(a,u,d){if(d&4194240){var y=u.lanes;y&=a.pendingLanes,d|=y,u.lanes=d,Hd(a,d)}}var Hu={readContext:Yn,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useInsertionEffect:ln,useLayoutEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useMutableSource:ln,useSyncExternalStore:ln,useId:ln,unstable_isNewReconciler:!1},A6={readContext:Yn,useCallback:function(a,u){return Tr().memoizedState=[a,u===void 0?null:u],a},useContext:Yn,useEffect:Yw,useImperativeHandle:function(a,u,d){return d=d!=null?d.concat([a]):null,ju(4194308,4,tv.bind(null,u,a),d)},useLayoutEffect:function(a,u){return ju(4194308,4,a,u)},useInsertionEffect:function(a,u){return ju(4,2,a,u)},useMemo:function(a,u){var d=Tr();return u=u===void 0?null:u,a=a(),d.memoizedState=[a,u],a},useReducer:function(a,u,d){var y=Tr();return u=d!==void 0?d(u):u,y.memoizedState=y.baseState=u,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:u},y.queue=a,a=a.dispatch=k6.bind(null,vt,a),[y.memoizedState,a]},useRef:function(a){var u=Tr();return a={current:a},u.memoizedState=a},useState:Xw,useDebugValue:jh,useDeferredValue:function(a){return Tr().memoizedState=a},useTransition:function(){var a=Xw(!1),u=a[0];return a=S6.bind(null,a[1]),Tr().memoizedState=a,[u,a]},useMutableSource:function(){},useSyncExternalStore:function(a,u,d){var y=vt,S=Tr();if(gt){if(d===void 0)throw Error(t(407));d=d()}else{if(d=u(),Wt===null)throw Error(t(349));xs&30||$w(y,u,d)}S.memoizedState=d;var R={value:d,getSnapshot:u};return S.queue=R,Yw(qw.bind(null,y,R,a),[a]),y.flags|=2048,Wa(9,Kw.bind(null,y,R,d,u),void 0,null),d},useId:function(){var a=Tr(),u=Wt.identifierPrefix;if(gt){var d=Wr,y=Vr;d=(y&~(1<<32-cr(y)-1)).toString(32)+d,u=":"+u+"R"+d,d=Ua++,0<d&&(u+="H"+d.toString(32)),u+=":"}else d=C6++,u=":"+u+"r"+d.toString(32)+":";return a.memoizedState=u},unstable_isNewReconciler:!1},R6={readContext:Yn,useCallback:rv,useContext:Yn,useEffect:Bh,useImperativeHandle:nv,useInsertionEffect:Qw,useLayoutEffect:ev,useMemo:iv,useReducer:Ph,useRef:Jw,useState:function(){return Ph(Va)},useDebugValue:jh,useDeferredValue:function(a){var u=Qn();return sv(u,zt.memoizedState,a)},useTransition:function(){var a=Ph(Va)[0],u=Qn().memoizedState;return[a,u]},useMutableSource:Vw,useSyncExternalStore:Ww,useId:ov,unstable_isNewReconciler:!1},_6={readContext:Yn,useCallback:rv,useContext:Yn,useEffect:Bh,useImperativeHandle:nv,useInsertionEffect:Qw,useLayoutEffect:ev,useMemo:iv,useReducer:Fh,useRef:Jw,useState:function(){return Fh(Va)},useDebugValue:jh,useDeferredValue:function(a){var u=Qn();return zt===null?u.memoizedState=a:sv(u,zt.memoizedState,a)},useTransition:function(){var a=Fh(Va)[0],u=Qn().memoizedState;return[a,u]},useMutableSource:Vw,useSyncExternalStore:Ww,useId:ov,unstable_isNewReconciler:!1};function hr(a,u){if(a&&a.defaultProps){u=de({},u),a=a.defaultProps;for(var d in a)u[d]===void 0&&(u[d]=a[d]);return u}return u}function zh(a,u,d,y){u=a.memoizedState,d=d(y,u),d=d==null?u:de({},u,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var Uu={isMounted:function(a){return(a=a._reactInternals)?ps(a)===a:!1},enqueueSetState:function(a,u,d){a=a._reactInternals;var y=bn(),S=Oi(a),R=Kr(y,S);R.payload=u,d!=null&&(R.callback=d),u=Ai(a,R,S),u!==null&&(gr(u,a,S,y),Du(u,a,S))},enqueueReplaceState:function(a,u,d){a=a._reactInternals;var y=bn(),S=Oi(a),R=Kr(y,S);R.tag=1,R.payload=u,d!=null&&(R.callback=d),u=Ai(a,R,S),u!==null&&(gr(u,a,S,y),Du(u,a,S))},enqueueForceUpdate:function(a,u){a=a._reactInternals;var d=bn(),y=Oi(a),S=Kr(d,y);S.tag=2,u!=null&&(S.callback=u),u=Ai(a,S,y),u!==null&&(gr(u,a,y,d),Du(u,a,y))}};function cv(a,u,d,y,S,R,V){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(y,R,V):u.prototype&&u.prototype.isPureReactComponent?!Na(d,y)||!Na(S,R):!0}function fv(a,u,d){var y=!1,S=Si,R=u.contextType;return typeof R=="object"&&R!==null?R=Yn(R):(S=Rn(u)?gs:an.current,y=u.contextTypes,R=(y=y!=null)?vo(a,S):Si),u=new u(d,R),a.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Uu,a.stateNode=u,u._reactInternals=a,y&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=S,a.__reactInternalMemoizedMaskedChildContext=R),u}function dv(a,u,d,y){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(d,y),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(d,y),u.state!==a&&Uu.enqueueReplaceState(u,u.state,null)}function Hh(a,u,d,y){var S=a.stateNode;S.props=d,S.state=a.memoizedState,S.refs={},Ah(a);var R=u.contextType;typeof R=="object"&&R!==null?S.context=Yn(R):(R=Rn(u)?gs:an.current,S.context=vo(a,R)),S.state=a.memoizedState,R=u.getDerivedStateFromProps,typeof R=="function"&&(zh(a,u,R,d),S.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(u=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),u!==S.state&&Uu.enqueueReplaceState(S,S.state,null),Lu(a,d,S,y),S.state=a.memoizedState),typeof S.componentDidMount=="function"&&(a.flags|=4194308)}function Ao(a,u){try{var d="",y=u;do d+=me(y),y=y.return;while(y);var S=d}catch(R){S=`
Error generating stack: `+R.message+`
`+R.stack}return{value:a,source:u,stack:S,digest:null}}function Uh(a,u,d){return{value:a,source:null,stack:d??null,digest:u??null}}function Vh(a,u){try{console.error(u.value)}catch(d){setTimeout(function(){throw d})}}var N6=typeof WeakMap=="function"?WeakMap:Map;function hv(a,u,d){d=Kr(-1,d),d.tag=3,d.payload={element:null};var y=u.value;return d.callback=function(){Zu||(Zu=!0,ip=y),Vh(a,u)},d}function pv(a,u,d){d=Kr(-1,d),d.tag=3;var y=a.type.getDerivedStateFromError;if(typeof y=="function"){var S=u.value;d.payload=function(){return y(S)},d.callback=function(){Vh(a,u)}}var R=a.stateNode;return R!==null&&typeof R.componentDidCatch=="function"&&(d.callback=function(){Vh(a,u),typeof y!="function"&&(_i===null?_i=new Set([this]):_i.add(this));var V=u.stack;this.componentDidCatch(u.value,{componentStack:V!==null?V:""})}),d}function mv(a,u,d){var y=a.pingCache;if(y===null){y=a.pingCache=new N6;var S=new Set;y.set(u,S)}else S=y.get(u),S===void 0&&(S=new Set,y.set(u,S));S.has(d)||(S.add(d),a=W6.bind(null,a,u,d),u.then(a,a))}function gv(a){do{var u;if((u=a.tag===13)&&(u=a.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return a;a=a.return}while(a!==null);return null}function yv(a,u,d,y,S){return a.mode&1?(a.flags|=65536,a.lanes=S,a):(a===u?a.flags|=65536:(a.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(u=Kr(-1,1),u.tag=2,Ai(d,u,1))),d.lanes|=1),a)}var O6=k.ReactCurrentOwner,_n=!1;function vn(a,u,d,y){u.child=a===null?Fw(u,null,d,y):Co(u,a.child,d,y)}function wv(a,u,d,y,S){d=d.render;var R=u.ref;return ko(u,S),y=Dh(a,u,d,y,R,S),d=Lh(),a!==null&&!_n?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~S,qr(a,u,S)):(gt&&d&&yh(u),u.flags|=1,vn(a,u,y,S),u.child)}function vv(a,u,d,y,S){if(a===null){var R=d.type;return typeof R=="function"&&!fp(R)&&R.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(u.tag=15,u.type=R,bv(a,u,R,y,S)):(a=tc(d.type,null,y,u,u.mode,S),a.ref=u.ref,a.return=u,u.child=a)}if(R=a.child,!(a.lanes&S)){var V=R.memoizedProps;if(d=d.compare,d=d!==null?d:Na,d(V,y)&&a.ref===u.ref)return qr(a,u,S)}return u.flags|=1,a=Mi(R,y),a.ref=u.ref,a.return=u,u.child=a}function bv(a,u,d,y,S){if(a!==null){var R=a.memoizedProps;if(Na(R,y)&&a.ref===u.ref)if(_n=!1,u.pendingProps=y=R,(a.lanes&S)!==0)a.flags&131072&&(_n=!0);else return u.lanes=a.lanes,qr(a,u,S)}return Wh(a,u,d,y,S)}function xv(a,u,d){var y=u.pendingProps,S=y.children,R=a!==null?a.memoizedState:null;if(y.mode==="hidden")if(!(u.mode&1))u.memoizedState={baseLanes:0,cachePool:null,transitions:null},ut(_o,Vn),Vn|=d;else{if(!(d&1073741824))return a=R!==null?R.baseLanes|d:d,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:a,cachePool:null,transitions:null},u.updateQueue=null,ut(_o,Vn),Vn|=a,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=R!==null?R.baseLanes:d,ut(_o,Vn),Vn|=y}else R!==null?(y=R.baseLanes|d,u.memoizedState=null):y=d,ut(_o,Vn),Vn|=y;return vn(a,u,S,d),u.child}function Ev(a,u){var d=u.ref;(a===null&&d!==null||a!==null&&a.ref!==d)&&(u.flags|=512,u.flags|=2097152)}function Wh(a,u,d,y,S){var R=Rn(d)?gs:an.current;return R=vo(u,R),ko(u,S),d=Dh(a,u,d,y,R,S),y=Lh(),a!==null&&!_n?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~S,qr(a,u,S)):(gt&&y&&yh(u),u.flags|=1,vn(a,u,d,S),u.child)}function Cv(a,u,d,y,S){if(Rn(d)){var R=!0;Tu(u)}else R=!1;if(ko(u,S),u.stateNode===null)Wu(a,u),fv(u,d,y),Hh(u,d,y,S),y=!0;else if(a===null){var V=u.stateNode,oe=u.memoizedProps;V.props=oe;var ce=V.context,xe=d.contextType;typeof xe=="object"&&xe!==null?xe=Yn(xe):(xe=Rn(d)?gs:an.current,xe=vo(u,xe));var Re=d.getDerivedStateFromProps,Ne=typeof Re=="function"||typeof V.getSnapshotBeforeUpdate=="function";Ne||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(oe!==y||ce!==xe)&&dv(u,V,y,xe),Ti=!1;var Ae=u.memoizedState;V.state=Ae,Lu(u,y,V,S),ce=u.memoizedState,oe!==y||Ae!==ce||An.current||Ti?(typeof Re=="function"&&(zh(u,d,Re,y),ce=u.memoizedState),(oe=Ti||cv(u,d,oe,y,Ae,ce,xe))?(Ne||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(u.flags|=4194308)):(typeof V.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=y,u.memoizedState=ce),V.props=y,V.state=ce,V.context=xe,y=oe):(typeof V.componentDidMount=="function"&&(u.flags|=4194308),y=!1)}else{V=u.stateNode,jw(a,u),oe=u.memoizedProps,xe=u.type===u.elementType?oe:hr(u.type,oe),V.props=xe,Ne=u.pendingProps,Ae=V.context,ce=d.contextType,typeof ce=="object"&&ce!==null?ce=Yn(ce):(ce=Rn(d)?gs:an.current,ce=vo(u,ce));var Le=d.getDerivedStateFromProps;(Re=typeof Le=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(oe!==Ne||Ae!==ce)&&dv(u,V,y,ce),Ti=!1,Ae=u.memoizedState,V.state=Ae,Lu(u,y,V,S);var Be=u.memoizedState;oe!==Ne||Ae!==Be||An.current||Ti?(typeof Le=="function"&&(zh(u,d,Le,y),Be=u.memoizedState),(xe=Ti||cv(u,d,xe,y,Ae,Be,ce)||!1)?(Re||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(y,Be,ce),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(y,Be,ce)),typeof V.componentDidUpdate=="function"&&(u.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof V.componentDidUpdate!="function"||oe===a.memoizedProps&&Ae===a.memoizedState||(u.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||oe===a.memoizedProps&&Ae===a.memoizedState||(u.flags|=1024),u.memoizedProps=y,u.memoizedState=Be),V.props=y,V.state=Be,V.context=ce,y=xe):(typeof V.componentDidUpdate!="function"||oe===a.memoizedProps&&Ae===a.memoizedState||(u.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||oe===a.memoizedProps&&Ae===a.memoizedState||(u.flags|=1024),y=!1)}return $h(a,u,d,y,R,S)}function $h(a,u,d,y,S,R){Ev(a,u);var V=(u.flags&128)!==0;if(!y&&!V)return S&&Rw(u,d,!1),qr(a,u,R);y=u.stateNode,O6.current=u;var oe=V&&typeof d.getDerivedStateFromError!="function"?null:y.render();return u.flags|=1,a!==null&&V?(u.child=Co(u,a.child,null,R),u.child=Co(u,null,oe,R)):vn(a,u,oe,R),u.memoizedState=y.state,S&&Rw(u,d,!0),u.child}function Sv(a){var u=a.stateNode;u.pendingContext?Tw(a,u.pendingContext,u.pendingContext!==u.context):u.context&&Tw(a,u.context,!1),Rh(a,u.containerInfo)}function kv(a,u,d,y,S){return Eo(),xh(S),u.flags|=256,vn(a,u,d,y),u.child}var Kh={dehydrated:null,treeContext:null,retryLane:0};function qh(a){return{baseLanes:a,cachePool:null,transitions:null}}function Tv(a,u,d){var y=u.pendingProps,S=wt.current,R=!1,V=(u.flags&128)!==0,oe;if((oe=V)||(oe=a!==null&&a.memoizedState===null?!1:(S&2)!==0),oe?(R=!0,u.flags&=-129):(a===null||a.memoizedState!==null)&&(S|=1),ut(wt,S&1),a===null)return bh(u),a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?(u.mode&1?a.data==="$!"?u.lanes=8:u.lanes=1073741824:u.lanes=1,null):(V=y.children,a=y.fallback,R?(y=u.mode,R=u.child,V={mode:"hidden",children:V},!(y&1)&&R!==null?(R.childLanes=0,R.pendingProps=V):R=nc(V,y,0,null),a=Ts(a,y,d,null),R.return=u,a.return=u,R.sibling=a,u.child=R,u.child.memoizedState=qh(d),u.memoizedState=Kh,a):Gh(u,V));if(S=a.memoizedState,S!==null&&(oe=S.dehydrated,oe!==null))return I6(a,u,V,y,oe,S,d);if(R){R=y.fallback,V=u.mode,S=a.child,oe=S.sibling;var ce={mode:"hidden",children:y.children};return!(V&1)&&u.child!==S?(y=u.child,y.childLanes=0,y.pendingProps=ce,u.deletions=null):(y=Mi(S,ce),y.subtreeFlags=S.subtreeFlags&14680064),oe!==null?R=Mi(oe,R):(R=Ts(R,V,d,null),R.flags|=2),R.return=u,y.return=u,y.sibling=R,u.child=y,y=R,R=u.child,V=a.child.memoizedState,V=V===null?qh(d):{baseLanes:V.baseLanes|d,cachePool:null,transitions:V.transitions},R.memoizedState=V,R.childLanes=a.childLanes&~d,u.memoizedState=Kh,y}return R=a.child,a=R.sibling,y=Mi(R,{mode:"visible",children:y.children}),!(u.mode&1)&&(y.lanes=d),y.return=u,y.sibling=null,a!==null&&(d=u.deletions,d===null?(u.deletions=[a],u.flags|=16):d.push(a)),u.child=y,u.memoizedState=null,y}function Gh(a,u){return u=nc({mode:"visible",children:u},a.mode,0,null),u.return=a,a.child=u}function Vu(a,u,d,y){return y!==null&&xh(y),Co(u,a.child,null,d),a=Gh(u,u.pendingProps.children),a.flags|=2,u.memoizedState=null,a}function I6(a,u,d,y,S,R,V){if(d)return u.flags&256?(u.flags&=-257,y=Uh(Error(t(422))),Vu(a,u,V,y)):u.memoizedState!==null?(u.child=a.child,u.flags|=128,null):(R=y.fallback,S=u.mode,y=nc({mode:"visible",children:y.children},S,0,null),R=Ts(R,S,V,null),R.flags|=2,y.return=u,R.return=u,y.sibling=R,u.child=y,u.mode&1&&Co(u,a.child,null,V),u.child.memoizedState=qh(V),u.memoizedState=Kh,R);if(!(u.mode&1))return Vu(a,u,V,null);if(S.data==="$!"){if(y=S.nextSibling&&S.nextSibling.dataset,y)var oe=y.dgst;return y=oe,R=Error(t(419)),y=Uh(R,y,void 0),Vu(a,u,V,y)}if(oe=(V&a.childLanes)!==0,_n||oe){if(y=Wt,y!==null){switch(V&-V){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}S=S&(y.suspendedLanes|V)?0:S,S!==0&&S!==R.retryLane&&(R.retryLane=S,$r(a,S),gr(y,a,S,-1))}return cp(),y=Uh(Error(t(421))),Vu(a,u,V,y)}return S.data==="$?"?(u.flags|=128,u.child=a.child,u=$6.bind(null,a),S._reactRetry=u,null):(a=R.treeContext,Un=Ei(S.nextSibling),Hn=u,gt=!0,dr=null,a!==null&&(Xn[Jn++]=Vr,Xn[Jn++]=Wr,Xn[Jn++]=ys,Vr=a.id,Wr=a.overflow,ys=u),u=Gh(u,y.children),u.flags|=4096,u)}function Av(a,u,d){a.lanes|=u;var y=a.alternate;y!==null&&(y.lanes|=u),kh(a.return,u,d)}function Zh(a,u,d,y,S){var R=a.memoizedState;R===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:y,tail:d,tailMode:S}:(R.isBackwards=u,R.rendering=null,R.renderingStartTime=0,R.last=y,R.tail=d,R.tailMode=S)}function Rv(a,u,d){var y=u.pendingProps,S=y.revealOrder,R=y.tail;if(vn(a,u,y.children,d),y=wt.current,y&2)y=y&1|2,u.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Av(a,d,u);else if(a.tag===19)Av(a,d,u);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;a.sibling===null;){if(a.return===null||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}y&=1}if(ut(wt,y),!(u.mode&1))u.memoizedState=null;else switch(S){case"forwards":for(d=u.child,S=null;d!==null;)a=d.alternate,a!==null&&Pu(a)===null&&(S=d),d=d.sibling;d=S,d===null?(S=u.child,u.child=null):(S=d.sibling,d.sibling=null),Zh(u,!1,S,d,R);break;case"backwards":for(d=null,S=u.child,u.child=null;S!==null;){if(a=S.alternate,a!==null&&Pu(a)===null){u.child=S;break}a=S.sibling,S.sibling=d,d=S,S=a}Zh(u,!0,d,null,R);break;case"together":Zh(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Wu(a,u){!(u.mode&1)&&a!==null&&(a.alternate=null,u.alternate=null,u.flags|=2)}function qr(a,u,d){if(a!==null&&(u.dependencies=a.dependencies),Es|=u.lanes,!(d&u.childLanes))return null;if(a!==null&&u.child!==a.child)throw Error(t(153));if(u.child!==null){for(a=u.child,d=Mi(a,a.pendingProps),u.child=d,d.return=u;a.sibling!==null;)a=a.sibling,d=d.sibling=Mi(a,a.pendingProps),d.return=u;d.sibling=null}return u.child}function M6(a,u,d){switch(u.tag){case 3:Sv(u),Eo();break;case 5:Uw(u);break;case 1:Rn(u.type)&&Tu(u);break;case 4:Rh(u,u.stateNode.containerInfo);break;case 10:var y=u.type._context,S=u.memoizedProps.value;ut(Iu,y._currentValue),y._currentValue=S;break;case 13:if(y=u.memoizedState,y!==null)return y.dehydrated!==null?(ut(wt,wt.current&1),u.flags|=128,null):d&u.child.childLanes?Tv(a,u,d):(ut(wt,wt.current&1),a=qr(a,u,d),a!==null?a.sibling:null);ut(wt,wt.current&1);break;case 19:if(y=(d&u.childLanes)!==0,a.flags&128){if(y)return Rv(a,u,d);u.flags|=128}if(S=u.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),ut(wt,wt.current),y)break;return null;case 22:case 23:return u.lanes=0,xv(a,u,d)}return qr(a,u,d)}var _v,Xh,Nv,Ov;_v=function(a,u){for(var d=u.child;d!==null;){if(d.tag===5||d.tag===6)a.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Xh=function(){},Nv=function(a,u,d,y){var S=a.memoizedProps;if(S!==y){a=u.stateNode,bs(kr.current);var R=null;switch(d){case"input":S=_(a,S),y=_(a,y),R=[];break;case"select":S=de({},S,{value:void 0}),y=de({},y,{value:void 0}),R=[];break;case"textarea":S=J(a,S),y=J(a,y),R=[];break;default:typeof S.onClick!="function"&&typeof y.onClick=="function"&&(a.onclick=Cu)}Ut(d,y);var V;d=null;for(xe in S)if(!y.hasOwnProperty(xe)&&S.hasOwnProperty(xe)&&S[xe]!=null)if(xe==="style"){var oe=S[xe];for(V in oe)oe.hasOwnProperty(V)&&(d||(d={}),d[V]="")}else xe!=="dangerouslySetInnerHTML"&&xe!=="children"&&xe!=="suppressContentEditableWarning"&&xe!=="suppressHydrationWarning"&&xe!=="autoFocus"&&(i.hasOwnProperty(xe)?R||(R=[]):(R=R||[]).push(xe,null));for(xe in y){var ce=y[xe];if(oe=S!=null?S[xe]:void 0,y.hasOwnProperty(xe)&&ce!==oe&&(ce!=null||oe!=null))if(xe==="style")if(oe){for(V in oe)!oe.hasOwnProperty(V)||ce&&ce.hasOwnProperty(V)||(d||(d={}),d[V]="");for(V in ce)ce.hasOwnProperty(V)&&oe[V]!==ce[V]&&(d||(d={}),d[V]=ce[V])}else d||(R||(R=[]),R.push(xe,d)),d=ce;else xe==="dangerouslySetInnerHTML"?(ce=ce?ce.__html:void 0,oe=oe?oe.__html:void 0,ce!=null&&oe!==ce&&(R=R||[]).push(xe,ce)):xe==="children"?typeof ce!="string"&&typeof ce!="number"||(R=R||[]).push(xe,""+ce):xe!=="suppressContentEditableWarning"&&xe!=="suppressHydrationWarning"&&(i.hasOwnProperty(xe)?(ce!=null&&xe==="onScroll"&&ht("scroll",a),R||oe===ce||(R=[])):(R=R||[]).push(xe,ce))}d&&(R=R||[]).push("style",d);var xe=R;(u.updateQueue=xe)&&(u.flags|=4)}},Ov=function(a,u,d,y){d!==y&&(u.flags|=4)};function $a(a,u){if(!gt)switch(a.tailMode){case"hidden":u=a.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var y=null;d!==null;)d.alternate!==null&&(y=d),d=d.sibling;y===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:y.sibling=null}}function un(a){var u=a.alternate!==null&&a.alternate.child===a.child,d=0,y=0;if(u)for(var S=a.child;S!==null;)d|=S.lanes|S.childLanes,y|=S.subtreeFlags&14680064,y|=S.flags&14680064,S.return=a,S=S.sibling;else for(S=a.child;S!==null;)d|=S.lanes|S.childLanes,y|=S.subtreeFlags,y|=S.flags,S.return=a,S=S.sibling;return a.subtreeFlags|=y,a.childLanes=d,u}function D6(a,u,d){var y=u.pendingProps;switch(wh(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return un(u),null;case 1:return Rn(u.type)&&ku(),un(u),null;case 3:return y=u.stateNode,To(),pt(An),pt(an),Oh(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(a===null||a.child===null)&&(Nu(u)?u.flags|=4:a===null||a.memoizedState.isDehydrated&&!(u.flags&256)||(u.flags|=1024,dr!==null&&(ap(dr),dr=null))),Xh(a,u),un(u),null;case 5:_h(u);var S=bs(za.current);if(d=u.type,a!==null&&u.stateNode!=null)Nv(a,u,d,y,S),a.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!y){if(u.stateNode===null)throw Error(t(166));return un(u),null}if(a=bs(kr.current),Nu(u)){y=u.stateNode,d=u.type;var R=u.memoizedProps;switch(y[Sr]=u,y[La]=R,a=(u.mode&1)!==0,d){case"dialog":ht("cancel",y),ht("close",y);break;case"iframe":case"object":case"embed":ht("load",y);break;case"video":case"audio":for(S=0;S<Ia.length;S++)ht(Ia[S],y);break;case"source":ht("error",y);break;case"img":case"image":case"link":ht("error",y),ht("load",y);break;case"details":ht("toggle",y);break;case"input":he(y,R),ht("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!R.multiple},ht("invalid",y);break;case"textarea":ge(y,R),ht("invalid",y)}Ut(d,R),S=null;for(var V in R)if(R.hasOwnProperty(V)){var oe=R[V];V==="children"?typeof oe=="string"?y.textContent!==oe&&(R.suppressHydrationWarning!==!0&&Eu(y.textContent,oe,a),S=["children",oe]):typeof oe=="number"&&y.textContent!==""+oe&&(R.suppressHydrationWarning!==!0&&Eu(y.textContent,oe,a),S=["children",""+oe]):i.hasOwnProperty(V)&&oe!=null&&V==="onScroll"&&ht("scroll",y)}switch(d){case"input":U(y),C(y,R,!0);break;case"textarea":U(y),Ee(y);break;case"select":case"option":break;default:typeof R.onClick=="function"&&(y.onclick=Cu)}y=S,u.updateQueue=y,y!==null&&(u.flags|=4)}else{V=S.nodeType===9?S:S.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=ke(d)),a==="http://www.w3.org/1999/xhtml"?d==="script"?(a=V.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof y.is=="string"?a=V.createElement(d,{is:y.is}):(a=V.createElement(d),d==="select"&&(V=a,y.multiple?V.multiple=!0:y.size&&(V.size=y.size))):a=V.createElementNS(a,d),a[Sr]=u,a[La]=y,_v(a,u,!1,!1),u.stateNode=a;e:{switch(V=wn(d,y),d){case"dialog":ht("cancel",a),ht("close",a),S=y;break;case"iframe":case"object":case"embed":ht("load",a),S=y;break;case"video":case"audio":for(S=0;S<Ia.length;S++)ht(Ia[S],a);S=y;break;case"source":ht("error",a),S=y;break;case"img":case"image":case"link":ht("error",a),ht("load",a),S=y;break;case"details":ht("toggle",a),S=y;break;case"input":he(a,y),S=_(a,y),ht("invalid",a);break;case"option":S=y;break;case"select":a._wrapperState={wasMultiple:!!y.multiple},S=de({},y,{value:void 0}),ht("invalid",a);break;case"textarea":ge(a,y),S=J(a,y),ht("invalid",a);break;default:S=y}Ut(d,S),oe=S;for(R in oe)if(oe.hasOwnProperty(R)){var ce=oe[R];R==="style"?xr(a,ce):R==="dangerouslySetInnerHTML"?(ce=ce?ce.__html:void 0,ce!=null&&yt(a,ce)):R==="children"?typeof ce=="string"?(d!=="textarea"||ce!=="")&&Mt(a,ce):typeof ce=="number"&&Mt(a,""+ce):R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&R!=="autoFocus"&&(i.hasOwnProperty(R)?ce!=null&&R==="onScroll"&&ht("scroll",a):ce!=null&&A(a,R,ce,V))}switch(d){case"input":U(a),C(a,y,!1);break;case"textarea":U(a),Ee(a);break;case"option":y.value!=null&&a.setAttribute("value",""+M(y.value));break;case"select":a.multiple=!!y.multiple,R=y.value,R!=null?ae(a,!!y.multiple,R,!1):y.defaultValue!=null&&ae(a,!!y.multiple,y.defaultValue,!0);break;default:typeof S.onClick=="function"&&(a.onclick=Cu)}switch(d){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return un(u),null;case 6:if(a&&u.stateNode!=null)Ov(a,u,a.memoizedProps,y);else{if(typeof y!="string"&&u.stateNode===null)throw Error(t(166));if(d=bs(za.current),bs(kr.current),Nu(u)){if(y=u.stateNode,d=u.memoizedProps,y[Sr]=u,(R=y.nodeValue!==d)&&(a=Hn,a!==null))switch(a.tag){case 3:Eu(y.nodeValue,d,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Eu(y.nodeValue,d,(a.mode&1)!==0)}R&&(u.flags|=4)}else y=(d.nodeType===9?d:d.ownerDocument).createTextNode(y),y[Sr]=u,u.stateNode=y}return un(u),null;case 13:if(pt(wt),y=u.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(gt&&Un!==null&&u.mode&1&&!(u.flags&128))Dw(),Eo(),u.flags|=98560,R=!1;else if(R=Nu(u),y!==null&&y.dehydrated!==null){if(a===null){if(!R)throw Error(t(318));if(R=u.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(t(317));R[Sr]=u}else Eo(),!(u.flags&128)&&(u.memoizedState=null),u.flags|=4;un(u),R=!1}else dr!==null&&(ap(dr),dr=null),R=!0;if(!R)return u.flags&65536?u:null}return u.flags&128?(u.lanes=d,u):(y=y!==null,y!==(a!==null&&a.memoizedState!==null)&&y&&(u.child.flags|=8192,u.mode&1&&(a===null||wt.current&1?Ht===0&&(Ht=3):cp())),u.updateQueue!==null&&(u.flags|=4),un(u),null);case 4:return To(),Xh(a,u),a===null&&Ma(u.stateNode.containerInfo),un(u),null;case 10:return Sh(u.type._context),un(u),null;case 17:return Rn(u.type)&&ku(),un(u),null;case 19:if(pt(wt),R=u.memoizedState,R===null)return un(u),null;if(y=(u.flags&128)!==0,V=R.rendering,V===null)if(y)$a(R,!1);else{if(Ht!==0||a!==null&&a.flags&128)for(a=u.child;a!==null;){if(V=Pu(a),V!==null){for(u.flags|=128,$a(R,!1),y=V.updateQueue,y!==null&&(u.updateQueue=y,u.flags|=4),u.subtreeFlags=0,y=d,d=u.child;d!==null;)R=d,a=y,R.flags&=14680066,V=R.alternate,V===null?(R.childLanes=0,R.lanes=a,R.child=null,R.subtreeFlags=0,R.memoizedProps=null,R.memoizedState=null,R.updateQueue=null,R.dependencies=null,R.stateNode=null):(R.childLanes=V.childLanes,R.lanes=V.lanes,R.child=V.child,R.subtreeFlags=0,R.deletions=null,R.memoizedProps=V.memoizedProps,R.memoizedState=V.memoizedState,R.updateQueue=V.updateQueue,R.type=V.type,a=V.dependencies,R.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),d=d.sibling;return ut(wt,wt.current&1|2),u.child}a=a.sibling}R.tail!==null&&Rt()>No&&(u.flags|=128,y=!0,$a(R,!1),u.lanes=4194304)}else{if(!y)if(a=Pu(V),a!==null){if(u.flags|=128,y=!0,d=a.updateQueue,d!==null&&(u.updateQueue=d,u.flags|=4),$a(R,!0),R.tail===null&&R.tailMode==="hidden"&&!V.alternate&&!gt)return un(u),null}else 2*Rt()-R.renderingStartTime>No&&d!==1073741824&&(u.flags|=128,y=!0,$a(R,!1),u.lanes=4194304);R.isBackwards?(V.sibling=u.child,u.child=V):(d=R.last,d!==null?d.sibling=V:u.child=V,R.last=V)}return R.tail!==null?(u=R.tail,R.rendering=u,R.tail=u.sibling,R.renderingStartTime=Rt(),u.sibling=null,d=wt.current,ut(wt,y?d&1|2:d&1),u):(un(u),null);case 22:case 23:return up(),y=u.memoizedState!==null,a!==null&&a.memoizedState!==null!==y&&(u.flags|=8192),y&&u.mode&1?Vn&1073741824&&(un(u),u.subtreeFlags&6&&(u.flags|=8192)):un(u),null;case 24:return null;case 25:return null}throw Error(t(156,u.tag))}function L6(a,u){switch(wh(u),u.tag){case 1:return Rn(u.type)&&ku(),a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 3:return To(),pt(An),pt(an),Oh(),a=u.flags,a&65536&&!(a&128)?(u.flags=a&-65537|128,u):null;case 5:return _h(u),null;case 13:if(pt(wt),a=u.memoizedState,a!==null&&a.dehydrated!==null){if(u.alternate===null)throw Error(t(340));Eo()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 19:return pt(wt),null;case 4:return To(),null;case 10:return Sh(u.type._context),null;case 22:case 23:return up(),null;case 24:return null;default:return null}}var $u=!1,cn=!1,P6=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function Ro(a,u){var d=a.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(y){xt(a,u,y)}else d.current=null}function Jh(a,u,d){try{d()}catch(y){xt(a,u,y)}}var Iv=!1;function F6(a,u){if(uh=fu,a=cw(),th(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var y=d.getSelection&&d.getSelection();if(y&&y.rangeCount!==0){d=y.anchorNode;var S=y.anchorOffset,R=y.focusNode;y=y.focusOffset;try{d.nodeType,R.nodeType}catch{d=null;break e}var V=0,oe=-1,ce=-1,xe=0,Re=0,Ne=a,Ae=null;t:for(;;){for(var Le;Ne!==d||S!==0&&Ne.nodeType!==3||(oe=V+S),Ne!==R||y!==0&&Ne.nodeType!==3||(ce=V+y),Ne.nodeType===3&&(V+=Ne.nodeValue.length),(Le=Ne.firstChild)!==null;)Ae=Ne,Ne=Le;for(;;){if(Ne===a)break t;if(Ae===d&&++xe===S&&(oe=V),Ae===R&&++Re===y&&(ce=V),(Le=Ne.nextSibling)!==null)break;Ne=Ae,Ae=Ne.parentNode}Ne=Le}d=oe===-1||ce===-1?null:{start:oe,end:ce}}else d=null}d=d||{start:0,end:0}}else d=null;for(ch={focusedElem:a,selectionRange:d},fu=!1,Fe=u;Fe!==null;)if(u=Fe,a=u.child,(u.subtreeFlags&1028)!==0&&a!==null)a.return=u,Fe=a;else for(;Fe!==null;){u=Fe;try{var Be=u.alternate;if(u.flags&1024)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Be!==null){var ze=Be.memoizedProps,_t=Be.memoizedState,ye=u.stateNode,pe=ye.getSnapshotBeforeUpdate(u.elementType===u.type?ze:hr(u.type,ze),_t);ye.__reactInternalSnapshotBeforeUpdate=pe}break;case 3:var ve=u.stateNode.containerInfo;ve.nodeType===1?ve.textContent="":ve.nodeType===9&&ve.documentElement&&ve.removeChild(ve.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Ie){xt(u,u.return,Ie)}if(a=u.sibling,a!==null){a.return=u.return,Fe=a;break}Fe=u.return}return Be=Iv,Iv=!1,Be}function Ka(a,u,d){var y=u.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var S=y=y.next;do{if((S.tag&a)===a){var R=S.destroy;S.destroy=void 0,R!==void 0&&Jh(u,d,R)}S=S.next}while(S!==y)}}function Ku(a,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var d=u=u.next;do{if((d.tag&a)===a){var y=d.create;d.destroy=y()}d=d.next}while(d!==u)}}function Yh(a){var u=a.ref;if(u!==null){var d=a.stateNode;switch(a.tag){case 5:a=d;break;default:a=d}typeof u=="function"?u(a):u.current=a}}function Mv(a){var u=a.alternate;u!==null&&(a.alternate=null,Mv(u)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(u=a.stateNode,u!==null&&(delete u[Sr],delete u[La],delete u[ph],delete u[v6],delete u[b6])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function Dv(a){return a.tag===5||a.tag===3||a.tag===4}function Lv(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Dv(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Qh(a,u,d){var y=a.tag;if(y===5||y===6)a=a.stateNode,u?d.nodeType===8?d.parentNode.insertBefore(a,u):d.insertBefore(a,u):(d.nodeType===8?(u=d.parentNode,u.insertBefore(a,d)):(u=d,u.appendChild(a)),d=d._reactRootContainer,d!=null||u.onclick!==null||(u.onclick=Cu));else if(y!==4&&(a=a.child,a!==null))for(Qh(a,u,d),a=a.sibling;a!==null;)Qh(a,u,d),a=a.sibling}function ep(a,u,d){var y=a.tag;if(y===5||y===6)a=a.stateNode,u?d.insertBefore(a,u):d.appendChild(a);else if(y!==4&&(a=a.child,a!==null))for(ep(a,u,d),a=a.sibling;a!==null;)ep(a,u,d),a=a.sibling}var Jt=null,pr=!1;function Ri(a,u,d){for(d=d.child;d!==null;)Pv(a,u,d),d=d.sibling}function Pv(a,u,d){if(Cr&&typeof Cr.onCommitFiberUnmount=="function")try{Cr.onCommitFiberUnmount(su,d)}catch{}switch(d.tag){case 5:cn||Ro(d,u);case 6:var y=Jt,S=pr;Jt=null,Ri(a,u,d),Jt=y,pr=S,Jt!==null&&(pr?(a=Jt,d=d.stateNode,a.nodeType===8?a.parentNode.removeChild(d):a.removeChild(d)):Jt.removeChild(d.stateNode));break;case 18:Jt!==null&&(pr?(a=Jt,d=d.stateNode,a.nodeType===8?hh(a.parentNode,d):a.nodeType===1&&hh(a,d),Sa(a)):hh(Jt,d.stateNode));break;case 4:y=Jt,S=pr,Jt=d.stateNode.containerInfo,pr=!0,Ri(a,u,d),Jt=y,pr=S;break;case 0:case 11:case 14:case 15:if(!cn&&(y=d.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){S=y=y.next;do{var R=S,V=R.destroy;R=R.tag,V!==void 0&&(R&2||R&4)&&Jh(d,u,V),S=S.next}while(S!==y)}Ri(a,u,d);break;case 1:if(!cn&&(Ro(d,u),y=d.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=d.memoizedProps,y.state=d.memoizedState,y.componentWillUnmount()}catch(oe){xt(d,u,oe)}Ri(a,u,d);break;case 21:Ri(a,u,d);break;case 22:d.mode&1?(cn=(y=cn)||d.memoizedState!==null,Ri(a,u,d),cn=y):Ri(a,u,d);break;default:Ri(a,u,d)}}function Fv(a){var u=a.updateQueue;if(u!==null){a.updateQueue=null;var d=a.stateNode;d===null&&(d=a.stateNode=new P6),u.forEach(function(y){var S=K6.bind(null,a,y);d.has(y)||(d.add(y),y.then(S,S))})}}function mr(a,u){var d=u.deletions;if(d!==null)for(var y=0;y<d.length;y++){var S=d[y];try{var R=a,V=u,oe=V;e:for(;oe!==null;){switch(oe.tag){case 5:Jt=oe.stateNode,pr=!1;break e;case 3:Jt=oe.stateNode.containerInfo,pr=!0;break e;case 4:Jt=oe.stateNode.containerInfo,pr=!0;break e}oe=oe.return}if(Jt===null)throw Error(t(160));Pv(R,V,S),Jt=null,pr=!1;var ce=S.alternate;ce!==null&&(ce.return=null),S.return=null}catch(xe){xt(S,u,xe)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)Bv(u,a),u=u.sibling}function Bv(a,u){var d=a.alternate,y=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(mr(u,a),Ar(a),y&4){try{Ka(3,a,a.return),Ku(3,a)}catch(ze){xt(a,a.return,ze)}try{Ka(5,a,a.return)}catch(ze){xt(a,a.return,ze)}}break;case 1:mr(u,a),Ar(a),y&512&&d!==null&&Ro(d,d.return);break;case 5:if(mr(u,a),Ar(a),y&512&&d!==null&&Ro(d,d.return),a.flags&32){var S=a.stateNode;try{Mt(S,"")}catch(ze){xt(a,a.return,ze)}}if(y&4&&(S=a.stateNode,S!=null)){var R=a.memoizedProps,V=d!==null?d.memoizedProps:R,oe=a.type,ce=a.updateQueue;if(a.updateQueue=null,ce!==null)try{oe==="input"&&R.type==="radio"&&R.name!=null&&P(S,R),wn(oe,V);var xe=wn(oe,R);for(V=0;V<ce.length;V+=2){var Re=ce[V],Ne=ce[V+1];Re==="style"?xr(S,Ne):Re==="dangerouslySetInnerHTML"?yt(S,Ne):Re==="children"?Mt(S,Ne):A(S,Re,Ne,xe)}switch(oe){case"input":x(S,R);break;case"textarea":we(S,R);break;case"select":var Ae=S._wrapperState.wasMultiple;S._wrapperState.wasMultiple=!!R.multiple;var Le=R.value;Le!=null?ae(S,!!R.multiple,Le,!1):Ae!==!!R.multiple&&(R.defaultValue!=null?ae(S,!!R.multiple,R.defaultValue,!0):ae(S,!!R.multiple,R.multiple?[]:"",!1))}S[La]=R}catch(ze){xt(a,a.return,ze)}}break;case 6:if(mr(u,a),Ar(a),y&4){if(a.stateNode===null)throw Error(t(162));S=a.stateNode,R=a.memoizedProps;try{S.nodeValue=R}catch(ze){xt(a,a.return,ze)}}break;case 3:if(mr(u,a),Ar(a),y&4&&d!==null&&d.memoizedState.isDehydrated)try{Sa(u.containerInfo)}catch(ze){xt(a,a.return,ze)}break;case 4:mr(u,a),Ar(a);break;case 13:mr(u,a),Ar(a),S=a.child,S.flags&8192&&(R=S.memoizedState!==null,S.stateNode.isHidden=R,!R||S.alternate!==null&&S.alternate.memoizedState!==null||(rp=Rt())),y&4&&Fv(a);break;case 22:if(Re=d!==null&&d.memoizedState!==null,a.mode&1?(cn=(xe=cn)||Re,mr(u,a),cn=xe):mr(u,a),Ar(a),y&8192){if(xe=a.memoizedState!==null,(a.stateNode.isHidden=xe)&&!Re&&a.mode&1)for(Fe=a,Re=a.child;Re!==null;){for(Ne=Fe=Re;Fe!==null;){switch(Ae=Fe,Le=Ae.child,Ae.tag){case 0:case 11:case 14:case 15:Ka(4,Ae,Ae.return);break;case 1:Ro(Ae,Ae.return);var Be=Ae.stateNode;if(typeof Be.componentWillUnmount=="function"){y=Ae,d=Ae.return;try{u=y,Be.props=u.memoizedProps,Be.state=u.memoizedState,Be.componentWillUnmount()}catch(ze){xt(y,d,ze)}}break;case 5:Ro(Ae,Ae.return);break;case 22:if(Ae.memoizedState!==null){Hv(Ne);continue}}Le!==null?(Le.return=Ae,Fe=Le):Hv(Ne)}Re=Re.sibling}e:for(Re=null,Ne=a;;){if(Ne.tag===5){if(Re===null){Re=Ne;try{S=Ne.stateNode,xe?(R=S.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none"):(oe=Ne.stateNode,ce=Ne.memoizedProps.style,V=ce!=null&&ce.hasOwnProperty("display")?ce.display:null,oe.style.display=it("display",V))}catch(ze){xt(a,a.return,ze)}}}else if(Ne.tag===6){if(Re===null)try{Ne.stateNode.nodeValue=xe?"":Ne.memoizedProps}catch(ze){xt(a,a.return,ze)}}else if((Ne.tag!==22&&Ne.tag!==23||Ne.memoizedState===null||Ne===a)&&Ne.child!==null){Ne.child.return=Ne,Ne=Ne.child;continue}if(Ne===a)break e;for(;Ne.sibling===null;){if(Ne.return===null||Ne.return===a)break e;Re===Ne&&(Re=null),Ne=Ne.return}Re===Ne&&(Re=null),Ne.sibling.return=Ne.return,Ne=Ne.sibling}}break;case 19:mr(u,a),Ar(a),y&4&&Fv(a);break;case 21:break;default:mr(u,a),Ar(a)}}function Ar(a){var u=a.flags;if(u&2){try{e:{for(var d=a.return;d!==null;){if(Dv(d)){var y=d;break e}d=d.return}throw Error(t(160))}switch(y.tag){case 5:var S=y.stateNode;y.flags&32&&(Mt(S,""),y.flags&=-33);var R=Lv(a);ep(a,R,S);break;case 3:case 4:var V=y.stateNode.containerInfo,oe=Lv(a);Qh(a,oe,V);break;default:throw Error(t(161))}}catch(ce){xt(a,a.return,ce)}a.flags&=-3}u&4096&&(a.flags&=-4097)}function B6(a,u,d){Fe=a,jv(a)}function jv(a,u,d){for(var y=(a.mode&1)!==0;Fe!==null;){var S=Fe,R=S.child;if(S.tag===22&&y){var V=S.memoizedState!==null||$u;if(!V){var oe=S.alternate,ce=oe!==null&&oe.memoizedState!==null||cn;oe=$u;var xe=cn;if($u=V,(cn=ce)&&!xe)for(Fe=S;Fe!==null;)V=Fe,ce=V.child,V.tag===22&&V.memoizedState!==null?Uv(S):ce!==null?(ce.return=V,Fe=ce):Uv(S);for(;R!==null;)Fe=R,jv(R),R=R.sibling;Fe=S,$u=oe,cn=xe}zv(a)}else S.subtreeFlags&8772&&R!==null?(R.return=S,Fe=R):zv(a)}}function zv(a){for(;Fe!==null;){var u=Fe;if(u.flags&8772){var d=u.alternate;try{if(u.flags&8772)switch(u.tag){case 0:case 11:case 15:cn||Ku(5,u);break;case 1:var y=u.stateNode;if(u.flags&4&&!cn)if(d===null)y.componentDidMount();else{var S=u.elementType===u.type?d.memoizedProps:hr(u.type,d.memoizedProps);y.componentDidUpdate(S,d.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var R=u.updateQueue;R!==null&&Hw(u,R,y);break;case 3:var V=u.updateQueue;if(V!==null){if(d=null,u.child!==null)switch(u.child.tag){case 5:d=u.child.stateNode;break;case 1:d=u.child.stateNode}Hw(u,V,d)}break;case 5:var oe=u.stateNode;if(d===null&&u.flags&4){d=oe;var ce=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":ce.autoFocus&&d.focus();break;case"img":ce.src&&(d.src=ce.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var xe=u.alternate;if(xe!==null){var Re=xe.memoizedState;if(Re!==null){var Ne=Re.dehydrated;Ne!==null&&Sa(Ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}cn||u.flags&512&&Yh(u)}catch(Ae){xt(u,u.return,Ae)}}if(u===a){Fe=null;break}if(d=u.sibling,d!==null){d.return=u.return,Fe=d;break}Fe=u.return}}function Hv(a){for(;Fe!==null;){var u=Fe;if(u===a){Fe=null;break}var d=u.sibling;if(d!==null){d.return=u.return,Fe=d;break}Fe=u.return}}function Uv(a){for(;Fe!==null;){var u=Fe;try{switch(u.tag){case 0:case 11:case 15:var d=u.return;try{Ku(4,u)}catch(ce){xt(u,d,ce)}break;case 1:var y=u.stateNode;if(typeof y.componentDidMount=="function"){var S=u.return;try{y.componentDidMount()}catch(ce){xt(u,S,ce)}}var R=u.return;try{Yh(u)}catch(ce){xt(u,R,ce)}break;case 5:var V=u.return;try{Yh(u)}catch(ce){xt(u,V,ce)}}}catch(ce){xt(u,u.return,ce)}if(u===a){Fe=null;break}var oe=u.sibling;if(oe!==null){oe.return=u.return,Fe=oe;break}Fe=u.return}}var j6=Math.ceil,qu=k.ReactCurrentDispatcher,tp=k.ReactCurrentOwner,er=k.ReactCurrentBatchConfig,et=0,Wt=null,Dt=null,Yt=0,Vn=0,_o=Ci(0),Ht=0,qa=null,Es=0,Gu=0,np=0,Ga=null,Nn=null,rp=0,No=1/0,Gr=null,Zu=!1,ip=null,_i=null,Xu=!1,Ni=null,Ju=0,Za=0,sp=null,Yu=-1,Qu=0;function bn(){return et&6?Rt():Yu!==-1?Yu:Yu=Rt()}function Oi(a){return a.mode&1?et&2&&Yt!==0?Yt&-Yt:E6.transition!==null?(Qu===0&&(Qu=L0()),Qu):(a=st,a!==0||(a=window.event,a=a===void 0?16:W0(a.type)),a):1}function gr(a,u,d,y){if(50<Za)throw Za=0,sp=null,Error(t(185));va(a,d,y),(!(et&2)||a!==Wt)&&(a===Wt&&(!(et&2)&&(Gu|=d),Ht===4&&Ii(a,Yt)),On(a,y),d===1&&et===0&&!(u.mode&1)&&(No=Rt()+500,Au&&ki()))}function On(a,u){var d=a.callbackNode;Ek(a,u);var y=lu(a,a===Wt?Yt:0);if(y===0)d!==null&&I0(d),a.callbackNode=null,a.callbackPriority=0;else if(u=y&-y,a.callbackPriority!==u){if(d!=null&&I0(d),u===1)a.tag===0?x6(Wv.bind(null,a)):_w(Wv.bind(null,a)),y6(function(){!(et&6)&&ki()}),d=null;else{switch(P0(y)){case 1:d=Bd;break;case 4:d=M0;break;case 16:d=iu;break;case 536870912:d=D0;break;default:d=iu}d=Yv(d,Vv.bind(null,a))}a.callbackPriority=u,a.callbackNode=d}}function Vv(a,u){if(Yu=-1,Qu=0,et&6)throw Error(t(327));var d=a.callbackNode;if(Oo()&&a.callbackNode!==d)return null;var y=lu(a,a===Wt?Yt:0);if(y===0)return null;if(y&30||y&a.expiredLanes||u)u=ec(a,y);else{u=y;var S=et;et|=2;var R=Kv();(Wt!==a||Yt!==u)&&(Gr=null,No=Rt()+500,Ss(a,u));do try{U6();break}catch(oe){$v(a,oe)}while(!0);Ch(),qu.current=R,et=S,Dt!==null?u=0:(Wt=null,Yt=0,u=Ht)}if(u!==0){if(u===2&&(S=jd(a),S!==0&&(y=S,u=op(a,S))),u===1)throw d=qa,Ss(a,0),Ii(a,y),On(a,Rt()),d;if(u===6)Ii(a,y);else{if(S=a.current.alternate,!(y&30)&&!z6(S)&&(u=ec(a,y),u===2&&(R=jd(a),R!==0&&(y=R,u=op(a,R))),u===1))throw d=qa,Ss(a,0),Ii(a,y),On(a,Rt()),d;switch(a.finishedWork=S,a.finishedLanes=y,u){case 0:case 1:throw Error(t(345));case 2:ks(a,Nn,Gr);break;case 3:if(Ii(a,y),(y&130023424)===y&&(u=rp+500-Rt(),10<u)){if(lu(a,0)!==0)break;if(S=a.suspendedLanes,(S&y)!==y){bn(),a.pingedLanes|=a.suspendedLanes&S;break}a.timeoutHandle=dh(ks.bind(null,a,Nn,Gr),u);break}ks(a,Nn,Gr);break;case 4:if(Ii(a,y),(y&4194240)===y)break;for(u=a.eventTimes,S=-1;0<y;){var V=31-cr(y);R=1<<V,V=u[V],V>S&&(S=V),y&=~R}if(y=S,y=Rt()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*j6(y/1960))-y,10<y){a.timeoutHandle=dh(ks.bind(null,a,Nn,Gr),y);break}ks(a,Nn,Gr);break;case 5:ks(a,Nn,Gr);break;default:throw Error(t(329))}}}return On(a,Rt()),a.callbackNode===d?Vv.bind(null,a):null}function op(a,u){var d=Ga;return a.current.memoizedState.isDehydrated&&(Ss(a,u).flags|=256),a=ec(a,u),a!==2&&(u=Nn,Nn=d,u!==null&&ap(u)),a}function ap(a){Nn===null?Nn=a:Nn.push.apply(Nn,a)}function z6(a){for(var u=a;;){if(u.flags&16384){var d=u.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var y=0;y<d.length;y++){var S=d[y],R=S.getSnapshot;S=S.value;try{if(!fr(R(),S))return!1}catch{return!1}}}if(d=u.child,u.subtreeFlags&16384&&d!==null)d.return=u,u=d;else{if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Ii(a,u){for(u&=~np,u&=~Gu,a.suspendedLanes|=u,a.pingedLanes&=~u,a=a.expirationTimes;0<u;){var d=31-cr(u),y=1<<d;a[d]=-1,u&=~y}}function Wv(a){if(et&6)throw Error(t(327));Oo();var u=lu(a,0);if(!(u&1))return On(a,Rt()),null;var d=ec(a,u);if(a.tag!==0&&d===2){var y=jd(a);y!==0&&(u=y,d=op(a,y))}if(d===1)throw d=qa,Ss(a,0),Ii(a,u),On(a,Rt()),d;if(d===6)throw Error(t(345));return a.finishedWork=a.current.alternate,a.finishedLanes=u,ks(a,Nn,Gr),On(a,Rt()),null}function lp(a,u){var d=et;et|=1;try{return a(u)}finally{et=d,et===0&&(No=Rt()+500,Au&&ki())}}function Cs(a){Ni!==null&&Ni.tag===0&&!(et&6)&&Oo();var u=et;et|=1;var d=er.transition,y=st;try{if(er.transition=null,st=1,a)return a()}finally{st=y,er.transition=d,et=u,!(et&6)&&ki()}}function up(){Vn=_o.current,pt(_o)}function Ss(a,u){a.finishedWork=null,a.finishedLanes=0;var d=a.timeoutHandle;if(d!==-1&&(a.timeoutHandle=-1,g6(d)),Dt!==null)for(d=Dt.return;d!==null;){var y=d;switch(wh(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&ku();break;case 3:To(),pt(An),pt(an),Oh();break;case 5:_h(y);break;case 4:To();break;case 13:pt(wt);break;case 19:pt(wt);break;case 10:Sh(y.type._context);break;case 22:case 23:up()}d=d.return}if(Wt=a,Dt=a=Mi(a.current,null),Yt=Vn=u,Ht=0,qa=null,np=Gu=Es=0,Nn=Ga=null,vs!==null){for(u=0;u<vs.length;u++)if(d=vs[u],y=d.interleaved,y!==null){d.interleaved=null;var S=y.next,R=d.pending;if(R!==null){var V=R.next;R.next=S,y.next=V}d.pending=y}vs=null}return a}function $v(a,u){do{var d=Dt;try{if(Ch(),Fu.current=Hu,Bu){for(var y=vt.memoizedState;y!==null;){var S=y.queue;S!==null&&(S.pending=null),y=y.next}Bu=!1}if(xs=0,Vt=zt=vt=null,Ha=!1,Ua=0,tp.current=null,d===null||d.return===null){Ht=1,qa=u,Dt=null;break}e:{var R=a,V=d.return,oe=d,ce=u;if(u=Yt,oe.flags|=32768,ce!==null&&typeof ce=="object"&&typeof ce.then=="function"){var xe=ce,Re=oe,Ne=Re.tag;if(!(Re.mode&1)&&(Ne===0||Ne===11||Ne===15)){var Ae=Re.alternate;Ae?(Re.updateQueue=Ae.updateQueue,Re.memoizedState=Ae.memoizedState,Re.lanes=Ae.lanes):(Re.updateQueue=null,Re.memoizedState=null)}var Le=gv(V);if(Le!==null){Le.flags&=-257,yv(Le,V,oe,R,u),Le.mode&1&&mv(R,xe,u),u=Le,ce=xe;var Be=u.updateQueue;if(Be===null){var ze=new Set;ze.add(ce),u.updateQueue=ze}else Be.add(ce);break e}else{if(!(u&1)){mv(R,xe,u),cp();break e}ce=Error(t(426))}}else if(gt&&oe.mode&1){var _t=gv(V);if(_t!==null){!(_t.flags&65536)&&(_t.flags|=256),yv(_t,V,oe,R,u),xh(Ao(ce,oe));break e}}R=ce=Ao(ce,oe),Ht!==4&&(Ht=2),Ga===null?Ga=[R]:Ga.push(R),R=V;do{switch(R.tag){case 3:R.flags|=65536,u&=-u,R.lanes|=u;var ye=hv(R,ce,u);zw(R,ye);break e;case 1:oe=ce;var pe=R.type,ve=R.stateNode;if(!(R.flags&128)&&(typeof pe.getDerivedStateFromError=="function"||ve!==null&&typeof ve.componentDidCatch=="function"&&(_i===null||!_i.has(ve)))){R.flags|=65536,u&=-u,R.lanes|=u;var Ie=pv(R,oe,u);zw(R,Ie);break e}}R=R.return}while(R!==null)}Gv(d)}catch(He){u=He,Dt===d&&d!==null&&(Dt=d=d.return);continue}break}while(!0)}function Kv(){var a=qu.current;return qu.current=Hu,a===null?Hu:a}function cp(){(Ht===0||Ht===3||Ht===2)&&(Ht=4),Wt===null||!(Es&268435455)&&!(Gu&268435455)||Ii(Wt,Yt)}function ec(a,u){var d=et;et|=2;var y=Kv();(Wt!==a||Yt!==u)&&(Gr=null,Ss(a,u));do try{H6();break}catch(S){$v(a,S)}while(!0);if(Ch(),et=d,qu.current=y,Dt!==null)throw Error(t(261));return Wt=null,Yt=0,Ht}function H6(){for(;Dt!==null;)qv(Dt)}function U6(){for(;Dt!==null&&!hk();)qv(Dt)}function qv(a){var u=Jv(a.alternate,a,Vn);a.memoizedProps=a.pendingProps,u===null?Gv(a):Dt=u,tp.current=null}function Gv(a){var u=a;do{var d=u.alternate;if(a=u.return,u.flags&32768){if(d=L6(d,u),d!==null){d.flags&=32767,Dt=d;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Ht=6,Dt=null;return}}else if(d=D6(d,u,Vn),d!==null){Dt=d;return}if(u=u.sibling,u!==null){Dt=u;return}Dt=u=a}while(u!==null);Ht===0&&(Ht=5)}function ks(a,u,d){var y=st,S=er.transition;try{er.transition=null,st=1,V6(a,u,d,y)}finally{er.transition=S,st=y}return null}function V6(a,u,d,y){do Oo();while(Ni!==null);if(et&6)throw Error(t(327));d=a.finishedWork;var S=a.finishedLanes;if(d===null)return null;if(a.finishedWork=null,a.finishedLanes=0,d===a.current)throw Error(t(177));a.callbackNode=null,a.callbackPriority=0;var R=d.lanes|d.childLanes;if(Ck(a,R),a===Wt&&(Dt=Wt=null,Yt=0),!(d.subtreeFlags&2064)&&!(d.flags&2064)||Xu||(Xu=!0,Yv(iu,function(){return Oo(),null})),R=(d.flags&15990)!==0,d.subtreeFlags&15990||R){R=er.transition,er.transition=null;var V=st;st=1;var oe=et;et|=4,tp.current=null,F6(a,d),Bv(d,a),u6(ch),fu=!!uh,ch=uh=null,a.current=d,B6(d),pk(),et=oe,st=V,er.transition=R}else a.current=d;if(Xu&&(Xu=!1,Ni=a,Ju=S),R=a.pendingLanes,R===0&&(_i=null),yk(d.stateNode),On(a,Rt()),u!==null)for(y=a.onRecoverableError,d=0;d<u.length;d++)S=u[d],y(S.value,{componentStack:S.stack,digest:S.digest});if(Zu)throw Zu=!1,a=ip,ip=null,a;return Ju&1&&a.tag!==0&&Oo(),R=a.pendingLanes,R&1?a===sp?Za++:(Za=0,sp=a):Za=0,ki(),null}function Oo(){if(Ni!==null){var a=P0(Ju),u=er.transition,d=st;try{if(er.transition=null,st=16>a?16:a,Ni===null)var y=!1;else{if(a=Ni,Ni=null,Ju=0,et&6)throw Error(t(331));var S=et;for(et|=4,Fe=a.current;Fe!==null;){var R=Fe,V=R.child;if(Fe.flags&16){var oe=R.deletions;if(oe!==null){for(var ce=0;ce<oe.length;ce++){var xe=oe[ce];for(Fe=xe;Fe!==null;){var Re=Fe;switch(Re.tag){case 0:case 11:case 15:Ka(8,Re,R)}var Ne=Re.child;if(Ne!==null)Ne.return=Re,Fe=Ne;else for(;Fe!==null;){Re=Fe;var Ae=Re.sibling,Le=Re.return;if(Mv(Re),Re===xe){Fe=null;break}if(Ae!==null){Ae.return=Le,Fe=Ae;break}Fe=Le}}}var Be=R.alternate;if(Be!==null){var ze=Be.child;if(ze!==null){Be.child=null;do{var _t=ze.sibling;ze.sibling=null,ze=_t}while(ze!==null)}}Fe=R}}if(R.subtreeFlags&2064&&V!==null)V.return=R,Fe=V;else e:for(;Fe!==null;){if(R=Fe,R.flags&2048)switch(R.tag){case 0:case 11:case 15:Ka(9,R,R.return)}var ye=R.sibling;if(ye!==null){ye.return=R.return,Fe=ye;break e}Fe=R.return}}var pe=a.current;for(Fe=pe;Fe!==null;){V=Fe;var ve=V.child;if(V.subtreeFlags&2064&&ve!==null)ve.return=V,Fe=ve;else e:for(V=pe;Fe!==null;){if(oe=Fe,oe.flags&2048)try{switch(oe.tag){case 0:case 11:case 15:Ku(9,oe)}}catch(He){xt(oe,oe.return,He)}if(oe===V){Fe=null;break e}var Ie=oe.sibling;if(Ie!==null){Ie.return=oe.return,Fe=Ie;break e}Fe=oe.return}}if(et=S,ki(),Cr&&typeof Cr.onPostCommitFiberRoot=="function")try{Cr.onPostCommitFiberRoot(su,a)}catch{}y=!0}return y}finally{st=d,er.transition=u}}return!1}function Zv(a,u,d){u=Ao(d,u),u=hv(a,u,1),a=Ai(a,u,1),u=bn(),a!==null&&(va(a,1,u),On(a,u))}function xt(a,u,d){if(a.tag===3)Zv(a,a,d);else for(;u!==null;){if(u.tag===3){Zv(u,a,d);break}else if(u.tag===1){var y=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(_i===null||!_i.has(y))){a=Ao(d,a),a=pv(u,a,1),u=Ai(u,a,1),a=bn(),u!==null&&(va(u,1,a),On(u,a));break}}u=u.return}}function W6(a,u,d){var y=a.pingCache;y!==null&&y.delete(u),u=bn(),a.pingedLanes|=a.suspendedLanes&d,Wt===a&&(Yt&d)===d&&(Ht===4||Ht===3&&(Yt&130023424)===Yt&&500>Rt()-rp?Ss(a,0):np|=d),On(a,u)}function Xv(a,u){u===0&&(a.mode&1?(u=au,au<<=1,!(au&130023424)&&(au=4194304)):u=1);var d=bn();a=$r(a,u),a!==null&&(va(a,u,d),On(a,d))}function $6(a){var u=a.memoizedState,d=0;u!==null&&(d=u.retryLane),Xv(a,d)}function K6(a,u){var d=0;switch(a.tag){case 13:var y=a.stateNode,S=a.memoizedState;S!==null&&(d=S.retryLane);break;case 19:y=a.stateNode;break;default:throw Error(t(314))}y!==null&&y.delete(u),Xv(a,d)}var Jv;Jv=function(a,u,d){if(a!==null)if(a.memoizedProps!==u.pendingProps||An.current)_n=!0;else{if(!(a.lanes&d)&&!(u.flags&128))return _n=!1,M6(a,u,d);_n=!!(a.flags&131072)}else _n=!1,gt&&u.flags&1048576&&Nw(u,_u,u.index);switch(u.lanes=0,u.tag){case 2:var y=u.type;Wu(a,u),a=u.pendingProps;var S=vo(u,an.current);ko(u,d),S=Dh(null,u,y,a,S,d);var R=Lh();return u.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Rn(y)?(R=!0,Tu(u)):R=!1,u.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,Ah(u),S.updater=Uu,u.stateNode=S,S._reactInternals=u,Hh(u,y,a,d),u=$h(null,u,y,!0,R,d)):(u.tag=0,gt&&R&&yh(u),vn(null,u,S,d),u=u.child),u;case 16:y=u.elementType;e:{switch(Wu(a,u),a=u.pendingProps,S=y._init,y=S(y._payload),u.type=y,S=u.tag=G6(y),a=hr(y,a),S){case 0:u=Wh(null,u,y,a,d);break e;case 1:u=Cv(null,u,y,a,d);break e;case 11:u=wv(null,u,y,a,d);break e;case 14:u=vv(null,u,y,hr(y.type,a),d);break e}throw Error(t(306,y,""))}return u;case 0:return y=u.type,S=u.pendingProps,S=u.elementType===y?S:hr(y,S),Wh(a,u,y,S,d);case 1:return y=u.type,S=u.pendingProps,S=u.elementType===y?S:hr(y,S),Cv(a,u,y,S,d);case 3:e:{if(Sv(u),a===null)throw Error(t(387));y=u.pendingProps,R=u.memoizedState,S=R.element,jw(a,u),Lu(u,y,null,d);var V=u.memoizedState;if(y=V.element,R.isDehydrated)if(R={element:y,isDehydrated:!1,cache:V.cache,pendingSuspenseBoundaries:V.pendingSuspenseBoundaries,transitions:V.transitions},u.updateQueue.baseState=R,u.memoizedState=R,u.flags&256){S=Ao(Error(t(423)),u),u=kv(a,u,y,d,S);break e}else if(y!==S){S=Ao(Error(t(424)),u),u=kv(a,u,y,d,S);break e}else for(Un=Ei(u.stateNode.containerInfo.firstChild),Hn=u,gt=!0,dr=null,d=Fw(u,null,y,d),u.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Eo(),y===S){u=qr(a,u,d);break e}vn(a,u,y,d)}u=u.child}return u;case 5:return Uw(u),a===null&&bh(u),y=u.type,S=u.pendingProps,R=a!==null?a.memoizedProps:null,V=S.children,fh(y,S)?V=null:R!==null&&fh(y,R)&&(u.flags|=32),Ev(a,u),vn(a,u,V,d),u.child;case 6:return a===null&&bh(u),null;case 13:return Tv(a,u,d);case 4:return Rh(u,u.stateNode.containerInfo),y=u.pendingProps,a===null?u.child=Co(u,null,y,d):vn(a,u,y,d),u.child;case 11:return y=u.type,S=u.pendingProps,S=u.elementType===y?S:hr(y,S),wv(a,u,y,S,d);case 7:return vn(a,u,u.pendingProps,d),u.child;case 8:return vn(a,u,u.pendingProps.children,d),u.child;case 12:return vn(a,u,u.pendingProps.children,d),u.child;case 10:e:{if(y=u.type._context,S=u.pendingProps,R=u.memoizedProps,V=S.value,ut(Iu,y._currentValue),y._currentValue=V,R!==null)if(fr(R.value,V)){if(R.children===S.children&&!An.current){u=qr(a,u,d);break e}}else for(R=u.child,R!==null&&(R.return=u);R!==null;){var oe=R.dependencies;if(oe!==null){V=R.child;for(var ce=oe.firstContext;ce!==null;){if(ce.context===y){if(R.tag===1){ce=Kr(-1,d&-d),ce.tag=2;var xe=R.updateQueue;if(xe!==null){xe=xe.shared;var Re=xe.pending;Re===null?ce.next=ce:(ce.next=Re.next,Re.next=ce),xe.pending=ce}}R.lanes|=d,ce=R.alternate,ce!==null&&(ce.lanes|=d),kh(R.return,d,u),oe.lanes|=d;break}ce=ce.next}}else if(R.tag===10)V=R.type===u.type?null:R.child;else if(R.tag===18){if(V=R.return,V===null)throw Error(t(341));V.lanes|=d,oe=V.alternate,oe!==null&&(oe.lanes|=d),kh(V,d,u),V=R.sibling}else V=R.child;if(V!==null)V.return=R;else for(V=R;V!==null;){if(V===u){V=null;break}if(R=V.sibling,R!==null){R.return=V.return,V=R;break}V=V.return}R=V}vn(a,u,S.children,d),u=u.child}return u;case 9:return S=u.type,y=u.pendingProps.children,ko(u,d),S=Yn(S),y=y(S),u.flags|=1,vn(a,u,y,d),u.child;case 14:return y=u.type,S=hr(y,u.pendingProps),S=hr(y.type,S),vv(a,u,y,S,d);case 15:return bv(a,u,u.type,u.pendingProps,d);case 17:return y=u.type,S=u.pendingProps,S=u.elementType===y?S:hr(y,S),Wu(a,u),u.tag=1,Rn(y)?(a=!0,Tu(u)):a=!1,ko(u,d),fv(u,y,S),Hh(u,y,S,d),$h(null,u,y,!0,a,d);case 19:return Rv(a,u,d);case 22:return xv(a,u,d)}throw Error(t(156,u.tag))};function Yv(a,u){return O0(a,u)}function q6(a,u,d,y){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tr(a,u,d,y){return new q6(a,u,d,y)}function fp(a){return a=a.prototype,!(!a||!a.isReactComponent)}function G6(a){if(typeof a=="function")return fp(a)?1:0;if(a!=null){if(a=a.$$typeof,a===B)return 11;if(a===G)return 14}return 2}function Mi(a,u){var d=a.alternate;return d===null?(d=tr(a.tag,u,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=u,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&14680064,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,u=a.dependencies,d.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d}function tc(a,u,d,y,S,R){var V=2;if(y=a,typeof a=="function")fp(a)&&(V=1);else if(typeof a=="string")V=5;else e:switch(a){case W:return Ts(d.children,S,R,u);case ee:V=8,S|=8;break;case F:return a=tr(12,d,u,S|2),a.elementType=F,a.lanes=R,a;case Y:return a=tr(13,d,u,S),a.elementType=Y,a.lanes=R,a;case N:return a=tr(19,d,u,S),a.elementType=N,a.lanes=R,a;case q:return nc(d,S,R,u);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case se:V=10;break e;case be:V=9;break e;case B:V=11;break e;case G:V=14;break e;case ue:V=16,y=null;break e}throw Error(t(130,a==null?a:typeof a,""))}return u=tr(V,d,u,S),u.elementType=a,u.type=y,u.lanes=R,u}function Ts(a,u,d,y){return a=tr(7,a,y,u),a.lanes=d,a}function nc(a,u,d,y){return a=tr(22,a,y,u),a.elementType=q,a.lanes=d,a.stateNode={isHidden:!1},a}function dp(a,u,d){return a=tr(6,a,null,u),a.lanes=d,a}function hp(a,u,d){return u=tr(4,a.children!==null?a.children:[],a.key,u),u.lanes=d,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}function Z6(a,u,d,y,S){this.tag=u,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zd(0),this.expirationTimes=zd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zd(0),this.identifierPrefix=y,this.onRecoverableError=S,this.mutableSourceEagerHydrationData=null}function pp(a,u,d,y,S,R,V,oe,ce){return a=new Z6(a,u,d,oe,ce),u===1?(u=1,R===!0&&(u|=8)):u=0,R=tr(3,null,null,u),a.current=R,R.stateNode=a,R.memoizedState={element:y,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ah(R),a}function X6(a,u,d){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:j,key:y==null?null:""+y,children:a,containerInfo:u,implementation:d}}function Qv(a){if(!a)return Si;a=a._reactInternals;e:{if(ps(a)!==a||a.tag!==1)throw Error(t(170));var u=a;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Rn(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(t(171))}if(a.tag===1){var d=a.type;if(Rn(d))return Aw(a,d,u)}return u}function e2(a,u,d,y,S,R,V,oe,ce){return a=pp(d,y,!0,a,S,R,V,oe,ce),a.context=Qv(null),d=a.current,y=bn(),S=Oi(d),R=Kr(y,S),R.callback=u??null,Ai(d,R,S),a.current.lanes=S,va(a,S,y),On(a,y),a}function rc(a,u,d,y){var S=u.current,R=bn(),V=Oi(S);return d=Qv(d),u.context===null?u.context=d:u.pendingContext=d,u=Kr(R,V),u.payload={element:a},y=y===void 0?null:y,y!==null&&(u.callback=y),a=Ai(S,u,V),a!==null&&(gr(a,S,V,R),Du(a,S,V)),V}function ic(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function t2(a,u){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<u?d:u}}function mp(a,u){t2(a,u),(a=a.alternate)&&t2(a,u)}var n2=typeof reportError=="function"?reportError:function(a){console.error(a)};function gp(a){this._internalRoot=a}sc.prototype.render=gp.prototype.render=function(a){var u=this._internalRoot;if(u===null)throw Error(t(409));rc(a,u,null,null)},sc.prototype.unmount=gp.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var u=a.containerInfo;Cs(function(){rc(null,a,null,null)}),u[Hr]=null}};function sc(a){this._internalRoot=a}sc.prototype.unstable_scheduleHydration=function(a){if(a){var u=j0();a={blockedOn:null,target:a,priority:u};for(var d=0;d<vi.length&&u!==0&&u<vi[d].priority;d++);vi.splice(d,0,a),d===0&&U0(a)}};function yp(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function oc(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function r2(){}function J6(a,u,d,y,S){if(S){if(typeof y=="function"){var R=y;y=function(){var xe=ic(V);R.call(xe)}}var V=e2(u,y,a,0,null,!1,!1,"",r2);return a._reactRootContainer=V,a[Hr]=V.current,Ma(a.nodeType===8?a.parentNode:a),Cs(),V}for(;S=a.lastChild;)a.removeChild(S);if(typeof y=="function"){var oe=y;y=function(){var xe=ic(ce);oe.call(xe)}}var ce=pp(a,0,!1,null,null,!1,!1,"",r2);return a._reactRootContainer=ce,a[Hr]=ce.current,Ma(a.nodeType===8?a.parentNode:a),Cs(function(){rc(u,ce,d,y)}),ce}function ac(a,u,d,y,S){var R=d._reactRootContainer;if(R){var V=R;if(typeof S=="function"){var oe=S;S=function(){var ce=ic(V);oe.call(ce)}}rc(u,V,a,S)}else V=J6(d,u,a,S,y);return ic(V)}F0=function(a){switch(a.tag){case 3:var u=a.stateNode;if(u.current.memoizedState.isDehydrated){var d=wa(u.pendingLanes);d!==0&&(Hd(u,d|1),On(u,Rt()),!(et&6)&&(No=Rt()+500,ki()))}break;case 13:Cs(function(){var y=$r(a,1);if(y!==null){var S=bn();gr(y,a,1,S)}}),mp(a,1)}},Ud=function(a){if(a.tag===13){var u=$r(a,134217728);if(u!==null){var d=bn();gr(u,a,134217728,d)}mp(a,134217728)}},B0=function(a){if(a.tag===13){var u=Oi(a),d=$r(a,u);if(d!==null){var y=bn();gr(d,a,u,y)}mp(a,u)}},j0=function(){return st},z0=function(a,u){var d=st;try{return st=a,u()}finally{st=d}},mi=function(a,u,d){switch(u){case"input":if(x(a,d),u=d.name,d.type==="radio"&&u!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<d.length;u++){var y=d[u];if(y!==a&&y.form===a.form){var S=Su(y);if(!S)throw Error(t(90));$(y),x(y,S)}}}break;case"textarea":we(a,d);break;case"select":u=d.value,u!=null&&ae(a,!!d.multiple,u,!1)}},S0=lp,k0=Cs;var Y6={usingClientEntryPoint:!1,Events:[Pa,yo,Su,E0,C0,lp]},Xa={findFiberByHostInstance:ms,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Q6={bundleType:Xa.bundleType,version:Xa.version,rendererPackageName:Xa.rendererPackageName,rendererConfig:Xa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=_0(a),a===null?null:a.stateNode},findFiberByHostInstance:Xa.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{su=lc.inject(Q6),Cr=lc}catch{}}return In.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y6,In.createPortal=function(a,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yp(u))throw Error(t(200));return X6(a,u,null,d)},In.createRoot=function(a,u){if(!yp(a))throw Error(t(299));var d=!1,y="",S=n2;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onRecoverableError!==void 0&&(S=u.onRecoverableError)),u=pp(a,1,!1,null,null,d,!1,y,S),a[Hr]=u.current,Ma(a.nodeType===8?a.parentNode:a),new gp(u)},In.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(t(188)):(a=Object.keys(a).join(","),Error(t(268,a)));return a=_0(u),a=a===null?null:a.stateNode,a},In.flushSync=function(a){return Cs(a)},In.hydrate=function(a,u,d){if(!oc(u))throw Error(t(200));return ac(null,a,u,!0,d)},In.hydrateRoot=function(a,u,d){if(!yp(a))throw Error(t(405));var y=d!=null&&d.hydratedSources||null,S=!1,R="",V=n2;if(d!=null&&(d.unstable_strictMode===!0&&(S=!0),d.identifierPrefix!==void 0&&(R=d.identifierPrefix),d.onRecoverableError!==void 0&&(V=d.onRecoverableError)),u=e2(u,null,a,1,d??null,S,!1,R,V),a[Hr]=u.current,Ma(a),y)for(a=0;a<y.length;a++)d=y[a],S=d._getVersion,S=S(d._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[d,S]:u.mutableSourceEagerHydrationData.push(d,S);return new sc(u)},In.render=function(a,u,d){if(!oc(u))throw Error(t(200));return ac(null,a,u,!1,d)},In.unmountComponentAtNode=function(a){if(!oc(a))throw Error(t(40));return a._reactRootContainer?(Cs(function(){ac(null,null,a,!1,function(){a._reactRootContainer=null,a[Hr]=null})}),!0):!1},In.unstable_batchedUpdates=lp,In.unstable_renderSubtreeIntoContainer=function(a,u,d,y){if(!oc(d))throw Error(t(200));if(a==null||a._reactInternals===void 0)throw Error(t(38));return ac(a,u,d,!1,y)},In.version="18.3.1-next-f1338f8080-20240426",In}var f2;function EC(){if(f2)return bp.exports;f2=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),bp.exports=a7(),bp.exports}var d2;function l7(){if(d2)return uc;d2=1;var n=EC();return uc.createRoot=n.createRoot,uc.hydrateRoot=n.hydrateRoot,uc}var u7=l7(),z=Jg();const Pt=xC(z),CC=t7({__proto__:null,default:Pt},[z]),c7=z.createContext({});function f7({children:n}){const[e,t]=z.useState(""),r={exemplo:e,setExemplo:t};return K.jsx(c7.Provider,{value:r,children:n})}function Qt(n){this.content=n}Qt.prototype={constructor:Qt,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var r=t&&t!=n?this.remove(t):this,i=r.find(n),s=r.content.slice();return i==-1?s.push(t||n,e):(s[i+1]=e,t&&(s[i]=t)),new Qt(s)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new Qt(t)},addToStart:function(n,e){return new Qt([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new Qt(t)},addBefore:function(n,e,t){var r=this.remove(e),i=r.content.slice(),s=r.find(n);return i.splice(s==-1?i.length:s,0,e,t),new Qt(i)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=Qt.from(n),n.size?new Qt(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=Qt.from(n),n.size?new Qt(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=Qt.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};Qt.from=function(n){if(n instanceof Qt)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new Qt(e)};function SC(n,e,t){for(let r=0;;r++){if(r==n.childCount||r==e.childCount)return n.childCount==e.childCount?null:t;let i=n.child(r),s=e.child(r);if(i==s){t+=i.nodeSize;continue}if(!i.sameMarkup(s))return t;if(i.isText&&i.text!=s.text){for(let o=0;i.text[o]==s.text[o];o++)t++;return t}if(i.content.size||s.content.size){let o=SC(i.content,s.content,t+1);if(o!=null)return o}t+=i.nodeSize}}function kC(n,e,t,r){for(let i=n.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:t,b:r};let o=n.child(--i),l=e.child(--s),c=o.nodeSize;if(o==l){t-=c,r-=c;continue}if(!o.sameMarkup(l))return{a:t,b:r};if(o.isText&&o.text!=l.text){let f=0,h=Math.min(o.text.length,l.text.length);for(;f<h&&o.text[o.text.length-f-1]==l.text[l.text.length-f-1];)f++,t--,r--;return{a:t,b:r}}if(o.content.size||l.content.size){let f=kC(o.content,l.content,t-1,r-1);if(f)return f}t-=c,r-=c}}class _e{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,i=0,s){for(let o=0,l=0;l<t;o++){let c=this.content[o],f=l+c.nodeSize;if(f>e&&r(c,i+l,s||null,o)!==!1&&c.content.size){let h=l+1;c.nodesBetween(Math.max(0,e-h),Math.min(c.content.size,t-h),r,i+h)}l=f}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,i){let s="",o=!0;return this.nodesBetween(e,t,(l,c)=>{let f=l.isText?l.text.slice(Math.max(e,c)-c,t-c):l.isLeaf?i?typeof i=="function"?i(l):i:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&f||l.isTextblock)&&r&&(o?o=!1:s+=r),s+=f},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(t.isText&&t.sameMarkup(r)&&(i[i.length-1]=t.withText(t.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new _e(i,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let r=[],i=0;if(t>e)for(let s=0,o=0;o<t;s++){let l=this.content[s],c=o+l.nodeSize;c>e&&((o<e||c>t)&&(l.isText?l=l.cut(Math.max(0,e-o),Math.min(l.text.length,t-o)):l=l.cut(Math.max(0,e-o-1),Math.min(l.content.size,t-o-1))),r.push(l),i+=l.nodeSize),o=c}return new _e(r,i)}cutByIndex(e,t){return e==t?_e.empty:e==0&&t==this.content.length?this:new _e(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let i=this.content.slice(),s=this.size+t.nodeSize-r.nodeSize;return i[e]=t,new _e(i,s)}addToStart(e){return new _e([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new _e(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let i=this.content[t];e(i,r,t),r+=i.nodeSize}}findDiffStart(e,t=0){return SC(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return kC(this,e,t,r)}findIndex(e,t=-1){if(e==0)return cc(0,e);if(e==this.size)return cc(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let s=this.child(r),o=i+s.nodeSize;if(o>=e)return o==e||t>0?cc(r+1,o):cc(r,i);i=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return _e.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new _e(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return _e.empty;let t,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(t||(t=e.slice(0,i)),t[t.length-1]=s.withText(t[t.length-1].text+s.text)):t&&t.push(s)}return new _e(t||e,r)}static from(e){if(!e)return _e.empty;if(e instanceof _e)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new _e([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}_e.empty=new _e([],0);const Cp={index:0,offset:0};function cc(n,e){return Cp.index=n,Cp.offset=e,Cp}function qc(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!qc(n[r],e[r]))return!1}else{for(let r in n)if(!(r in e)||!qc(n[r],e[r]))return!1;for(let r in e)if(!(r in n))return!1}return!0}let lt=class Q1{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))t||(t=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(t||(t=e.slice(0,i)),t.push(this),r=!0),t&&t.push(s)}}return t||(t=e.slice()),r||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&qc(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[t.type];if(!r)throw new RangeError(`There is no mark type ${t.type} in this schema`);let i=r.create(t.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(t[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Q1.none;if(e instanceof Q1)return[e];let t=e.slice();return t.sort((r,i)=>r.type.rank-i.type.rank),t}};lt.none=[];class Gc extends Error{}class De{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=AC(this.content,e+this.openStart,t);return r&&new De(r,this.openStart,this.openEnd)}removeBetween(e,t){return new De(TC(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return De.empty;let r=t.openStart||0,i=t.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new De(_e.fromJSON(e,t.content),r,i)}static maxOpen(e,t=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.lastChild)i++;return new De(e,r,i)}}De.empty=new De(_e.empty,0,0);function TC(n,e,t){let{index:r,offset:i}=n.findIndex(e),s=n.maybeChild(r),{index:o,offset:l}=n.findIndex(t);if(i==e||s.isText){if(l!=t&&!n.child(o).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(r!=o)throw new RangeError("Removing non-flat range");return n.replaceChild(r,s.copy(TC(s.content,e-i-1,t-i-1)))}function AC(n,e,t,r){let{index:i,offset:s}=n.findIndex(e),o=n.maybeChild(i);if(s==e||o.isText)return n.cut(0,e).append(t).append(n.cut(e));let l=AC(o.content,e-s-1,t);return l&&n.replaceChild(i,o.copy(l))}function d7(n,e,t){if(t.openStart>n.depth)throw new Gc("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new Gc("Inconsistent open depths");return RC(n,e,t,0)}function RC(n,e,t,r){let i=n.index(r),s=n.node(r);if(i==e.index(r)&&r<n.depth-t.openStart){let o=RC(n,e,t,r+1);return s.copy(s.content.replaceChild(i,o))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==r&&e.depth==r){let o=n.parent,l=o.content;return $s(o,l.cut(0,n.parentOffset).append(t.content).append(l.cut(e.parentOffset)))}else{let{start:o,end:l}=h7(t,n);return $s(s,NC(n,o,l,e,r))}else return $s(s,Zc(n,e,r))}function _C(n,e){if(!e.type.compatibleContent(n.type))throw new Gc("Cannot join "+e.type.name+" onto "+n.type.name)}function eg(n,e,t){let r=n.node(t);return _C(r,e.node(t)),r}function Ws(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function dl(n,e,t,r){let i=(e||n).node(t),s=0,o=e?e.index(t):i.childCount;n&&(s=n.index(t),n.depth>t?s++:n.textOffset&&(Ws(n.nodeAfter,r),s++));for(let l=s;l<o;l++)Ws(i.child(l),r);e&&e.depth==t&&e.textOffset&&Ws(e.nodeBefore,r)}function $s(n,e){return n.type.checkContent(e),n.copy(e)}function NC(n,e,t,r,i){let s=n.depth>i&&eg(n,e,i+1),o=r.depth>i&&eg(t,r,i+1),l=[];return dl(null,n,i,l),s&&o&&e.index(i)==t.index(i)?(_C(s,o),Ws($s(s,NC(n,e,t,r,i+1)),l)):(s&&Ws($s(s,Zc(n,e,i+1)),l),dl(e,t,i,l),o&&Ws($s(o,Zc(t,r,i+1)),l)),dl(r,null,i,l),new _e(l)}function Zc(n,e,t){let r=[];if(dl(null,n,t,r),n.depth>t){let i=eg(n,e,t+1);Ws($s(i,Zc(n,e,t+1)),r)}return dl(e,null,t,r),new _e(r)}function h7(n,e){let t=e.depth-n.openStart,i=e.node(t).copy(n.content);for(let s=t-1;s>=0;s--)i=e.node(s).copy(_e.from(i));return{start:i.resolveNoCache(n.openStart+t),end:i.resolveNoCache(i.content.size-n.openEnd-t)}}class kl{constructor(e,t,r){this.pos=e,this.path=t,this.parentOffset=r,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(t);return r?e.child(t).cut(r):i}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let r=this.path[t*3],i=t==0?0:this.path[t*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return lt.none;if(this.textOffset)return e.child(t).marks;let r=e.maybeChild(t-1),i=e.maybeChild(t);if(!r){let l=r;r=i,i=l}let s=r.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!i||!s[o].isInSet(i.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let r=t.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!t||t(this.node(r))))return new Xc(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let r=[],i=0,s=t;for(let o=e;;){let{index:l,offset:c}=o.content.findIndex(s),f=s-c;if(r.push(o,l,i+c),!f||(o=o.child(l),o.isText))break;s=f-1,i+=c+1}return new kl(t,r,s)}static resolveCached(e,t){let r=h2.get(e);if(r)for(let s=0;s<r.elts.length;s++){let o=r.elts[s];if(o.pos==t)return o}else h2.set(e,r=new p7);let i=r.elts[r.i]=kl.resolve(e,t);return r.i=(r.i+1)%m7,i}}class p7{constructor(){this.elts=[],this.i=0}}const m7=12,h2=new WeakMap;class Xc{constructor(e,t,r){this.$from=e,this.$to=t,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const g7=Object.create(null);let Zi=class tg{constructor(e,t,r,i=lt.none){this.type=e,this.attrs=t,this.marks=i,this.content=r||_e.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,r,i=0){this.content.nodesBetween(e,t,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,r,i){return this.content.textBetween(e,t,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,r){return this.type==e&&qc(this.attrs,t||e.defaultAttrs||g7)&&lt.sameSet(this.marks,r||lt.none)}copy(e=null){return e==this.content?this:new tg(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new tg(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,r=!1){if(e==t)return De.empty;let i=this.resolve(e),s=this.resolve(t),o=r?0:i.sharedDepth(t),l=i.start(o),f=i.node(o).content.cut(i.pos-l,s.pos-l);return new De(f,i.depth-o,s.depth-o)}replace(e,t,r){return d7(this.resolve(e),this.resolve(t),r)}nodeAt(e){for(let t=this;;){let{index:r,offset:i}=t.content.findIndex(e);if(t=t.maybeChild(r),!t)return null;if(i==e||t.isText)return t;e-=i+1}}childAfter(e){let{index:t,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(t),index:t,offset:r};let i=this.content.child(t-1);return{node:i,index:t-1,offset:r-i.nodeSize}}resolve(e){return kl.resolveCached(this,e)}resolveNoCache(e){return kl.resolve(this,e)}rangeHasMark(e,t,r){let i=!1;return t>e&&this.nodesBetween(e,t,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),OC(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,r=_e.empty,i=0,s=r.childCount){let o=this.contentMatchAt(e).matchFragment(r,i,s),l=o&&o.matchFragment(this.content,t);if(!l||!l.validEnd)return!1;for(let c=i;c<s;c++)if(!this.type.allowsMarks(r.child(c).marks))return!1;return!0}canReplaceWith(e,t,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),o=s&&s.matchFragment(this.content,t);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=lt.none;for(let t=0;t<this.marks.length;t++){let r=this.marks[t];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!lt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let r;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,r)}let i=_e.fromJSON(e,t.content),s=e.nodeType(t.type).create(t.attrs,i,r);return s.type.checkAttrs(s.attrs),s}};Zi.prototype.text=void 0;class Jc extends Zi{constructor(e,t,r,i){if(super(e,t,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):OC(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Jc(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Jc(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function OC(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class Js{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let r=new y7(e,t);if(r.next==null)return Js.empty;let i=IC(r);r.next&&r.err("Unexpected trailing text");let s=S7(C7(i));return k7(s,r),s}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,r=e.childCount){let i=this;for(let s=t;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let r=0;r<e.next.length;r++)if(this.next[t].type==e.next[r].type)return!0;return!1}fillBefore(e,t=!1,r=0){let i=[this];function s(o,l){let c=o.matchFragment(e,r);if(c&&(!t||c.validEnd))return _e.from(l.map(f=>f.createAndFill()));for(let f=0;f<o.next.length;f++){let{type:h,next:p}=o.next[f];if(!(h.isText||h.hasRequiredAttrs())&&i.indexOf(p)==-1){i.push(p);let g=s(p,l.concat(h));if(g)return g}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let o=[];for(let l=i;l.type;l=l.via)o.push(l.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:l,next:c}=s.next[o];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in t)&&(!i.type||c.validEnd)&&(r.push({match:l.contentMatch,type:l,via:i}),t[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&t(r.next[i].next)}return t(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)s+=(o?", ":"")+r.next[o].type.name+"->"+e.indexOf(r.next[o].next);return s}).join(`
`)}}Js.empty=new Js(!0);class y7{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function IC(n){let e=[];do e.push(w7(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function w7(n){let e=[];do e.push(v7(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function v7(n){let e=E7(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=b7(n,e);else break;return e}function p2(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function b7(n,e){let t=p2(n),r=t;return n.eat(",")&&(n.next!="}"?r=p2(n):r=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:r,expr:e}}function x7(n,e){let t=n.nodeTypes,r=t[e];if(r)return[r];let i=[];for(let s in t){let o=t[s];o.isInGroup(e)&&i.push(o)}return i.length==0&&n.err("No node type or group '"+e+"' found"),i}function E7(n){if(n.eat("(")){let e=IC(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=x7(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function C7(n){let e=[[]];return i(s(n,0),t()),e;function t(){return e.push([])-1}function r(o,l,c){let f={term:c,to:l};return e[o].push(f),f}function i(o,l){o.forEach(c=>c.to=l)}function s(o,l){if(o.type=="choice")return o.exprs.reduce((c,f)=>c.concat(s(f,l)),[]);if(o.type=="seq")for(let c=0;;c++){let f=s(o.exprs[c],l);if(c==o.exprs.length-1)return f;i(f,l=t())}else if(o.type=="star"){let c=t();return r(l,c),i(s(o.expr,c),c),[r(c)]}else if(o.type=="plus"){let c=t();return i(s(o.expr,l),c),i(s(o.expr,c),c),[r(c)]}else{if(o.type=="opt")return[r(l)].concat(s(o.expr,l));if(o.type=="range"){let c=l;for(let f=0;f<o.min;f++){let h=t();i(s(o.expr,c),h),c=h}if(o.max==-1)i(s(o.expr,c),c);else for(let f=o.min;f<o.max;f++){let h=t();r(c,h),i(s(o.expr,c),h),c=h}return[r(c)]}else{if(o.type=="name")return[r(l,void 0,o.value)];throw new Error("Unknown expr type")}}}}function MC(n,e){return e-n}function m2(n,e){let t=[];return r(e),t.sort(MC);function r(i){let s=n[i];if(s.length==1&&!s[0].term)return r(s[0].to);t.push(i);for(let o=0;o<s.length;o++){let{term:l,to:c}=s[o];!l&&t.indexOf(c)==-1&&r(c)}}}function S7(n){let e=Object.create(null);return t(m2(n,0));function t(r){let i=[];r.forEach(o=>{n[o].forEach(({term:l,to:c})=>{if(!l)return;let f;for(let h=0;h<i.length;h++)i[h][0]==l&&(f=i[h][1]);m2(n,c).forEach(h=>{f||i.push([l,f=[]]),f.indexOf(h)==-1&&f.push(h)})})});let s=e[r.join(",")]=new Js(r.indexOf(n.length-1)>-1);for(let o=0;o<i.length;o++){let l=i[o][1].sort(MC);s.next.push({type:i[o][0],next:e[l.join(",")]||t(l)})}return s}}function k7(n,e){for(let t=0,r=[n];t<r.length;t++){let i=r[t],s=!i.validEnd,o=[];for(let l=0;l<i.next.length;l++){let{type:c,next:f}=i.next[l];o.push(c.name),s&&!(c.isText||c.hasRequiredAttrs())&&(s=!1),r.indexOf(f)==-1&&r.push(f)}s&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function DC(n){let e=Object.create(null);for(let t in n){let r=n[t];if(!r.hasDefault)return null;e[t]=r.default}return e}function LC(n,e){let t=Object.create(null);for(let r in n){let i=e&&e[r];if(i===void 0){let s=n[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}t[r]=i}return t}function PC(n,e,t,r){for(let i in e)if(!(i in n))throw new RangeError(`Unsupported attribute ${i} for ${t} of type ${i}`);for(let i in n){let s=n[i];s.validate&&s.validate(e[i])}}function FC(n,e){let t=Object.create(null);if(e)for(let r in e)t[r]=new A7(n,r,e[r]);return t}let g2=class BC{constructor(e,t,r){this.name=e,this.schema=t,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=FC(e,r.attrs),this.defaultAttrs=DC(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Js.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:LC(this.attrs,e)}create(e=null,t,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Zi(this,this.computeAttrs(e),_e.from(t),lt.setFrom(r))}createChecked(e=null,t,r){return t=_e.from(t),this.checkContent(t),new Zi(this,this.computeAttrs(e),t,lt.setFrom(r))}createAndFill(e=null,t,r){if(e=this.computeAttrs(e),t=_e.from(t),t.size){let o=this.contentMatch.fillBefore(t);if(!o)return null;t=o.append(t)}let i=this.contentMatch.matchFragment(t),s=i&&i.fillBefore(_e.empty,!0);return s?new Zi(this,e,t.append(s),lt.setFrom(r)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){PC(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?t&&t.push(e[r]):t||(t=e.slice(0,r));return t?t.length?t:lt.none:e}static compile(e,t){let r=Object.create(null);e.forEach((s,o)=>r[s]=new BC(s,t,o));let i=t.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function T7(n,e,t){let r=t.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${n}, got ${s}`)}}class A7{constructor(e,t,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?T7(e,t,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Zf{constructor(e,t,r,i){this.name=e,this.rank=t,this.schema=r,this.spec=i,this.attrs=FC(e,i.attrs),this.excluded=null;let s=DC(this.attrs);this.instance=s?new lt(this,s):null}create(e=null){return!e&&this.instance?this.instance:new lt(this,LC(this.attrs,e))}static compile(e,t){let r=Object.create(null),i=0;return e.forEach((s,o)=>r[s]=new Zf(s,i++,t,o)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){PC(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class jC{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let i in e)t[i]=e[i];t.nodes=Qt.from(e.nodes),t.marks=Qt.from(e.marks||{}),this.nodes=g2.compile(this.spec.nodes,this),this.marks=Zf.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],o=s.spec.content||"",l=s.spec.marks;if(s.contentMatch=r[o]||(r[o]=Js.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=l=="_"?null:l?y2(this,l.split(" ")):l==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:y2(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof g2){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,r,i)}text(e,t){let r=this.nodes.text;return new Jc(r,r.defaultAttrs,e,lt.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return Zi.fromJSON(this,e)}markFromJSON(e){return lt.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function y2(n,e){let t=[];for(let r=0;r<e.length;r++){let i=e[r],s=n.marks[i],o=s;if(s)t.push(s);else for(let l in n.marks){let c=n.marks[l];(i=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(i)>-1)&&t.push(o=c)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return t}function R7(n){return n.tag!=null}function _7(n){return n.style!=null}class Xi{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let r=this.matchedStyles=[];t.forEach(i=>{if(R7(i))this.tags.push(i);else if(_7(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,t={}){let r=new v2(this,t,!1);return r.addAll(e,lt.none,t.from,t.to),r.finish()}parseSlice(e,t={}){let r=new v2(this,t,!0);return r.addAll(e,lt.none,t.from,t.to),De.maxOpen(r.finish())}matchTag(e,t,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(I7(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||t.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(e);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(e,t,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let o=this.styles[s],l=o.style;if(!(l.indexOf(e)!=0||o.context&&!r.matchesContext(o.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=t))){if(o.getAttrs){let c=o.getAttrs(t);if(c===!1)continue;o.attrs=c||void 0}return o}}}static schemaRules(e){let t=[];function r(i){let s=i.priority==null?50:i.priority,o=0;for(;o<t.length;o++){let l=t[o];if((l.priority==null?50:l.priority)<s)break}t.splice(o,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(o=>{r(o=b2(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(o=>{r(o=b2(o)),o.node||o.ignore||o.mark||(o.node=i)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Xi(e,Xi.schemaRules(e)))}}const zC={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},N7={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},HC={ol:!0,ul:!0},Tl=1,ng=2,Fc=4;function w2(n,e,t){return e!=null?(e?Tl:0)|(e==="full"?ng:0):n&&n.whitespace=="pre"?Tl|ng:t&-5}class fc{constructor(e,t,r,i,s,o){this.type=e,this.attrs=t,this.marks=r,this.solid=i,this.options=o,this.content=[],this.activeMarks=lt.none,this.match=s||(o&Fc?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(_e.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Tl)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let t=_e.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(_e.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!zC.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class v2{constructor(e,t,r){this.parser=e,this.options=t,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=t.topNode,s,o=w2(null,t.preserveWhitespace,0)|(r?Fc:0);i?s=new fc(i.type,i.attrs,lt.none,!0,t.topMatch||i.type.contentMatch,o):r?s=new fc(null,null,lt.none,!0,null,o):s=new fc(e.schema.topNodeType,null,lt.none,!0,null,o),this.nodes=[s],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let r=e.nodeValue,i=this.top,s=i.options&ng?"full":this.localPreserveWS||(i.options&Tl)>0;if(s==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(s)s!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let o=i.content[i.content.length-1],l=e.previousSibling;(!o||l&&l.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),t),this.findInText(e)}else this.findInside(e)}addElement(e,t,r){let i=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),l;HC.hasOwnProperty(o)&&this.parser.normalizeLists&&O7(e);let c=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(l=this.parser.matchTag(e,this,r));e:if(c?c.ignore:N7.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,t);else if(!c||c.skip||c.closeParent){c&&c.closeParent?this.open=Math.max(0,this.open-1):c&&c.skip.nodeType&&(e=c.skip);let f,h=this.needsBlock;if(zC.hasOwnProperty(o))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),f=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let p=c&&c.skip?t:this.readStyles(e,t);p&&this.addAll(e,p),f&&this.sync(s),this.needsBlock=h}else{let f=this.readStyles(e,t);f&&this.addElementByRule(e,c,f,c.consuming===!1?l:void 0)}this.localPreserveWS=i}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t)}readStyles(e,t){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],o=r.getPropertyValue(s);if(o)for(let l=void 0;;){let c=this.parser.matchStyle(s,o,this,l);if(!c)break;if(c.ignore)return null;if(c.clearMark?t=t.filter(f=>!c.clearMark(f)):t=t.concat(this.parser.schema.marks[c.mark].create(c.attrs)),c.consuming===!1)l=c;else break}}return t}addElementByRule(e,t,r,i){let s,o;if(t.node)if(o=this.parser.schema.nodes[t.node],o.isLeaf)this.insertNode(o.create(t.attrs),r)||this.leafFallback(e,r);else{let c=this.enter(o,t.attrs||null,r,t.preserveWhitespace);c&&(s=!0,r=c)}else{let c=this.parser.schema.marks[t.mark];r=r.concat(c.create(t.attrs))}let l=this.top;if(o&&o.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(c=>this.insertNode(c,r));else{let c=e;typeof t.contentElement=="string"?c=e.querySelector(t.contentElement):typeof t.contentElement=="function"?c=t.contentElement(e):t.contentElement&&(c=t.contentElement),this.findAround(e,c,!0),this.addAll(c,r),this.findAround(e,c,!1)}s&&this.sync(l)&&this.open--}addAll(e,t,r,i){let s=r||0;for(let o=r?e.childNodes[r]:e.firstChild,l=i==null?null:e.childNodes[i];o!=l;o=o.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(o,t);this.findAtPoint(e,s)}findPlace(e,t){let r,i;for(let s=this.open;s>=0;s--){let o=this.nodes[s],l=o.findWrapping(e);if(l&&(!r||r.length>l.length)&&(r=l,i=o,!l.length)||o.solid)break}if(!r)return null;this.sync(i);for(let s=0;s<r.length;s++)t=this.enterInner(r[s],null,t,!1);return t}insertNode(e,t){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(t=this.enterInner(i,null,t))}let r=this.findPlace(e,t);if(r){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let s=lt.none;for(let o of r.concat(e.marks))(i.type?i.type.allowsMarkType(o.type):x2(o.type,e.type))&&(s=o.addToSet(s));return i.content.push(e.mark(s)),!0}return!1}enter(e,t,r,i){let s=this.findPlace(e.create(t),r);return s&&(s=this.enterInner(e,t,r,!0,i)),s}enterInner(e,t,r,i=!1,s){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let l=w2(e,s,o.options);o.options&Fc&&o.content.length==0&&(l|=Fc);let c=lt.none;return r=r.filter(f=>(o.type?o.type.allowsMarkType(f.type):x2(f.type,e))?(c=f.addToSet(c),!1):!0),this.nodes.push(new fc(e,t,c,i,null,l)),this.open++,r}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=Tl)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let r=this.nodes[t].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==t&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,r){if(e!=t&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&t.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),o=(l,c)=>{for(;l>=0;l--){let f=t[l];if(f==""){if(l==t.length-1||l==0)continue;for(;c>=s;c--)if(o(l-1,c))return!0;return!1}else{let h=c>0||c==0&&i?this.nodes[c].type:r&&c>=s?r.node(c-s).type:null;if(!h||h.name!=f&&!h.isInGroup(f))return!1;c--}}return!0};return o(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let r=this.parser.schema.nodes[t];if(r.isTextblock&&r.defaultAttrs)return r}}}function O7(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&HC.hasOwnProperty(r)&&t?(t.appendChild(e),e=t):r=="li"?t=e:r&&(t=null)}}function I7(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function b2(n){let e={};for(let t in n)e[t]=n[t];return e}function x2(n,e){let t=e.schema.nodes;for(let r in t){let i=t[r];if(!i.allowsMarkType(n))continue;let s=[],o=l=>{s.push(l);for(let c=0;c<l.edgeCount;c++){let{type:f,next:h}=l.edge(c);if(f==e||s.indexOf(h)<0&&o(h))return!0}};if(o(i.contentMatch))return!0}}class io{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},r){r||(r=Sp(t).createDocumentFragment());let i=r,s=[];return e.forEach(o=>{if(s.length||o.marks.length){let l=0,c=0;for(;l<s.length&&c<o.marks.length;){let f=o.marks[c];if(!this.marks[f.type.name]){c++;continue}if(!f.eq(s[l][0])||f.type.spec.spanning===!1)break;l++,c++}for(;l<s.length;)i=s.pop()[1];for(;c<o.marks.length;){let f=o.marks[c++],h=this.serializeMark(f,o.isInline,t);h&&(s.push([f,i]),i.appendChild(h.dom),i=h.contentDOM||h.dom)}}i.appendChild(this.serializeNodeInner(o,t))}),r}serializeNodeInner(e,t){let{dom:r,contentDOM:i}=Bc(Sp(t),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,i)}return r}serializeNode(e,t={}){let r=this.serializeNodeInner(e,t);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,t);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,t,r={}){let i=this.marks[e.type.name];return i&&Bc(Sp(r),i(e,t),null,e.attrs)}static renderSpec(e,t,r=null,i){return Bc(e,t,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new io(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=E2(e.nodes);return t.text||(t.text=r=>r.text),t}static marksFromSchema(e){return E2(e.marks)}}function E2(n){let e={};for(let t in n){let r=n[t].spec.toDOM;r&&(e[t]=r)}return e}function Sp(n){return n.document||window.document}const C2=new WeakMap;function M7(n){let e=C2.get(n);return e===void 0&&C2.set(n,e=D7(n)),e}function D7(n){let e=null;function t(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)t(r[i]);else for(let i in r)t(r[i])}return t(n),e}function Bc(n,e,t,r){if(typeof e=="string")return{dom:n.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=M7(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=i.indexOf(" ");o>0&&(t=i.slice(0,o),i=i.slice(o+1));let l,c=t?n.createElementNS(t,i):n.createElement(i),f=e[1],h=1;if(f&&typeof f=="object"&&f.nodeType==null&&!Array.isArray(f)){h=2;for(let p in f)if(f[p]!=null){let g=p.indexOf(" ");g>0?c.setAttributeNS(p.slice(0,g),p.slice(g+1),f[p]):c.setAttribute(p,f[p])}}for(let p=h;p<e.length;p++){let g=e[p];if(g===0){if(p<e.length-1||p>h)throw new RangeError("Content hole must be the only child of its parent node");return{dom:c,contentDOM:c}}else{let{dom:m,contentDOM:w}=Bc(n,g,t,r);if(c.appendChild(m),w){if(l)throw new RangeError("Multiple content holes");l=w}}}return{dom:c,contentDOM:l}}const UC=65535,VC=Math.pow(2,16);function L7(n,e){return n+e*VC}function S2(n){return n&UC}function P7(n){return(n-(n&UC))/VC}const WC=1,$C=2,jc=4,KC=8;class rg{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&KC)>0}get deletedBefore(){return(this.delInfo&(WC|jc))>0}get deletedAfter(){return(this.delInfo&($C|jc))>0}get deletedAcross(){return(this.delInfo&jc)>0}}class $n{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&$n.empty)return $n.empty}recover(e){let t=0,r=S2(e);if(!this.inverted)for(let i=0;i<r;i++)t+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+t+P7(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let i=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?i:0);if(c>e)break;let f=this.ranges[l+s],h=this.ranges[l+o],p=c+f;if(e<=p){let g=f?e==c?-1:e==p?1:t:t,m=c+i+(g<0?0:h);if(r)return m;let w=e==(t<0?c:p)?null:L7(l/3,e-c),v=e==c?$C:e==p?WC:jc;return(t<0?e!=c:e!=p)&&(v|=KC),new rg(m,v,w)}i+=h-f}return r?e+i:new rg(e+i,0,null)}touches(e,t){let r=0,i=S2(t),s=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?r:0);if(c>e)break;let f=this.ranges[l+s],h=c+f;if(e<=h&&l==i*3)return!0;r+=this.ranges[l+o]-f}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let o=this.ranges[i],l=o-(this.inverted?s:0),c=o+(this.inverted?0:s),f=this.ranges[i+t],h=this.ranges[i+r];e(l,l+f,c,c+h),s+=h-f}}invert(){return new $n(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?$n.empty:new $n(e<0?[0,-e,0]:[0,0,e])}}$n.empty=new $n([]);class Al{constructor(e,t,r=0,i=e?e.length:0){this.mirror=t,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new Al(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),t!=null&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,r=this._maps.length;t<e._maps.length;t++){let i=e.getMirror(t);this.appendMap(e._maps[t],i!=null&&i<t?r+i:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,r=this._maps.length+e._maps.length;t>=0;t--){let i=e.getMirror(t);this.appendMap(e._maps[t].invert(),i!=null&&i>t?r-i-1:void 0)}}invert(){let e=new Al;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,r){let i=0;for(let s=this.from;s<this.to;s++){let o=this._maps[s],l=o.mapResult(e,t);if(l.recover!=null){let c=this.getMirror(s);if(c!=null&&c>s&&c<this.to){s=c,e=this._maps[c].recover(l.recover);continue}}i|=l.delInfo,e=l.pos}return r?e:new rg(e,i,null)}}const kp=Object.create(null);class gn{getMap(){return $n.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=kp[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in kp)throw new RangeError("Duplicate use of step JSON ID "+e);return kp[e]=t,t.prototype.jsonID=e,t}}class Bt{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new Bt(e,null)}static fail(e){return new Bt(null,e)}static fromReplace(e,t,r,i){try{return Bt.ok(e.replace(t,r,i))}catch(s){if(s instanceof Gc)return Bt.fail(s.message);throw s}}}function Yg(n,e,t){let r=[];for(let i=0;i<n.childCount;i++){let s=n.child(i);s.content.size&&(s=s.copy(Yg(s.content,e,s))),s.isInline&&(s=e(s,t,i)),r.push(s)}return _e.fromArray(r)}class Ki extends gn{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new De(Yg(t.content,(o,l)=>!o.isAtom||!l.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),t.openStart,t.openEnd);return Bt.fromReplace(e,this.from,this.to,s)}invert(){return new Dr(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Ki(t.pos,r.pos,this.mark)}merge(e){return e instanceof Ki&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ki(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Ki(t.from,t.to,e.markFromJSON(t.mark))}}gn.jsonID("addMark",Ki);class Dr extends gn{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new De(Yg(t.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),t.openStart,t.openEnd);return Bt.fromReplace(e,this.from,this.to,r)}invert(){return new Ki(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Dr(t.pos,r.pos,this.mark)}merge(e){return e instanceof Dr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Dr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Dr(t.from,t.to,e.markFromJSON(t.mark))}}gn.jsonID("removeMark",Dr);class qi extends gn{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Bt.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return Bt.fromReplace(e,this.pos,this.pos+1,new De(_e.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let i=0;i<t.marks.length;i++)if(!t.marks[i].isInSet(r))return new qi(this.pos,t.marks[i]);return new qi(this.pos,this.mark)}}return new Jo(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new qi(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new qi(t.pos,e.markFromJSON(t.mark))}}gn.jsonID("addNodeMark",qi);class Jo extends gn{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Bt.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return Bt.fromReplace(e,this.pos,this.pos+1,new De(_e.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new qi(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Jo(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Jo(t.pos,e.markFromJSON(t.mark))}}gn.jsonID("removeNodeMark",Jo);class qt extends gn{constructor(e,t,r,i=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=i}apply(e){return this.structure&&ig(e,this.from,this.to)?Bt.fail("Structure replace would overwrite content"):Bt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new $n([this.from,this.to-this.from,this.slice.size])}invert(e){return new qt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new qt(t.pos,Math.max(t.pos,r.pos),this.slice)}merge(e){if(!(e instanceof qt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?De.empty:new De(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new qt(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?De.empty:new De(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new qt(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new qt(t.from,t.to,De.fromJSON(e,t.slice),!!t.structure)}}gn.jsonID("replace",qt);class Gt extends gn{constructor(e,t,r,i,s,o,l=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=o,this.structure=l}apply(e){if(this.structure&&(ig(e,this.from,this.gapFrom)||ig(e,this.gapTo,this.to)))return Bt.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return Bt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?Bt.fromReplace(e,this.from,this.to,r):Bt.fail("Content does not fit in gap")}getMap(){return new $n([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new Gt(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||i<t.pos||s>r.pos?null:new Gt(t.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Gt(t.from,t.to,t.gapFrom,t.gapTo,De.fromJSON(e,t.slice),t.insert,!!t.structure)}}gn.jsonID("replaceAround",Gt);function ig(n,e,t){let r=n.resolve(e),i=t-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let o=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function F7(n,e,t,r){let i=[],s=[],o,l;n.doc.nodesBetween(e,t,(c,f,h)=>{if(!c.isInline)return;let p=c.marks;if(!r.isInSet(p)&&h.type.allowsMarkType(r.type)){let g=Math.max(f,e),m=Math.min(f+c.nodeSize,t),w=r.addToSet(p);for(let v=0;v<p.length;v++)p[v].isInSet(w)||(o&&o.to==g&&o.mark.eq(p[v])?o.to=m:i.push(o=new Dr(g,m,p[v])));l&&l.to==g?l.to=m:s.push(l=new Ki(g,m,r))}}),i.forEach(c=>n.step(c)),s.forEach(c=>n.step(c))}function B7(n,e,t,r){let i=[],s=0;n.doc.nodesBetween(e,t,(o,l)=>{if(!o.isInline)return;s++;let c=null;if(r instanceof Zf){let f=o.marks,h;for(;h=r.isInSet(f);)(c||(c=[])).push(h),f=h.removeFromSet(f)}else r?r.isInSet(o.marks)&&(c=[r]):c=o.marks;if(c&&c.length){let f=Math.min(l+o.nodeSize,t);for(let h=0;h<c.length;h++){let p=c[h],g;for(let m=0;m<i.length;m++){let w=i[m];w.step==s-1&&p.eq(i[m].style)&&(g=w)}g?(g.to=f,g.step=s):i.push({style:p,from:Math.max(l,e),to:f,step:s})}}}),i.forEach(o=>n.step(new Dr(o.from,o.to,o.style)))}function Qg(n,e,t,r=t.contentMatch,i=!0){let s=n.doc.nodeAt(e),o=[],l=e+1;for(let c=0;c<s.childCount;c++){let f=s.child(c),h=l+f.nodeSize,p=r.matchType(f.type);if(!p)o.push(new qt(l,h,De.empty));else{r=p;for(let g=0;g<f.marks.length;g++)t.allowsMarkType(f.marks[g].type)||n.step(new Dr(l,h,f.marks[g]));if(i&&f.isText&&t.whitespace!="pre"){let g,m=/\r?\n|\r/g,w;for(;g=m.exec(f.text);)w||(w=new De(_e.from(t.schema.text(" ",t.allowedMarks(f.marks))),0,0)),o.push(new qt(l+g.index,l+g.index+g[0].length,w))}}l=h}if(!r.validEnd){let c=r.fillBefore(_e.empty,!0);n.replace(l,l,new De(c,0,0))}for(let c=o.length-1;c>=0;c--)n.step(o[c])}function j7(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function fa(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth;;--r){let i=n.$from.node(r),s=n.$from.index(r),o=n.$to.indexAfter(r);if(r<n.depth&&i.canReplace(s,o,t))return r;if(r==0||i.type.spec.isolating||!j7(i,s,o))break}return null}function z7(n,e,t){let{$from:r,$to:i,depth:s}=e,o=r.before(s+1),l=i.after(s+1),c=o,f=l,h=_e.empty,p=0;for(let w=s,v=!1;w>t;w--)v||r.index(w)>0?(v=!0,h=_e.from(r.node(w).copy(h)),p++):c--;let g=_e.empty,m=0;for(let w=s,v=!1;w>t;w--)v||i.after(w+1)<i.end(w)?(v=!0,g=_e.from(i.node(w).copy(g)),m++):f++;n.step(new Gt(c,f,o,l,new De(h.append(g),p,m),h.size-p,!0))}function ey(n,e,t=null,r=n){let i=H7(n,e),s=i&&U7(r,e);return s?i.map(k2).concat({type:e,attrs:t}).concat(s.map(k2)):null}function k2(n){return{type:n,attrs:null}}function H7(n,e){let{parent:t,startIndex:r,endIndex:i}=n,s=t.contentMatchAt(r).findWrapping(e);if(!s)return null;let o=s.length?s[0]:e;return t.canReplaceWith(r,i,o)?s:null}function U7(n,e){let{parent:t,startIndex:r,endIndex:i}=n,s=t.child(r),o=e.contentMatch.findWrapping(s.type);if(!o)return null;let c=(o.length?o[o.length-1]:e).contentMatch;for(let f=r;c&&f<i;f++)c=c.matchType(t.child(f).type);return!c||!c.validEnd?null:o}function V7(n,e,t){let r=_e.empty;for(let o=t.length-1;o>=0;o--){if(r.size){let l=t[o].type.contentMatch.matchFragment(r);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=_e.from(t[o].type.create(t[o].attrs,r))}let i=e.start,s=e.end;n.step(new Gt(i,s,i,s,new De(r,0,0),t.length,!0))}function W7(n,e,t,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=n.steps.length;n.doc.nodesBetween(e,t,(o,l)=>{let c=typeof i=="function"?i(o):i;if(o.isTextblock&&!o.hasMarkup(r,c)&&$7(n.doc,n.mapping.slice(s).map(l),r)){let f=null;if(r.schema.linebreakReplacement){let m=r.whitespace=="pre",w=!!r.contentMatch.matchType(r.schema.linebreakReplacement);m&&!w?f=!1:!m&&w&&(f=!0)}f===!1&&GC(n,o,l,s),Qg(n,n.mapping.slice(s).map(l,1),r,void 0,f===null);let h=n.mapping.slice(s),p=h.map(l,1),g=h.map(l+o.nodeSize,1);return n.step(new Gt(p,g,p+1,g-1,new De(_e.from(r.create(c,null,o.marks)),0,0),1,!0)),f===!0&&qC(n,o,l,s),!1}})}function qC(n,e,t,r){e.forEach((i,s)=>{if(i.isText){let o,l=/\r?\n|\r/g;for(;o=l.exec(i.text);){let c=n.mapping.slice(r).map(t+1+s+o.index);n.replaceWith(c,c+1,e.type.schema.linebreakReplacement.create())}}})}function GC(n,e,t,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let o=n.mapping.slice(r).map(t+1+s);n.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function $7(n,e,t){let r=n.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,t)}function K7(n,e,t,r,i){let s=n.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");t||(t=s.type);let o=t.create(r,null,i||s.marks);if(s.isLeaf)return n.replaceWith(e,e+s.nodeSize,o);if(!t.validContent(s.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new Gt(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new De(_e.from(o),0,0),1,!0))}function Wo(n,e,t=1,r){let i=n.resolve(e),s=i.depth-t,o=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let f=i.depth-1,h=t-2;f>s;f--,h--){let p=i.node(f),g=i.index(f);if(p.type.spec.isolating)return!1;let m=p.content.cutByIndex(g,p.childCount),w=r&&r[h+1];w&&(m=m.replaceChild(0,w.type.create(w.attrs)));let v=r&&r[h]||p;if(!p.canReplace(g+1,p.childCount)||!v.type.validContent(m))return!1}let l=i.indexAfter(s),c=r&&r[0];return i.node(s).canReplaceWith(l,l,c?c.type:i.node(s+1).type)}function q7(n,e,t=1,r){let i=n.doc.resolve(e),s=_e.empty,o=_e.empty;for(let l=i.depth,c=i.depth-t,f=t-1;l>c;l--,f--){s=_e.from(i.node(l).copy(s));let h=r&&r[f];o=_e.from(h?h.type.create(h.attrs,o):i.node(l).copy(o))}n.step(new qt(e,e,new De(s.append(o),t,t),!0))}function is(n,e){let t=n.resolve(e),r=t.index();return ZC(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function G7(n,e){e.content.size||n.type.compatibleContent(e.type);let t=n.contentMatchAt(n.childCount),{linebreakReplacement:r}=n.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),o=s.type==r?n.type.schema.nodes.text:s.type;if(t=t.matchType(o),!t||!n.type.allowsMarks(s.marks))return!1}return t.validEnd}function ZC(n,e){return!!(n&&e&&!n.isLeaf&&G7(n,e))}function Xf(n,e,t=-1){let r=n.resolve(e);for(let i=r.depth;;i--){let s,o,l=r.index(i);if(i==r.depth?(s=r.nodeBefore,o=r.nodeAfter):t>0?(s=r.node(i+1),l++,o=r.node(i).maybeChild(l)):(s=r.node(i).maybeChild(l-1),o=r.node(i+1)),s&&!s.isTextblock&&ZC(s,o)&&r.node(i).canReplace(l,l+1))return e;if(i==0)break;e=t<0?r.before(i):r.after(i)}}function Z7(n,e,t){let r=null,{linebreakReplacement:i}=n.doc.type.schema,s=n.doc.resolve(e-t),o=s.node().type;if(i&&o.inlineContent){let h=o.whitespace=="pre",p=!!o.contentMatch.matchType(i);h&&!p?r=!1:!h&&p&&(r=!0)}let l=n.steps.length;if(r===!1){let h=n.doc.resolve(e+t);GC(n,h.node(),h.before(),l)}o.inlineContent&&Qg(n,e+t-1,o,s.node().contentMatchAt(s.index()),r==null);let c=n.mapping.slice(l),f=c.map(e-t);if(n.step(new qt(f,c.map(e+t,-1),De.empty,!0)),r===!0){let h=n.doc.resolve(f);qC(n,h.node(),h.before(),n.steps.length)}return n}function X7(n,e,t){let r=n.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,t))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,t))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function XC(n,e,t){let r=n.resolve(e);if(!t.content.size)return e;let i=t.content;for(let s=0;s<t.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(t.openStart==0&&t.size?2:1);s++)for(let o=r.depth;o>=0;o--){let l=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,c=r.index(o)+(l>0?1:0),f=r.node(o),h=!1;if(s==1)h=f.canReplace(c,c,i);else{let p=f.contentMatchAt(c).findWrapping(i.firstChild.type);h=p&&f.canReplaceWith(c,c,p[0])}if(h)return l==0?r.pos:l<0?r.before(o+1):r.after(o+1)}return null}function Jf(n,e,t=e,r=De.empty){if(e==t&&!r.size)return null;let i=n.resolve(e),s=n.resolve(t);return JC(i,s,r)?new qt(e,t,r):new J7(i,s,r).fit()}function JC(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class J7{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=_e.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=_e.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let f=this.findFittable();f?this.placeNodes(f):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,o=r.depth,l=i.depth;for(;o&&l&&s.childCount==1;)s=s.firstChild.content,o--,l--;let c=new De(s,o,l);return e>-1?new Gt(r.pos,e,this.$to.pos,this.$to.end(),c,t):c.size||r.pos!=this.$to.pos?new qt(r.pos,i.pos,c):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=t.firstChild;if(t.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}t=s.content}for(let t=1;t<=2;t++)for(let r=t==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=Tp(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let o=i.firstChild;for(let l=this.depth;l>=0;l--){let{type:c,match:f}=this.frontier[l],h,p=null;if(t==1&&(o?f.matchType(o.type)||(p=f.fillBefore(_e.from(o),!1)):s&&c.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:l,parent:s,inject:p};if(t==2&&o&&(h=f.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:l,parent:s,wrap:h};if(s&&f.matchType(s.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=Tp(e,t);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new De(e,t+1,Math.max(r,i.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=Tp(e,t);if(i.childCount<=1&&t>0){let s=e.size-t<=t+i.size;this.unplaced=new De(ol(e,t-1,1),t-1,s?t-1:r)}else this.unplaced=new De(ol(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:i,wrap:s}){for(;this.depth>t;)this.closeFrontierNode();if(s)for(let v=0;v<s.length;v++)this.openFrontierNode(s[v]);let o=this.unplaced,l=r?r.content:o.content,c=o.openStart-e,f=0,h=[],{match:p,type:g}=this.frontier[t];if(i){for(let v=0;v<i.childCount;v++)h.push(i.child(v));p=p.matchFragment(i)}let m=l.size+e-(o.content.size-o.openEnd);for(;f<l.childCount;){let v=l.child(f),E=p.matchType(v.type);if(!E)break;f++,(f>1||c==0||v.content.size)&&(p=E,h.push(YC(v.mark(g.allowedMarks(v.marks)),f==1?c:0,f==l.childCount?m:-1)))}let w=f==l.childCount;w||(m=-1),this.placed=al(this.placed,t,_e.from(h)),this.frontier[t].match=p,w&&m<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let v=0,E=l;v<m;v++){let b=E.lastChild;this.frontier.push({type:b.type,match:b.contentMatchAt(b.childCount)}),E=b.content}this.unplaced=w?e==0?De.empty:new De(ol(o.content,e-1,1),e-1,m<0?o.openEnd:e-1):new De(ol(o.content,e,f),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!Ap(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:i}=this.frontier[t],s=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),o=Ap(e,t,i,r,s);if(o){for(let l=t-1;l>=0;l--){let{match:c,type:f}=this.frontier[l],h=Ap(e,l,f,c,!0);if(!h||h.childCount)continue e}return{depth:t,fit:o,move:s?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=al(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,t=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=al(this.placed,this.depth,_e.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(_e.empty,!0);t.childCount&&(this.placed=al(this.placed,this.frontier.length,t))}}function ol(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(ol(n.firstChild.content,e-1,t)))}function al(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(al(n.lastChild.content,e-1,t)))}function Tp(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function YC(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,YC(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(_e.empty,!0)))),n.copy(r)}function Ap(n,e,t,r,i){let s=n.node(e),o=i?n.indexAfter(e):n.index(e);if(o==s.childCount&&!t.compatibleContent(s.type))return null;let l=r.fillBefore(s.content,!0,o);return l&&!Y7(t,s.content,o)?l:null}function Y7(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}function Q7(n){return n.spec.defining||n.spec.definingForContent}function eT(n,e,t,r){if(!r.size)return n.deleteRange(e,t);let i=n.doc.resolve(e),s=n.doc.resolve(t);if(JC(i,s,r))return n.step(new qt(e,t,r));let o=e4(i,n.doc.resolve(t));o[o.length-1]==0&&o.pop();let l=-(i.depth+1);o.unshift(l);for(let g=i.depth,m=i.pos-1;g>0;g--,m--){let w=i.node(g).type.spec;if(w.defining||w.definingAsContext||w.isolating)break;o.indexOf(g)>-1?l=g:i.before(g)==m&&o.splice(1,0,-g)}let c=o.indexOf(l),f=[],h=r.openStart;for(let g=r.content,m=0;;m++){let w=g.firstChild;if(f.push(w),m==r.openStart)break;g=w.content}for(let g=h-1;g>=0;g--){let m=f[g],w=Q7(m.type);if(w&&!m.sameMarkup(i.node(Math.abs(l)-1)))h=g;else if(w||!m.type.isTextblock)break}for(let g=r.openStart;g>=0;g--){let m=(g+h+1)%(r.openStart+1),w=f[m];if(w)for(let v=0;v<o.length;v++){let E=o[(v+c)%o.length],b=!0;E<0&&(b=!1,E=-E);let T=i.node(E-1),A=i.index(E-1);if(T.canReplaceWith(A,A,w.type,w.marks))return n.replace(i.before(E),b?s.after(E):t,new De(QC(r.content,0,r.openStart,m),m,r.openEnd))}}let p=n.steps.length;for(let g=o.length-1;g>=0&&(n.replace(e,t,r),!(n.steps.length>p));g--){let m=o[g];m<0||(e=i.before(m),t=s.after(m))}}function QC(n,e,t,r,i){if(e<t){let s=n.firstChild;n=n.replaceChild(0,s.copy(QC(s.content,e+1,t,r,s)))}if(e>r){let s=i.contentMatchAt(0),o=s.fillBefore(n).append(n);n=o.append(s.matchFragment(o).fillBefore(_e.empty,!0))}return n}function tT(n,e,t,r){if(!r.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let i=X7(n.doc,e,r.type);i!=null&&(e=t=i)}n.replaceRange(e,t,new De(_e.from(r),0,0))}function nT(n,e,t){let r=n.doc.resolve(e),i=n.doc.resolve(t),s=e4(r,i);for(let o=0;o<s.length;o++){let l=s[o],c=o==s.length-1;if(c&&l==0||r.node(l).type.contentMatch.validEnd)return n.delete(r.start(l),i.end(l));if(l>0&&(c||r.node(l-1).canReplace(r.index(l-1),i.indexAfter(l-1))))return n.delete(r.before(l),i.after(l))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(e-r.start(o)==r.depth-o&&t>r.end(o)&&i.end(o)-t!=i.depth-o&&r.start(o-1)==i.start(o-1)&&r.node(o-1).canReplace(r.index(o-1),i.index(o-1)))return n.delete(r.before(o),t);n.delete(e,t)}function e4(n,e){let t=[],r=Math.min(n.depth,e.depth);for(let i=r;i>=0;i--){let s=n.start(i);if(s<n.pos-(n.depth-i)||e.end(i)>e.pos+(e.depth-i)||n.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==n.depth&&i==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&t.push(i)}return t}class $o extends gn{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return Bt.fail("No node at attribute step's position");let r=Object.create(null);for(let s in t.attrs)r[s]=t.attrs[s];r[this.attr]=this.value;let i=t.type.create(r,null,t.marks);return Bt.fromReplace(e,this.pos,this.pos+1,new De(_e.from(i),0,t.isLeaf?0:1))}getMap(){return $n.empty}invert(e){return new $o(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new $o(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new $o(t.pos,t.attr,t.value)}}gn.jsonID("attr",$o);class Rl extends gn{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let i in e.attrs)t[i]=e.attrs[i];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return Bt.ok(r)}getMap(){return $n.empty}invert(e){return new Rl(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Rl(t.attr,t.value)}}gn.jsonID("docAttr",Rl);let Yo=class extends Error{};Yo=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};Yo.prototype=Object.create(Error.prototype);Yo.prototype.constructor=Yo;Yo.prototype.name="TransformError";class t4{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Al}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new Yo(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=De.empty){let i=Jf(this.doc,e,t,r);return i&&this.step(i),this}replaceWith(e,t,r){return this.replace(e,t,new De(_e.from(r),0,0))}delete(e,t){return this.replace(e,t,De.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return eT(this,e,t,r),this}replaceRangeWith(e,t,r){return tT(this,e,t,r),this}deleteRange(e,t){return nT(this,e,t),this}lift(e,t){return z7(this,e,t),this}join(e,t=1){return Z7(this,e,t),this}wrap(e,t){return V7(this,e,t),this}setBlockType(e,t=e,r,i=null){return W7(this,e,t,r,i),this}setNodeMarkup(e,t,r=null,i){return K7(this,e,t,r,i),this}setNodeAttribute(e,t,r){return this.step(new $o(e,t,r)),this}setDocAttribute(e,t){return this.step(new Rl(e,t)),this}addNodeMark(e,t){return this.step(new qi(e,t)),this}removeNodeMark(e,t){if(!(t instanceof lt)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(t=t.isInSet(r.marks),!t)return this}return this.step(new Jo(e,t)),this}split(e,t=1,r){return q7(this,e,t,r),this}addMark(e,t,r){return F7(this,e,t,r),this}removeMark(e,t,r){return B7(this,e,t,r),this}clearIncompatible(e,t,r){return Qg(this,e,t,r),this}}const Rp=Object.create(null);let Ge=class{constructor(e,t,r){this.$anchor=e,this.$head=t,this.ranges=r||[new rT(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=De.empty){let r=t.content.lastChild,i=null;for(let l=0;l<t.openEnd;l++)i=r,r=r.lastChild;let s=e.steps.length,o=this.ranges;for(let l=0;l<o.length;l++){let{$from:c,$to:f}=o[l],h=e.mapping.slice(s);e.replaceRange(h.map(c.pos),h.map(f.pos),l?De.empty:t),l==0&&R2(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,t){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:o,$to:l}=i[s],c=e.mapping.slice(r),f=c.map(o.pos),h=c.map(l.pos);s?e.deleteRange(f,h):(e.replaceRangeWith(f,h,t),R2(e,r,t.isInline?-1:1))}}static findFrom(e,t,r=!1){let i=e.parent.inlineContent?new qe(e):Fo(e.node(0),e.parent,e.pos,e.index(),t,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let o=t<0?Fo(e.node(0),e.node(s),e.before(s+1),e.index(s),t,r):Fo(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,t,r);if(o)return o}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new ar(e.node(0))}static atStart(e){return Fo(e,e,0,0,1)||new ar(e)}static atEnd(e){return Fo(e,e,e.content.size,e.childCount,-1)||new ar(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Rp[t.type];if(!r)throw new RangeError(`No selection type ${t.type} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in Rp)throw new RangeError("Duplicate use of selection JSON ID "+e);return Rp[e]=t,t.prototype.jsonID=e,t}getBookmark(){return qe.between(this.$anchor,this.$head).getBookmark()}};Ge.prototype.visible=!0;class rT{constructor(e,t){this.$from=e,this.$to=t}}let T2=!1;function A2(n){!T2&&!n.parent.inlineContent&&(T2=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class qe extends Ge{constructor(e,t=e){A2(e),A2(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return Ge.near(r);let i=e.resolve(t.map(this.anchor));return new qe(i.parent.inlineContent?i:r,r)}replace(e,t=De.empty){if(super.replace(e,t),t==De.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof qe&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Yf(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new qe(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){let i=e.resolve(t);return new this(i,r==t?i:e.resolve(r))}static between(e,t,r){let i=e.pos-t.pos;if((!r||i)&&(r=i>=0?1:-1),!t.parent.inlineContent){let s=Ge.findFrom(t,r,!0)||Ge.findFrom(t,-r,!0);if(s)t=s.$head;else return Ge.near(t,r)}return e.parent.inlineContent||(i==0?e=t:(e=(Ge.findFrom(e,-r,!0)||Ge.findFrom(e,r,!0)).$anchor,e.pos<t.pos!=i<0&&(e=t))),new qe(e,t)}}Ge.jsonID("text",qe);class Yf{constructor(e,t){this.anchor=e,this.head=t}map(e){return new Yf(e.map(this.anchor),e.map(this.head))}resolve(e){return qe.between(e.resolve(this.anchor),e.resolve(this.head))}}class Ve extends Ge{constructor(e){let t=e.nodeAfter,r=e.node(0).resolve(e.pos+t.nodeSize);super(e,r),this.node=t}map(e,t){let{deleted:r,pos:i}=t.mapResult(this.anchor),s=e.resolve(i);return r?Ge.near(s):new Ve(s)}content(){return new De(_e.from(this.node),0,0)}eq(e){return e instanceof Ve&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new ty(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Ve(e.resolve(t.anchor))}static create(e,t){return new Ve(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Ve.prototype.visible=!1;Ge.jsonID("node",Ve);class ty{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:r}=e.mapResult(this.anchor);return t?new Yf(r,r):new ty(r)}resolve(e){let t=e.resolve(this.anchor),r=t.nodeAfter;return r&&Ve.isSelectable(r)?new Ve(t):Ge.near(t)}}class ar extends Ge{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=De.empty){if(t==De.empty){e.delete(0,e.doc.content.size);let r=Ge.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new ar(e)}map(e){return new ar(e)}eq(e){return e instanceof ar}getBookmark(){return iT}}Ge.jsonID("all",ar);const iT={map(){return this},resolve(n){return new ar(n)}};function Fo(n,e,t,r,i,s=!1){if(e.inlineContent)return qe.create(n,t);for(let o=r-(i>0?0:1);i>0?o<e.childCount:o>=0;o+=i){let l=e.child(o);if(l.isAtom){if(!s&&Ve.isSelectable(l))return Ve.create(n,t-(i<0?l.nodeSize:0))}else{let c=Fo(n,l,t+i,i<0?l.childCount:0,i,s);if(c)return c}t+=l.nodeSize*i}return null}function R2(n,e,t){let r=n.steps.length-1;if(r<e)return;let i=n.steps[r];if(!(i instanceof qt||i instanceof Gt))return;let s=n.mapping.maps[r],o;s.forEach((l,c,f,h)=>{o==null&&(o=h)}),n.setSelection(Ge.near(n.doc.resolve(o),t))}const _2=1,N2=2,O2=4;class sT extends t4{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|_2)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&_2)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=N2,this}ensureMarks(e){return lt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&N2)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&-3,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let r=this.selection;return t&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||lt.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,r){let i=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=t),r=r??t,!e)return this.deleteRange(t,r);let s=this.storedMarks;if(!s){let o=this.doc.resolve(t);s=r==t?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(t,r,i.text(e,s)),this.selection.empty||this.setSelection(Ge.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=O2,this}get scrolledIntoView(){return(this.updated&O2)>0}}function I2(n,e){return!e||!n?n:n.bind(e)}class ll{constructor(e,t,r){this.name=e,this.init=I2(t.init,r),this.apply=I2(t.apply,r)}}const oT=[new ll("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new ll("selection",{init(n,e){return n.selection||Ge.atStart(e.doc)},apply(n){return n.selection}}),new ll("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,r){return r.selection.$cursor?n.storedMarks:null}}),new ll("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class _p{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=oT.slice(),t&&t.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new ll(r.key,r.spec.state,r))})}}class Ho{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=t){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let l=this.config.plugins[o];if(l.spec.appendTransaction){let c=i?i[o].n:0,f=i?i[o].state:this,h=c<t.length&&l.spec.appendTransaction.call(l,c?t.slice(c):t,f,r);if(h&&r.filterTransaction(h,o)){if(h.setMeta("appendedTransaction",e),!i){i=[];for(let p=0;p<this.config.plugins.length;p++)i.push(p<o?{state:r,n:t.length}:{state:this,n:0})}t.push(h),r=r.applyInner(h),s=!0}i&&(i[o]={state:r,n:t.length})}}if(!s)return{state:r,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new Ho(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];t[s.name]=s.apply(e,this[s.name],this,t)}return t}get tr(){return new sT(this)}static create(e){let t=new _p(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Ho(t);for(let i=0;i<t.fields.length;i++)r[t.fields[i].name]=t.fields[i].init(e,r);return r}reconfigure(e){let t=new _p(this.schema,e.plugins),r=t.fields,i=new Ho(t);for(let s=0;s<r.length;s++){let o=r[s].name;i[o]=this.hasOwnProperty(o)?this[o]:r[s].init(e,i)}return i}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(t[r]=s.toJSON.call(i,this[i.key]))}return t}static fromJSON(e,t,r){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new _p(e.schema,e.plugins),s=new Ho(i);return i.fields.forEach(o=>{if(o.name=="doc")s.doc=Zi.fromJSON(e.schema,t.doc);else if(o.name=="selection")s.selection=Ge.fromJSON(s.doc,t.selection);else if(o.name=="storedMarks")t.storedMarks&&(s.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let l in r){let c=r[l],f=c.spec.state;if(c.key==o.name&&f&&f.fromJSON&&Object.prototype.hasOwnProperty.call(t,l)){s[o.name]=f.fromJSON.call(c,e,t[l],s);return}}s[o.name]=o.init(e,s)}}),s}}function n4(n,e,t){for(let r in n){let i=n[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=n4(i,e,{})),t[r]=i}return t}class jt{constructor(e){this.spec=e,this.props={},e.props&&n4(e.props,this,this.props),this.key=e.key?e.key.key:r4("plugin")}getState(e){return e[this.key]}}const Np=Object.create(null);function r4(n){return n in Np?n+"$"+ ++Np[n]:(Np[n]=0,n+"$")}class kn{constructor(e="key"){this.key=r4(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const nn=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},Qo=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let sg=null;const ni=function(n,e,t){let r=sg||(sg=document.createRange());return r.setEnd(n,t??n.nodeValue.length),r.setStart(n,e||0),r},aT=function(){sg=null},Ys=function(n,e,t,r){return t&&(M2(n,e,t,r,-1)||M2(n,e,t,r,1))},lT=/^(img|br|input|textarea|hr)$/i;function M2(n,e,t,r,i){for(;;){if(n==t&&e==r)return!0;if(e==(i<0?0:or(n))){let s=n.parentNode;if(!s||s.nodeType!=1||Pl(n)||lT.test(n.nodeName)||n.contentEditable=="false")return!1;e=nn(n)+(i<0?0:1),n=s}else if(n.nodeType==1){if(n=n.childNodes[e+(i<0?-1:0)],n.contentEditable=="false")return!1;e=i<0?or(n):0}else return!1}}function or(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function uT(n,e){for(;;){if(n.nodeType==3&&e)return n;if(n.nodeType==1&&e>0){if(n.contentEditable=="false")return null;n=n.childNodes[e-1],e=or(n)}else if(n.parentNode&&!Pl(n))e=nn(n),n=n.parentNode;else return null}}function cT(n,e){for(;;){if(n.nodeType==3&&e<n.nodeValue.length)return n;if(n.nodeType==1&&e<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[e],e=0}else if(n.parentNode&&!Pl(n))e=nn(n)+1,n=n.parentNode;else return null}}function fT(n,e,t){for(let r=e==0,i=e==or(n);r||i;){if(n==t)return!0;let s=nn(n);if(n=n.parentNode,!n)return!1;r=r&&s==0,i=i&&s==or(n)}}function Pl(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const Qf=function(n){return n.focusNode&&Ys(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function Ds(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function dT(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function hT(n,e,t){if(n.caretPositionFromPoint)try{let r=n.caretPositionFromPoint(e,t);if(r)return{node:r.offsetNode,offset:Math.min(or(r.offsetNode),r.offset)}}catch{}if(n.caretRangeFromPoint){let r=n.caretRangeFromPoint(e,t);if(r)return{node:r.startContainer,offset:Math.min(or(r.startContainer),r.startOffset)}}}const Fr=typeof navigator<"u"?navigator:null,D2=typeof document<"u"?document:null,ss=Fr&&Fr.userAgent||"",og=/Edge\/(\d+)/.exec(ss),i4=/MSIE \d/.exec(ss),ag=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ss),Fn=!!(i4||ag||og),Ji=i4?document.documentMode:ag?+ag[1]:og?+og[1]:0,vr=!Fn&&/gecko\/(\d+)/i.test(ss);vr&&+(/Firefox\/(\d+)/.exec(ss)||[0,0])[1];const lg=!Fn&&/Chrome\/(\d+)/.exec(ss),pn=!!lg,s4=lg?+lg[1]:0,En=!Fn&&!!Fr&&/Apple Computer/.test(Fr.vendor),ea=En&&(/Mobile\/\w+/.test(ss)||!!Fr&&Fr.maxTouchPoints>2),sr=ea||(Fr?/Mac/.test(Fr.platform):!1),pT=Fr?/Win/.test(Fr.platform):!1,ri=/Android \d/.test(ss),Fl=!!D2&&"webkitFontSmoothing"in D2.documentElement.style,mT=Fl?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function gT(n){let e=n.defaultView&&n.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function Zr(n,e){return typeof n=="number"?n:n[e]}function yT(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,r=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*r}}function L2(n,e,t){let r=n.someProp("scrollThreshold")||0,i=n.someProp("scrollMargin")||5,s=n.dom.ownerDocument;for(let o=t||n.dom;o;){if(o.nodeType!=1){o=Qo(o);continue}let l=o,c=l==s.body,f=c?gT(s):yT(l),h=0,p=0;if(e.top<f.top+Zr(r,"top")?p=-(f.top-e.top+Zr(i,"top")):e.bottom>f.bottom-Zr(r,"bottom")&&(p=e.bottom-e.top>f.bottom-f.top?e.top+Zr(i,"top")-f.top:e.bottom-f.bottom+Zr(i,"bottom")),e.left<f.left+Zr(r,"left")?h=-(f.left-e.left+Zr(i,"left")):e.right>f.right-Zr(r,"right")&&(h=e.right-f.right+Zr(i,"right")),h||p)if(c)s.defaultView.scrollBy(h,p);else{let m=l.scrollLeft,w=l.scrollTop;p&&(l.scrollTop+=p),h&&(l.scrollLeft+=h);let v=l.scrollLeft-m,E=l.scrollTop-w;e={left:e.left-v,top:e.top-E,right:e.right-v,bottom:e.bottom-E}}let g=c?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(g))break;o=g=="absolute"?o.offsetParent:Qo(o)}}function wT(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,o=t+1;o<Math.min(innerHeight,e.bottom);o+=5){let l=n.root.elementFromPoint(s,o);if(!l||l==n.dom||!n.dom.contains(l))continue;let c=l.getBoundingClientRect();if(c.top>=t-20){r=l,i=c.top;break}}return{refDOM:r,refTop:i,stack:o4(n.dom)}}function o4(n){let e=[],t=n.ownerDocument;for(let r=n;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=t);r=Qo(r));return e}function vT({refDOM:n,refTop:e,stack:t}){let r=n?n.getBoundingClientRect().top:0;a4(t,r==0?0:r-e)}function a4(n,e){for(let t=0;t<n.length;t++){let{dom:r,top:i,left:s}=n[t];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let Io=null;function bT(n){if(n.setActive)return n.setActive();if(Io)return n.focus(Io);let e=o4(n);n.focus(Io==null?{get preventScroll(){return Io={preventScroll:!0},!0}}:void 0),Io||(Io=!1,a4(e,0))}function l4(n,e){let t,r=2e8,i,s=0,o=e.top,l=e.top,c,f;for(let h=n.firstChild,p=0;h;h=h.nextSibling,p++){let g;if(h.nodeType==1)g=h.getClientRects();else if(h.nodeType==3)g=ni(h).getClientRects();else continue;for(let m=0;m<g.length;m++){let w=g[m];if(w.top<=o&&w.bottom>=l){o=Math.max(w.bottom,o),l=Math.min(w.top,l);let v=w.left>e.left?w.left-e.left:w.right<e.left?e.left-w.right:0;if(v<r){t=h,r=v,i=v&&t.nodeType==3?{left:w.right<e.left?w.right:w.left,top:e.top}:e,h.nodeType==1&&v&&(s=p+(e.left>=(w.left+w.right)/2?1:0));continue}}else w.top>e.top&&!c&&w.left<=e.left&&w.right>=e.left&&(c=h,f={left:Math.max(w.left,Math.min(w.right,e.left)),top:w.top});!t&&(e.left>=w.right&&e.top>=w.top||e.left>=w.left&&e.top>=w.bottom)&&(s=p+1)}}return!t&&c&&(t=c,i=f,r=0),t&&t.nodeType==3?xT(t,i):!t||r&&t.nodeType==1?{node:n,offset:s}:l4(t,i)}function xT(n,e){let t=n.nodeValue.length,r=document.createRange();for(let i=0;i<t;i++){r.setEnd(n,i+1),r.setStart(n,i);let s=Fi(r,1);if(s.top!=s.bottom&&ny(e,s))return{node:n,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:n,offset:0}}function ny(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function ET(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function CT(n,e,t){let{node:r,offset:i}=l4(e,t),s=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();s=o.left!=o.right&&t.left>(o.left+o.right)/2?1:-1}return n.docView.posFromDOM(r,i,s)}function ST(n,e,t,r){let i=-1;for(let s=e,o=!1;s!=n.dom;){let l=n.docView.nearestDesc(s,!0),c;if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)&&((c=l.dom.getBoundingClientRect()).width||c.height)&&(l.node.isBlock&&l.parent&&(!o&&c.left>r.left||c.top>r.top?i=l.posBefore:(!o&&c.right<r.left||c.bottom<r.top)&&(i=l.posAfter),o=!0),!l.contentDOM&&i<0&&!l.node.isText))return(l.node.isBlock?r.top<(c.top+c.bottom)/2:r.left<(c.left+c.right)/2)?l.posBefore:l.posAfter;s=l.dom.parentNode}return i>-1?i:n.docView.posFromDOM(e,t,-1)}function u4(n,e,t){let r=n.childNodes.length;if(r&&t.top<t.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-t.top)/(t.bottom-t.top))-2)),s=i;;){let o=n.childNodes[s];if(o.nodeType==1){let l=o.getClientRects();for(let c=0;c<l.length;c++){let f=l[c];if(ny(e,f))return u4(o,e,f)}}if((s=(s+1)%r)==i)break}return n}function kT(n,e){let t=n.dom.ownerDocument,r,i=0,s=hT(t,e.left,e.top);s&&({node:r,offset:i}=s);let o=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),l;if(!o||!n.dom.contains(o.nodeType!=1?o.parentNode:o)){let f=n.dom.getBoundingClientRect();if(!ny(e,f)||(o=u4(n.dom,e,f),!o))return null}if(En)for(let f=o;r&&f;f=Qo(f))f.draggable&&(r=void 0);if(o=ET(o,e),r){if(vr&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let h=r.childNodes[i],p;h.nodeName=="IMG"&&(p=h.getBoundingClientRect()).right<=e.left&&p.bottom>e.top&&i++}let f;Fl&&i&&r.nodeType==1&&(f=r.childNodes[i-1]).nodeType==1&&f.contentEditable=="false"&&f.getBoundingClientRect().top>=e.top&&i--,r==n.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?l=n.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(l=ST(n,r,i,e))}l==null&&(l=CT(n,o,e));let c=n.docView.nearestDesc(o,!0);return{pos:l,inside:c?c.posAtStart-c.border:-1}}function P2(n){return n.top<n.bottom||n.left<n.right}function Fi(n,e){let t=n.getClientRects();if(t.length){let r=t[e<0?0:t.length-1];if(P2(r))return r}return Array.prototype.find.call(t,P2)||n.getBoundingClientRect()}const TT=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function c4(n,e,t){let{node:r,offset:i,atom:s}=n.docView.domFromPos(e,t<0?-1:1),o=Fl||vr;if(r.nodeType==3)if(o&&(TT.test(r.nodeValue)||(t<0?!i:i==r.nodeValue.length))){let c=Fi(ni(r,i,i),t);if(vr&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let f=Fi(ni(r,i-1,i-1),-1);if(f.top==c.top){let h=Fi(ni(r,i,i+1),-1);if(h.top!=c.top)return Ya(h,h.left<f.left)}}return c}else{let c=i,f=i,h=t<0?1:-1;return t<0&&!i?(f++,h=-1):t>=0&&i==r.nodeValue.length?(c--,h=1):t<0?c--:f++,Ya(Fi(ni(r,c,f),h),h<0)}if(!n.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(t<0||i==or(r))){let c=r.childNodes[i-1];if(c.nodeType==1)return Op(c.getBoundingClientRect(),!1)}if(s==null&&i<or(r)){let c=r.childNodes[i];if(c.nodeType==1)return Op(c.getBoundingClientRect(),!0)}return Op(r.getBoundingClientRect(),t>=0)}if(s==null&&i&&(t<0||i==or(r))){let c=r.childNodes[i-1],f=c.nodeType==3?ni(c,or(c)-(o?0:1)):c.nodeType==1&&(c.nodeName!="BR"||!c.nextSibling)?c:null;if(f)return Ya(Fi(f,1),!1)}if(s==null&&i<or(r)){let c=r.childNodes[i];for(;c.pmViewDesc&&c.pmViewDesc.ignoreForCoords;)c=c.nextSibling;let f=c?c.nodeType==3?ni(c,0,o?0:1):c.nodeType==1?c:null:null;if(f)return Ya(Fi(f,-1),!0)}return Ya(Fi(r.nodeType==3?ni(r):r,-t),t>=0)}function Ya(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function Op(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function f4(n,e,t){let r=n.state,i=n.root.activeElement;r!=e&&n.updateState(e),i!=n.dom&&n.focus();try{return t()}finally{r!=e&&n.updateState(r),i!=n.dom&&i&&i.focus()}}function AT(n,e,t){let r=e.selection,i=t=="up"?r.$from:r.$to;return f4(n,e,()=>{let{node:s}=n.docView.domFromPos(i.pos,t=="up"?-1:1);for(;;){let l=n.docView.nearestDesc(s,!0);if(!l)break;if(l.node.isBlock){s=l.contentDOM||l.dom;break}s=l.dom.parentNode}let o=c4(n,i.pos,1);for(let l=s.firstChild;l;l=l.nextSibling){let c;if(l.nodeType==1)c=l.getClientRects();else if(l.nodeType==3)c=ni(l,0,l.nodeValue.length).getClientRects();else continue;for(let f=0;f<c.length;f++){let h=c[f];if(h.bottom>h.top+1&&(t=="up"?o.top-h.top>(h.bottom-o.top)*2:h.bottom-o.bottom>(o.bottom-h.top)*2))return!1}}return!0})}const RT=/[\u0590-\u08ac]/;function _T(n,e,t){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,o=i==r.parent.content.size,l=n.domSelection();return l?!RT.test(r.parent.textContent)||!l.modify?t=="left"||t=="backward"?s:o:f4(n,e,()=>{let{focusNode:c,focusOffset:f,anchorNode:h,anchorOffset:p}=n.domSelectionRange(),g=l.caretBidiLevel;l.modify("move",t,"character");let m=r.depth?n.docView.domAfterPos(r.before()):n.dom,{focusNode:w,focusOffset:v}=n.domSelectionRange(),E=w&&!m.contains(w.nodeType==1?w:w.parentNode)||c==w&&f==v;try{l.collapse(h,p),c&&(c!=h||f!=p)&&l.extend&&l.extend(c,f)}catch{}return g!=null&&(l.caretBidiLevel=g),E}):r.pos==r.start()||r.pos==r.end()}let F2=null,B2=null,j2=!1;function NT(n,e,t){return F2==e&&B2==t?j2:(F2=e,B2=t,j2=t=="up"||t=="down"?AT(n,e,t):_T(n,e,t))}const lr=0,z2=1,Fs=2,Br=3;class Bl{constructor(e,t,r,i){this.parent=e,this.children=t,this.dom=r,this.contentDOM=i,this.dirty=lr,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,r=this.posAtStart;;t++){let i=this.children[t];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,o;if(e==this.contentDOM)s=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(e==this.contentDOM)s=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=t>nn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&t==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),o;if(s&&(!t||s.node))if(r&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))r=!1;else return s}}getDesc(e){let t=e.pmViewDesc;for(let r=t;r;r=r.parent)if(r==this)return t}posFromDOM(e,t,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,t,r)}return-1}descAt(e){for(let t=0,r=0;t<this.children.length;t++){let i=this.children[t],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)for(let o=0;o<i.children.length;o++){let l=i.children[o];if(l.size){i=l;break}}return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let o=this.children[r],l=s+o.size;if(l>e||o instanceof h4){i=e-s;break}s=l}if(i)return this.children[r].domFromPos(i-this.children[r].border,t);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof d4&&s.side>=0;r--);if(t<=0){let s,o=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,o=!1);return s&&t&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,t):{node:this.contentDOM,offset:s?nn(s.dom)+1:0}}else{let s,o=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,t):{node:this.contentDOM,offset:s?nn(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let o=r,l=0;;l++){let c=this.children[l],f=o+c.size;if(i==-1&&e<=f){let h=o+c.border;if(e>=h&&t<=f-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(e,t,h);e=o;for(let p=l;p>0;p--){let g=this.children[p-1];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(1)){i=nn(g.dom)+1;break}e-=g.size}i==-1&&(i=0)}if(i>-1&&(f>t||l==this.children.length-1)){t=f;for(let h=l+1;h<this.children.length;h++){let p=this.children[h];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(-1)){s=nn(p.dom);break}t+=p.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=f}return{node:this.contentDOM,from:e,to:t,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:r}=this.domFromPos(e,0);if(t.nodeType!=1||r==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[r]}setSelection(e,t,r,i=!1){let s=Math.min(e,t),o=Math.max(e,t);for(let m=0,w=0;m<this.children.length;m++){let v=this.children[m],E=w+v.size;if(s>w&&o<E)return v.setSelection(e-w-v.border,t-w-v.border,r,i);w=E}let l=this.domFromPos(e,e?-1:1),c=t==e?l:this.domFromPos(t,t?-1:1),f=r.root.getSelection(),h=r.domSelectionRange(),p=!1;if((vr||En)&&e==t){let{node:m,offset:w}=l;if(m.nodeType==3){if(p=!!(w&&m.nodeValue[w-1]==`
`),p&&w==m.nodeValue.length)for(let v=m,E;v;v=v.parentNode){if(E=v.nextSibling){E.nodeName=="BR"&&(l=c={node:E.parentNode,offset:nn(E)+1});break}let b=v.pmViewDesc;if(b&&b.node&&b.node.isBlock)break}}else{let v=m.childNodes[w-1];p=v&&(v.nodeName=="BR"||v.contentEditable=="false")}}if(vr&&h.focusNode&&h.focusNode!=c.node&&h.focusNode.nodeType==1){let m=h.focusNode.childNodes[h.focusOffset];m&&m.contentEditable=="false"&&(i=!0)}if(!(i||p&&En)&&Ys(l.node,l.offset,h.anchorNode,h.anchorOffset)&&Ys(c.node,c.offset,h.focusNode,h.focusOffset))return;let g=!1;if((f.extend||e==t)&&!p){f.collapse(l.node,l.offset);try{e!=t&&f.extend(c.node,c.offset),g=!0}catch{}}if(!g){if(e>t){let w=l;l=c,c=w}let m=document.createRange();m.setEnd(c.node,c.offset),m.setStart(l.node,l.offset),f.removeAllRanges(),f.addRange(m)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],o=r+s.size;if(r==o?e<=o&&t>=r:e<o&&t>r){let l=r+s.border,c=o-s.border;if(e>=l&&t<=c){this.dirty=e==r||t==o?Fs:z2,e==l&&t==c&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=Br:s.markDirty(e-l,t-l);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?Fs:Br}r=o}this.dirty=Fs}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let r=e==1?Fs:z2;t.dirty<r&&(t.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class d4 extends Bl{constructor(e,t,r,i){let s,o=t.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!t.type.spec.raw){if(o.nodeType!=1){let l=document.createElement("span");l.appendChild(o),o=l}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=t,this.widget=t,s=this}matchesWidget(e){return this.dirty==lr&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class OT extends Bl{constructor(e,t,r,i){super(e,[],t,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Qs extends Bl{constructor(e,t,r,i,s){super(e,[],r,i),this.mark=t,this.spec=s}static create(e,t,r,i){let s=i.nodeViews[t.type.name],o=s&&s(t,i,r);return(!o||!o.dom)&&(o=io.renderSpec(document,t.type.spec.toDOM(t,r),null,t.attrs)),new Qs(e,t,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&Br||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Br&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=lr){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=lr}}slice(e,t,r){let i=Qs.create(this.parent,this.mark,!0,r),s=this.children,o=this.size;t<o&&(s=cg(s,t,o,r)),e>0&&(s=cg(s,0,e,r));for(let l=0;l<s.length;l++)s[l].parent=i;return i.children=s,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Yi extends Bl{constructor(e,t,r,i,s,o,l,c,f){super(e,[],s,o),this.node=t,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=l}static create(e,t,r,i,s,o){let l=s.nodeViews[t.type.name],c,f=l&&l(t,s,()=>{if(!c)return o;if(c.parent)return c.parent.posBeforeChild(c)},r,i),h=f&&f.dom,p=f&&f.contentDOM;if(t.isText){if(!h)h=document.createTextNode(t.text);else if(h.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else h||({dom:h,contentDOM:p}=io.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!p&&!t.isText&&h.nodeName!="BR"&&(h.hasAttribute("contenteditable")||(h.contentEditable="false"),t.type.spec.draggable&&(h.draggable=!0));let g=h;return h=g4(h,r,t),f?c=new IT(e,t,r,i,h,p||null,g,f,s,o+1):t.isText?new ed(e,t,r,i,h,g,s):new Yi(e,t,r,i,h,p||null,g,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let r=this.children[t];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>_e.empty)}return e}matchesNode(e,t,r){return this.dirty==lr&&e.eq(this.node)&&Yc(t,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let r=this.node.inlineContent,i=t,s=e.composing?this.localCompositionInfo(e,t):null,o=s&&s.pos>-1?s:null,l=s&&s.pos<0,c=new DT(this,o&&o.node,e);FT(this.node,this.innerDeco,(f,h,p)=>{f.spec.marks?c.syncToMarks(f.spec.marks,r,e):f.type.side>=0&&!p&&c.syncToMarks(h==this.node.childCount?lt.none:this.node.child(h).marks,r,e),c.placeWidget(f,e,i)},(f,h,p,g)=>{c.syncToMarks(f.marks,r,e);let m;c.findNodeMatch(f,h,p,g)||l&&e.state.selection.from>i&&e.state.selection.to<i+f.nodeSize&&(m=c.findIndexWithChild(s.node))>-1&&c.updateNodeAt(f,h,p,m,e)||c.updateNextNode(f,h,p,e,g,i)||c.addNode(f,h,p,e,i),i+=f.nodeSize}),c.syncToMarks([],r,e),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||this.dirty==Fs)&&(o&&this.protectLocalComposition(e,o),p4(this.contentDOM,this.children,e),ea&&BT(this.dom))}localCompositionInfo(e,t){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof qe)||r<t||i>t+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let o=s.nodeValue,l=jT(this.node.content,o,r-t,i-t);return l<0?null:{node:s,pos:l,text:o}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:r,text:i}){if(this.getDesc(t))return;let s=t;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new OT(this,s,t,i);e.input.compositionNodes.push(o),this.children=cg(this.children,r,r+i.length,e,o)}update(e,t,r,i){return this.dirty==Br||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,r,i),!0)}updateInner(e,t,r,i){this.updateOuterDeco(t),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=lr}updateOuterDeco(e){if(Yc(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=m4(this.dom,this.nodeDOM,ug(this.outerDeco,this.node,t),ug(e,this.node,t)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function H2(n,e,t,r,i){g4(r,e,n);let s=new Yi(void 0,n,e,t,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class ed extends Yi{constructor(e,t,r,i,s,o,l){super(e,t,r,i,s,null,o,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,r,i){return this.dirty==Br||this.dirty!=lr&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=lr||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=lr,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,r){let i=this.node.cut(e,t),s=document.createTextNode(i.text);return new ed(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=Br)}get domAtom(){return!1}isText(e){return this.node.text==e}}class h4 extends Bl{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==lr&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class IT extends Yi{constructor(e,t,r,i,s,o,l,c,f,h){super(e,t,r,i,s,o,l,f,h),this.spec=c}update(e,t,r,i){if(this.dirty==Br)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,t,r);return s&&this.updateInner(e,t,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,r,i){this.spec.setSelection?this.spec.setSelection(e,t,r.root):super.setSelection(e,t,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function p4(n,e,t){let r=n.firstChild,i=!1;for(let s=0;s<e.length;s++){let o=e[s],l=o.dom;if(l.parentNode==n){for(;l!=r;)r=U2(r),i=!0;r=r.nextSibling}else i=!0,n.insertBefore(l,r);if(o instanceof Qs){let c=r?r.previousSibling:n.lastChild;p4(o.contentDOM,o.children,t),r=c?c.nextSibling:n.firstChild}}for(;r;)r=U2(r),i=!0;i&&t.trackWrites==n&&(t.trackWrites=null)}const hl=function(n){n&&(this.nodeName=n)};hl.prototype=Object.create(null);const Bs=[new hl];function ug(n,e,t){if(n.length==0)return Bs;let r=t?Bs[0]:new hl,i=[r];for(let s=0;s<n.length;s++){let o=n[s].type.attrs;if(o){o.nodeName&&i.push(r=new hl(o.nodeName));for(let l in o){let c=o[l];c!=null&&(t&&i.length==1&&i.push(r=new hl(e.isInline?"span":"div")),l=="class"?r.class=(r.class?r.class+" ":"")+c:l=="style"?r.style=(r.style?r.style+";":"")+c:l!="nodeName"&&(r[l]=c))}}}return i}function m4(n,e,t,r){if(t==Bs&&r==Bs)return e;let i=e;for(let s=0;s<r.length;s++){let o=r[s],l=t[s];if(s){let c;l&&l.nodeName==o.nodeName&&i!=n&&(c=i.parentNode)&&c.nodeName.toLowerCase()==o.nodeName||(c=document.createElement(o.nodeName),c.pmIsDeco=!0,c.appendChild(i),l=Bs[0]),i=c}MT(i,l||Bs[0],o)}return i}function MT(n,e,t){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in t)&&n.removeAttribute(r);for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&t[r]!=e[r]&&n.setAttribute(r,t[r]);if(e.class!=t.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=t.class?t.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&n.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&n.classList.add(i[s]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)n.style.removeProperty(i[1])}t.style&&(n.style.cssText+=t.style)}}function g4(n,e,t){return m4(n,n,Bs,ug(e,t,n.nodeType!=1))}function Yc(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function U2(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class DT{constructor(e,t,r){this.lock=t,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=LT(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let r=e;r<t;r++)this.top.children[r].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,r){let i=0,s=this.stack.length>>1,o=Math.min(s,e.length);for(;i<o&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=lr,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let c=this.index;c<Math.min(this.index+3,this.top.children.length);c++){let f=this.top.children[c];if(f.matchesMark(e[s])&&!this.isLocked(f.dom)){l=c;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let c=Qs.create(this.top,e[s],t,r);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,s++}}findNodeMatch(e,t,r,i){let s=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(e,t,r))s=this.top.children.indexOf(o,this.index);else for(let l=this.index,c=Math.min(this.top.children.length,l+5);l<c;l++){let f=this.top.children[l];if(f.matchesNode(e,t,r)&&!this.preMatch.matched.has(f)){s=l;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,t,r,i,s){let o=this.top.children[i];return o.dirty==Br&&o.dom==o.contentDOM&&(o.dirty=Fs),o.update(e,t,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=t}}updateNextNode(e,t,r,i,s,o){for(let l=this.index;l<this.top.children.length;l++){let c=this.top.children[l];if(c instanceof Yi){let f=this.preMatch.matched.get(c);if(f!=null&&f!=s)return!1;let h=c.dom,p,g=this.isLocked(h)&&!(e.isText&&c.node&&c.node.isText&&c.nodeDOM.nodeValue==e.text&&c.dirty!=Br&&Yc(t,c.outerDeco));if(!g&&c.update(e,t,r,i))return this.destroyBetween(this.index,l),c.dom!=h&&(this.changed=!0),this.index++,!0;if(!g&&(p=this.recreateWrapper(c,e,t,r,i,o)))return this.destroyBetween(this.index,l),this.top.children[this.index]=p,p.contentDOM&&(p.dirty=Fs,p.updateChildren(i,o+1),p.dirty=lr),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,r,i,s,o){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!Yc(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let l=Yi.create(this.top,t,r,i,s,o);if(l.contentDOM){l.children=e.children,e.children=[];for(let c of l.children)c.parent=l}return e.destroy(),l}addNode(e,t,r,i,s){let o=Yi.create(this.top,e,t,r,i,s);o.contentDOM&&o.updateChildren(i,s+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,t,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new d4(this.top,e,t,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof Qs;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof ed)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((En||pn)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new h4(this.top,[],r,null);t!=this.top?t.children.push(i):t.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function LT(n,e){let t=e,r=t.children.length,i=n.childCount,s=new Map,o=[];e:for(;i>0;){let l;for(;;)if(r){let f=t.children[r-1];if(f instanceof Qs)t=f,r=f.children.length;else{l=f,r--;break}}else{if(t==e)break e;r=t.parent.children.indexOf(t),t=t.parent}let c=l.node;if(c){if(c!=n.child(i-1))break;--i,s.set(l,i),o.push(l)}}return{index:i,matched:s,matches:o.reverse()}}function PT(n,e){return n.type.side-e.type.side}function FT(n,e,t,r){let i=e.locals(n),s=0;if(i.length==0){for(let f=0;f<n.childCount;f++){let h=n.child(f);r(h,i,e.forChild(s,h),f),s+=h.nodeSize}return}let o=0,l=[],c=null;for(let f=0;;){let h,p;for(;o<i.length&&i[o].to==s;){let E=i[o++];E.widget&&(h?(p||(p=[h])).push(E):h=E)}if(h)if(p){p.sort(PT);for(let E=0;E<p.length;E++)t(p[E],f,!!c)}else t(h,f,!!c);let g,m;if(c)m=-1,g=c,c=null;else if(f<n.childCount)m=f,g=n.child(f++);else break;for(let E=0;E<l.length;E++)l[E].to<=s&&l.splice(E--,1);for(;o<i.length&&i[o].from<=s&&i[o].to>s;)l.push(i[o++]);let w=s+g.nodeSize;if(g.isText){let E=w;o<i.length&&i[o].from<E&&(E=i[o].from);for(let b=0;b<l.length;b++)l[b].to<E&&(E=l[b].to);E<w&&(c=g.cut(E-s),g=g.cut(0,E-s),w=E,m=-1)}else for(;o<i.length&&i[o].to<w;)o++;let v=g.isInline&&!g.isLeaf?l.filter(E=>!E.inline):l.slice();r(g,v,e.forChild(s,g),m),s=w}}function BT(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function jT(n,e,t,r){for(let i=0,s=0;i<n.childCount&&s<=r;){let o=n.child(i++),l=s;if(s+=o.nodeSize,!o.isText)continue;let c=o.text;for(;i<n.childCount;){let f=n.child(i++);if(s+=f.nodeSize,!f.isText)break;c+=f.text}if(s>=t){if(s>=r&&c.slice(r-e.length-l,r-l)==e)return r-e.length;let f=l<r?c.lastIndexOf(e,r-l-1):-1;if(f>=0&&f+e.length+l>=t)return l+f;if(t==r&&c.length>=r+e.length-l&&c.slice(r-l,r-l+e.length)==e)return r}}return-1}function cg(n,e,t,r,i){let s=[];for(let o=0,l=0;o<n.length;o++){let c=n[o],f=l,h=l+=c.size;f>=t||h<=e?s.push(c):(f<e&&s.push(c.slice(0,e-f,r)),i&&(s.push(i),i=void 0),h>t&&s.push(c.slice(t-f,c.size,r)))}return s}function ry(n,e=null){let t=n.domSelectionRange(),r=n.state.doc;if(!t.focusNode)return null;let i=n.docView.nearestDesc(t.focusNode),s=i&&i.size==0,o=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(o<0)return null;let l=r.resolve(o),c,f;if(Qf(t)){for(c=o;i&&!i.node;)i=i.parent;let p=i.node;if(i&&p.isAtom&&Ve.isSelectable(p)&&i.parent&&!(p.isInline&&fT(t.focusNode,t.focusOffset,i.dom))){let g=i.posBefore;f=new Ve(o==g?l:r.resolve(g))}}else{if(t instanceof n.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let p=o,g=o;for(let m=0;m<t.rangeCount;m++){let w=t.getRangeAt(m);p=Math.min(p,n.docView.posFromDOM(w.startContainer,w.startOffset,1)),g=Math.max(g,n.docView.posFromDOM(w.endContainer,w.endOffset,-1))}if(p<0)return null;[c,o]=g==n.state.selection.anchor?[g,p]:[p,g],l=r.resolve(o)}else c=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(c<0)return null}let h=r.resolve(c);if(!f){let p=e=="pointer"||n.state.selection.head<l.pos&&!s?1:-1;f=iy(n,h,l,p)}return f}function y4(n){return n.editable?n.hasFocus():v4(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function oi(n,e=!1){let t=n.state.selection;if(w4(n,t),!!y4(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&pn){let r=n.domSelectionRange(),i=n.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Ys(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)HT(n);else{let{anchor:r,head:i}=t,s,o;V2&&!(t instanceof qe)&&(t.$from.parent.inlineContent||(s=W2(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(o=W2(n,t.to))),n.docView.setSelection(r,i,n,e),V2&&(s&&$2(s),o&&$2(o)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&zT(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const V2=En||pn&&s4<63;function W2(n,e){let{node:t,offset:r}=n.docView.domFromPos(e,0),i=r<t.childNodes.length?t.childNodes[r]:null,s=r?t.childNodes[r-1]:null;if(En&&i&&i.contentEditable=="false")return Ip(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return Ip(i);if(s)return Ip(s)}}function Ip(n){return n.contentEditable="true",En&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function $2(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function zT(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),r=t.anchorNode,i=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=r||t.anchorOffset!=i)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!y4(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function HT(n){let e=n.domSelection(),t=document.createRange();if(!e)return;let r=n.cursorWrapper.dom,i=r.nodeName=="IMG";i?t.setStart(r.parentNode,nn(r)+1):t.setStart(r,0),t.collapse(!0),e.removeAllRanges(),e.addRange(t),!i&&!n.state.selection.visible&&Fn&&Ji<=11&&(r.disabled=!0,r.disabled=!1)}function w4(n,e){if(e instanceof Ve){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(K2(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else K2(n)}function K2(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function iy(n,e,t,r){return n.someProp("createSelectionBetween",i=>i(n,e,t))||qe.between(e,t,r)}function q2(n){return n.editable&&!n.hasFocus()?!1:v4(n)}function v4(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function UT(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return Ys(e.node,e.offset,t.anchorNode,t.anchorOffset)}function fg(n,e){let{$anchor:t,$head:r}=n.selection,i=e>0?t.max(r):t.min(r),s=i.parent.inlineContent?i.depth?n.doc.resolve(e>0?i.after():i.before()):null:i;return s&&Ge.findFrom(s,e)}function Bi(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function G2(n,e,t){let r=n.state.selection;if(r instanceof qe)if(t.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let o=n.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return Bi(n,new qe(r.$anchor,o))}else if(r.empty){if(n.endOfTextblock(e>0?"forward":"backward")){let i=fg(n.state,e);return i&&i instanceof Ve?Bi(n,i):!1}else if(!(sr&&t.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,o;if(!s||s.isText)return!1;let l=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(o=n.docView.descAt(l))&&!o.contentDOM?Ve.isSelectable(s)?Bi(n,new Ve(e<0?n.state.doc.resolve(i.pos-s.nodeSize):i)):Fl?Bi(n,new qe(n.state.doc.resolve(e<0?l:l+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Ve&&r.node.isInline)return Bi(n,new qe(e>0?r.$to:r.$from));{let i=fg(n.state,e);return i?Bi(n,i):!1}}}function Qc(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function pl(n,e){let t=n.pmViewDesc;return t&&t.size==0&&(e<0||n.nextSibling||n.nodeName!="BR")}function Mo(n,e){return e<0?VT(n):WT(n)}function VT(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i,s,o=!1;for(vr&&t.nodeType==1&&r<Qc(t)&&pl(t.childNodes[r],-1)&&(o=!0);;)if(r>0){if(t.nodeType!=1)break;{let l=t.childNodes[r-1];if(pl(l,-1))i=t,s=--r;else if(l.nodeType==3)t=l,r=t.nodeValue.length;else break}}else{if(b4(t))break;{let l=t.previousSibling;for(;l&&pl(l,-1);)i=t.parentNode,s=nn(l),l=l.previousSibling;if(l)t=l,r=Qc(t);else{if(t=t.parentNode,t==n.dom)break;r=0}}}o?dg(n,t,r):i&&dg(n,i,s)}function WT(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i=Qc(t),s,o;for(;;)if(r<i){if(t.nodeType!=1)break;let l=t.childNodes[r];if(pl(l,1))s=t,o=++r;else break}else{if(b4(t))break;{let l=t.nextSibling;for(;l&&pl(l,1);)s=l.parentNode,o=nn(l)+1,l=l.nextSibling;if(l)t=l,r=0,i=Qc(t);else{if(t=t.parentNode,t==n.dom)break;r=i=0}}}s&&dg(n,s,o)}function b4(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function $T(n,e){for(;n&&e==n.childNodes.length&&!Pl(n);)e=nn(n)+1,n=n.parentNode;for(;n&&e<n.childNodes.length;){let t=n.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=0}}function KT(n,e){for(;n&&!e&&!Pl(n);)e=nn(n),n=n.parentNode;for(;n&&e;){let t=n.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=n.childNodes.length}}function dg(n,e,t){if(e.nodeType!=3){let s,o;(o=$T(e,t))?(e=o,t=0):(s=KT(e,t))&&(e=s,t=s.nodeValue.length)}let r=n.domSelection();if(!r)return;if(Qf(r)){let s=document.createRange();s.setEnd(e,t),s.setStart(e,t),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,t);n.domObserver.setCurSelection();let{state:i}=n;setTimeout(()=>{n.state==i&&oi(n)},50)}function Z2(n,e){let t=n.state.doc.resolve(e);if(!(pn||pT)&&t.parent.inlineContent){let i=n.coordsAtPos(e);if(e>t.start()){let s=n.coordsAtPos(e-1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<t.end()){let s=n.coordsAtPos(e+1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function X2(n,e,t){let r=n.state.selection;if(r instanceof qe&&!r.empty||t.indexOf("s")>-1||sr&&t.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let o=fg(n.state,e);if(o&&o instanceof Ve)return Bi(n,o)}if(!i.parent.inlineContent){let o=e<0?i:s,l=r instanceof ar?Ge.near(o,e):Ge.findFrom(o,e);return l?Bi(n,l):!1}return!1}function J2(n,e){if(!(n.state.selection instanceof qe))return!0;let{$head:t,$anchor:r,empty:i}=n.state.selection;if(!t.sameParent(r))return!0;if(!i)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(s&&!s.isText){let o=n.state.tr;return e<0?o.delete(t.pos-s.nodeSize,t.pos):o.delete(t.pos,t.pos+s.nodeSize),n.dispatch(o),!0}return!1}function Y2(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function qT(n){if(!En||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;Y2(n,r,"true"),setTimeout(()=>Y2(n,r,"false"),20)}return!1}function GT(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function ZT(n,e){let t=e.keyCode,r=GT(e);if(t==8||sr&&t==72&&r=="c")return J2(n,-1)||Mo(n,-1);if(t==46&&!e.shiftKey||sr&&t==68&&r=="c")return J2(n,1)||Mo(n,1);if(t==13||t==27)return!0;if(t==37||sr&&t==66&&r=="c"){let i=t==37?Z2(n,n.state.selection.from)=="ltr"?-1:1:-1;return G2(n,i,r)||Mo(n,i)}else if(t==39||sr&&t==70&&r=="c"){let i=t==39?Z2(n,n.state.selection.from)=="ltr"?1:-1:1;return G2(n,i,r)||Mo(n,i)}else{if(t==38||sr&&t==80&&r=="c")return X2(n,-1,r)||Mo(n,-1);if(t==40||sr&&t==78&&r=="c")return qT(n)||X2(n,1,r)||Mo(n,1);if(r==(sr?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function sy(n,e){n.someProp("transformCopied",m=>{e=m(e,n)});let t=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let m=r.firstChild;t.push(m.type.name,m.attrs!=m.type.defaultAttrs?m.attrs:null),r=m.content}let o=n.someProp("clipboardSerializer")||io.fromSchema(n.state.schema),l=T4(),c=l.createElement("div");c.appendChild(o.serializeFragment(r,{document:l}));let f=c.firstChild,h,p=0;for(;f&&f.nodeType==1&&(h=k4[f.nodeName.toLowerCase()]);){for(let m=h.length-1;m>=0;m--){let w=l.createElement(h[m]);for(;c.firstChild;)w.appendChild(c.firstChild);c.appendChild(w),p++}f=c.firstChild}f&&f.nodeType==1&&f.setAttribute("data-pm-slice",`${i} ${s}${p?` -${p}`:""} ${JSON.stringify(t)}`);let g=n.someProp("clipboardTextSerializer",m=>m(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:c,text:g,slice:e}}function x4(n,e,t,r,i){let s=i.parent.type.spec.code,o,l;if(!t&&!e)return null;let c=e&&(r||s||!t);if(c){if(n.someProp("transformPastedText",g=>{e=g(e,s||r,n)}),s)return e?new De(_e.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):De.empty;let p=n.someProp("clipboardTextParser",g=>g(e,i,r,n));if(p)l=p;else{let g=i.marks(),{schema:m}=n.state,w=io.fromSchema(m);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(v=>{let E=o.appendChild(document.createElement("p"));v&&E.appendChild(w.serializeNode(m.text(v,g)))})}}else n.someProp("transformPastedHTML",p=>{t=p(t,n)}),o=QT(t),Fl&&eA(o);let f=o&&o.querySelector("[data-pm-slice]"),h=f&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(f.getAttribute("data-pm-slice")||"");if(h&&h[3])for(let p=+h[3];p>0;p--){let g=o.firstChild;for(;g&&g.nodeType!=1;)g=g.nextSibling;if(!g)break;o=g}if(l||(l=(n.someProp("clipboardParser")||n.someProp("domParser")||Xi.fromSchema(n.state.schema)).parseSlice(o,{preserveWhitespace:!!(c||h),context:i,ruleFromNode(g){return g.nodeName=="BR"&&!g.nextSibling&&g.parentNode&&!XT.test(g.parentNode.nodeName)?{ignore:!0}:null}})),h)l=tA(Q2(l,+h[1],+h[2]),h[4]);else if(l=De.maxOpen(JT(l.content,i),!0),l.openStart||l.openEnd){let p=0,g=0;for(let m=l.content.firstChild;p<l.openStart&&!m.type.spec.isolating;p++,m=m.firstChild);for(let m=l.content.lastChild;g<l.openEnd&&!m.type.spec.isolating;g++,m=m.lastChild);l=Q2(l,p,g)}return n.someProp("transformPasted",p=>{l=p(l,n)}),l}const XT=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function JT(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let i=e.node(t).contentMatchAt(e.index(t)),s,o=[];if(n.forEach(l=>{if(!o)return;let c=i.findWrapping(l.type),f;if(!c)return o=null;if(f=o.length&&s.length&&C4(c,s,l,o[o.length-1],0))o[o.length-1]=f;else{o.length&&(o[o.length-1]=S4(o[o.length-1],s.length));let h=E4(l,c);o.push(h),i=i.matchType(h.type),s=c}}),o)return _e.from(o)}return n}function E4(n,e,t=0){for(let r=e.length-1;r>=t;r--)n=e[r].create(null,_e.from(n));return n}function C4(n,e,t,r,i){if(i<n.length&&i<e.length&&n[i]==e[i]){let s=C4(n,e,t,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==n.length-1?t.type:n[i+1]))return r.copy(r.content.append(_e.from(E4(t,n,i+1))))}}function S4(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,S4(n.lastChild,e-1)),r=n.contentMatchAt(n.childCount).fillBefore(_e.empty,!0);return n.copy(t.append(r))}function hg(n,e,t,r,i,s){let o=e<0?n.firstChild:n.lastChild,l=o.content;return n.childCount>1&&(s=0),i<r-1&&(l=hg(l,e,t,r,i+1,s)),i>=t&&(l=e<0?o.contentMatchAt(0).fillBefore(l,s<=i).append(l):l.append(o.contentMatchAt(o.childCount).fillBefore(_e.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,o.copy(l))}function Q2(n,e,t){return e<n.openStart&&(n=new De(hg(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new De(hg(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const k4={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let eb=null;function T4(){return eb||(eb=document.implementation.createHTMLDocument("title"))}let Mp=null;function YT(n){let e=window.trustedTypes;return e?(Mp||(Mp=e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),Mp.createHTML(n)):n}function QT(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=T4().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n),i;if((i=r&&k4[r[1].toLowerCase()])&&(n=i.map(s=>"<"+s+">").join("")+n+i.map(s=>"</"+s+">").reverse().join("")),t.innerHTML=YT(n),i)for(let s=0;s<i.length;s++)t=t.querySelector(i[s])||t;return t}function eA(n){let e=n.querySelectorAll(pn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let r=e[t];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}function tA(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return n}let{content:i,openStart:s,openEnd:o}=n;for(let l=r.length-2;l>=0;l-=2){let c=t.nodes[r[l]];if(!c||c.hasRequiredAttrs())break;i=_e.from(c.create(r[l+1],i)),s++,o++}return new De(i,s,o)}const Cn={},Sn={},nA={touchstart:!0,touchmove:!0};class rA{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function iA(n){for(let e in Cn){let t=Cn[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=r=>{oA(n,r)&&!oy(n,r)&&(n.editable||!(r.type in Sn))&&t(n,r)},nA[e]?{passive:!0}:void 0)}En&&n.dom.addEventListener("input",()=>null),pg(n)}function Gi(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function sA(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function pg(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>oy(n,r))})}function oy(n,e){return n.someProp("handleDOMEvents",t=>{let r=t[e.type];return r?r(n,e)||e.defaultPrevented:!1})}function oA(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function aA(n,e){!oy(n,e)&&Cn[e.type]&&(n.editable||!(e.type in Sn))&&Cn[e.type](n,e)}Sn.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!R4(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!(ri&&pn&&t.keyCode==13)))if(t.keyCode!=229&&n.domObserver.forceFlush(),ea&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",i=>i(n,Ds(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",r=>r(n,t))||ZT(n,t)?t.preventDefault():Gi(n,"key")};Sn.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};Sn.keypress=(n,e)=>{let t=e;if(R4(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||sr&&t.metaKey)return;if(n.someProp("handleKeyPress",i=>i(n,t))){t.preventDefault();return}let r=n.state.selection;if(!(r instanceof qe)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(t.charCode);!/[\r\n]/.test(i)&&!n.someProp("handleTextInput",s=>s(n,r.$from.pos,r.$to.pos,i))&&n.dispatch(n.state.tr.insertText(i).scrollIntoView()),t.preventDefault()}};function td(n){return{left:n.clientX,top:n.clientY}}function lA(n,e){let t=e.x-n.clientX,r=e.y-n.clientY;return t*t+r*r<100}function ay(n,e,t,r,i){if(r==-1)return!1;let s=n.state.doc.resolve(r);for(let o=s.depth+1;o>0;o--)if(n.someProp(e,l=>o>s.depth?l(n,t,s.nodeAfter,s.before(o),i,!0):l(n,t,s.node(o),s.before(o),i,!1)))return!0;return!1}function Ko(n,e,t){if(n.focused||n.focus(),n.state.selection.eq(e))return;let r=n.state.tr.setSelection(e);r.setMeta("pointer",!0),n.dispatch(r)}function uA(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),r=t.nodeAfter;return r&&r.isAtom&&Ve.isSelectable(r)?(Ko(n,new Ve(t)),!0):!1}function cA(n,e){if(e==-1)return!1;let t=n.state.selection,r,i;t instanceof Ve&&(r=t.node);let s=n.state.doc.resolve(e);for(let o=s.depth+1;o>0;o--){let l=o>s.depth?s.nodeAfter:s.node(o);if(Ve.isSelectable(l)){r&&t.$from.depth>0&&o>=t.$from.depth&&s.before(t.$from.depth+1)==t.$from.pos?i=s.before(t.$from.depth):i=s.before(o);break}}return i!=null?(Ko(n,Ve.create(n.state.doc,i)),!0):!1}function fA(n,e,t,r,i){return ay(n,"handleClickOn",e,t,r)||n.someProp("handleClick",s=>s(n,e,r))||(i?cA(n,t):uA(n,t))}function dA(n,e,t,r){return ay(n,"handleDoubleClickOn",e,t,r)||n.someProp("handleDoubleClick",i=>i(n,e,r))}function hA(n,e,t,r){return ay(n,"handleTripleClickOn",e,t,r)||n.someProp("handleTripleClick",i=>i(n,e,r))||pA(n,t,r)}function pA(n,e,t){if(t.button!=0)return!1;let r=n.state.doc;if(e==-1)return r.inlineContent?(Ko(n,qe.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let o=s>i.depth?i.nodeAfter:i.node(s),l=i.before(s);if(o.inlineContent)Ko(n,qe.create(r,l+1,l+1+o.content.size));else if(Ve.isSelectable(o))Ko(n,Ve.create(r,l));else continue;return!0}}function ly(n){return ef(n)}const A4=sr?"metaKey":"ctrlKey";Cn.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let r=ly(n),i=Date.now(),s="singleClick";i-n.input.lastClick.time<500&&lA(t,n.input.lastClick)&&!t[A4]&&(n.input.lastClick.type=="singleClick"?s="doubleClick":n.input.lastClick.type=="doubleClick"&&(s="tripleClick")),n.input.lastClick={time:i,x:t.clientX,y:t.clientY,type:s};let o=n.posAtCoords(td(t));o&&(s=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new mA(n,o,t,!!r)):(s=="doubleClick"?dA:hA)(n,o.pos,o.inside,t)?t.preventDefault():Gi(n,"pointer"))};class mA{constructor(e,t,r,i){this.view=e,this.pos=t,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[A4],this.allowDefault=r.shiftKey;let s,o;if(t.inside>-1)s=e.state.doc.nodeAt(t.inside),o=t.inside;else{let h=e.state.doc.resolve(t.pos);s=h.parent,o=h.depth?h.before():0}const l=i?null:r.target,c=l?e.docView.nearestDesc(l,!0):null;this.target=c&&c.dom.nodeType==1?c.dom:null;let{selection:f}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||f instanceof Ve&&f.from<=o&&f.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&vr&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Gi(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>oi(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(td(e))),this.updateAllowDefault(e),this.allowDefault||!t?Gi(this.view,"pointer"):fA(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||En&&this.mightDrag&&!this.mightDrag.node.isAtom||pn&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(Ko(this.view,Ge.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):Gi(this.view,"pointer")}move(e){this.updateAllowDefault(e),Gi(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Cn.touchstart=n=>{n.input.lastTouch=Date.now(),ly(n),Gi(n,"pointer")};Cn.touchmove=n=>{n.input.lastTouch=Date.now(),Gi(n,"pointer")};Cn.contextmenu=n=>ly(n);function R4(n,e){return n.composing?!0:En&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const gA=ri?5e3:-1;Sn.compositionstart=Sn.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$to;if(e.selection instanceof qe&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))n.markCursor=n.state.storedMarks||t.marks(),ef(n,!0),n.markCursor=null;else if(ef(n,!e.selection.empty),vr&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let r=n.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let o=s<0?i.lastChild:i.childNodes[s-1];if(!o)break;if(o.nodeType==3){let l=n.domSelection();l&&l.collapse(o,o.nodeValue.length);break}else i=o,s=-1}}n.input.composing=!0}_4(n,gA)};Sn.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,_4(n,20))};function _4(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>ef(n),e))}function N4(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=wA());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function yA(n){let e=n.domSelectionRange();if(!e.focusNode)return null;let t=uT(e.focusNode,e.focusOffset),r=cT(e.focusNode,e.focusOffset);if(t&&r&&t!=r){let i=r.pmViewDesc,s=n.domObserver.lastChangedTextNode;if(t==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(n.input.compositionNode==r){let o=t.pmViewDesc;if(!(!o||!o.isText(t.nodeValue)))return r}}return t||r}function wA(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function ef(n,e=!1){if(!(ri&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),N4(n),e||n.docView&&n.docView.dirty){let t=ry(n);return t&&!t.eq(n.state.selection)?n.dispatch(n.state.tr.setSelection(t)):(n.markCursor||e)&&!n.state.selection.empty?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function vA(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),n.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const _l=Fn&&Ji<15||ea&&mT<604;Cn.copy=Sn.cut=(n,e)=>{let t=e,r=n.state.selection,i=t.type=="cut";if(r.empty)return;let s=_l?null:t.clipboardData,o=r.content(),{dom:l,text:c}=sy(n,o);s?(t.preventDefault(),s.clearData(),s.setData("text/html",l.innerHTML),s.setData("text/plain",c)):vA(n,l),i&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function bA(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function xA(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),t?Nl(n,r.value,null,i,e):Nl(n,r.textContent,r.innerHTML,i,e)},50)}function Nl(n,e,t,r,i){let s=x4(n,e,t,r,n.state.selection.$from);if(n.someProp("handlePaste",c=>c(n,i,s||De.empty)))return!0;if(!s)return!1;let o=bA(s),l=o?n.state.tr.replaceSelectionWith(o,r):n.state.tr.replaceSelection(s);return n.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function O4(n){let e=n.getData("text/plain")||n.getData("Text");if(e)return e;let t=n.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}Sn.paste=(n,e)=>{let t=e;if(n.composing&&!ri)return;let r=_l?null:t.clipboardData,i=n.input.shiftKey&&n.input.lastKeyCode!=45;r&&Nl(n,O4(r),r.getData("text/html"),i,t)?t.preventDefault():xA(n,t)};class I4{constructor(e,t,r){this.slice=e,this.move=t,this.node=r}}const M4=sr?"altKey":"ctrlKey";Cn.dragstart=(n,e)=>{let t=e,r=n.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let i=n.state.selection,s=i.empty?null:n.posAtCoords(td(t)),o;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof Ve?i.to-1:i.to))){if(r&&r.mightDrag)o=Ve.create(n.state.doc,r.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let p=n.docView.nearestDesc(t.target,!0);p&&p.node.type.spec.draggable&&p!=n.docView&&(o=Ve.create(n.state.doc,p.posBefore))}}let l=(o||n.state.selection).content(),{dom:c,text:f,slice:h}=sy(n,l);(!t.dataTransfer.files.length||!pn||s4>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(_l?"Text":"text/html",c.innerHTML),t.dataTransfer.effectAllowed="copyMove",_l||t.dataTransfer.setData("text/plain",f),n.dragging=new I4(h,!t[M4],o)};Cn.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};Sn.dragover=Sn.dragenter=(n,e)=>e.preventDefault();Sn.drop=(n,e)=>{let t=e,r=n.dragging;if(n.dragging=null,!t.dataTransfer)return;let i=n.posAtCoords(td(t));if(!i)return;let s=n.state.doc.resolve(i.pos),o=r&&r.slice;o?n.someProp("transformPasted",w=>{o=w(o,n)}):o=x4(n,O4(t.dataTransfer),_l?null:t.dataTransfer.getData("text/html"),!1,s);let l=!!(r&&!t[M4]);if(n.someProp("handleDrop",w=>w(n,t,o||De.empty,l))){t.preventDefault();return}if(!o)return;t.preventDefault();let c=o?XC(n.state.doc,s.pos,o):s.pos;c==null&&(c=s.pos);let f=n.state.tr;if(l){let{node:w}=r;w?w.replace(f):f.deleteSelection()}let h=f.mapping.map(c),p=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,g=f.doc;if(p?f.replaceRangeWith(h,h,o.content.firstChild):f.replaceRange(h,h,o),f.doc.eq(g))return;let m=f.doc.resolve(h);if(p&&Ve.isSelectable(o.content.firstChild)&&m.nodeAfter&&m.nodeAfter.sameMarkup(o.content.firstChild))f.setSelection(new Ve(m));else{let w=f.mapping.map(c);f.mapping.maps[f.mapping.maps.length-1].forEach((v,E,b,T)=>w=T),f.setSelection(iy(n,m,f.doc.resolve(w)))}n.focus(),n.dispatch(f.setMeta("uiEvent","drop"))};Cn.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&oi(n)},20))};Cn.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};Cn.beforeinput=(n,e)=>{if(pn&&ri&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",s=>s(n,Ds(8,"Backspace")))))return;let{$cursor:i}=n.state.selection;i&&i.pos>0&&n.dispatch(n.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let n in Sn)Cn[n]=Sn[n];function Ol(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class tf{constructor(e,t){this.toDOM=e,this.spec=t||Ks,this.side=this.spec.side||0}map(e,t,r,i){let{pos:s,deleted:o}=e.mapResult(t.from+i,this.side<0?-1:1);return o?null:new Kn(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof tf&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Ol(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Qi{constructor(e,t){this.attrs=e,this.spec=t||Ks}map(e,t,r,i){let s=e.map(t.from+i,this.spec.inclusiveStart?-1:1)-r,o=e.map(t.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=o?null:new Kn(s,o,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof Qi&&Ol(this.attrs,e.attrs)&&Ol(this.spec,e.spec)}static is(e){return e.type instanceof Qi}destroy(){}}class uy{constructor(e,t){this.attrs=e,this.spec=t||Ks}map(e,t,r,i){let s=e.mapResult(t.from+i,1);if(s.deleted)return null;let o=e.mapResult(t.to+i,-1);return o.deleted||o.pos<=s.pos?null:new Kn(s.pos-r,o.pos-r,this)}valid(e,t){let{index:r,offset:i}=e.content.findIndex(t.from),s;return i==t.from&&!(s=e.child(r)).isText&&i+s.nodeSize==t.to}eq(e){return this==e||e instanceof uy&&Ol(this.attrs,e.attrs)&&Ol(this.spec,e.spec)}destroy(){}}class Kn{constructor(e,t,r){this.from=e,this.to=t,this.type=r}copy(e,t){return new Kn(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,r){return this.type.map(e,this,t,r)}static widget(e,t,r){return new Kn(e,e,new tf(t,r))}static inline(e,t,r,i){return new Kn(e,t,new Qi(r,i))}static node(e,t,r,i){return new Kn(e,t,new uy(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Qi}get widget(){return this.type instanceof tf}}const Bo=[],Ks={};class Lt{constructor(e,t){this.local=e.length?e:Bo,this.children=t.length?t:Bo}static create(e,t){return t.length?nf(t,e,0,Ks):dn}find(e,t,r){let i=[];return this.findInner(e??0,t??1e9,i,0,r),i}findInner(e,t,r,i,s){for(let o=0;o<this.local.length;o++){let l=this.local[o];l.from<=t&&l.to>=e&&(!s||s(l.spec))&&r.push(l.copy(l.from+i,l.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<t&&this.children[o+1]>e){let l=this.children[o]+1;this.children[o+2].findInner(e-l,t-l,r,i+l,s)}}map(e,t,r){return this==dn||e.maps.length==0?this:this.mapInner(e,t,0,0,r||Ks)}mapInner(e,t,r,i,s){let o;for(let l=0;l<this.local.length;l++){let c=this.local[l].map(e,r,i);c&&c.type.valid(t,c)?(o||(o=[])).push(c):s.onRemove&&s.onRemove(this.local[l].spec)}return this.children.length?EA(this.children,o||[],e,t,r,i,s):o?new Lt(o.sort(qs),Bo):dn}add(e,t){return t.length?this==dn?Lt.create(e,t):this.addInner(e,t,0):this}addInner(e,t,r){let i,s=0;e.forEach((l,c)=>{let f=c+r,h;if(h=L4(t,l,f)){for(i||(i=this.children.slice());s<i.length&&i[s]<c;)s+=3;i[s]==c?i[s+2]=i[s+2].addInner(l,h,f+1):i.splice(s,0,c,c+l.nodeSize,nf(h,l,f+1,Ks)),s+=3}});let o=D4(s?P4(t):t,-r);for(let l=0;l<o.length;l++)o[l].type.valid(e,o[l])||o.splice(l--,1);return new Lt(o.length?this.local.concat(o).sort(qs):this.local,i||this.children)}remove(e){return e.length==0||this==dn?this:this.removeInner(e,0)}removeInner(e,t){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let o,l=r[s]+t,c=r[s+1]+t;for(let h=0,p;h<e.length;h++)(p=e[h])&&p.from>l&&p.to<c&&(e[h]=null,(o||(o=[])).push(p));if(!o)continue;r==this.children&&(r=this.children.slice());let f=r[s+2].removeInner(o,l+1);f!=dn?r[s+2]=f:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,o;s<e.length;s++)if(o=e[s])for(let l=0;l<i.length;l++)i[l].eq(o,t)&&(i==this.local&&(i=this.local.slice()),i.splice(l--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Lt(i,r):dn}forChild(e,t){if(this==dn)return this;if(t.isLeaf)return Lt.empty;let r,i;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(r=this.children[l+2]);break}let s=e+1,o=s+t.content.size;for(let l=0;l<this.local.length;l++){let c=this.local[l];if(c.from<o&&c.to>s&&c.type instanceof Qi){let f=Math.max(s,c.from)-s,h=Math.min(o,c.to)-s;f<h&&(i||(i=[])).push(c.copy(f,h))}}if(i){let l=new Lt(i.sort(qs),Bo);return r?new Ui([l,r]):l}return r||dn}eq(e){if(this==e)return!0;if(!(e instanceof Lt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return cy(this.localsInner(e))}localsInner(e){if(this==dn)return Bo;if(e.inlineContent||!this.local.some(Qi.is))return this.local;let t=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Qi||t.push(this.local[r]);return t}forEachSet(e){e(this)}}Lt.empty=new Lt([],[]);Lt.removeOverlap=cy;const dn=Lt.empty;class Ui{constructor(e){this.members=e}map(e,t){const r=this.members.map(i=>i.map(e,t,Ks));return Ui.from(r)}forChild(e,t){if(t.isLeaf)return Lt.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,t);s!=dn&&(s instanceof Ui?r=r.concat(s.members):r.push(s))}return Ui.from(r)}eq(e){if(!(e instanceof Ui)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!t)t=s;else{r&&(t=t.slice(),r=!1);for(let o=0;o<s.length;o++)t.push(s[o])}}return t?cy(r?t:t.sort(qs)):Bo}static from(e){switch(e.length){case 0:return dn;case 1:return e[0];default:return new Ui(e.every(t=>t instanceof Lt)?e:e.reduce((t,r)=>t.concat(r instanceof Lt?r:r.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function EA(n,e,t,r,i,s,o){let l=n.slice();for(let f=0,h=s;f<t.maps.length;f++){let p=0;t.maps[f].forEach((g,m,w,v)=>{let E=v-w-(m-g);for(let b=0;b<l.length;b+=3){let T=l[b+1];if(T<0||g>T+h-p)continue;let A=l[b]+h-p;m>=A?l[b+1]=g<=A?-2:-1:g>=h&&E&&(l[b]+=E,l[b+1]+=E)}p+=E}),h=t.maps[f].map(h,-1)}let c=!1;for(let f=0;f<l.length;f+=3)if(l[f+1]<0){if(l[f+1]==-2){c=!0,l[f+1]=-1;continue}let h=t.map(n[f]+s),p=h-i;if(p<0||p>=r.content.size){c=!0;continue}let g=t.map(n[f+1]+s,-1),m=g-i,{index:w,offset:v}=r.content.findIndex(p),E=r.maybeChild(w);if(E&&v==p&&v+E.nodeSize==m){let b=l[f+2].mapInner(t,E,h+1,n[f]+s+1,o);b!=dn?(l[f]=p,l[f+1]=m,l[f+2]=b):(l[f+1]=-2,c=!0)}else c=!0}if(c){let f=CA(l,n,e,t,i,s,o),h=nf(f,r,0,o);e=h.local;for(let p=0;p<l.length;p+=3)l[p+1]<0&&(l.splice(p,3),p-=3);for(let p=0,g=0;p<h.children.length;p+=3){let m=h.children[p];for(;g<l.length&&l[g]<m;)g+=3;l.splice(g,0,h.children[p],h.children[p+1],h.children[p+2])}}return new Lt(e.sort(qs),l)}function D4(n,e){if(!e||!n.length)return n;let t=[];for(let r=0;r<n.length;r++){let i=n[r];t.push(new Kn(i.from+e,i.to+e,i.type))}return t}function CA(n,e,t,r,i,s,o){function l(c,f){for(let h=0;h<c.local.length;h++){let p=c.local[h].map(r,i,f);p?t.push(p):o.onRemove&&o.onRemove(c.local[h].spec)}for(let h=0;h<c.children.length;h+=3)l(c.children[h+2],c.children[h]+f+1)}for(let c=0;c<n.length;c+=3)n[c+1]==-1&&l(n[c+2],e[c]+s+1);return t}function L4(n,e,t){if(e.isLeaf)return null;let r=t+e.nodeSize,i=null;for(let s=0,o;s<n.length;s++)(o=n[s])&&o.from>t&&o.to<r&&((i||(i=[])).push(o),n[s]=null);return i}function P4(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function nf(n,e,t,r){let i=[],s=!1;e.forEach((l,c)=>{let f=L4(n,l,c+t);if(f){s=!0;let h=nf(f,l,t+c+1,r);h!=dn&&i.push(c,c+l.nodeSize,h)}});let o=D4(s?P4(n):n,-t).sort(qs);for(let l=0;l<o.length;l++)o[l].type.valid(e,o[l])||(r.onRemove&&r.onRemove(o[l].spec),o.splice(l--,1));return o.length||i.length?new Lt(o,i):dn}function qs(n,e){return n.from-e.from||n.to-e.to}function cy(n){let e=n;for(let t=0;t<e.length-1;t++){let r=e[t];if(r.from!=r.to)for(let i=t+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==n&&(e=n.slice()),e[i]=s.copy(s.from,r.to),tb(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==n&&(e=n.slice()),e[t]=r.copy(r.from,s.from),tb(e,i,r.copy(s.from,r.to)));break}}}return e}function tb(n,e,t){for(;e<n.length&&qs(t,n[e])>0;)e++;n.splice(e,0,t)}function Dp(n){let e=[];return n.someProp("decorations",t=>{let r=t(n.state);r&&r!=dn&&e.push(r)}),n.cursorWrapper&&e.push(Lt.create(n.state.doc,[n.cursorWrapper.deco])),Ui.from(e)}const SA={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},kA=Fn&&Ji<=11;class TA{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class AA{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new TA,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Fn&&Ji<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),kA&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,SA)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(q2(this.view)){if(this.suppressingSelectionUpdates)return oi(this.view);if(Fn&&Ji<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Ys(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,r;for(let s=e.focusNode;s;s=Qo(s))t.add(s);for(let s=e.anchorNode;s;s=Qo(s))if(t.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&q2(e)&&!this.ignoreSelectionChange(r),s=-1,o=-1,l=!1,c=[];if(e.editable)for(let h=0;h<t.length;h++){let p=this.registerMutation(t[h],c);p&&(s=s<0?p.from:Math.min(p.from,s),o=o<0?p.to:Math.max(p.to,o),p.typeOver&&(l=!0))}if(vr&&c.length){let h=c.filter(p=>p.nodeName=="BR");if(h.length==2){let[p,g]=h;p.parentNode&&p.parentNode.parentNode==g.parentNode?g.remove():p.remove()}else{let{focusNode:p}=this.currentSelection;for(let g of h){let m=g.parentNode;m&&m.nodeName=="LI"&&(!p||NA(e,p)!=m)&&g.remove()}}}let f=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Qf(r)&&(f=ry(e))&&f.eq(Ge.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,oi(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,o),RA(e)),this.handleDOMChange(s,o,l,c),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||oi(e),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let h=0;h<e.addedNodes.length;h++){let p=e.addedNodes[h];t.push(p),p.nodeType==3&&(this.lastChangedTextNode=p)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(Fn&&Ji<=11&&e.addedNodes.length)for(let h=0;h<e.addedNodes.length;h++){let{previousSibling:p,nextSibling:g}=e.addedNodes[h];(!p||Array.prototype.indexOf.call(e.addedNodes,p)<0)&&(i=p),(!g||Array.prototype.indexOf.call(e.addedNodes,g)<0)&&(s=g)}let o=i&&i.parentNode==e.target?nn(i)+1:0,l=r.localPosFromDOM(e.target,o,-1),c=s&&s.parentNode==e.target?nn(s):e.target.childNodes.length,f=r.localPosFromDOM(e.target,c,1);return{from:l,to:f}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let nb=new WeakMap,rb=!1;function RA(n){if(!nb.has(n)&&(nb.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=vr,rb)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),rb=!0}}function ib(n,e){let t=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,o=n.domAtPos(n.state.selection.anchor);return Ys(o.node,o.offset,i,s)&&([t,r,i,s]=[i,s,t,r]),{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:s}}function _A(n,e){if(e.getComposedRanges){let i=e.getComposedRanges(n.root)[0];if(i)return ib(n,i)}let t;function r(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",r,!0),t?ib(n,t):null}function NA(n,e){for(let t=e.parentNode;t&&t!=n.dom;t=t.parentNode){let r=n.docView.nearestDesc(t,!0);if(r&&r.node.isBlock)return t}return null}function OA(n,e,t){let{node:r,fromOffset:i,toOffset:s,from:o,to:l}=n.docView.parseRange(e,t),c=n.domSelectionRange(),f,h=c.anchorNode;if(h&&n.dom.contains(h.nodeType==1?h:h.parentNode)&&(f=[{node:h,offset:c.anchorOffset}],Qf(c)||f.push({node:c.focusNode,offset:c.focusOffset})),pn&&n.input.lastKeyCode===8)for(let E=s;E>i;E--){let b=r.childNodes[E-1],T=b.pmViewDesc;if(b.nodeName=="BR"&&!T){s=E;break}if(!T||T.size)break}let p=n.state.doc,g=n.someProp("domParser")||Xi.fromSchema(n.state.schema),m=p.resolve(o),w=null,v=g.parse(r,{topNode:m.parent,topMatch:m.parent.contentMatchAt(m.index()),topOpen:!0,from:i,to:s,preserveWhitespace:m.parent.type.whitespace=="pre"?"full":!0,findPositions:f,ruleFromNode:IA,context:m});if(f&&f[0].pos!=null){let E=f[0].pos,b=f[1]&&f[1].pos;b==null&&(b=E),w={anchor:E+o,head:b+o}}return{doc:v,sel:w,from:o,to:l}}function IA(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(En&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||En&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const MA=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function DA(n,e,t,r,i){let s=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,e<0){let F=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,se=ry(n,F);if(se&&!n.state.selection.eq(se)){if(pn&&ri&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",B=>B(n,Ds(13,"Enter"))))return;let be=n.state.tr.setSelection(se);F=="pointer"?be.setMeta("pointer",!0):F=="key"&&be.scrollIntoView(),s&&be.setMeta("composition",s),n.dispatch(be)}return}let o=n.state.doc.resolve(e),l=o.sharedDepth(t);e=o.before(l+1),t=n.state.doc.resolve(t).after(l+1);let c=n.state.selection,f=OA(n,e,t),h=n.state.doc,p=h.slice(f.from,f.to),g,m;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(g=n.state.selection.to,m="end"):(g=n.state.selection.from,m="start"),n.input.lastKeyCode=null;let w=FA(p.content,f.doc.content,f.from,g,m);if(w&&n.input.domChangeCount++,(ea&&n.input.lastIOSEnter>Date.now()-225||ri)&&i.some(F=>F.nodeType==1&&!MA.test(F.nodeName))&&(!w||w.endA>=w.endB)&&n.someProp("handleKeyDown",F=>F(n,Ds(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!w)if(r&&c instanceof qe&&!c.empty&&c.$head.sameParent(c.$anchor)&&!n.composing&&!(f.sel&&f.sel.anchor!=f.sel.head))w={start:c.from,endA:c.to,endB:c.to};else{if(f.sel){let F=sb(n,n.state.doc,f.sel);if(F&&!F.eq(n.state.selection)){let se=n.state.tr.setSelection(F);s&&se.setMeta("composition",s),n.dispatch(se)}}return}n.state.selection.from<n.state.selection.to&&w.start==w.endB&&n.state.selection instanceof qe&&(w.start>n.state.selection.from&&w.start<=n.state.selection.from+2&&n.state.selection.from>=f.from?w.start=n.state.selection.from:w.endA<n.state.selection.to&&w.endA>=n.state.selection.to-2&&n.state.selection.to<=f.to&&(w.endB+=n.state.selection.to-w.endA,w.endA=n.state.selection.to)),Fn&&Ji<=11&&w.endB==w.start+1&&w.endA==w.start&&w.start>f.from&&f.doc.textBetween(w.start-f.from-1,w.start-f.from+1)==" "&&(w.start--,w.endA--,w.endB--);let v=f.doc.resolveNoCache(w.start-f.from),E=f.doc.resolveNoCache(w.endB-f.from),b=h.resolve(w.start),T=v.sameParent(E)&&v.parent.inlineContent&&b.end()>=w.endA,A;if((ea&&n.input.lastIOSEnter>Date.now()-225&&(!T||i.some(F=>F.nodeName=="DIV"||F.nodeName=="P"))||!T&&v.pos<f.doc.content.size&&!v.sameParent(E)&&(A=Ge.findFrom(f.doc.resolve(v.pos+1),1,!0))&&A.head==E.pos)&&n.someProp("handleKeyDown",F=>F(n,Ds(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>w.start&&PA(h,w.start,w.endA,v,E)&&n.someProp("handleKeyDown",F=>F(n,Ds(8,"Backspace")))){ri&&pn&&n.domObserver.suppressSelectionUpdates();return}pn&&w.endB==w.start&&(n.input.lastChromeDelete=Date.now()),ri&&!T&&v.start()!=E.start()&&E.parentOffset==0&&v.depth==E.depth&&f.sel&&f.sel.anchor==f.sel.head&&f.sel.head==w.endA&&(w.endB-=2,E=f.doc.resolveNoCache(w.endB-f.from),setTimeout(()=>{n.someProp("handleKeyDown",function(F){return F(n,Ds(13,"Enter"))})},20));let k=w.start,I=w.endA,j,W,ee;if(T){if(v.pos==E.pos)Fn&&Ji<=11&&v.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>oi(n),20)),j=n.state.tr.delete(k,I),W=h.resolve(w.start).marksAcross(h.resolve(w.endA));else if(w.endA==w.endB&&(ee=LA(v.parent.content.cut(v.parentOffset,E.parentOffset),b.parent.content.cut(b.parentOffset,w.endA-b.start()))))j=n.state.tr,ee.type=="add"?j.addMark(k,I,ee.mark):j.removeMark(k,I,ee.mark);else if(v.parent.child(v.index()).isText&&v.index()==E.index()-(E.textOffset?0:1)){let F=v.parent.textBetween(v.parentOffset,E.parentOffset);if(n.someProp("handleTextInput",se=>se(n,k,I,F)))return;j=n.state.tr.insertText(F,k,I)}}if(j||(j=n.state.tr.replace(k,I,f.doc.slice(w.start-f.from,w.endB-f.from))),f.sel){let F=sb(n,j.doc,f.sel);F&&!(pn&&n.composing&&F.empty&&(w.start!=w.endB||n.input.lastChromeDelete<Date.now()-100)&&(F.head==k||F.head==j.mapping.map(I)-1)||Fn&&F.empty&&F.head==k)&&j.setSelection(F)}W&&j.ensureMarks(W),s&&j.setMeta("composition",s),n.dispatch(j.scrollIntoView())}function sb(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:iy(n,e.resolve(t.anchor),e.resolve(t.head))}function LA(n,e){let t=n.firstChild.marks,r=e.firstChild.marks,i=t,s=r,o,l,c;for(let h=0;h<r.length;h++)i=r[h].removeFromSet(i);for(let h=0;h<t.length;h++)s=t[h].removeFromSet(s);if(i.length==1&&s.length==0)l=i[0],o="add",c=h=>h.mark(l.addToSet(h.marks));else if(i.length==0&&s.length==1)l=s[0],o="remove",c=h=>h.mark(l.removeFromSet(h.marks));else return null;let f=[];for(let h=0;h<e.childCount;h++)f.push(c(e.child(h)));if(_e.from(f).eq(n))return{mark:l,type:o}}function PA(n,e,t,r,i){if(t-e<=i.pos-r.pos||Lp(r,!0,!1)<i.pos)return!1;let s=n.resolve(e);if(!r.parent.isTextblock){let l=s.nodeAfter;return l!=null&&t==e+l.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=n.resolve(Lp(s,!0,!0));return!o.parent.isTextblock||o.pos>t||Lp(o,!0,!1)<t?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function Lp(n,e,t){let r=n.depth,i=e?n.end():n.pos;for(;r>0&&(e||n.indexAfter(r)==n.node(r).childCount);)r--,i++,e=!1;if(t){let s=n.node(r).maybeChild(n.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function FA(n,e,t,r,i){let s=n.findDiffStart(e,t);if(s==null)return null;let{a:o,b:l}=n.findDiffEnd(e,t+n.size,t+e.size);if(i=="end"){let c=Math.max(0,s-Math.min(o,l));r-=o+c-s}if(o<s&&n.size<e.size){let c=r<=s&&r>=o?s-r:0;s-=c,s&&s<e.size&&ob(e.textBetween(s-1,s+1))&&(s+=c?1:-1),l=s+(l-o),o=s}else if(l<s){let c=r<=s&&r>=l?s-r:0;s-=c,s&&s<n.size&&ob(n.textBetween(s-1,s+1))&&(s+=c?1:-1),o=s+(o-l),l=s}return{start:s,endA:o,endB:l}}function ob(n){if(n.length!=2)return!1;let e=n.charCodeAt(0),t=n.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class BA{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new rA,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(fb),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=ub(this),lb(this),this.nodeViews=cb(this),this.docView=H2(this.state.doc,ab(this),Dp(this),this.dom,this),this.domObserver=new AA(this,(r,i,s,o)=>DA(this,r,i,s,o)),this.domObserver.start(),iA(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&pg(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(fb),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let r in this._props)t[r]=this._props[r];t.state=this.state;for(let r in e)t[r]=e[r];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var r;let i=this.state,s=!1,o=!1;e.storedMarks&&this.composing&&(N4(this),o=!0),this.state=e;let l=i.plugins!=e.plugins||this._props.plugins!=t.plugins;if(l||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let m=cb(this);zA(m,this.nodeViews)&&(this.nodeViews=m,s=!0)}(l||t.handleDOMEvents!=this._props.handleDOMEvents)&&pg(this),this.editable=ub(this),lb(this);let c=Dp(this),f=ab(this),h=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",p=s||!this.docView.matchesNode(e.doc,f,c);(p||!e.selection.eq(i.selection))&&(o=!0);let g=h=="preserve"&&o&&this.dom.style.overflowAnchor==null&&wT(this);if(o){this.domObserver.stop();let m=p&&(Fn||pn)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&jA(i.selection,e.selection);if(p){let w=pn?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=yA(this)),(s||!this.docView.update(e.doc,f,c,this))&&(this.docView.updateOuterDeco(f),this.docView.destroy(),this.docView=H2(e.doc,f,c,this.dom,this)),w&&!this.trackWrites&&(m=!0)}m||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&UT(this))?oi(this,m):(w4(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),h=="reset"?this.dom.scrollTop=0:h=="to selection"?this.scrollToSelection():g&&vT(g)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof Ve){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&L2(this,t.getBoundingClientRect(),e)}else L2(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let r=this.directPlugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let r=this.state.plugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let r=this.pluginViews[t];r.update&&r.update(this,e)}}updateDraggedNode(e,t){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-t.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new I4(e.slice,e.move,i<0?void 0:Ve.create(this.state.doc,i))}someProp(e,t){let r=this._props&&this._props[e],i;if(r!=null&&(i=t?t(r):r))return i;for(let o=0;o<this.directPlugins.length;o++){let l=this.directPlugins[o].props[e];if(l!=null&&(i=t?t(l):l))return i}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let l=s[o].props[e];if(l!=null&&(i=t?t(l):l))return i}}hasFocus(){if(Fn){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&bT(this.dom),oi(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return kT(this,e)}coordsAtPos(e,t=1){return c4(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,r=-1){let i=this.docView.posFromDOM(e,t,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,t){return NT(this,t||this.state,e)}pasteHTML(e,t){return Nl(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return Nl(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return sy(this,e)}destroy(){this.docView&&(sA(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Dp(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,aT())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return aA(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?En&&this.root.nodeType===11&&dT(this.dom.ownerDocument)==this.dom&&_A(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function ab(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let r in t)r=="class"?e.class+=" "+t[r]:r=="style"?e.style=(e.style?e.style+";":"")+t[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(t[r]))}),e.translate||(e.translate="no"),[Kn.node(0,n.state.doc.content.size,e)]}function lb(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:Kn.widget(n.state.selection.from,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function ub(n){return!n.someProp("editable",e=>e(n.state)===!1)}function jA(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function cb(n){let e=Object.create(null);function t(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function zA(n,e){let t=0,r=0;for(let i in n){if(n[i]!=e[i])return!0;t++}for(let i in e)r++;return t!=r}function fb(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var ts={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},rf={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},HA=typeof navigator<"u"&&/Mac/.test(navigator.platform),UA=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var rn=0;rn<10;rn++)ts[48+rn]=ts[96+rn]=String(rn);for(var rn=1;rn<=24;rn++)ts[rn+111]="F"+rn;for(var rn=65;rn<=90;rn++)ts[rn]=String.fromCharCode(rn+32),rf[rn]=String.fromCharCode(rn);for(var Pp in ts)rf.hasOwnProperty(Pp)||(rf[Pp]=ts[Pp]);function VA(n){var e=HA&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||UA&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?rf:ts)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const WA=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function $A(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let r,i,s,o;for(let l=0;l<e.length-1;l++){let c=e[l];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))i=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))WA?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+c)}return r&&(t="Alt-"+t),i&&(t="Ctrl-"+t),o&&(t="Meta-"+t),s&&(t="Shift-"+t),t}function KA(n){let e=Object.create(null);for(let t in n)e[$A(t)]=n[t];return e}function Fp(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function qA(n){return new jt({props:{handleKeyDown:F4(n)}})}function F4(n){let e=KA(n);return function(t,r){let i=VA(r),s,o=e[Fp(i,r)];if(o&&o(t.state,t.dispatch,t))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let l=e[Fp(i,r,!1)];if(l&&l(t.state,t.dispatch,t))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(s=ts[r.keyCode])&&s!=i){let l=e[Fp(s,r)];if(l&&l(t.state,t.dispatch,t))return!0}}return!1}}const GA=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function B4(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const ZA=(n,e,t)=>{let r=B4(n,t);if(!r)return!1;let i=fy(r);if(!i){let o=r.blockRange(),l=o&&fa(o);return l==null?!1:(e&&e(n.tr.lift(o,l).scrollIntoView()),!0)}let s=i.nodeBefore;if(U4(n,i,e,-1))return!0;if(r.parent.content.size==0&&(ta(s,"end")||Ve.isSelectable(s)))for(let o=r.depth;;o--){let l=Jf(n.doc,r.before(o),r.after(o),De.empty);if(l&&l.slice.size<l.to-l.from){if(e){let c=n.tr.step(l);c.setSelection(ta(s,"end")?Ge.findFrom(c.doc.resolve(c.mapping.map(i.pos,-1)),-1):Ve.create(c.doc,i.pos-s.nodeSize)),e(c.scrollIntoView())}return!0}if(o==1||r.node(o-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},XA=(n,e,t)=>{let r=B4(n,t);if(!r)return!1;let i=fy(r);return i?j4(n,i,e):!1},JA=(n,e,t)=>{let r=z4(n,t);if(!r)return!1;let i=dy(r);return i?j4(n,i,e):!1};function j4(n,e,t){let r=e.nodeBefore,i=r,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let h=i.lastChild;if(!h)return!1;i=h}let o=e.nodeAfter,l=o,c=e.pos+1;for(;!l.isTextblock;c++){if(l.type.spec.isolating)return!1;let h=l.firstChild;if(!h)return!1;l=h}let f=Jf(n.doc,s,c,De.empty);if(!f||f.from!=s||f instanceof qt&&f.slice.size>=c-s)return!1;if(t){let h=n.tr.step(f);h.setSelection(qe.create(h.doc,s)),t(h.scrollIntoView())}return!0}function ta(n,e,t=!1){for(let r=n;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(t&&r.childCount!=1)return!1}return!1}const YA=(n,e,t)=>{let{$head:r,empty:i}=n.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):r.parentOffset>0)return!1;s=fy(r)}let o=s&&s.nodeBefore;return!o||!Ve.isSelectable(o)?!1:(e&&e(n.tr.setSelection(Ve.create(n.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function fy(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function z4(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const QA=(n,e,t)=>{let r=z4(n,t);if(!r)return!1;let i=dy(r);if(!i)return!1;let s=i.nodeAfter;if(U4(n,i,e,1))return!0;if(r.parent.content.size==0&&(ta(s,"start")||Ve.isSelectable(s))){let o=Jf(n.doc,r.before(),r.after(),De.empty);if(o&&o.slice.size<o.to-o.from){if(e){let l=n.tr.step(o);l.setSelection(ta(s,"start")?Ge.findFrom(l.doc.resolve(l.mapping.map(i.pos)),1):Ve.create(l.doc,l.mapping.map(i.pos))),e(l.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},e8=(n,e,t)=>{let{$head:r,empty:i}=n.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;s=dy(r)}let o=s&&s.nodeAfter;return!o||!Ve.isSelectable(o)?!1:(e&&e(n.tr.setSelection(Ve.create(n.doc,s.pos)).scrollIntoView()),!0)};function dy(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const t8=(n,e)=>{let t=n.selection,r=t instanceof Ve,i;if(r){if(t.node.isTextblock||!is(n.doc,t.from))return!1;i=t.from}else if(i=Xf(n.doc,t.from,-1),i==null)return!1;if(e){let s=n.tr.join(i);r&&s.setSelection(Ve.create(s.doc,i-n.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},n8=(n,e)=>{let t=n.selection,r;if(t instanceof Ve){if(t.node.isTextblock||!is(n.doc,t.to))return!1;r=t.to}else if(r=Xf(n.doc,t.to,1),r==null)return!1;return e&&e(n.tr.join(r).scrollIntoView()),!0},r8=(n,e)=>{let{$from:t,$to:r}=n.selection,i=t.blockRange(r),s=i&&fa(i);return s==null?!1:(e&&e(n.tr.lift(i,s).scrollIntoView()),!0)},i8=(n,e)=>{let{$head:t,$anchor:r}=n.selection;return!t.parent.type.spec.code||!t.sameParent(r)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function H4(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const s8=(n,e)=>{let{$head:t,$anchor:r}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(r))return!1;let i=t.node(-1),s=t.indexAfter(-1),o=H4(i.contentMatchAt(s));if(!o||!i.canReplaceWith(s,s,o))return!1;if(e){let l=t.after(),c=n.tr.replaceWith(l,l,o.createAndFill());c.setSelection(Ge.near(c.doc.resolve(l),1)),e(c.scrollIntoView())}return!0},o8=(n,e)=>{let t=n.selection,{$from:r,$to:i}=t;if(t instanceof ar||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=H4(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let o=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,l=n.tr.insert(o,s.createAndFill());l.setSelection(qe.create(l.doc,o+1)),e(l.scrollIntoView())}return!0},a8=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let s=t.before();if(Wo(n.doc,s))return e&&e(n.tr.split(s).scrollIntoView()),!0}let r=t.blockRange(),i=r&&fa(r);return i==null?!1:(e&&e(n.tr.lift(r,i).scrollIntoView()),!0)},l8=(n,e)=>{let{$from:t,to:r}=n.selection,i,s=t.sharedDepth(r);return s==0?!1:(i=t.before(s),e&&e(n.tr.setSelection(Ve.create(n.doc,i))),!0)};function u8(n,e,t){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(t&&t(n.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||is(n.doc,e.pos))?!1:(t&&t(n.tr.join(e.pos).scrollIntoView()),!0)}function U4(n,e,t,r){let i=e.nodeBefore,s=e.nodeAfter,o,l,c=i.type.spec.isolating||s.type.spec.isolating;if(!c&&u8(n,e,t))return!0;let f=!c&&e.parent.canReplace(e.index(),e.index()+1);if(f&&(o=(l=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&l.matchType(o[0]||s.type).validEnd){if(t){let m=e.pos+s.nodeSize,w=_e.empty;for(let b=o.length-1;b>=0;b--)w=_e.from(o[b].create(null,w));w=_e.from(i.copy(w));let v=n.tr.step(new Gt(e.pos-1,m,e.pos,m,new De(w,1,0),o.length,!0)),E=v.doc.resolve(m+2*o.length);E.nodeAfter&&E.nodeAfter.type==i.type&&is(v.doc,E.pos)&&v.join(E.pos),t(v.scrollIntoView())}return!0}let h=s.type.spec.isolating||r>0&&c?null:Ge.findFrom(e,1),p=h&&h.$from.blockRange(h.$to),g=p&&fa(p);if(g!=null&&g>=e.depth)return t&&t(n.tr.lift(p,g).scrollIntoView()),!0;if(f&&ta(s,"start",!0)&&ta(i,"end")){let m=i,w=[];for(;w.push(m),!m.isTextblock;)m=m.lastChild;let v=s,E=1;for(;!v.isTextblock;v=v.firstChild)E++;if(m.canReplace(m.childCount,m.childCount,v.content)){if(t){let b=_e.empty;for(let A=w.length-1;A>=0;A--)b=_e.from(w[A].copy(b));let T=n.tr.step(new Gt(e.pos-w.length,e.pos+s.nodeSize,e.pos+E,e.pos+s.nodeSize-E,new De(b,w.length,0),0,!0));t(T.scrollIntoView())}return!0}}return!1}function V4(n){return function(e,t){let r=e.selection,i=n<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(t&&t(e.tr.setSelection(qe.create(e.doc,n<0?i.start(s):i.end(s)))),!0):!1}}const c8=V4(-1),f8=V4(1);function d8(n,e=null){return function(t,r){let{$from:i,$to:s}=t.selection,o=i.blockRange(s),l=o&&ey(o,n,e);return l?(r&&r(t.tr.wrap(o,l).scrollIntoView()),!0):!1}}function db(n,e=null){return function(t,r){let i=!1;for(let s=0;s<t.selection.ranges.length&&!i;s++){let{$from:{pos:o},$to:{pos:l}}=t.selection.ranges[s];t.doc.nodesBetween(o,l,(c,f)=>{if(i)return!1;if(!(!c.isTextblock||c.hasMarkup(n,e)))if(c.type==n)i=!0;else{let h=t.doc.resolve(f),p=h.index();i=h.parent.canReplaceWith(p,p+1,n)}})}if(!i)return!1;if(r){let s=t.tr;for(let o=0;o<t.selection.ranges.length;o++){let{$from:{pos:l},$to:{pos:c}}=t.selection.ranges[o];s.setBlockType(l,c,n,e)}r(s.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function h8(n,e=null){return function(t,r){let{$from:i,$to:s}=t.selection,o=i.blockRange(s);if(!o)return!1;let l=r?t.tr:null;return p8(l,o,n,e)?(r&&r(l.scrollIntoView()),!0):!1}}function p8(n,e,t,r=null){let i=!1,s=e,o=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let c=o.resolve(e.start-2);s=new Xc(c,c,e.depth),e.endIndex<e.parent.childCount&&(e=new Xc(e.$from,o.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let l=ey(s,t,r,e);return l?(n&&m8(n,e,l,i,t),!0):!1}function m8(n,e,t,r,i){let s=_e.empty;for(let h=t.length-1;h>=0;h--)s=_e.from(t[h].type.create(t[h].attrs,s));n.step(new Gt(e.start-(r?2:0),e.end,e.start,e.end,new De(s,0,0),t.length,!0));let o=0;for(let h=0;h<t.length;h++)t[h].type==i&&(o=h+1);let l=t.length-o,c=e.start+t.length-(r?2:0),f=e.parent;for(let h=e.startIndex,p=e.endIndex,g=!0;h<p;h++,g=!1)!g&&Wo(n.doc,c,l)&&(n.split(c,l),c+=2*l),c+=f.child(h).nodeSize;return n}function g8(n){return function(e,t){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,o=>o.childCount>0&&o.firstChild.type==n);return s?t?r.node(s.depth-1).type==n?y8(e,t,n,s):w8(e,t,s):!0:!1}}function y8(n,e,t,r){let i=n.tr,s=r.end,o=r.$to.end(r.depth);s<o&&(i.step(new Gt(s-1,o,s,o,new De(_e.from(t.create(null,r.parent.copy())),1,0),1,!0)),r=new Xc(i.doc.resolve(r.$from.pos),i.doc.resolve(o),r.depth));const l=fa(r);if(l==null)return!1;i.lift(r,l);let c=i.doc.resolve(i.mapping.map(s,-1)-1);return is(i.doc,c.pos)&&c.nodeBefore.type==c.nodeAfter.type&&i.join(c.pos),e(i.scrollIntoView()),!0}function w8(n,e,t){let r=n.tr,i=t.parent;for(let m=t.end,w=t.endIndex-1,v=t.startIndex;w>v;w--)m-=i.child(w).nodeSize,r.delete(m-1,m+1);let s=r.doc.resolve(t.start),o=s.nodeAfter;if(r.mapping.map(t.end)!=t.start+s.nodeAfter.nodeSize)return!1;let l=t.startIndex==0,c=t.endIndex==i.childCount,f=s.node(-1),h=s.index(-1);if(!f.canReplace(h+(l?0:1),h+1,o.content.append(c?_e.empty:_e.from(i))))return!1;let p=s.pos,g=p+o.nodeSize;return r.step(new Gt(p-(l?1:0),g+(c?1:0),p+1,g-1,new De((l?_e.empty:_e.from(i.copy(_e.empty))).append(c?_e.empty:_e.from(i.copy(_e.empty))),l?0:1,c?0:1),l?0:1)),e(r.scrollIntoView()),!0}function v8(n){return function(e,t){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,f=>f.childCount>0&&f.firstChild.type==n);if(!s)return!1;let o=s.startIndex;if(o==0)return!1;let l=s.parent,c=l.child(o-1);if(c.type!=n)return!1;if(t){let f=c.lastChild&&c.lastChild.type==l.type,h=_e.from(f?n.create():null),p=new De(_e.from(n.create(null,_e.from(l.type.create(null,h)))),f?3:1,0),g=s.start,m=s.end;t(e.tr.step(new Gt(g-(f?3:1),m,g,m,p,1,!0)).scrollIntoView())}return!0}}function nd(n){const{state:e,transaction:t}=n;let{selection:r}=t,{doc:i}=t,{storedMarks:s}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=t.selection,i=t.doc,s=t.storedMarks,t}}}class rd{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:r}=this,{view:i}=t,{tr:s}=r,o=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([l,c])=>[l,(...h)=>{const p=c(...h)(o);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(s),p}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:r,editor:i,state:s}=this,{view:o}=i,l=[],c=!!e,f=e||s.tr,h=()=>(!c&&t&&!f.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(f),l.every(g=>g===!0)),p={...Object.fromEntries(Object.entries(r).map(([g,m])=>[g,(...v)=>{const E=this.buildProps(f,t),b=m(...v)(E);return l.push(b),p}])),run:h};return p}createCan(e){const{rawCommands:t,state:r}=this,i=!1,s=e||r.tr,o=this.buildProps(s,i);return{...Object.fromEntries(Object.entries(t).map(([c,f])=>[c,(...h)=>f(...h)({...o,dispatch:void 0})])),chain:()=>this.createChain(s,i)}}buildProps(e,t=!0){const{rawCommands:r,editor:i,state:s}=this,{view:o}=i,l={tr:e,editor:i,view:o,state:nd({state:s,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([c,f])=>[c,(...h)=>f(...h)(l)]))}};return l}}class b8{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,t)),this}off(e,t){const r=this.callbacks[e];return r&&(t?this.callbacks[e]=r.filter(i=>i!==t):delete this.callbacks[e]),this}once(e,t){const r=(...i)=>{this.off(e,r),t.apply(this,i)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}}function je(n,e,t){return n.config[e]===void 0&&n.parent?je(n.parent,e,t):typeof n.config[e]=="function"?n.config[e].bind({...t,parent:n.parent?je(n.parent,e,t):null}):n.config[e]}function id(n){const e=n.filter(i=>i.type==="extension"),t=n.filter(i=>i.type==="node"),r=n.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:r}}function W4(n){const e=[],{nodeExtensions:t,markExtensions:r}=id(n),i=[...t,...r],s={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return n.forEach(o=>{const l={name:o.name,options:o.options,storage:o.storage,extensions:i},c=je(o,"addGlobalAttributes",l);if(!c)return;c().forEach(h=>{h.types.forEach(p=>{Object.entries(h.attributes).forEach(([g,m])=>{e.push({type:p,name:g,attribute:{...s,...m}})})})})}),i.forEach(o=>{const l={name:o.name,options:o.options,storage:o.storage},c=je(o,"addAttributes",l);if(!c)return;const f=c();Object.entries(f).forEach(([h,p])=>{const g={...s,...p};typeof(g==null?void 0:g.default)=="function"&&(g.default=g.default()),g!=null&&g.isRequired&&(g==null?void 0:g.default)===void 0&&delete g.default,e.push({type:o.name,name:h,attribute:g})})}),e}function Xt(n,e){if(typeof n=="string"){if(!e.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return e.nodes[n]}return n}function dt(...n){return n.filter(e=>!!e).reduce((e,t)=>{const r={...e};return Object.entries(t).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const l=s?String(s).split(" "):[],c=r[i]?r[i].split(" "):[],f=l.filter(h=>!c.includes(h));r[i]=[...c,...f].join(" ")}else if(i==="style"){const l=s?s.split(";").map(h=>h.trim()).filter(Boolean):[],c=r[i]?r[i].split(";").map(h=>h.trim()).filter(Boolean):[],f=new Map;c.forEach(h=>{const[p,g]=h.split(":").map(m=>m.trim());f.set(p,g)}),l.forEach(h=>{const[p,g]=h.split(":").map(m=>m.trim());f.set(p,g)}),r[i]=Array.from(f.entries()).map(([h,p])=>`${h}: ${p}`).join("; ")}else r[i]=s}),r},{})}function sf(n,e){return e.filter(t=>t.type===n.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(n.attrs)||{}:{[t.name]:n.attrs[t.name]}).reduce((t,r)=>dt(t,r),{})}function $4(n){return typeof n=="function"}function Je(n,e=void 0,...t){return $4(n)?e?n.bind(e)(...t):n(...t):n}function x8(n={}){return Object.keys(n).length===0&&n.constructor===Object}function E8(n){return typeof n!="string"?n:n.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(n):n==="true"?!0:n==="false"?!1:n}function hb(n,e){return"style"in n?n:{...n,getAttrs:t=>{const r=n.getAttrs?n.getAttrs(t):n.attrs;if(r===!1)return!1;const i=e.reduce((s,o)=>{const l=o.attribute.parseHTML?o.attribute.parseHTML(t):E8(t.getAttribute(o.name));return l==null?s:{...s,[o.name]:l}},{});return{...r,...i}}}}function pb(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>e==="attrs"&&x8(t)?!1:t!=null))}function C8(n,e){var t;const r=W4(n),{nodeExtensions:i,markExtensions:s}=id(n),o=(t=i.find(f=>je(f,"topNode")))===null||t===void 0?void 0:t.name,l=Object.fromEntries(i.map(f=>{const h=r.filter(b=>b.type===f.name),p={name:f.name,options:f.options,storage:f.storage,editor:e},g=n.reduce((b,T)=>{const A=je(T,"extendNodeSchema",p);return{...b,...A?A(f):{}}},{}),m=pb({...g,content:Je(je(f,"content",p)),marks:Je(je(f,"marks",p)),group:Je(je(f,"group",p)),inline:Je(je(f,"inline",p)),atom:Je(je(f,"atom",p)),selectable:Je(je(f,"selectable",p)),draggable:Je(je(f,"draggable",p)),code:Je(je(f,"code",p)),whitespace:Je(je(f,"whitespace",p)),linebreakReplacement:Je(je(f,"linebreakReplacement",p)),defining:Je(je(f,"defining",p)),isolating:Je(je(f,"isolating",p)),attrs:Object.fromEntries(h.map(b=>{var T;return[b.name,{default:(T=b==null?void 0:b.attribute)===null||T===void 0?void 0:T.default}]}))}),w=Je(je(f,"parseHTML",p));w&&(m.parseDOM=w.map(b=>hb(b,h)));const v=je(f,"renderHTML",p);v&&(m.toDOM=b=>v({node:b,HTMLAttributes:sf(b,h)}));const E=je(f,"renderText",p);return E&&(m.toText=E),[f.name,m]})),c=Object.fromEntries(s.map(f=>{const h=r.filter(E=>E.type===f.name),p={name:f.name,options:f.options,storage:f.storage,editor:e},g=n.reduce((E,b)=>{const T=je(b,"extendMarkSchema",p);return{...E,...T?T(f):{}}},{}),m=pb({...g,inclusive:Je(je(f,"inclusive",p)),excludes:Je(je(f,"excludes",p)),group:Je(je(f,"group",p)),spanning:Je(je(f,"spanning",p)),code:Je(je(f,"code",p)),attrs:Object.fromEntries(h.map(E=>{var b;return[E.name,{default:(b=E==null?void 0:E.attribute)===null||b===void 0?void 0:b.default}]}))}),w=Je(je(f,"parseHTML",p));w&&(m.parseDOM=w.map(E=>hb(E,h)));const v=je(f,"renderHTML",p);return v&&(m.toDOM=E=>v({mark:E,HTMLAttributes:sf(E,h)})),[f.name,m]}));return new jC({topNode:o,nodes:l,marks:c})}function Bp(n,e){return e.nodes[n]||e.marks[n]||null}function mb(n,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===n.name):e}function hy(n,e){const t=io.fromSchema(e).serializeFragment(n),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(t),i.innerHTML}const S8=(n,e=500)=>{let t="";const r=n.parentOffset;return n.parent.nodesBetween(Math.max(0,r-e),r,(i,s,o,l)=>{var c,f;const h=((f=(c=i.type.spec).toText)===null||f===void 0?void 0:f.call(c,{node:i,pos:s,parent:o,index:l}))||i.textContent||"%leaf%";t+=i.isAtom&&!i.isText?h:h.slice(0,Math.max(0,r-s))}),t};function py(n){return Object.prototype.toString.call(n)==="[object RegExp]"}class jl{constructor(e){this.find=e.find,this.handler=e.handler}}const k8=(n,e)=>{if(py(e))return e.exec(n);const t=e(n);if(!t)return null;const r=[t.text];return r.index=t.index,r.input=n,r.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(t.replaceWith)),r};function dc(n){var e;const{editor:t,from:r,to:i,text:s,rules:o,plugin:l}=n,{view:c}=t;if(c.composing)return!1;const f=c.state.doc.resolve(r);if(f.parent.type.spec.code||!((e=f.nodeBefore||f.nodeAfter)===null||e===void 0)&&e.marks.find(g=>g.type.spec.code))return!1;let h=!1;const p=S8(f)+s;return o.forEach(g=>{if(h)return;const m=k8(p,g.find);if(!m)return;const w=c.state.tr,v=nd({state:c.state,transaction:w}),E={from:r-(m[0].length-s.length),to:i},{commands:b,chain:T,can:A}=new rd({editor:t,state:v});g.handler({state:v,range:E,match:m,commands:b,chain:T,can:A})===null||!w.steps.length||(w.setMeta(l,{transform:w,from:r,to:i,text:s}),c.dispatch(w),h=!0)}),h}function T8(n){const{editor:e,rules:t}=n,r=new jt({state:{init(){return null},apply(i,s,o){const l=i.getMeta(r);if(l)return l;const c=i.getMeta("applyInputRules");return!!c&&setTimeout(()=>{let{text:h}=c;typeof h=="string"?h=h:h=hy(_e.from(h),o.schema);const{from:p}=c,g=p+h.length;dc({editor:e,from:p,to:g,text:h,rules:t,plugin:r})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,o,l){return dc({editor:e,from:s,to:o,text:l,rules:t,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&dc({editor:e,from:s.pos,to:s.pos,text:"",rules:t,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:o}=i.state.selection;return o?dc({editor:e,from:o.pos,to:o.pos,text:`
`,rules:t,plugin:r}):!1}},isInputRules:!0});return r}function A8(n){return Object.prototype.toString.call(n).slice(8,-1)}function hc(n){return A8(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function sd(n,e){const t={...n};return hc(n)&&hc(e)&&Object.keys(e).forEach(r=>{hc(e[r])&&hc(n[r])?t[r]=sd(n[r],e[r]):t[r]=e[r]}),t}class jn{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Je(je(this,"addOptions",{name:this.name}))),this.storage=Je(je(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new jn(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>sd(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new jn(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Je(je(t,"addOptions",{name:t.name})),t.storage=Je(je(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const o=i.marks();if(!!!o.find(f=>(f==null?void 0:f.type.name)===t.name))return!1;const c=o.find(f=>(f==null?void 0:f.type.name)===t.name);return c&&r.removeStoredMark(c),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}}function R8(n){return typeof n=="number"}class _8{constructor(e){this.find=e.find,this.handler=e.handler}}const N8=(n,e,t)=>{if(py(e))return[...n.matchAll(e)];const r=e(n,t);return r?r.map(i=>{const s=[i.text];return s.index=i.index,s.input=n,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function O8(n){const{editor:e,state:t,from:r,to:i,rule:s,pasteEvent:o,dropEvent:l}=n,{commands:c,chain:f,can:h}=new rd({editor:e,state:t}),p=[];return t.doc.nodesBetween(r,i,(m,w)=>{if(!m.isTextblock||m.type.spec.code)return;const v=Math.max(r,w),E=Math.min(i,w+m.content.size),b=m.textBetween(v-w,E-w,void 0,"");N8(b,s.find,o).forEach(A=>{if(A.index===void 0)return;const k=v+A.index+1,I=k+A[0].length,j={from:t.tr.mapping.map(k),to:t.tr.mapping.map(I)},W=s.handler({state:t,range:j,match:A,commands:c,chain:f,can:h,pasteEvent:o,dropEvent:l});p.push(W)})}),p.every(m=>m!==null)}let pc=null;const I8=n=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)===null||e===void 0||e.setData("text/html",n),t};function M8(n){const{editor:e,rules:t}=n;let r=null,i=!1,s=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,l;try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}const c=({state:h,from:p,to:g,rule:m,pasteEvt:w})=>{const v=h.tr,E=nd({state:h,transaction:v});if(!(!O8({editor:e,state:E,from:Math.max(p-1,0),to:g.b-1,rule:m,pasteEvent:w,dropEvent:l})||!v.steps.length)){try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}return o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,v}};return t.map(h=>new jt({view(p){const g=w=>{var v;r=!((v=p.dom.parentElement)===null||v===void 0)&&v.contains(w.target)?p.dom.parentElement:null,r&&(pc=e)},m=()=>{pc&&(pc=null)};return window.addEventListener("dragstart",g),window.addEventListener("dragend",m),{destroy(){window.removeEventListener("dragstart",g),window.removeEventListener("dragend",m)}}},props:{handleDOMEvents:{drop:(p,g)=>{if(s=r===p.dom.parentElement,l=g,!s){const m=pc;m&&setTimeout(()=>{const w=m.state.selection;w&&m.commands.deleteRange({from:w.from,to:w.to})},10)}return!1},paste:(p,g)=>{var m;const w=(m=g.clipboardData)===null||m===void 0?void 0:m.getData("text/html");return o=g,i=!!(w!=null&&w.includes("data-pm-slice")),!1}}},appendTransaction:(p,g,m)=>{const w=p[0],v=w.getMeta("uiEvent")==="paste"&&!i,E=w.getMeta("uiEvent")==="drop"&&!s,b=w.getMeta("applyPasteRules"),T=!!b;if(!v&&!E&&!T)return;if(T){let{text:I}=b;typeof I=="string"?I=I:I=hy(_e.from(I),m.schema);const{from:j}=b,W=j+I.length,ee=I8(I);return c({rule:h,state:m,from:j,to:{b:W},pasteEvt:ee})}const A=g.doc.content.findDiffStart(m.doc.content),k=g.doc.content.findDiffEnd(m.doc.content);if(!(!R8(A)||!k||A===k.b))return c({rule:h,state:m,from:A,to:k,pasteEvt:o})}}))}function D8(n){const e=n.filter((t,r)=>n.indexOf(t)!==r);return Array.from(new Set(e))}class Uo{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=Uo.resolve(e),this.schema=C8(this.extensions,t),this.setupExtensions()}static resolve(e){const t=Uo.sort(Uo.flatten(e)),r=D8(t.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(t=>{const r={name:t.name,options:t.options,storage:t.storage},i=je(t,"addExtensions",r);return i?[t,...this.flatten(i())]:t}).flat(10)}static sort(e){return e.sort((r,i)=>{const s=je(r,"priority")||100,o=je(i,"priority")||100;return s>o?-1:s<o?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const r={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:Bp(t.name,this.schema)},i=je(t,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,t=Uo.sort([...this.extensions].reverse()),r=[],i=[],s=t.map(o=>{const l={name:o.name,options:o.options,storage:o.storage,editor:e,type:Bp(o.name,this.schema)},c=[],f=je(o,"addKeyboardShortcuts",l);let h={};if(o.type==="mark"&&je(o,"exitable",l)&&(h.ArrowRight=()=>jn.handleExit({editor:e,mark:o})),f){const v=Object.fromEntries(Object.entries(f()).map(([E,b])=>[E,()=>b({editor:e})]));h={...h,...v}}const p=qA(h);c.push(p);const g=je(o,"addInputRules",l);mb(o,e.options.enableInputRules)&&g&&r.push(...g());const m=je(o,"addPasteRules",l);mb(o,e.options.enablePasteRules)&&m&&i.push(...m());const w=je(o,"addProseMirrorPlugins",l);if(w){const v=w();c.push(...v)}return c}).flat();return[T8({editor:e,rules:r}),...M8({editor:e,rules:i}),...s]}get attributes(){return W4(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=id(this.extensions);return Object.fromEntries(t.filter(r=>!!je(r,"addNodeView")).map(r=>{const i=this.attributes.filter(c=>c.type===r.name),s={name:r.name,options:r.options,storage:r.storage,editor:e,type:Xt(r.name,this.schema)},o=je(r,"addNodeView",s);if(!o)return[];const l=(c,f,h,p,g)=>{const m=sf(c,i);return o()({node:c,view:f,getPos:h,decorations:p,innerDecorations:g,editor:e,extension:r,HTMLAttributes:m})};return[r.name,l]}))}setupExtensions(){this.extensions.forEach(e=>{var t;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:Bp(e.name,this.schema)};e.type==="mark"&&(!((t=Je(je(e,"keepOnSplit",r)))!==null&&t!==void 0)||t)&&this.splittableMarks.push(e.name);const i=je(e,"onBeforeCreate",r),s=je(e,"onCreate",r),o=je(e,"onUpdate",r),l=je(e,"onSelectionUpdate",r),c=je(e,"onTransaction",r),f=je(e,"onFocus",r),h=je(e,"onBlur",r),p=je(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),o&&this.editor.on("update",o),l&&this.editor.on("selectionUpdate",l),c&&this.editor.on("transaction",c),f&&this.editor.on("focus",f),h&&this.editor.on("blur",h),p&&this.editor.on("destroy",p)})}}class bt{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Je(je(this,"addOptions",{name:this.name}))),this.storage=Je(je(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new bt(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>sd(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new bt({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Je(je(t,"addOptions",{name:t.name})),t.storage=Je(je(t,"addStorage",{name:t.name,options:t.options})),t}}function K4(n,e,t){const{from:r,to:i}=e,{blockSeparator:s=`

`,textSerializers:o={}}=t||{};let l="";return n.nodesBetween(r,i,(c,f,h,p)=>{var g;c.isBlock&&f>r&&(l+=s);const m=o==null?void 0:o[c.type.name];if(m)return h&&(l+=m({node:c,pos:f,parent:h,index:p,range:e})),!1;c.isText&&(l+=(g=c==null?void 0:c.text)===null||g===void 0?void 0:g.slice(Math.max(r,f)-f,i-f))}),l}function q4(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}const L8=bt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new jt({key:new kn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:e,schema:t}=n,{doc:r,selection:i}=e,{ranges:s}=i,o=Math.min(...s.map(h=>h.$from.pos)),l=Math.max(...s.map(h=>h.$to.pos)),c=q4(t);return K4(r,{from:o,to:l},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:c})}}})]}}),P8=()=>({editor:n,view:e})=>(requestAnimationFrame(()=>{var t;n.isDestroyed||(e.dom.blur(),(t=window==null?void 0:window.getSelection())===null||t===void 0||t.removeAllRanges())}),!0),F8=(n=!1)=>({commands:e})=>e.setContent("",n),B8=()=>({state:n,tr:e,dispatch:t})=>{const{selection:r}=e,{ranges:i}=r;return t&&i.forEach(({$from:s,$to:o})=>{n.doc.nodesBetween(s.pos,o.pos,(l,c)=>{if(l.type.isText)return;const{doc:f,mapping:h}=e,p=f.resolve(h.map(c)),g=f.resolve(h.map(c+l.nodeSize)),m=p.blockRange(g);if(!m)return;const w=fa(m);if(l.type.isTextblock){const{defaultType:v}=p.parent.contentMatchAt(p.index());e.setNodeMarkup(m.start,v)}(w||w===0)&&e.lift(m,w)})}),!0},j8=n=>e=>n(e),z8=()=>({state:n,dispatch:e})=>o8(n,e),H8=(n,e)=>({editor:t,tr:r})=>{const{state:i}=t,s=i.doc.slice(n.from,n.to);r.deleteRange(n.from,n.to);const o=r.mapping.map(e);return r.insert(o,s.content),r.setSelection(new qe(r.doc.resolve(o-1))),!0},U8=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,r=t.$anchor.node();if(r.content.size>0)return!1;const i=n.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(e){const l=i.before(s),c=i.after(s);n.delete(l,c).scrollIntoView()}return!0}return!1},V8=n=>({tr:e,state:t,dispatch:r})=>{const i=Xt(n,t.schema),s=e.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===i){if(r){const c=s.before(o),f=s.after(o);e.delete(c,f).scrollIntoView()}return!0}return!1},W8=n=>({tr:e,dispatch:t})=>{const{from:r,to:i}=n;return t&&e.delete(r,i),!0},$8=()=>({state:n,dispatch:e})=>GA(n,e),K8=()=>({commands:n})=>n.keyboardShortcut("Enter"),q8=()=>({state:n,dispatch:e})=>s8(n,e);function of(n,e,t={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>t.strict?e[i]===n[i]:py(e[i])?e[i].test(n[i]):e[i]===n[i]):!0}function G4(n,e,t={}){return n.find(r=>r.type===e&&of(Object.fromEntries(Object.keys(t).map(i=>[i,r.attrs[i]])),t))}function gb(n,e,t={}){return!!G4(n,e,t)}function od(n,e,t){var r;if(!n||!e)return;let i=n.parent.childAfter(n.parentOffset);if((!i.node||!i.node.marks.some(h=>h.type===e))&&(i=n.parent.childBefore(n.parentOffset)),!i.node||!i.node.marks.some(h=>h.type===e)||(t=t||((r=i.node.marks[0])===null||r===void 0?void 0:r.attrs),!G4([...i.node.marks],e,t)))return;let o=i.index,l=n.start()+i.offset,c=o+1,f=l+i.node.nodeSize;for(;o>0&&gb([...n.parent.child(o-1).marks],e,t);)o-=1,l-=n.parent.child(o).nodeSize;for(;c<n.parent.childCount&&gb([...n.parent.child(c).marks],e,t);)f+=n.parent.child(c).nodeSize,c+=1;return{from:l,to:f}}function as(n,e){if(typeof n=="string"){if(!e.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return e.marks[n]}return n}const G8=(n,e={})=>({tr:t,state:r,dispatch:i})=>{const s=as(n,r.schema),{doc:o,selection:l}=t,{$from:c,from:f,to:h}=l;if(i){const p=od(c,s,e);if(p&&p.from<=f&&p.to>=h){const g=qe.create(o,p.from,p.to);t.setSelection(g)}}return!0},Z8=n=>e=>{const t=typeof n=="function"?n(e):n;for(let r=0;r<t.length;r+=1)if(t[r](e))return!0;return!1};function Z4(n){return n instanceof qe}function js(n=0,e=0,t=0){return Math.min(Math.max(n,e),t)}function X4(n,e=null){if(!e)return null;const t=Ge.atStart(n),r=Ge.atEnd(n);if(e==="start"||e===!0)return t;if(e==="end")return r;const i=t.from,s=r.to;return e==="all"?qe.create(n,js(0,i,s),js(n.content.size,i,s)):qe.create(n,js(e,i,s),js(e,i,s))}function J4(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function ad(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const X8=(n=null,e={})=>({editor:t,view:r,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const o=()=>{(ad()||J4())&&r.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&t.commands.scrollIntoView())})};if(r.hasFocus()&&n===null||n===!1)return!0;if(s&&n===null&&!Z4(t.state.selection))return o(),!0;const l=X4(i.doc,n)||t.state.selection,c=t.state.selection.eq(l);return s&&(c||i.setSelection(l),c&&i.storedMarks&&i.setStoredMarks(i.storedMarks),o()),!0},J8=(n,e)=>t=>n.every((r,i)=>e(r,{...t,index:i})),Y8=(n,e)=>({tr:t,commands:r})=>r.insertContentAt({from:t.selection.from,to:t.selection.to},n,e),Y4=n=>{const e=n.childNodes;for(let t=e.length-1;t>=0;t-=1){const r=e[t];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?n.removeChild(r):r.nodeType===1&&Y4(r)}return n};function mc(n){const e=`<body>${n}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return Y4(t)}function af(n,e,t){if(n instanceof Zi||n instanceof _e)return n;t={slice:!0,parseOptions:{},...t};const r=typeof n=="object"&&n!==null,i=typeof n=="string";if(r)try{if(Array.isArray(n)&&n.length>0)return _e.fromArray(n.map(l=>e.nodeFromJSON(l)));const o=e.nodeFromJSON(n);return t.errorOnInvalidContent&&o.check(),o}catch(s){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",s),af("",e,t)}if(i){if(t.errorOnInvalidContent){let o=!1,l="";const c=new jC({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:f=>(o=!0,l=typeof f=="string"?f:f.outerHTML,null)}]}})});if(t.slice?Xi.fromSchema(c).parseSlice(mc(n),t.parseOptions):Xi.fromSchema(c).parse(mc(n),t.parseOptions),t.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${l}`)})}const s=Xi.fromSchema(e);return t.slice?s.parseSlice(mc(n),t.parseOptions).content:s.parse(mc(n),t.parseOptions)}return af("",e,t)}function Q8(n,e,t){const r=n.steps.length-1;if(r<e)return;const i=n.steps[r];if(!(i instanceof qt||i instanceof Gt))return;const s=n.mapping.maps[r];let o=0;s.forEach((l,c,f,h)=>{o===0&&(o=h)}),n.setSelection(Ge.near(n.doc.resolve(o),t))}const e9=n=>!("type"in n),t9=(n,e,t)=>({tr:r,dispatch:i,editor:s})=>{var o;if(i){t={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let l;try{l=af(e,s.schema,{parseOptions:{preserveWhitespace:"full",...t.parseOptions},errorOnInvalidContent:(o=t.errorOnInvalidContent)!==null&&o!==void 0?o:s.options.enableContentCheck})}catch(w){return s.emit("contentError",{editor:s,error:w,disableCollaboration:()=>{s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}}),!1}let{from:c,to:f}=typeof n=="number"?{from:n,to:n}:{from:n.from,to:n.to},h=!0,p=!0;if((e9(l)?l:[l]).forEach(w=>{w.check(),h=h?w.isText&&w.marks.length===0:!1,p=p?w.isBlock:!1}),c===f&&p){const{parent:w}=r.doc.resolve(c);w.isTextblock&&!w.type.spec.code&&!w.childCount&&(c-=1,f+=1)}let m;if(h){if(Array.isArray(e))m=e.map(w=>w.text||"").join("");else if(e instanceof _e){let w="";e.forEach(v=>{v.text&&(w+=v.text)}),m=w}else typeof e=="object"&&e&&e.text?m=e.text:m=e;r.insertText(m,c,f)}else m=l,r.replaceWith(c,f,m);t.updateSelection&&Q8(r,r.steps.length-1,-1),t.applyInputRules&&r.setMeta("applyInputRules",{from:c,text:m}),t.applyPasteRules&&r.setMeta("applyPasteRules",{from:c,text:m})}return!0},n9=()=>({state:n,dispatch:e})=>t8(n,e),r9=()=>({state:n,dispatch:e})=>n8(n,e),i9=()=>({state:n,dispatch:e})=>ZA(n,e),s9=()=>({state:n,dispatch:e})=>QA(n,e),o9=()=>({state:n,dispatch:e,tr:t})=>{try{const r=Xf(n.doc,n.selection.$from.pos,-1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},a9=()=>({state:n,dispatch:e,tr:t})=>{try{const r=Xf(n.doc,n.selection.$from.pos,1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},l9=()=>({state:n,dispatch:e})=>XA(n,e),u9=()=>({state:n,dispatch:e})=>JA(n,e);function Q4(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function c9(n){const e=n.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let r,i,s,o;for(let l=0;l<e.length-1;l+=1){const c=e[l];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))i=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))ad()||Q4()?o=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${c}`)}return r&&(t=`Alt-${t}`),i&&(t=`Ctrl-${t}`),o&&(t=`Meta-${t}`),s&&(t=`Shift-${t}`),t}const f9=n=>({editor:e,view:t,tr:r,dispatch:i})=>{const s=c9(n).split(/-(?!$)/),o=s.find(f=>!["Alt","Ctrl","Meta","Shift"].includes(f)),l=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),c=e.captureTransaction(()=>{t.someProp("handleKeyDown",f=>f(t,l))});return c==null||c.steps.forEach(f=>{const h=f.map(r.mapping);h&&i&&r.maybeStep(h)}),!0};function Il(n,e,t={}){const{from:r,to:i,empty:s}=n.selection,o=e?Xt(e,n.schema):null,l=[];n.doc.nodesBetween(r,i,(p,g)=>{if(p.isText)return;const m=Math.max(r,g),w=Math.min(i,g+p.nodeSize);l.push({node:p,from:m,to:w})});const c=i-r,f=l.filter(p=>o?o.name===p.node.type.name:!0).filter(p=>of(p.node.attrs,t,{strict:!1}));return s?!!f.length:f.reduce((p,g)=>p+g.to-g.from,0)>=c}const d9=(n,e={})=>({state:t,dispatch:r})=>{const i=Xt(n,t.schema);return Il(t,i,e)?r8(t,r):!1},h9=()=>({state:n,dispatch:e})=>a8(n,e),p9=n=>({state:e,dispatch:t})=>{const r=Xt(n,e.schema);return g8(r)(e,t)},m9=()=>({state:n,dispatch:e})=>i8(n,e);function ld(n,e){return e.nodes[n]?"node":e.marks[n]?"mark":null}function yb(n,e){const t=typeof e=="string"?[e]:e;return Object.keys(n).reduce((r,i)=>(t.includes(i)||(r[i]=n[i]),r),{})}const g9=(n,e)=>({tr:t,state:r,dispatch:i})=>{let s=null,o=null;const l=ld(typeof n=="string"?n:n.name,r.schema);return l?(l==="node"&&(s=Xt(n,r.schema)),l==="mark"&&(o=as(n,r.schema)),i&&t.selection.ranges.forEach(c=>{r.doc.nodesBetween(c.$from.pos,c.$to.pos,(f,h)=>{s&&s===f.type&&t.setNodeMarkup(h,void 0,yb(f.attrs,e)),o&&f.marks.length&&f.marks.forEach(p=>{o===p.type&&t.addMark(h,h+f.nodeSize,o.create(yb(p.attrs,e)))})})}),!0):!1},y9=()=>({tr:n,dispatch:e})=>(e&&n.scrollIntoView(),!0),w9=()=>({tr:n,dispatch:e})=>{if(e){const t=new ar(n.doc);n.setSelection(t)}return!0},v9=()=>({state:n,dispatch:e})=>YA(n,e),b9=()=>({state:n,dispatch:e})=>e8(n,e),x9=()=>({state:n,dispatch:e})=>l8(n,e),E9=()=>({state:n,dispatch:e})=>f8(n,e),C9=()=>({state:n,dispatch:e})=>c8(n,e);function mg(n,e,t={},r={}){return af(n,e,{slice:!1,parseOptions:t,errorOnInvalidContent:r.errorOnInvalidContent})}const S9=(n,e=!1,t={},r={})=>({editor:i,tr:s,dispatch:o,commands:l})=>{var c,f;const{doc:h}=s;if(t.preserveWhitespace!=="full"){const p=mg(n,i.schema,t,{errorOnInvalidContent:(c=r.errorOnInvalidContent)!==null&&c!==void 0?c:i.options.enableContentCheck});return o&&s.replaceWith(0,h.content.size,p).setMeta("preventUpdate",!e),!0}return o&&s.setMeta("preventUpdate",!e),l.insertContentAt({from:0,to:h.content.size},n,{parseOptions:t,errorOnInvalidContent:(f=r.errorOnInvalidContent)!==null&&f!==void 0?f:i.options.enableContentCheck})};function eS(n,e){const t=as(e,n.schema),{from:r,to:i,empty:s}=n.selection,o=[];s?(n.storedMarks&&o.push(...n.storedMarks),o.push(...n.selection.$head.marks())):n.doc.nodesBetween(r,i,c=>{o.push(...c.marks)});const l=o.find(c=>c.type.name===t.name);return l?{...l.attrs}:{}}function k9(n,e){const t=new t4(n);return e.forEach(r=>{r.steps.forEach(i=>{t.step(i)})}),t}function T9(n){for(let e=0;e<n.edgeCount;e+=1){const{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function A9(n,e,t){const r=[];return n.nodesBetween(e.from,e.to,(i,s)=>{t(i)&&r.push({node:i,pos:s})}),r}function R9(n,e){for(let t=n.depth;t>0;t-=1){const r=n.node(t);if(e(r))return{pos:t>0?n.before(t):0,start:n.start(t),depth:t,node:r}}}function my(n){return e=>R9(e.$from,n)}function _9(n,e){const t={from:0,to:n.content.size};return K4(n,t,e)}function N9(n,e){const t=Xt(e,n.schema),{from:r,to:i}=n.selection,s=[];n.doc.nodesBetween(r,i,l=>{s.push(l)});const o=s.reverse().find(l=>l.type.name===t.name);return o?{...o.attrs}:{}}function tS(n,e){const t=ld(typeof e=="string"?e:e.name,n.schema);return t==="node"?N9(n,e):t==="mark"?eS(n,e):{}}function O9(n,e=JSON.stringify){const t={};return n.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(t,i)?!1:t[i]=!0})}function I9(n){const e=O9(n);return e.length===1?e:e.filter((t,r)=>!e.filter((s,o)=>o!==r).some(s=>t.oldRange.from>=s.oldRange.from&&t.oldRange.to<=s.oldRange.to&&t.newRange.from>=s.newRange.from&&t.newRange.to<=s.newRange.to))}function M9(n){const{mapping:e,steps:t}=n,r=[];return e.maps.forEach((i,s)=>{const o=[];if(i.ranges.length)i.forEach((l,c)=>{o.push({from:l,to:c})});else{const{from:l,to:c}=t[s];if(l===void 0||c===void 0)return;o.push({from:l,to:c})}o.forEach(({from:l,to:c})=>{const f=e.slice(s).map(l,-1),h=e.slice(s).map(c),p=e.invert().map(f,-1),g=e.invert().map(h);r.push({oldRange:{from:p,to:g},newRange:{from:f,to:h}})})}),I9(r)}function gy(n,e,t){const r=[];return n===e?t.resolve(n).marks().forEach(i=>{const s=t.resolve(n),o=od(s,i.type);o&&r.push({mark:i,...o})}):t.nodesBetween(n,e,(i,s)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(o=>({from:s,to:s+i.nodeSize,mark:o})))}),r}function zc(n,e,t){return Object.fromEntries(Object.entries(t).filter(([r])=>{const i=n.find(s=>s.type===e&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}function gg(n,e,t={}){const{empty:r,ranges:i}=n.selection,s=e?as(e,n.schema):null;if(r)return!!(n.storedMarks||n.selection.$from.marks()).filter(p=>s?s.name===p.type.name:!0).find(p=>of(p.attrs,t,{strict:!1}));let o=0;const l=[];if(i.forEach(({$from:p,$to:g})=>{const m=p.pos,w=g.pos;n.doc.nodesBetween(m,w,(v,E)=>{if(!v.isText&&!v.marks.length)return;const b=Math.max(m,E),T=Math.min(w,E+v.nodeSize),A=T-b;o+=A,l.push(...v.marks.map(k=>({mark:k,from:b,to:T})))})}),o===0)return!1;const c=l.filter(p=>s?s.name===p.mark.type.name:!0).filter(p=>of(p.mark.attrs,t,{strict:!1})).reduce((p,g)=>p+g.to-g.from,0),f=l.filter(p=>s?p.mark.type!==s&&p.mark.type.excludes(s):!0).reduce((p,g)=>p+g.to-g.from,0);return(c>0?c+f:c)>=o}function D9(n,e,t={}){if(!e)return Il(n,null,t)||gg(n,null,t);const r=ld(e,n.schema);return r==="node"?Il(n,e,t):r==="mark"?gg(n,e,t):!1}function wb(n,e){const{nodeExtensions:t}=id(e),r=t.find(o=>o.name===n);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=Je(je(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function yy(n,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var r;if(t){if(n.type.name==="hardBreak")return!0;if(n.isText)return/^\s*$/m.test((r=n.text)!==null&&r!==void 0?r:"")}if(n.isText)return!n.text;if(n.isAtom||n.isLeaf)return!1;if(n.content.childCount===0)return!0;if(e){let i=!0;return n.content.forEach(s=>{i!==!1&&(yy(s,{ignoreWhitespace:t,checkChildren:e})||(i=!1))}),i}return!1}function br(n){return n instanceof Ve}function L9(n,e,t){var r;const{selection:i}=e;let s=null;if(Z4(i)&&(s=i.$cursor),s){const l=(r=n.storedMarks)!==null&&r!==void 0?r:s.marks();return!!t.isInSet(l)||!l.some(c=>c.type.excludes(t))}const{ranges:o}=i;return o.some(({$from:l,$to:c})=>{let f=l.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(t):!1;return n.doc.nodesBetween(l.pos,c.pos,(h,p,g)=>{if(f)return!1;if(h.isInline){const m=!g||g.type.allowsMarkType(t),w=!!t.isInSet(h.marks)||!h.marks.some(v=>v.type.excludes(t));f=m&&w}return!f}),f})}const P9=(n,e={})=>({tr:t,state:r,dispatch:i})=>{const{selection:s}=t,{empty:o,ranges:l}=s,c=as(n,r.schema);if(i)if(o){const f=eS(r,c);t.addStoredMark(c.create({...f,...e}))}else l.forEach(f=>{const h=f.$from.pos,p=f.$to.pos;r.doc.nodesBetween(h,p,(g,m)=>{const w=Math.max(m,h),v=Math.min(m+g.nodeSize,p);g.marks.find(b=>b.type===c)?g.marks.forEach(b=>{c===b.type&&t.addMark(w,v,c.create({...b.attrs,...e}))}):t.addMark(w,v,c.create(e))})});return L9(r,t,c)},F9=(n,e)=>({tr:t})=>(t.setMeta(n,e),!0),B9=(n,e={})=>({state:t,dispatch:r,chain:i})=>{const s=Xt(n,t.schema);let o;return t.selection.$anchor.sameParent(t.selection.$head)&&(o=t.selection.$anchor.parent.attrs),s.isTextblock?i().command(({commands:l})=>db(s,{...o,...e})(t)?!0:l.clearNodes()).command(({state:l})=>db(s,{...o,...e})(l,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},j9=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,i=js(n,0,r.content.size),s=Ve.create(r,i);e.setSelection(s)}return!0},z9=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,{from:i,to:s}=typeof n=="number"?{from:n,to:n}:n,o=qe.atStart(r).from,l=qe.atEnd(r).to,c=js(i,o,l),f=js(s,o,l),h=qe.create(r,c,f);e.setSelection(h)}return!0},H9=n=>({state:e,dispatch:t})=>{const r=Xt(n,e.schema);return v8(r)(e,t)};function vb(n,e){const t=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(t){const r=t.filter(i=>e==null?void 0:e.includes(i.type.name));n.tr.ensureMarks(r)}}const U9=({keepMarks:n=!0}={})=>({tr:e,state:t,dispatch:r,editor:i})=>{const{selection:s,doc:o}=e,{$from:l,$to:c}=s,f=i.extensionManager.attributes,h=zc(f,l.node().type.name,l.node().attrs);if(s instanceof Ve&&s.node.isBlock)return!l.parentOffset||!Wo(o,l.pos)?!1:(r&&(n&&vb(t,i.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;const p=c.parentOffset===c.parent.content.size,g=l.depth===0?void 0:T9(l.node(-1).contentMatchAt(l.indexAfter(-1)));let m=p&&g?[{type:g,attrs:h}]:void 0,w=Wo(e.doc,e.mapping.map(l.pos),1,m);if(!m&&!w&&Wo(e.doc,e.mapping.map(l.pos),1,g?[{type:g}]:void 0)&&(w=!0,m=g?[{type:g,attrs:h}]:void 0),r){if(w&&(s instanceof qe&&e.deleteSelection(),e.split(e.mapping.map(l.pos),1,m),g&&!p&&!l.parentOffset&&l.parent.type!==g)){const v=e.mapping.map(l.before()),E=e.doc.resolve(v);l.node(-1).canReplaceWith(E.index(),E.index()+1,g)&&e.setNodeMarkup(e.mapping.map(l.before()),g)}n&&vb(t,i.extensionManager.splittableMarks),e.scrollIntoView()}return w},V9=(n,e={})=>({tr:t,state:r,dispatch:i,editor:s})=>{var o;const l=Xt(n,r.schema),{$from:c,$to:f}=r.selection,h=r.selection.node;if(h&&h.isBlock||c.depth<2||!c.sameParent(f))return!1;const p=c.node(-1);if(p.type!==l)return!1;const g=s.extensionManager.attributes;if(c.parent.content.size===0&&c.node(-1).childCount===c.indexAfter(-1)){if(c.depth===2||c.node(-3).type!==l||c.index(-2)!==c.node(-2).childCount-1)return!1;if(i){let b=_e.empty;const T=c.index(-1)?1:c.index(-2)?2:3;for(let ee=c.depth-T;ee>=c.depth-3;ee-=1)b=_e.from(c.node(ee).copy(b));const A=c.indexAfter(-1)<c.node(-2).childCount?1:c.indexAfter(-2)<c.node(-3).childCount?2:3,k={...zc(g,c.node().type.name,c.node().attrs),...e},I=((o=l.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(k))||void 0;b=b.append(_e.from(l.createAndFill(null,I)||void 0));const j=c.before(c.depth-(T-1));t.replace(j,c.after(-A),new De(b,4-T,0));let W=-1;t.doc.nodesBetween(j,t.doc.content.size,(ee,F)=>{if(W>-1)return!1;ee.isTextblock&&ee.content.size===0&&(W=F+1)}),W>-1&&t.setSelection(qe.near(t.doc.resolve(W))),t.scrollIntoView()}return!0}const m=f.pos===c.end()?p.contentMatchAt(0).defaultType:null,w={...zc(g,p.type.name,p.attrs),...e},v={...zc(g,c.node().type.name,c.node().attrs),...e};t.delete(c.pos,f.pos);const E=m?[{type:l,attrs:w},{type:m,attrs:v}]:[{type:l,attrs:w}];if(!Wo(t.doc,c.pos,2))return!1;if(i){const{selection:b,storedMarks:T}=r,{splittableMarks:A}=s.extensionManager,k=T||b.$to.parentOffset&&b.$from.marks();if(t.split(c.pos,2,E).scrollIntoView(),!k||!i)return!0;const I=k.filter(j=>A.includes(j.type.name));t.ensureMarks(I)}return!0},jp=(n,e)=>{const t=my(o=>o.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(r===void 0)return!0;const i=n.doc.nodeAt(r);return t.node.type===(i==null?void 0:i.type)&&is(n.doc,t.pos)&&n.join(t.pos),!0},zp=(n,e)=>{const t=my(o=>o.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(t.start).after(t.depth);if(r===void 0)return!0;const i=n.doc.nodeAt(r);return t.node.type===(i==null?void 0:i.type)&&is(n.doc,r)&&n.join(r),!0},W9=(n,e,t,r={})=>({editor:i,tr:s,state:o,dispatch:l,chain:c,commands:f,can:h})=>{const{extensions:p,splittableMarks:g}=i.extensionManager,m=Xt(n,o.schema),w=Xt(e,o.schema),{selection:v,storedMarks:E}=o,{$from:b,$to:T}=v,A=b.blockRange(T),k=E||v.$to.parentOffset&&v.$from.marks();if(!A)return!1;const I=my(j=>wb(j.type.name,p))(v);if(A.depth>=1&&I&&A.depth-I.depth<=1){if(I.node.type===m)return f.liftListItem(w);if(wb(I.node.type.name,p)&&m.validContent(I.node.content)&&l)return c().command(()=>(s.setNodeMarkup(I.pos,m),!0)).command(()=>jp(s,m)).command(()=>zp(s,m)).run()}return!t||!k||!l?c().command(()=>h().wrapInList(m,r)?!0:f.clearNodes()).wrapInList(m,r).command(()=>jp(s,m)).command(()=>zp(s,m)).run():c().command(()=>{const j=h().wrapInList(m,r),W=k.filter(ee=>g.includes(ee.type.name));return s.ensureMarks(W),j?!0:f.clearNodes()}).wrapInList(m,r).command(()=>jp(s,m)).command(()=>zp(s,m)).run()},$9=(n,e={},t={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=t,o=as(n,r.schema);return gg(r,o,e)?i.unsetMark(o,{extendEmptyMarkRange:s}):i.setMark(o,e)},K9=(n,e,t={})=>({state:r,commands:i})=>{const s=Xt(n,r.schema),o=Xt(e,r.schema),l=Il(r,s,t);let c;return r.selection.$anchor.sameParent(r.selection.$head)&&(c=r.selection.$anchor.parent.attrs),l?i.setNode(o,c):i.setNode(s,{...c,...t})},q9=(n,e={})=>({state:t,commands:r})=>{const i=Xt(n,t.schema);return Il(t,i,e)?r.lift(i):r.wrapIn(i,e)},G9=()=>({state:n,dispatch:e})=>{const t=n.plugins;for(let r=0;r<t.length;r+=1){const i=t[r];let s;if(i.spec.isInputRules&&(s=i.getState(n))){if(e){const o=n.tr,l=s.transform;for(let c=l.steps.length-1;c>=0;c-=1)o.step(l.steps[c].invert(l.docs[c]));if(s.text){const c=o.doc.resolve(s.from).marks();o.replaceWith(s.from,s.to,n.schema.text(s.text,c))}else o.delete(s.from,s.to)}return!0}}return!1},Z9=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,{empty:r,ranges:i}=t;return r||e&&i.forEach(s=>{n.removeMark(s.$from.pos,s.$to.pos)}),!0},X9=(n,e={})=>({tr:t,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:o=!1}=e,{selection:l}=t,c=as(n,r.schema),{$from:f,empty:h,ranges:p}=l;if(!i)return!0;if(h&&o){let{from:g,to:m}=l;const w=(s=f.marks().find(E=>E.type===c))===null||s===void 0?void 0:s.attrs,v=od(f,c,w);v&&(g=v.from,m=v.to),t.removeMark(g,m,c)}else p.forEach(g=>{t.removeMark(g.$from.pos,g.$to.pos,c)});return t.removeStoredMark(c),!0},J9=(n,e={})=>({tr:t,state:r,dispatch:i})=>{let s=null,o=null;const l=ld(typeof n=="string"?n:n.name,r.schema);return l?(l==="node"&&(s=Xt(n,r.schema)),l==="mark"&&(o=as(n,r.schema)),i&&t.selection.ranges.forEach(c=>{const f=c.$from.pos,h=c.$to.pos;let p,g,m,w;t.selection.empty?r.doc.nodesBetween(f,h,(v,E)=>{s&&s===v.type&&(m=Math.max(E,f),w=Math.min(E+v.nodeSize,h),p=E,g=v)}):r.doc.nodesBetween(f,h,(v,E)=>{E<f&&s&&s===v.type&&(m=Math.max(E,f),w=Math.min(E+v.nodeSize,h),p=E,g=v),E>=f&&E<=h&&(s&&s===v.type&&t.setNodeMarkup(E,void 0,{...v.attrs,...e}),o&&v.marks.length&&v.marks.forEach(b=>{if(o===b.type){const T=Math.max(E,f),A=Math.min(E+v.nodeSize,h);t.addMark(T,A,o.create({...b.attrs,...e}))}}))}),g&&(p!==void 0&&t.setNodeMarkup(p,void 0,{...g.attrs,...e}),o&&g.marks.length&&g.marks.forEach(v=>{o===v.type&&t.addMark(m,w,o.create({...v.attrs,...e}))}))}),!0):!1},Y9=(n,e={})=>({state:t,dispatch:r})=>{const i=Xt(n,t.schema);return d8(i,e)(t,r)},Q9=(n,e={})=>({state:t,dispatch:r})=>{const i=Xt(n,t.schema);return h8(i,e)(t,r)};var eR=Object.freeze({__proto__:null,blur:P8,clearContent:F8,clearNodes:B8,command:j8,createParagraphNear:z8,cut:H8,deleteCurrentNode:U8,deleteNode:V8,deleteRange:W8,deleteSelection:$8,enter:K8,exitCode:q8,extendMarkRange:G8,first:Z8,focus:X8,forEach:J8,insertContent:Y8,insertContentAt:t9,joinBackward:i9,joinDown:r9,joinForward:s9,joinItemBackward:o9,joinItemForward:a9,joinTextblockBackward:l9,joinTextblockForward:u9,joinUp:n9,keyboardShortcut:f9,lift:d9,liftEmptyBlock:h9,liftListItem:p9,newlineInCode:m9,resetAttributes:g9,scrollIntoView:y9,selectAll:w9,selectNodeBackward:v9,selectNodeForward:b9,selectParentNode:x9,selectTextblockEnd:E9,selectTextblockStart:C9,setContent:S9,setMark:P9,setMeta:F9,setNode:B9,setNodeSelection:j9,setTextSelection:z9,sinkListItem:H9,splitBlock:U9,splitListItem:V9,toggleList:W9,toggleMark:$9,toggleNode:K9,toggleWrap:q9,undoInputRule:G9,unsetAllMarks:Z9,unsetMark:X9,updateAttributes:J9,wrapIn:Y9,wrapInList:Q9});const tR=bt.create({name:"commands",addCommands(){return{...eR}}}),nR=bt.create({name:"drop",addProseMirrorPlugins(){return[new jt({key:new kn("tiptapDrop"),props:{handleDrop:(n,e,t,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:r})}}})]}}),rR=bt.create({name:"editable",addProseMirrorPlugins(){return[new jt({key:new kn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),iR=new kn("focusEvents"),sR=bt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new jt({key:iR,props:{handleDOMEvents:{focus:(e,t)=>{n.isFocused=!0;const r=n.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,t)=>{n.isFocused=!1;const r=n.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),oR=bt.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:l})=>{const{selection:c,doc:f}=l,{empty:h,$anchor:p}=c,{pos:g,parent:m}=p,w=p.parent.isTextblock&&g>0?l.doc.resolve(g-1):p,v=w.parent.type.spec.isolating,E=p.pos-p.parentOffset,b=v&&w.parent.childCount===1?E===p.pos:Ge.atStart(f).from===g;return!h||!m.type.isTextblock||m.textContent.length||!b||b&&p.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return ad()||Q4()?s:i},addProseMirrorPlugins(){return[new jt({key:new kn("clearDocument"),appendTransaction:(n,e,t)=>{if(n.some(v=>v.getMeta("composition")))return;const r=n.some(v=>v.docChanged)&&!e.doc.eq(t.doc),i=n.some(v=>v.getMeta("preventClearDocument"));if(!r||i)return;const{empty:s,from:o,to:l}=e.selection,c=Ge.atStart(e.doc).from,f=Ge.atEnd(e.doc).to;if(s||!(o===c&&l===f)||!yy(t.doc))return;const g=t.tr,m=nd({state:t,transaction:g}),{commands:w}=new rd({editor:this.editor,state:m});if(w.clearNodes(),!!g.steps.length)return g}})]}}),aR=bt.create({name:"paste",addProseMirrorPlugins(){return[new jt({key:new kn("tiptapPaste"),props:{handlePaste:(n,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),lR=bt.create({name:"tabindex",addProseMirrorPlugins(){return[new jt({key:new kn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Ls{get name(){return this.node.type.name}constructor(e,t,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=t,this.currentNode=i}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:t,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new Ls(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Ls(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Ls(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,r)=>{const i=t.isBlock&&!t.isTextblock,s=t.isAtom&&!t.isText,o=this.pos+r+(s?0:1),l=this.resolvedPos.doc.resolve(o);if(!i&&l.depth<=this.depth)return;const c=new Ls(l,this.editor,i,i?t:null);i&&(c.actualDepth=this.depth+1),e.push(new Ls(l,this.editor,i,i?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(t).length>0){const s=i.node.attrs,o=Object.keys(t);for(let l=0;l<o.length;l+=1){const c=o[l];if(s[c]!==t[c])break}}else r=i;i=i.parent}return r}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(t);return this.children.forEach(o=>{r&&i.length>0||(o.node.type.name===e&&s.every(c=>t[c]===o.node.attrs[c])&&i.push(o),!(r&&i.length>0)&&(i=i.concat(o.querySelectorAll(e,t,r))))}),i}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}}const uR=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function cR(n,e,t){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(i),i}class fR extends b8{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:t})=>{throw t},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:t,slice:r,moved:i})=>this.options.onDrop(t,r,i)),this.on("paste",({event:t,slice:r})=>this.options.onPaste(t,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=cR(uR,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const r=$4(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let r=t;if([].concat(e).forEach(s=>{const o=typeof s=="string"?`${s}$`:s.key;r=r.filter(l=>!l.key.startsWith(o))}),t.length===r.length)return;const i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}createExtensionManager(){var e,t;const i=[...this.options.enableCoreExtensions?[rR,L8.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||t===void 0?void 0:t.blockSeparator}),tR,sR,oR,lR,nR,aR].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new Uo(i,this)}createCommandManager(){this.commandManager=new rd({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let t;try{t=mg(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(o){if(!(o instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(o.message))throw o;this.emit("contentError",{editor:this,error:o,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(l=>l.name!=="collaboration"),this.createExtensionManager()}}),t=mg(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=X4(t,this.options.autofocus);this.view=new BA(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:Ho.create({doc:t,selection:r||void 0})});const i=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(i),this.createNodeViews(),this.prependClass();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(o=>{var l;return(l=this.capturedTransaction)===null||l===void 0?void 0:l.step(o)});return}const t=this.state.apply(e),r=!this.state.selection.eq(t.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),s=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),s&&this.emit("blur",{editor:this,event:s.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return tS(this.state,e)}isActive(e,t){const r=typeof e=="string"?e:null,i=typeof e=="string"?t:e;return D9(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return hy(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:r={}}=e||{};return _9(this.state.doc,{blockSeparator:t,textSerializers:{...q4(this.schema),...r}})}get isEmpty(){return yy(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,t))||null}$nodes(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new Ls(t,this)}get $doc(){return this.$pos(0)}}function eo(n){return new jl({find:n.find,handler:({state:e,range:t,match:r})=>{const i=Je(n.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,o=r[r.length-1],l=r[0];if(o){const c=l.search(/\S/),f=t.from+l.indexOf(o),h=f+o.length;if(gy(t.from,t.to,e.doc).filter(m=>m.mark.type.excluded.find(v=>v===n.type&&v!==m.mark.type)).filter(m=>m.to>f).length)return null;h<t.to&&s.delete(h,t.to),f>t.from&&s.delete(t.from+c,f);const g=t.from+c+o.length;s.addMark(t.from+c,g,n.type.create(i||{})),s.removeStoredMark(n.type)}}})}function nS(n){return new jl({find:n.find,handler:({state:e,range:t,match:r})=>{const i=Je(n.getAttributes,void 0,r)||{},{tr:s}=e,o=t.from;let l=t.to;const c=n.type.create(i);if(r[1]){const f=r[0].lastIndexOf(r[1]);let h=o+f;h>l?h=l:l=h+r[1].length;const p=r[0][r[0].length-1];s.insertText(p,o+r[0].length-1),s.replaceWith(h,l,c)}else if(r[0]){const f=n.type.isInline?o:o-1;s.insert(f,n.type.create(i)).delete(s.mapping.map(o),s.mapping.map(l))}s.scrollIntoView()}})}function yg(n){return new jl({find:n.find,handler:({state:e,range:t,match:r})=>{const i=e.doc.resolve(t.from),s=Je(n.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),n.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,n.type,s)}})}function Tt(n){return new jl({find:n.find,handler:({state:e,range:t,match:r})=>{let i=n.replace,s=t.from;const o=t.to;if(r[1]){const l=r[0].lastIndexOf(r[1]);i+=r[0].slice(l+r[1].length),s+=l;const c=s-o;c>0&&(i=r[0].slice(l-c,l)+i,s=o)}e.tr.insertText(i,s,o)}})}function na(n){return new jl({find:n.find,handler:({state:e,range:t,match:r,chain:i})=>{const s=Je(n.getAttributes,void 0,r)||{},o=e.tr.delete(t.from,t.to),c=o.doc.resolve(t.from).blockRange(),f=c&&ey(c,n.type,s);if(!f)return null;if(o.wrap(c,f),n.keepMarks&&n.editor){const{selection:p,storedMarks:g}=e,{splittableMarks:m}=n.editor.extensionManager,w=g||p.$to.parentOffset&&p.$from.marks();if(w){const v=w.filter(E=>m.includes(E.type.name));o.ensureMarks(v)}}if(n.keepAttributes){const p=n.type.name==="bulletList"||n.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(p,s).run()}const h=o.doc.resolve(t.from-1).nodeBefore;h&&h.type===n.type&&is(o.doc,t.from-1)&&(!n.joinPredicate||n.joinPredicate(r,h))&&o.join(t.from-1)}})}let Tn=class wg{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Je(je(this,"addOptions",{name:this.name}))),this.storage=Je(je(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new wg(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>sd(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new wg(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Je(je(t,"addOptions",{name:t.name})),t.storage=Je(je(t,"addStorage",{name:t.name,options:t.options})),t}};class dR{constructor(e,t,r){this.isDragging=!1,this.component=e,this.editor=t.editor,this.options={stopEvent:null,ignoreMutation:null,...r},this.extension=t.extension,this.node=t.node,this.decorations=t.decorations,this.innerDecorations=t.innerDecorations,this.view=t.view,this.HTMLAttributes=t.HTMLAttributes,this.getPos=t.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(e){var t,r,i,s,o,l,c;const{view:f}=this.editor,h=e.target,p=h.nodeType===3?(t=h.parentElement)===null||t===void 0?void 0:t.closest("[data-drag-handle]"):h.closest("[data-drag-handle]");if(!this.dom||!((r=this.contentDOM)===null||r===void 0)&&r.contains(h)||!p)return;let g=0,m=0;if(this.dom!==p){const T=this.dom.getBoundingClientRect(),A=p.getBoundingClientRect(),k=(i=e.offsetX)!==null&&i!==void 0?i:(s=e.nativeEvent)===null||s===void 0?void 0:s.offsetX,I=(o=e.offsetY)!==null&&o!==void 0?o:(l=e.nativeEvent)===null||l===void 0?void 0:l.offsetY;g=A.x-T.x+k,m=A.y-T.y+I}const w=this.dom.cloneNode(!0);(c=e.dataTransfer)===null||c===void 0||c.setDragImage(w,g,m);const v=this.getPos();if(typeof v!="number")return;const E=Ve.create(f.state.doc,v),b=f.state.tr.setSelection(E);f.dispatch(b)}stopEvent(e){var t;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:e});const r=e.target;if(!(this.dom.contains(r)&&!(!((t=this.contentDOM)===null||t===void 0)&&t.contains(r))))return!1;const s=e.type.startsWith("drag"),o=e.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(r.tagName)||r.isContentEditable)&&!o&&!s)return!0;const{isEditable:c}=this.editor,{isDragging:f}=this,h=!!this.node.type.spec.draggable,p=Ve.isSelectable(this.node),g=e.type==="copy",m=e.type==="paste",w=e.type==="cut",v=e.type==="mousedown";if(!h&&p&&s&&e.target===this.dom&&e.preventDefault(),h&&s&&!f&&e.target===this.dom)return e.preventDefault(),!1;if(h&&c&&!f&&v){const E=r.closest("[data-drag-handle]");E&&(this.dom===E||this.dom.contains(E))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(f||o||g||m||w||v&&p)}ignoreMutation(e){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:e}):this.node.isLeaf||this.node.isAtom?!0:e.type==="selection"||this.dom.contains(e.target)&&e.type==="childList"&&(ad()||J4())&&this.editor.isFocused&&[...Array.from(e.addedNodes),...Array.from(e.removedNodes)].every(r=>r.isContentEditable)?!1:this.contentDOM===e.target&&e.type==="attributes"?!0:!this.contentDOM.contains(e.target)}updateAttributes(e){this.editor.commands.command(({tr:t})=>{const r=this.getPos();return typeof r!="number"?!1:(t.setNodeMarkup(r,void 0,{...this.node.attrs,...e}),!0)})}deleteNode(){const e=this.getPos();if(typeof e!="number")return;const t=e+this.node.nodeSize;this.editor.commands.deleteRange({from:e,to:t})}}function ns(n){return new _8({find:n.find,handler:({state:e,range:t,match:r,pasteEvent:i})=>{const s=Je(n.getAttributes,void 0,r,i);if(s===!1||s===null)return null;const{tr:o}=e,l=r[r.length-1],c=r[0];let f=t.to;if(l){const h=c.search(/\S/),p=t.from+c.indexOf(l),g=p+l.length;if(gy(t.from,t.to,e.doc).filter(w=>w.mark.type.excluded.find(E=>E===n.type&&E!==w.mark.type)).filter(w=>w.to>p).length)return null;g<t.to&&o.delete(g,t.to),p>t.from&&o.delete(t.from+h,p),f=t.from+h+l.length,o.addMark(t.from+h,f,n.type.create(s||{})),o.removeStoredMark(n.type)}}})}var ud=EC();const hR=xC(ud);function pR(n){return n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var rS={exports:{}},Hp={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bb;function mR(){if(bb)return Hp;bb=1;var n=Pt;function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,i=n.useEffect,s=n.useLayoutEffect,o=n.useDebugValue;function l(p,g){var m=g(),w=r({inst:{value:m,getSnapshot:g}}),v=w[0].inst,E=w[1];return s(function(){v.value=m,v.getSnapshot=g,c(v)&&E({inst:v})},[p,m,g]),i(function(){return c(v)&&E({inst:v}),p(function(){c(v)&&E({inst:v})})},[p]),o(m),m}function c(p){var g=p.getSnapshot;p=p.value;try{var m=g();return!t(p,m)}catch{return!0}}function f(p,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:l;return Hp.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:h,Hp}rS.exports=mR();var wy=rS.exports;const gR=(...n)=>e=>{n.forEach(t=>{typeof t=="function"?t(e):t&&(t.current=e)})},yR=({contentComponent:n})=>{const e=wy.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getServerSnapshot);return Pt.createElement(Pt.Fragment,null,Object.values(e))};function wR(){const n=new Set;let e={};return{subscribe(t){return n.add(t),()=>{n.delete(t)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(t,r){e={...e,[t]:hR.createPortal(r.reactElement,r.element,t)},n.forEach(i=>i())},removeRenderer(t){const r={...e};delete r[t],e=r,n.forEach(i=>i())}}}class vR extends Pt.Component{constructor(e){var t;super(e),this.editorContentRef=Pt.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((t=e.editor)===null||t===void 0)&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(...e.options.element.childNodes),e.setOptions({element:t}),e.contentComponent=wR(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}render(){const{editor:e,innerRef:t,...r}=this.props;return Pt.createElement(Pt.Fragment,null,Pt.createElement("div",{ref:gR(t,this.editorContentRef),...r}),(e==null?void 0:e.contentComponent)&&Pt.createElement(yR,{contentComponent:e.contentComponent}))}}const bR=z.forwardRef((n,e)=>{const t=Pt.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[n.editor]);return Pt.createElement(vR,{key:t,innerRef:e,...n})}),xR=Pt.memo(bR);var ER=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(!n(e[i],t[i]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;for(i of e.entries())if(!n(i[1],t.get(i[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!(o==="_owner"&&e.$$typeof)&&!n(e[o],t[o]))return!1}return!0}return e!==e&&t!==t},CR=pR(ER),iS={exports:{}},Up={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xb;function SR(){if(xb)return Up;xb=1;var n=Pt,e=wy;function t(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,s=n.useRef,o=n.useEffect,l=n.useMemo,c=n.useDebugValue;return Up.useSyncExternalStoreWithSelector=function(f,h,p,g,m){var w=s(null);if(w.current===null){var v={hasValue:!1,value:null};w.current=v}else v=w.current;w=l(function(){function b(j){if(!T){if(T=!0,A=j,j=g(j),m!==void 0&&v.hasValue){var W=v.value;if(m(W,j))return k=W}return k=j}if(W=k,r(A,j))return W;var ee=g(j);return m!==void 0&&m(W,ee)?W:(A=j,k=ee)}var T=!1,A,k,I=p===void 0?null:p;return[function(){return b(h())},I===null?void 0:function(){return b(I())}]},[h,p,g,m]);var E=i(f,w[0],w[1]);return o(function(){v.hasValue=!0,v.value=E},[E]),c(E),E},Up}iS.exports=SR();var kR=iS.exports;const TR=typeof window<"u"?z.useLayoutEffect:z.useEffect;class AR{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(i=>i())},r=this.editor;return r.on("transaction",t),()=>{r.off("transaction",t)}}}}function RR(n){var e;const[t]=z.useState(()=>new AR(n.editor)),r=kR.useSyncExternalStoreWithSelector(t.subscribe,t.getSnapshot,t.getServerSnapshot,n.selector,(e=n.equalityFn)!==null&&e!==void 0?e:CR);return TR(()=>t.watch(n.editor),[n.editor,t]),z.useDebugValue(r),r}const _R=!1,vg=typeof window>"u",NR=vg||!!(typeof window<"u"&&window.next);class vy{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(t=>t())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?vg||NR?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onBeforeCreate)===null||s===void 0?void 0:s.call(i,...r)},onBlur:(...r)=>{var i,s;return(s=(i=this.options.current).onBlur)===null||s===void 0?void 0:s.call(i,...r)},onCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onCreate)===null||s===void 0?void 0:s.call(i,...r)},onDestroy:(...r)=>{var i,s;return(s=(i=this.options.current).onDestroy)===null||s===void 0?void 0:s.call(i,...r)},onFocus:(...r)=>{var i,s;return(s=(i=this.options.current).onFocus)===null||s===void 0?void 0:s.call(i,...r)},onSelectionUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onSelectionUpdate)===null||s===void 0?void 0:s.call(i,...r)},onTransaction:(...r)=>{var i,s;return(s=(i=this.options.current).onTransaction)===null||s===void 0?void 0:s.call(i,...r)},onUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onUpdate)===null||s===void 0?void 0:s.call(i,...r)},onContentError:(...r)=>{var i,s;return(s=(i=this.options.current).onContentError)===null||s===void 0?void 0:s.call(i,...r)},onDrop:(...r)=>{var i,s;return(s=(i=this.options.current).onDrop)===null||s===void 0?void 0:s.call(i,...r)},onPaste:(...r)=>{var i,s;return(s=(i=this.options.current).onPaste)===null||s===void 0?void 0:s.call(i,...r)}};return new fR(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,t){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&t.extensions?e.extensions.length!==t.extensions.length?!1:e.extensions.every((i,s)=>{var o;return i===((o=t.extensions)===null||o===void 0?void 0:o[s])}):e[r]===t[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?vy.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){t&&t.setOptions(this.options.current);return}t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function OR(n={},e=[]){const t=z.useRef(n);t.current=n;const[r]=z.useState(()=>new vy(t)),i=wy.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return z.useDebugValue(i),z.useEffect(r.onRender(e)),RR({editor:i,selector:({transactionNumber:s})=>n.shouldRerenderOnTransaction===!1?null:n.immediatelyRender&&s===0?0:s+1}),i}const by=z.createContext({editor:null});by.Consumer;const cd=()=>z.useContext(by),sS=z.createContext({onDragStart:void 0}),IR=()=>z.useContext(sS),MR=Pt.forwardRef((n,e)=>{const{onDragStart:t}=IR(),r=n.as||"div";return Pt.createElement(r,{...n,ref:e,"data-node-view-wrapper":"",onDragStart:t,style:{whiteSpace:"normal",...n.style}})});function DR(n){return!!(typeof n=="function"&&n.prototype&&n.prototype.isReactComponent)}function LR(n){var e;return typeof n=="object"&&((e=n.$$typeof)===null||e===void 0?void 0:e.toString())==="Symbol(react.forward_ref)"}class PR{constructor(e,{editor:t,props:r={},as:i="div",className:s=""}){this.ref=null,this.id=Math.floor(Math.random()*4294967295).toString(),this.component=e,this.editor=t,this.props=r,this.element=document.createElement(i),this.element.classList.add("react-renderer"),s&&this.element.classList.add(...s.split(" ")),this.editor.isInitialized?ud.flushSync(()=>{this.render()}):this.render()}render(){var e;const t=this.component,r=this.props,i=this.editor;(DR(t)||LR(t))&&(r.ref=s=>{this.ref=s}),this.reactElement=Pt.createElement(t,{...r}),(e=i==null?void 0:i.contentComponent)===null||e===void 0||e.setRenderer(this.id,this)}updateProps(e={}){this.props={...this.props,...e},this.render()}destroy(){var e;const t=this.editor;(e=t==null?void 0:t.contentComponent)===null||e===void 0||e.removeRenderer(this.id)}updateAttributes(e){Object.keys(e).forEach(t=>{this.element.setAttribute(t,e[t])})}}class FR extends dR{mount(){const e={editor:this.editor,node:this.node,decorations:this.decorations,innerDecorations:this.innerDecorations,view:this.view,selected:!1,extension:this.extension,HTMLAttributes:this.HTMLAttributes,getPos:()=>this.getPos(),updateAttributes:(f={})=>this.updateAttributes(f),deleteNode:()=>this.deleteNode()};if(!this.component.displayName){const f=h=>h.charAt(0).toUpperCase()+h.substring(1);this.component.displayName=f(this.extension.name)}const i={onDragStart:this.onDragStart.bind(this),nodeViewContentRef:f=>{f&&this.contentDOMElement&&f.firstChild!==this.contentDOMElement&&f.appendChild(this.contentDOMElement)}},s=this.component,o=Pt.memo(f=>Pt.createElement(sS.Provider,{value:i},Pt.createElement(s,f)));o.displayName="ReactNodeView",this.node.isLeaf?this.contentDOMElement=null:this.options.contentDOMElementTag?this.contentDOMElement=document.createElement(this.options.contentDOMElementTag):this.contentDOMElement=document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement&&(this.contentDOMElement.dataset.nodeViewContentReact="",this.contentDOMElement.style.whiteSpace="inherit");let l=this.node.isInline?"span":"div";this.options.as&&(l=this.options.as);const{className:c=""}=this.options;this.handleSelectionUpdate=this.handleSelectionUpdate.bind(this),this.renderer=new PR(o,{editor:this.editor,props:e,as:l,className:`node-${this.node.type.name} ${c}`.trim()}),this.editor.on("selectionUpdate",this.handleSelectionUpdate),this.updateElementAttributes()}get dom(){var e;if(this.renderer.element.firstElementChild&&!(!((e=this.renderer.element.firstElementChild)===null||e===void 0)&&e.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}handleSelectionUpdate(){const{from:e,to:t}=this.editor.state.selection,r=this.getPos();if(typeof r=="number")if(e<=r&&t>=r+this.node.nodeSize){if(this.renderer.props.selected)return;this.selectNode()}else{if(!this.renderer.props.selected)return;this.deselectNode()}}update(e,t,r){const i=s=>{this.renderer.updateProps(s),typeof this.options.attrs=="function"&&this.updateElementAttributes()};if(e.type!==this.node.type)return!1;if(typeof this.options.update=="function"){const s=this.node,o=this.decorations,l=this.innerDecorations;return this.node=e,this.decorations=t,this.innerDecorations=r,this.options.update({oldNode:s,oldDecorations:o,newNode:e,newDecorations:t,oldInnerDecorations:l,innerDecorations:r,updateProps:()=>i({node:e,decorations:t,innerDecorations:r})})}return e===this.node&&this.decorations===t&&this.innerDecorations===r||(this.node=e,this.decorations=t,this.innerDecorations=r,i({node:e,decorations:t,innerDecorations:r})),!0}selectNode(){this.renderer.updateProps({selected:!0}),this.renderer.element.classList.add("ProseMirror-selectednode")}deselectNode(){this.renderer.updateProps({selected:!1}),this.renderer.element.classList.remove("ProseMirror-selectednode")}destroy(){this.renderer.destroy(),this.editor.off("selectionUpdate",this.handleSelectionUpdate),this.contentDOMElement=null}updateElementAttributes(){if(this.options.attrs){let e={};if(typeof this.options.attrs=="function"){const t=this.editor.extensionManager.attributes,r=sf(this.node,t);e=this.options.attrs({node:this.node,HTMLAttributes:r})}else e=this.options.attrs;this.renderer.updateAttributes(e)}}}function BR(n,e){return t=>t.editor.contentComponent?new FR(n,t,e):{}}const jR=/^\s*>\s$/,zR=Tn.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:n}){return["blockquote",dt(this.options.HTMLAttributes,n),0]},addCommands(){return{setBlockquote:()=>({commands:n})=>n.wrapIn(this.name),toggleBlockquote:()=>({commands:n})=>n.toggleWrap(this.name),unsetBlockquote:()=>({commands:n})=>n.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[na({find:jR,type:this.type})]}}),HR=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,UR=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,VR=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,WR=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,$R=jn.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:n=>n.type.name===this.name},{style:"font-weight",getAttrs:n=>/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}]},renderHTML({HTMLAttributes:n}){return["strong",dt(this.options.HTMLAttributes,n),0]},addCommands(){return{setBold:()=>({commands:n})=>n.setMark(this.name),toggleBold:()=>({commands:n})=>n.toggleMark(this.name),unsetBold:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[eo({find:HR,type:this.type}),eo({find:VR,type:this.type})]},addPasteRules(){return[ns({find:UR,type:this.type}),ns({find:WR,type:this.type})]}}),KR="listItem",Eb="textStyle",Cb=/^\s*([-+*])\s$/,qR=Tn.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:n}){return["ul",dt(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleBulletList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(KR,this.editor.getAttributes(Eb)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let n=na({find:Cb,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(n=na({find:Cb,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Eb),editor:this.editor})),[n]}}),GR=/(^|[^`])`([^`]+)`(?!`)/,ZR=/(^|[^`])`([^`]+)`(?!`)/g,XR=jn.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:n}){return["code",dt(this.options.HTMLAttributes,n),0]},addCommands(){return{setCode:()=>({commands:n})=>n.setMark(this.name),toggleCode:()=>({commands:n})=>n.toggleMark(this.name),unsetCode:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[eo({find:GR,type:this.type})]},addPasteRules(){return[ns({find:ZR,type:this.type})]}}),JR=/^```([a-z]+)?[\s\n]$/,YR=/^~~~([a-z]+)?[\s\n]$/,QR=Tn.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:n=>{var e;const{languageClassPrefix:t}=this.options,s=[...((e=n.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(o=>o.startsWith(t)).map(o=>o.replace(t,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:n,HTMLAttributes:e}){return["pre",dt(this.options.HTMLAttributes,e),["code",{class:n.attrs.language?this.options.languageClassPrefix+n.attrs.language:null},0]]},addCommands(){return{setCodeBlock:n=>({commands:e})=>e.setNode(this.name,n),toggleCodeBlock:n=>({commands:e})=>e.toggleNode(this.name,"paragraph",n)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:n,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!n||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:n})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=n,{selection:t}=e,{$from:r,empty:i}=t;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,o=r.parent.textContent.endsWith(`

`);return!s||!o?!1:n.chain().command(({tr:l})=>(l.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:n})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=n,{selection:t,doc:r}=e,{$from:i,empty:s}=t;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const l=i.after();return l===void 0?!1:r.nodeAt(l)?n.commands.command(({tr:f})=>(f.setSelection(Ge.near(r.resolve(l))),!0)):n.commands.exitCode()}}},addInputRules(){return[yg({find:JR,type:this.type,getAttributes:n=>({language:n[1]})}),yg({find:YR,type:this.type,getAttributes:n=>({language:n[1]})})]},addProseMirrorPlugins(){return[new jt({key:new kn("codeBlockVSCodeHandler"),props:{handlePaste:(n,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i==null?void 0:i.mode;if(!t||!s)return!1;const{tr:o,schema:l}=n.state,c=l.text(t.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:s},c)),o.selection.$from.parent.type!==this.type&&o.setSelection(qe.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),n.dispatch(o),!0}}})]}}),e_=Tn.create({name:"doc",topNode:!0,content:"block+"});function t_(n={}){return new jt({view(e){return new n_(e,n)}})}class n_{constructor(e,t){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=t.width)!==null&&r!==void 0?r:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=o=>{this[i](o)};return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,r;if(t){let l=e.nodeBefore,c=e.nodeAfter;if(l||c){let f=this.editorView.nodeDOM(this.cursorPos-(l?l.nodeSize:0));if(f){let h=f.getBoundingClientRect(),p=l?h.bottom:h.top;l&&c&&(p=(p+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:h.left,right:h.right,top:p-this.width/2,bottom:p+this.width/2}}}}if(!r){let l=this.editorView.coordsAtPos(this.cursorPos);r={left:l.left-this.width/2,right:l.left+this.width/2,top:l.top,bottom:l.bottom}}let i=this.editorView.dom.offsetParent;this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let s,o;if(!i||i==document.body&&getComputedStyle(i).position=="static")s=-pageXOffset,o=-pageYOffset;else{let l=i.getBoundingClientRect();s=l.left-i.scrollLeft,o=l.top-i.scrollTop}this.element.style.left=r.left-s+"px",this.element.style.top=r.top-o+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,t,e):i;if(t&&!s){let o=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=XC(this.editorView.state.doc,o,this.editorView.dragging.slice);l!=null&&(o=l)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const r_=bt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[t_(this.options)]}});class kt extends Ge{constructor(e){super(e,e)}map(e,t){let r=e.resolve(t.map(this.head));return kt.valid(r)?new kt(r):Ge.near(r)}content(){return De.empty}eq(e){return e instanceof kt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new kt(e.resolve(t.pos))}getBookmark(){return new xy(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!i_(e)||!s_(e))return!1;let r=t.type.spec.allowGapCursor;if(r!=null)return r;let i=t.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,t,r=!1){e:for(;;){if(!r&&kt.valid(e))return e;let i=e.pos,s=null;for(let o=e.depth;;o--){let l=e.node(o);if(t>0?e.indexAfter(o)<l.childCount:e.index(o)>0){s=l.child(t>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;i+=t;let c=e.doc.resolve(i);if(kt.valid(c))return c}for(;;){let o=t>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!Ve.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*t),r=!1;continue e}break}s=o,i+=t;let l=e.doc.resolve(i);if(kt.valid(l))return l}return null}}}kt.prototype.visible=!1;kt.findFrom=kt.findGapCursorFrom;Ge.jsonID("gapcursor",kt);class xy{constructor(e){this.pos=e}map(e){return new xy(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return kt.valid(t)?new kt(t):Ge.near(t)}}function i_(n){for(let e=n.depth;e>=0;e--){let t=n.index(e),r=n.node(e);if(t==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(t-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function s_(n){for(let e=n.depth;e>=0;e--){let t=n.indexAfter(e),r=n.node(e);if(t==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(t);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function o_(){return new jt({props:{decorations:c_,createSelectionBetween(n,e,t){return e.pos==t.pos&&kt.valid(t)?new kt(t):null},handleClick:l_,handleKeyDown:a_,handleDOMEvents:{beforeinput:u_}}})}const a_=F4({ArrowLeft:gc("horiz",-1),ArrowRight:gc("horiz",1),ArrowUp:gc("vert",-1),ArrowDown:gc("vert",1)});function gc(n,e){const t=n=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let o=r.selection,l=e>0?o.$to:o.$from,c=o.empty;if(o instanceof qe){if(!s.endOfTextblock(t)||l.depth==0)return!1;c=!1,l=r.doc.resolve(e>0?l.after():l.before())}let f=kt.findGapCursorFrom(l,e,c);return f?(i&&i(r.tr.setSelection(new kt(f))),!0):!1}}function l_(n,e,t){if(!n||!n.editable)return!1;let r=n.state.doc.resolve(e);if(!kt.valid(r))return!1;let i=n.posAtCoords({left:t.clientX,top:t.clientY});return i&&i.inside>-1&&Ve.isSelectable(n.state.doc.nodeAt(i.inside))?!1:(n.dispatch(n.state.tr.setSelection(new kt(r))),!0)}function u_(n,e){if(e.inputType!="insertCompositionText"||!(n.state.selection instanceof kt))return!1;let{$from:t}=n.state.selection,r=t.parent.contentMatchAt(t.index()).findWrapping(n.state.schema.nodes.text);if(!r)return!1;let i=_e.empty;for(let o=r.length-1;o>=0;o--)i=_e.from(r[o].createAndFill(null,i));let s=n.state.tr.replace(t.pos,t.pos,new De(i,0,0));return s.setSelection(qe.near(s.doc.resolve(t.pos+1))),n.dispatch(s),!1}function c_(n){if(!(n.selection instanceof kt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Lt.create(n.doc,[Kn.widget(n.selection.head,e,{key:"gapcursor"})])}const f_=bt.create({name:"gapCursor",addProseMirrorPlugins(){return[o_()]},extendNodeSchema(n){var e;const t={name:n.name,options:n.options,storage:n.storage};return{allowGapCursor:(e=Je(je(n,"allowGapCursor",t)))!==null&&e!==void 0?e:null}}}),d_=Tn.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:n}){return["br",dt(this.options.HTMLAttributes,n)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:n,chain:e,state:t,editor:r})=>n.first([()=>n.exitCode(),()=>n.command(()=>{const{selection:i,storedMarks:s}=t;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:l}=r.extensionManager,c=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:f,dispatch:h})=>{if(h&&c&&o){const p=c.filter(g=>l.includes(g.type.name));f.ensureMarks(p)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),h_=Tn.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(n=>({tag:`h${n}`,attrs:{level:n}}))},renderHTML({node:n,HTMLAttributes:e}){return[`h${this.options.levels.includes(n.attrs.level)?n.attrs.level:this.options.levels[0]}`,dt(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.setNode(this.name,n):!1,toggleHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.toggleNode(this.name,"paragraph",n):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((n,e)=>({...n,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(n=>yg({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${n}})\\s$`),type:this.type,getAttributes:{level:n}}))}});var lf=200,Zt=function(){};Zt.prototype.append=function(e){return e.length?(e=Zt.from(e),!this.length&&e||e.length<lf&&this.leafAppend(e)||this.length<lf&&e.leafPrepend(this)||this.appendInner(e)):this};Zt.prototype.prepend=function(e){return e.length?Zt.from(e).append(this):this};Zt.prototype.appendInner=function(e){return new p_(this,e)};Zt.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?Zt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};Zt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Zt.prototype.forEach=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length),t<=r?this.forEachInner(e,t,r,0):this.forEachInvertedInner(e,t,r,0)};Zt.prototype.map=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,o){return i.push(e(s,o))},t,r),i};Zt.from=function(e){return e instanceof Zt?e:e&&e.length?new oS(e):Zt.empty};var oS=function(n){function e(r){n.call(this),this.values=r}e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,o,l){for(var c=s;c<o;c++)if(i(this.values[c],l+c)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,o,l){for(var c=s-1;c>=o;c--)if(i(this.values[c],l+c)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=lf)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=lf)return new e(i.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(Zt);Zt.empty=new oS([]);var p_=function(n){function e(t,r){n.call(this),this.left=t,this.right=r,this.length=t.length+r.length,this.depth=Math.max(t.depth,r.depth)+1}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,o){var l=this.left.length;if(i<l&&this.left.forEachInner(r,i,Math.min(s,l),o)===!1||s>l&&this.right.forEachInner(r,Math.max(i-l,0),Math.min(this.length,s)-l,o+l)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,o){var l=this.left.length;if(i>l&&this.right.forEachInvertedInner(r,i-l,Math.max(s,l)-l,o+l)===!1||s<l&&this.left.forEachInvertedInner(r,Math.min(i,l),s,o)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Zt);const m_=500;class wr{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;t&&(i=this.remapping(r,this.items.length),s=i.maps.length);let o=e.tr,l,c,f=[],h=[];return this.items.forEach((p,g)=>{if(!p.step){i||(i=this.remapping(r,g+1),s=i.maps.length),s--,h.push(p);return}if(i){h.push(new Li(p.map));let m=p.step.map(i.slice(s)),w;m&&o.maybeStep(m).doc&&(w=o.mapping.maps[o.mapping.maps.length-1],f.push(new Li(w,void 0,void 0,f.length+h.length))),s--,w&&i.appendMap(w,s)}else o.maybeStep(p.step);if(p.selection)return l=i?p.selection.map(i.slice(s)):p.selection,c=new wr(this.items.slice(0,r).append(h.reverse().concat(f)),this.eventCount-1),!1},this.items.length,0),{remaining:c,transform:o,selection:l}}addTransform(e,t,r,i){let s=[],o=this.eventCount,l=this.items,c=!i&&l.length?l.get(l.length-1):null;for(let h=0;h<e.steps.length;h++){let p=e.steps[h].invert(e.docs[h]),g=new Li(e.mapping.maps[h],p,t),m;(m=c&&c.merge(g))&&(g=m,h?s.pop():l=l.slice(0,l.length-1)),s.push(g),t&&(o++,t=void 0),i||(c=g)}let f=o-r.depth;return f>y_&&(l=g_(l,f),o-=f),new wr(l.append(s),o)}remapping(e,t){let r=new Al;return this.items.forEach((i,s)=>{let o=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,o)},e,t),r}addMaps(e){return this.eventCount==0?this:new wr(this.items.append(e.map(t=>new Li(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-t),s=e.mapping,o=e.steps.length,l=this.eventCount;this.items.forEach(g=>{g.selection&&l--},i);let c=t;this.items.forEach(g=>{let m=s.getMirror(--c);if(m==null)return;o=Math.min(o,m);let w=s.maps[m];if(g.step){let v=e.steps[m].invert(e.docs[m]),E=g.selection&&g.selection.map(s.slice(c+1,m));E&&l++,r.push(new Li(w,v,E))}else r.push(new Li(w))},i);let f=[];for(let g=t;g<o;g++)f.push(new Li(s.maps[g]));let h=this.items.slice(0,i).append(f).append(r),p=new wr(h,l);return p.emptyItemCount()>m_&&(p=p.compress(this.items.length-r.length)),p}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),r=t.maps.length,i=[],s=0;return this.items.forEach((o,l)=>{if(l>=e)i.push(o),o.selection&&s++;else if(o.step){let c=o.step.map(t.slice(r)),f=c&&c.getMap();if(r--,f&&t.appendMap(f,r),c){let h=o.selection&&o.selection.map(t.slice(r));h&&s++;let p=new Li(f.invert(),c,h),g,m=i.length-1;(g=i.length&&i[m].merge(p))?i[m]=g:i.push(p)}}else o.map&&r--},this.items.length,0),new wr(Zt.from(i.reverse()),s)}}wr.empty=new wr(Zt.empty,0);function g_(n,e){let t;return n.forEach((r,i)=>{if(r.selection&&e--==0)return t=i,!1}),n.slice(t)}let Li=class aS{constructor(e,t,r,i){this.map=e,this.step=t,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new aS(t.getMap().invert(),t,this.selection)}}};class ji{constructor(e,t,r,i,s){this.done=e,this.undone=t,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const y_=20;function w_(n,e,t,r){let i=t.getMeta(Gs),s;if(i)return i.historyState;t.getMeta(x_)&&(n=new ji(n.done,n.undone,null,0,-1));let o=t.getMeta("appendedTransaction");if(t.steps.length==0)return n;if(o&&o.getMeta(Gs))return o.getMeta(Gs).redo?new ji(n.done.addTransform(t,void 0,r,Hc(e)),n.undone,Sb(t.mapping.maps),n.prevTime,n.prevComposition):new ji(n.done,n.undone.addTransform(t,void 0,r,Hc(e)),null,n.prevTime,n.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let l=t.getMeta("composition"),c=n.prevTime==0||!o&&n.prevComposition!=l&&(n.prevTime<(t.time||0)-r.newGroupDelay||!v_(t,n.prevRanges)),f=o?Vp(n.prevRanges,t.mapping):Sb(t.mapping.maps);return new ji(n.done.addTransform(t,c?e.selection.getBookmark():void 0,r,Hc(e)),wr.empty,f,t.time,l??n.prevComposition)}else return(s=t.getMeta("rebased"))?new ji(n.done.rebased(t,s),n.undone.rebased(t,s),Vp(n.prevRanges,t.mapping),n.prevTime,n.prevComposition):new ji(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),Vp(n.prevRanges,t.mapping),n.prevTime,n.prevComposition)}function v_(n,e){if(!e)return!1;if(!n.docChanged)return!0;let t=!1;return n.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(t=!0)}),t}function Sb(n){let e=[];for(let t=n.length-1;t>=0&&e.length==0;t--)n[t].forEach((r,i,s,o)=>e.push(s,o));return e}function Vp(n,e){if(!n)return null;let t=[];for(let r=0;r<n.length;r+=2){let i=e.map(n[r],1),s=e.map(n[r+1],-1);i<=s&&t.push(i,s)}return t}function b_(n,e,t){let r=Hc(e),i=Gs.get(e).spec.config,s=(t?n.undone:n.done).popEvent(e,r);if(!s)return null;let o=s.selection.resolve(s.transform.doc),l=(t?n.done:n.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),c=new ji(t?l:s.remaining,t?s.remaining:l,null,0,-1);return s.transform.setSelection(o).setMeta(Gs,{redo:t,historyState:c})}let Wp=!1,kb=null;function Hc(n){let e=n.plugins;if(kb!=e){Wp=!1,kb=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){Wp=!0;break}}return Wp}const Gs=new kn("history"),x_=new kn("closeHistory");function E_(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new jt({key:Gs,state:{init(){return new ji(wr.empty,wr.empty,null,0,-1)},apply(e,t,r){return w_(t,r,e,n)}},config:n,props:{handleDOMEvents:{beforeinput(e,t){let r=t.inputType,i=r=="historyUndo"?uS:r=="historyRedo"?cS:null;return i?(t.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function lS(n,e){return(t,r)=>{let i=Gs.getState(t);if(!i||(n?i.undone:i.done).eventCount==0)return!1;if(r){let s=b_(i,t,n);s&&r(e?s.scrollIntoView():s)}return!0}}const uS=lS(!1,!0),cS=lS(!0,!0),C_=bt.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:n,dispatch:e})=>uS(n,e),redo:()=>({state:n,dispatch:e})=>cS(n,e)}},addProseMirrorPlugins(){return[E_(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),S_=Tn.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:n}){return["hr",dt(this.options.HTMLAttributes,n)]},addCommands(){return{setHorizontalRule:()=>({chain:n,state:e})=>{const{selection:t}=e,{$from:r,$to:i}=t,s=n();return r.parentOffset===0?s.insertContentAt({from:Math.max(r.pos-1,0),to:i.pos},{type:this.name}):br(t)?s.insertContentAt(i.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({tr:o,dispatch:l})=>{var c;if(l){const{$to:f}=o.selection,h=f.end();if(f.nodeAfter)f.nodeAfter.isTextblock?o.setSelection(qe.create(o.doc,f.pos+1)):f.nodeAfter.isBlock?o.setSelection(Ve.create(o.doc,f.pos)):o.setSelection(qe.create(o.doc,f.pos));else{const p=(c=f.parent.type.contentMatch.defaultType)===null||c===void 0?void 0:c.create();p&&(o.insert(h,p),o.setSelection(qe.create(o.doc,h+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[nS({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),k_=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,T_=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,A_=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,R_=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,__=jn.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:n=>n.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:n=>n.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:n}){return["em",dt(this.options.HTMLAttributes,n),0]},addCommands(){return{setItalic:()=>({commands:n})=>n.setMark(this.name),toggleItalic:()=>({commands:n})=>n.toggleMark(this.name),unsetItalic:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[eo({find:k_,type:this.type}),eo({find:A_,type:this.type})]},addPasteRules(){return[ns({find:T_,type:this.type}),ns({find:R_,type:this.type})]}}),N_=Tn.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",dt(this.options.HTMLAttributes,n),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),O_="listItem",Tb="textStyle",Ab=/^(\d+)\.\s$/,I_=Tn.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:n=>n.hasAttribute("start")?parseInt(n.getAttribute("start")||"",10):1},type:{default:null,parseHTML:n=>n.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:n}){const{start:e,...t}=n;return e===1?["ol",dt(this.options.HTMLAttributes,t),0]:["ol",dt(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleOrderedList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(O_,this.editor.getAttributes(Tb)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let n=na({find:Ab,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(n=na({find:Ab,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(Tb)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[n]}}),M_=Tn.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:n}){return["p",dt(this.options.HTMLAttributes,n),0]},addCommands(){return{setParagraph:()=>({commands:n})=>n.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),D_=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,L_=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,P_=jn.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["s",dt(this.options.HTMLAttributes,n),0]},addCommands(){return{setStrike:()=>({commands:n})=>n.setMark(this.name),toggleStrike:()=>({commands:n})=>n.toggleMark(this.name),unsetStrike:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[eo({find:D_,type:this.type})]},addPasteRules(){return[ns({find:L_,type:this.type})]}}),F_=Tn.create({name:"text",group:"inline"}),B_=bt.create({name:"starterKit",addExtensions(){const n=[];return this.options.bold!==!1&&n.push($R.configure(this.options.bold)),this.options.blockquote!==!1&&n.push(zR.configure(this.options.blockquote)),this.options.bulletList!==!1&&n.push(qR.configure(this.options.bulletList)),this.options.code!==!1&&n.push(XR.configure(this.options.code)),this.options.codeBlock!==!1&&n.push(QR.configure(this.options.codeBlock)),this.options.document!==!1&&n.push(e_.configure(this.options.document)),this.options.dropcursor!==!1&&n.push(r_.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&n.push(f_.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&n.push(d_.configure(this.options.hardBreak)),this.options.heading!==!1&&n.push(h_.configure(this.options.heading)),this.options.history!==!1&&n.push(C_.configure(this.options.history)),this.options.horizontalRule!==!1&&n.push(S_.configure(this.options.horizontalRule)),this.options.italic!==!1&&n.push(__.configure(this.options.italic)),this.options.listItem!==!1&&n.push(N_.configure(this.options.listItem)),this.options.orderedList!==!1&&n.push(I_.configure(this.options.orderedList)),this.options.paragraph!==!1&&n.push(M_.configure(this.options.paragraph)),this.options.strike!==!1&&n.push(P_.configure(this.options.strike)),this.options.text!==!1&&n.push(F_.configure(this.options.text)),n}}),j_=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,z_=Tn.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:n}){return["img",dt(this.options.HTMLAttributes,n)]},addCommands(){return{setImage:n=>({commands:e})=>e.insertContent({type:this.name,attrs:n})}},addInputRules(){return[nS({find:j_,type:this.type,getAttributes:n=>{const[,,e,t,r]=n;return{src:t,alt:e,title:r}}})]}}),H_=/^\s*(\[([( |x])?\])\s$/,U_=Tn.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList"}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:n=>{const e=n.getAttribute("data-checked");return e===""||e==="true"},renderHTML:n=>({"data-checked":n.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:n,HTMLAttributes:e}){return["li",dt(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:n.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const n={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...n,Tab:()=>this.editor.commands.sinkListItem(this.name)}:n},addNodeView(){return({node:n,HTMLAttributes:e,getPos:t,editor:r})=>{const i=document.createElement("li"),s=document.createElement("label"),o=document.createElement("span"),l=document.createElement("input"),c=document.createElement("div");return s.contentEditable="false",l.type="checkbox",l.addEventListener("mousedown",f=>f.preventDefault()),l.addEventListener("change",f=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){l.checked=!l.checked;return}const{checked:h}=f.target;r.isEditable&&typeof t=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:p})=>{const g=t();if(typeof g!="number")return!1;const m=p.doc.nodeAt(g);return p.setNodeMarkup(g,void 0,{...m==null?void 0:m.attrs,checked:h}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(n,h)||(l.checked=!l.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([f,h])=>{i.setAttribute(f,h)}),i.dataset.checked=n.attrs.checked,l.checked=n.attrs.checked,s.append(l,o),i.append(s,c),Object.entries(e).forEach(([f,h])=>{i.setAttribute(f,h)}),{dom:i,contentDOM:c,update:f=>f.type!==this.type?!1:(i.dataset.checked=f.attrs.checked,l.checked=f.attrs.checked,!0)}}},addInputRules(){return[na({find:H_,type:this.type,getAttributes:n=>({checked:n[n.length-1]==="x"})})]}}),V_=Tn.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:n}){return["ul",dt(this.options.HTMLAttributes,n,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:n})=>n.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}}),W_=bt.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:n=>{const e=n.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:n=>n.textAlign?{style:`text-align: ${n.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:n=>({commands:e})=>this.options.alignments.includes(n)?this.options.types.map(t=>e.updateAttributes(t,{textAlign:n})).every(t=>t):!1,unsetTextAlign:()=>({commands:n})=>this.options.types.map(e=>n.resetAttributes(e,"textAlign")).every(e=>e),toggleTextAlign:n=>({editor:e,commands:t})=>this.options.alignments.includes(n)?e.isActive({textAlign:n})?t.unsetTextAlign():t.setTextAlign(n):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),$_=n=>Tt({find:/--$/,replace:n??""}),K_=n=>Tt({find:/\.\.\.$/,replace:n??""}),q_=n=>Tt({find:/(?:^|[\s{[(<'"\u2018\u201C])(")$/,replace:n??""}),G_=n=>Tt({find:/"$/,replace:n??""}),Z_=n=>Tt({find:/(?:^|[\s{[(<'"\u2018\u201C])(')$/,replace:n??""}),X_=n=>Tt({find:/'$/,replace:n??""}),J_=n=>Tt({find:/<-$/,replace:n??""}),Y_=n=>Tt({find:/->$/,replace:n??""}),Q_=n=>Tt({find:/\(c\)$/,replace:n??""}),eN=n=>Tt({find:/\(tm\)$/,replace:n??""}),tN=n=>Tt({find:/\(sm\)$/,replace:n??""}),nN=n=>Tt({find:/\(r\)$/,replace:n??""}),rN=n=>Tt({find:/(?:^|\s)(1\/2)\s$/,replace:n??""}),iN=n=>Tt({find:/\+\/-$/,replace:n??""}),sN=n=>Tt({find:/!=$/,replace:n??""}),oN=n=>Tt({find:/<<$/,replace:n??""}),aN=n=>Tt({find:/>>$/,replace:n??""}),lN=n=>Tt({find:/\d+\s?([*x])\s?\d+$/,replace:n??""}),uN=n=>Tt({find:/\^2$/,replace:n??""}),cN=n=>Tt({find:/\^3$/,replace:n??""}),fN=n=>Tt({find:/(?:^|\s)(1\/4)\s$/,replace:n??""}),dN=n=>Tt({find:/(?:^|\s)(3\/4)\s$/,replace:n??""}),hN=bt.create({name:"typography",addOptions(){return{closeDoubleQuote:"",closeSingleQuote:"",copyright:"",ellipsis:"",emDash:"",laquo:"",leftArrow:"",multiplication:"",notEqual:"",oneHalf:"",oneQuarter:"",openDoubleQuote:"",openSingleQuote:"",plusMinus:"",raquo:"",registeredTrademark:"",rightArrow:"",servicemark:"",superscriptThree:"",superscriptTwo:"",threeQuarters:"",trademark:""}},addInputRules(){const n=[];return this.options.emDash!==!1&&n.push($_(this.options.emDash)),this.options.ellipsis!==!1&&n.push(K_(this.options.ellipsis)),this.options.openDoubleQuote!==!1&&n.push(q_(this.options.openDoubleQuote)),this.options.closeDoubleQuote!==!1&&n.push(G_(this.options.closeDoubleQuote)),this.options.openSingleQuote!==!1&&n.push(Z_(this.options.openSingleQuote)),this.options.closeSingleQuote!==!1&&n.push(X_(this.options.closeSingleQuote)),this.options.leftArrow!==!1&&n.push(J_(this.options.leftArrow)),this.options.rightArrow!==!1&&n.push(Y_(this.options.rightArrow)),this.options.copyright!==!1&&n.push(Q_(this.options.copyright)),this.options.trademark!==!1&&n.push(eN(this.options.trademark)),this.options.servicemark!==!1&&n.push(tN(this.options.servicemark)),this.options.registeredTrademark!==!1&&n.push(nN(this.options.registeredTrademark)),this.options.oneHalf!==!1&&n.push(rN(this.options.oneHalf)),this.options.plusMinus!==!1&&n.push(iN(this.options.plusMinus)),this.options.notEqual!==!1&&n.push(sN(this.options.notEqual)),this.options.laquo!==!1&&n.push(oN(this.options.laquo)),this.options.raquo!==!1&&n.push(aN(this.options.raquo)),this.options.multiplication!==!1&&n.push(lN(this.options.multiplication)),this.options.superscriptTwo!==!1&&n.push(uN(this.options.superscriptTwo)),this.options.superscriptThree!==!1&&n.push(cN(this.options.superscriptThree)),this.options.oneQuarter!==!1&&n.push(fN(this.options.oneQuarter)),this.options.threeQuarters!==!1&&n.push(dN(this.options.threeQuarters)),n}}),pN=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,mN=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,gN=jn.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:n=>n.getAttribute("data-color")||n.style.backgroundColor,renderHTML:n=>n.color?{"data-color":n.color,style:`background-color: ${n.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:n}){return["mark",dt(this.options.HTMLAttributes,n),0]},addCommands(){return{setHighlight:n=>({commands:e})=>e.setMark(this.name,n),toggleHighlight:n=>({commands:e})=>e.toggleMark(this.name,n),unsetHighlight:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[eo({find:pN,type:this.type})]},addPasteRules(){return[ns({find:mN,type:this.type})]}}),yN=jn.create({name:"subscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sub"},{style:"vertical-align",getAttrs(n){return n!=="sub"?!1:null}}]},renderHTML({HTMLAttributes:n}){return["sub",dt(this.options.HTMLAttributes,n),0]},addCommands(){return{setSubscript:()=>({commands:n})=>n.setMark(this.name),toggleSubscript:()=>({commands:n})=>n.toggleMark(this.name),unsetSubscript:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-,":()=>this.editor.commands.toggleSubscript()}}}),wN=jn.create({name:"superscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sup"},{style:"vertical-align",getAttrs(n){return n!=="super"?!1:null}}]},renderHTML({HTMLAttributes:n}){return["sup",dt(this.options.HTMLAttributes,n),0]},addCommands(){return{setSuperscript:()=>({commands:n})=>n.setMark(this.name),toggleSuperscript:()=>({commands:n})=>n.toggleMark(this.name),unsetSuperscript:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-.":()=>this.editor.commands.toggleSuperscript()}}}),vN=jn.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["u",dt(this.options.HTMLAttributes,n),0]},addCommands(){return{setUnderline:()=>({commands:n})=>n.setMark(this.name),toggleUnderline:()=>({commands:n})=>n.toggleMark(this.name),unsetUnderline:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),bN="modulepreload",xN=function(n){return"/"+n},Rb={},EN=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(t.map(c=>{if(c=xN(c),c in Rb)return;Rb[c]=!0;const f=c.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const p=document.createElement("link");if(p.rel=f?"stylesheet":bN,f||(p.as="script"),p.crossOrigin="",p.href=c,l&&p.setAttribute("nonce",l),document.head.appendChild(p),f)return new Promise((g,m)=>{p.addEventListener("load",g),p.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})};var CN=Object.defineProperty,SN=Object.defineProperties,kN=Object.getOwnPropertyDescriptors,_b=Object.getOwnPropertySymbols,TN=Object.prototype.hasOwnProperty,AN=Object.prototype.propertyIsEnumerable,bg=(n,e,t)=>e in n?CN(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Xe=(n,e)=>{for(var t in e||(e={}))TN.call(e,t)&&bg(n,t,e[t]);if(_b)for(var t of _b(e))AN.call(e,t)&&bg(n,t,e[t]);return n},li=(n,e)=>SN(n,kN(e)),Ce=(n,e,t)=>bg(n,typeof e!="symbol"?e+"":e,t),RN=(n,e,t)=>new Promise((r,i)=>{var s=c=>{try{l(t.next(c))}catch(f){i(f)}},o=c=>{try{l(t.throw(c))}catch(f){i(f)}},l=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);l((t=t.apply(n,e)).next())});class uf{constructor(e){Ce(this,"rootKey"),this.rootKey=e}}const _N=Object.seal({});class Se extends uf{constructor(e){super(e),Ce(this,"root"),this.root=new Array}prepForXml(e){var t;e.stack.push(this);const r=this.root.map(i=>i instanceof uf?i.prepForXml(e):i).filter(i=>i!==void 0);return e.stack.pop(),{[this.rootKey]:r.length?r.length===1&&((t=r[0])!=null&&t._attr)?r[0]:r:_N}}addChildElement(e){return this.root.push(e),this}}class fi extends Se{prepForXml(e){const t=super.prepForXml(e);if(t&&(typeof t[this.rootKey]!="object"||Object.keys(t[this.rootKey]).length))return t}}class Pe extends uf{constructor(e){super("_attr"),Ce(this,"xmlKeys"),this.root=e}prepForXml(e){const t={};return Object.entries(this.root).forEach(([r,i])=>{if(i!==void 0){const s=this.xmlKeys&&this.xmlKeys[r]||r;t[s]=i}}),{_attr:t}}}class di extends uf{constructor(e){super("_attr"),this.root=e}prepForXml(e){return{_attr:Object.values(this.root).filter(({value:r})=>r!==void 0).reduce((r,{key:i,value:s})=>li(Xe({},r),{[i]:s}),{})}}}class At extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}}var Lr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ey(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var $p={},yc={exports:{}},Nb;function Cy(){if(Nb)return yc.exports;Nb=1;var n=typeof Reflect=="object"?Reflect:null,e=n&&typeof n.apply=="function"?n.apply:function(I,j,W){return Function.prototype.apply.call(I,j,W)},t;n&&typeof n.ownKeys=="function"?t=n.ownKeys:Object.getOwnPropertySymbols?t=function(I){return Object.getOwnPropertyNames(I).concat(Object.getOwnPropertySymbols(I))}:t=function(I){return Object.getOwnPropertyNames(I)};function r(k){console&&console.warn&&console.warn(k)}var i=Number.isNaN||function(I){return I!==I};function s(){s.init.call(this)}yc.exports=s,yc.exports.once=b,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function l(k){if(typeof k!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof k)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(k){if(typeof k!="number"||k<0||i(k))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+k+".");o=k}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(I){if(typeof I!="number"||I<0||i(I))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+I+".");return this._maxListeners=I,this};function c(k){return k._maxListeners===void 0?s.defaultMaxListeners:k._maxListeners}s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(I){for(var j=[],W=1;W<arguments.length;W++)j.push(arguments[W]);var ee=I==="error",F=this._events;if(F!==void 0)ee=ee&&F.error===void 0;else if(!ee)return!1;if(ee){var se;if(j.length>0&&(se=j[0]),se instanceof Error)throw se;var be=new Error("Unhandled error."+(se?" ("+se.message+")":""));throw be.context=se,be}var B=F[I];if(B===void 0)return!1;if(typeof B=="function")e(B,this,j);else for(var Y=B.length,N=w(B,Y),W=0;W<Y;++W)e(N[W],this,j);return!0};function f(k,I,j,W){var ee,F,se;if(l(j),F=k._events,F===void 0?(F=k._events=Object.create(null),k._eventsCount=0):(F.newListener!==void 0&&(k.emit("newListener",I,j.listener?j.listener:j),F=k._events),se=F[I]),se===void 0)se=F[I]=j,++k._eventsCount;else if(typeof se=="function"?se=F[I]=W?[j,se]:[se,j]:W?se.unshift(j):se.push(j),ee=c(k),ee>0&&se.length>ee&&!se.warned){se.warned=!0;var be=new Error("Possible EventEmitter memory leak detected. "+se.length+" "+String(I)+" listeners added. Use emitter.setMaxListeners() to increase limit");be.name="MaxListenersExceededWarning",be.emitter=k,be.type=I,be.count=se.length,r(be)}return k}s.prototype.addListener=function(I,j){return f(this,I,j,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(I,j){return f(this,I,j,!0)};function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(k,I,j){var W={fired:!1,wrapFn:void 0,target:k,type:I,listener:j},ee=h.bind(W);return ee.listener=j,W.wrapFn=ee,ee}s.prototype.once=function(I,j){return l(j),this.on(I,p(this,I,j)),this},s.prototype.prependOnceListener=function(I,j){return l(j),this.prependListener(I,p(this,I,j)),this},s.prototype.removeListener=function(I,j){var W,ee,F,se,be;if(l(j),ee=this._events,ee===void 0)return this;if(W=ee[I],W===void 0)return this;if(W===j||W.listener===j)--this._eventsCount===0?this._events=Object.create(null):(delete ee[I],ee.removeListener&&this.emit("removeListener",I,W.listener||j));else if(typeof W!="function"){for(F=-1,se=W.length-1;se>=0;se--)if(W[se]===j||W[se].listener===j){be=W[se].listener,F=se;break}if(F<0)return this;F===0?W.shift():v(W,F),W.length===1&&(ee[I]=W[0]),ee.removeListener!==void 0&&this.emit("removeListener",I,be||j)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(I){var j,W,ee;if(W=this._events,W===void 0)return this;if(W.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):W[I]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete W[I]),this;if(arguments.length===0){var F=Object.keys(W),se;for(ee=0;ee<F.length;++ee)se=F[ee],se!=="removeListener"&&this.removeAllListeners(se);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(j=W[I],typeof j=="function")this.removeListener(I,j);else if(j!==void 0)for(ee=j.length-1;ee>=0;ee--)this.removeListener(I,j[ee]);return this};function g(k,I,j){var W=k._events;if(W===void 0)return[];var ee=W[I];return ee===void 0?[]:typeof ee=="function"?j?[ee.listener||ee]:[ee]:j?E(ee):w(ee,ee.length)}s.prototype.listeners=function(I){return g(this,I,!0)},s.prototype.rawListeners=function(I){return g(this,I,!1)},s.listenerCount=function(k,I){return typeof k.listenerCount=="function"?k.listenerCount(I):m.call(k,I)},s.prototype.listenerCount=m;function m(k){var I=this._events;if(I!==void 0){var j=I[k];if(typeof j=="function")return 1;if(j!==void 0)return j.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]};function w(k,I){for(var j=new Array(I),W=0;W<I;++W)j[W]=k[W];return j}function v(k,I){for(;I+1<k.length;I++)k[I]=k[I+1];k.pop()}function E(k){for(var I=new Array(k.length),j=0;j<I.length;++j)I[j]=k[j].listener||k[j];return I}function b(k,I){return new Promise(function(j,W){function ee(se){k.removeListener(I,F),W(se)}function F(){typeof k.removeListener=="function"&&k.removeListener("error",ee),j([].slice.call(arguments))}A(k,I,F,{once:!0}),I!=="error"&&T(k,ee,{once:!0})})}function T(k,I,j){typeof k.on=="function"&&A(k,"error",I,j)}function A(k,I,j,W){if(typeof k.on=="function")W.once?k.once(I,j):k.on(I,j);else if(typeof k.addEventListener=="function")k.addEventListener(I,function ee(F){W.once&&k.removeEventListener(I,ee),j(F)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof k)}return yc.exports}var wc={exports:{}},Ob;function ls(){return Ob||(Ob=1,typeof Object.create=="function"?wc.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:wc.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}),wc.exports}function NN(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var fS={exports:{}},It=fS.exports={},Or,Ir;function xg(){throw new Error("setTimeout has not been defined")}function Eg(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Or=setTimeout:Or=xg}catch{Or=xg}try{typeof clearTimeout=="function"?Ir=clearTimeout:Ir=Eg}catch{Ir=Eg}})();function dS(n){if(Or===setTimeout)return setTimeout(n,0);if((Or===xg||!Or)&&setTimeout)return Or=setTimeout,setTimeout(n,0);try{return Or(n,0)}catch{try{return Or.call(null,n,0)}catch{return Or.call(this,n,0)}}}function ON(n){if(Ir===clearTimeout)return clearTimeout(n);if((Ir===Eg||!Ir)&&clearTimeout)return Ir=clearTimeout,clearTimeout(n);try{return Ir(n)}catch{try{return Ir.call(null,n)}catch{return Ir.call(this,n)}}}var ii=[],qo=!1,zs,Uc=-1;function IN(){!qo||!zs||(qo=!1,zs.length?ii=zs.concat(ii):Uc=-1,ii.length&&hS())}function hS(){if(!qo){var n=dS(IN);qo=!0;for(var e=ii.length;e;){for(zs=ii,ii=[];++Uc<e;)zs&&zs[Uc].run();Uc=-1,e=ii.length}zs=null,qo=!1,ON(n)}}It.nextTick=function(n){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];ii.push(new pS(n,e)),ii.length===1&&!qo&&dS(hS)};function pS(n,e){this.fun=n,this.array=e}pS.prototype.run=function(){this.fun.apply(null,this.array)};It.title="browser";It.browser=!0;It.env={};It.argv=[];It.version="";It.versions={};function hi(){}It.on=hi;It.addListener=hi;It.once=hi;It.off=hi;It.removeListener=hi;It.removeAllListeners=hi;It.emit=hi;It.prependListener=hi;It.prependOnceListener=hi;It.listeners=function(n){return[]};It.binding=function(n){throw new Error("process.binding is not supported")};It.cwd=function(){return"/"};It.chdir=function(n){throw new Error("process.chdir is not supported")};It.umask=function(){return 0};var MN=fS.exports;const Ye=NN(MN);var Kp,Ib;function mS(){return Ib||(Ib=1,Kp=Cy().EventEmitter),Kp}var qp={},Qa={},Mb;function DN(){if(Mb)return Qa;Mb=1,Qa.byteLength=l,Qa.toByteArray=f,Qa.fromByteArray=g;for(var n=[],e=[],t=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=r.length;i<s;++i)n[i]=r[i],e[r.charCodeAt(i)]=i;e[45]=62,e[95]=63;function o(m){var w=m.length;if(w%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var v=m.indexOf("=");v===-1&&(v=w);var E=v===w?0:4-v%4;return[v,E]}function l(m){var w=o(m),v=w[0],E=w[1];return(v+E)*3/4-E}function c(m,w,v){return(w+v)*3/4-v}function f(m){var w,v=o(m),E=v[0],b=v[1],T=new t(c(m,E,b)),A=0,k=b>0?E-4:E,I;for(I=0;I<k;I+=4)w=e[m.charCodeAt(I)]<<18|e[m.charCodeAt(I+1)]<<12|e[m.charCodeAt(I+2)]<<6|e[m.charCodeAt(I+3)],T[A++]=w>>16&255,T[A++]=w>>8&255,T[A++]=w&255;return b===2&&(w=e[m.charCodeAt(I)]<<2|e[m.charCodeAt(I+1)]>>4,T[A++]=w&255),b===1&&(w=e[m.charCodeAt(I)]<<10|e[m.charCodeAt(I+1)]<<4|e[m.charCodeAt(I+2)]>>2,T[A++]=w>>8&255,T[A++]=w&255),T}function h(m){return n[m>>18&63]+n[m>>12&63]+n[m>>6&63]+n[m&63]}function p(m,w,v){for(var E,b=[],T=w;T<v;T+=3)E=(m[T]<<16&16711680)+(m[T+1]<<8&65280)+(m[T+2]&255),b.push(h(E));return b.join("")}function g(m){for(var w,v=m.length,E=v%3,b=[],T=16383,A=0,k=v-E;A<k;A+=T)b.push(p(m,A,A+T>k?k:A+T));return E===1?(w=m[v-1],b.push(n[w>>2]+n[w<<4&63]+"==")):E===2&&(w=(m[v-2]<<8)+m[v-1],b.push(n[w>>10]+n[w>>4&63]+n[w<<2&63]+"=")),b.join("")}return Qa}var vc={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var Db;function LN(){return Db||(Db=1,vc.read=function(n,e,t,r,i){var s,o,l=i*8-r-1,c=(1<<l)-1,f=c>>1,h=-7,p=t?i-1:0,g=t?-1:1,m=n[e+p];for(p+=g,s=m&(1<<-h)-1,m>>=-h,h+=l;h>0;s=s*256+n[e+p],p+=g,h-=8);for(o=s&(1<<-h)-1,s>>=-h,h+=r;h>0;o=o*256+n[e+p],p+=g,h-=8);if(s===0)s=1-f;else{if(s===c)return o?NaN:(m?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-f}return(m?-1:1)*o*Math.pow(2,s-r)},vc.write=function(n,e,t,r,i,s){var o,l,c,f=s*8-i-1,h=(1<<f)-1,p=h>>1,g=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=r?0:s-1,w=r?1:-1,v=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(l=isNaN(e)?1:0,o=h):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+p>=1?e+=g/c:e+=g*Math.pow(2,1-p),e*c>=2&&(o++,c/=2),o+p>=h?(l=0,o=h):o+p>=1?(l=(e*c-1)*Math.pow(2,i),o=o+p):(l=e*Math.pow(2,p-1)*Math.pow(2,i),o=0));i>=8;n[t+m]=l&255,m+=w,l/=256,i-=8);for(o=o<<i|l,f+=i;f>0;n[t+m]=o&255,m+=w,o/=256,f-=8);n[t+m-w]|=v*128}),vc}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Lb;function fd(){return Lb||(Lb=1,function(n){var e=DN(),t=LN(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=l,n.SlowBuffer=T,n.INSPECT_MAX_BYTES=50;var i=2147483647;n.kMaxLength=i,l.TYPED_ARRAY_SUPPORT=s(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{var P=new Uint8Array(1),x={foo:function(){return 42}};return Object.setPrototypeOf(x,Uint8Array.prototype),Object.setPrototypeOf(P,x),P.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function o(P){if(P>i)throw new RangeError('The value "'+P+'" is invalid for option "size"');var x=new Uint8Array(P);return Object.setPrototypeOf(x,l.prototype),x}function l(P,x,C){if(typeof P=="number"){if(typeof x=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(P)}return c(P,x,C)}l.poolSize=8192;function c(P,x,C){if(typeof P=="string")return g(P,x);if(ArrayBuffer.isView(P))return w(P);if(P==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P);if(fe(P,ArrayBuffer)||P&&fe(P.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(fe(P,SharedArrayBuffer)||P&&fe(P.buffer,SharedArrayBuffer)))return v(P,x,C);if(typeof P=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var O=P.valueOf&&P.valueOf();if(O!=null&&O!==P)return l.from(O,x,C);var Z=E(P);if(Z)return Z;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof P[Symbol.toPrimitive]=="function")return l.from(P[Symbol.toPrimitive]("string"),x,C);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P)}l.from=function(P,x,C){return c(P,x,C)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function f(P){if(typeof P!="number")throw new TypeError('"size" argument must be of type number');if(P<0)throw new RangeError('The value "'+P+'" is invalid for option "size"')}function h(P,x,C){return f(P),P<=0?o(P):x!==void 0?typeof C=="string"?o(P).fill(x,C):o(P).fill(x):o(P)}l.alloc=function(P,x,C){return h(P,x,C)};function p(P){return f(P),o(P<0?0:b(P)|0)}l.allocUnsafe=function(P){return p(P)},l.allocUnsafeSlow=function(P){return p(P)};function g(P,x){if((typeof x!="string"||x==="")&&(x="utf8"),!l.isEncoding(x))throw new TypeError("Unknown encoding: "+x);var C=A(P,x)|0,O=o(C),Z=O.write(P,x);return Z!==C&&(O=O.slice(0,Z)),O}function m(P){for(var x=P.length<0?0:b(P.length)|0,C=o(x),O=0;O<x;O+=1)C[O]=P[O]&255;return C}function w(P){if(fe(P,Uint8Array)){var x=new Uint8Array(P);return v(x.buffer,x.byteOffset,x.byteLength)}return m(P)}function v(P,x,C){if(x<0||P.byteLength<x)throw new RangeError('"offset" is outside of buffer bounds');if(P.byteLength<x+(C||0))throw new RangeError('"length" is outside of buffer bounds');var O;return x===void 0&&C===void 0?O=new Uint8Array(P):C===void 0?O=new Uint8Array(P,x):O=new Uint8Array(P,x,C),Object.setPrototypeOf(O,l.prototype),O}function E(P){if(l.isBuffer(P)){var x=b(P.length)|0,C=o(x);return C.length===0||P.copy(C,0,0,x),C}if(P.length!==void 0)return typeof P.length!="number"||_(P.length)?o(0):m(P);if(P.type==="Buffer"&&Array.isArray(P.data))return m(P.data)}function b(P){if(P>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return P|0}function T(P){return+P!=P&&(P=0),l.alloc(+P)}l.isBuffer=function(x){return x!=null&&x._isBuffer===!0&&x!==l.prototype},l.compare=function(x,C){if(fe(x,Uint8Array)&&(x=l.from(x,x.offset,x.byteLength)),fe(C,Uint8Array)&&(C=l.from(C,C.offset,C.byteLength)),!l.isBuffer(x)||!l.isBuffer(C))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(x===C)return 0;for(var O=x.length,Z=C.length,ae=0,J=Math.min(O,Z);ae<J;++ae)if(x[ae]!==C[ae]){O=x[ae],Z=C[ae];break}return O<Z?-1:Z<O?1:0},l.isEncoding=function(x){switch(String(x).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(x,C){if(!Array.isArray(x))throw new TypeError('"list" argument must be an Array of Buffers');if(x.length===0)return l.alloc(0);var O;if(C===void 0)for(C=0,O=0;O<x.length;++O)C+=x[O].length;var Z=l.allocUnsafe(C),ae=0;for(O=0;O<x.length;++O){var J=x[O];if(fe(J,Uint8Array))ae+J.length>Z.length?l.from(J).copy(Z,ae):Uint8Array.prototype.set.call(Z,J,ae);else if(l.isBuffer(J))J.copy(Z,ae);else throw new TypeError('"list" argument must be an Array of Buffers');ae+=J.length}return Z};function A(P,x){if(l.isBuffer(P))return P.length;if(ArrayBuffer.isView(P)||fe(P,ArrayBuffer))return P.byteLength;if(typeof P!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof P);var C=P.length,O=arguments.length>2&&arguments[2]===!0;if(!O&&C===0)return 0;for(var Z=!1;;)switch(x){case"ascii":case"latin1":case"binary":return C;case"utf8":case"utf-8":return M(P).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C*2;case"hex":return C>>>1;case"base64":return U(P).length;default:if(Z)return O?-1:M(P).length;x=(""+x).toLowerCase(),Z=!0}}l.byteLength=A;function k(P,x,C){var O=!1;if((x===void 0||x<0)&&(x=0),x>this.length||((C===void 0||C>this.length)&&(C=this.length),C<=0)||(C>>>=0,x>>>=0,C<=x))return"";for(P||(P="utf8");;)switch(P){case"hex":return te(this,x,C);case"utf8":case"utf-8":return N(this,x,C);case"ascii":return q(this,x,C);case"latin1":case"binary":return X(this,x,C);case"base64":return Y(this,x,C);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return de(this,x,C);default:if(O)throw new TypeError("Unknown encoding: "+P);P=(P+"").toLowerCase(),O=!0}}l.prototype._isBuffer=!0;function I(P,x,C){var O=P[x];P[x]=P[C],P[C]=O}l.prototype.swap16=function(){var x=this.length;if(x%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var C=0;C<x;C+=2)I(this,C,C+1);return this},l.prototype.swap32=function(){var x=this.length;if(x%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var C=0;C<x;C+=4)I(this,C,C+3),I(this,C+1,C+2);return this},l.prototype.swap64=function(){var x=this.length;if(x%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var C=0;C<x;C+=8)I(this,C,C+7),I(this,C+1,C+6),I(this,C+2,C+5),I(this,C+3,C+4);return this},l.prototype.toString=function(){var x=this.length;return x===0?"":arguments.length===0?N(this,0,x):k.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(x){if(!l.isBuffer(x))throw new TypeError("Argument must be a Buffer");return this===x?!0:l.compare(this,x)===0},l.prototype.inspect=function(){var x="",C=n.INSPECT_MAX_BYTES;return x=this.toString("hex",0,C).replace(/(.{2})/g,"$1 ").trim(),this.length>C&&(x+=" ... "),"<Buffer "+x+">"},r&&(l.prototype[r]=l.prototype.inspect),l.prototype.compare=function(x,C,O,Z,ae){if(fe(x,Uint8Array)&&(x=l.from(x,x.offset,x.byteLength)),!l.isBuffer(x))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof x);if(C===void 0&&(C=0),O===void 0&&(O=x?x.length:0),Z===void 0&&(Z=0),ae===void 0&&(ae=this.length),C<0||O>x.length||Z<0||ae>this.length)throw new RangeError("out of range index");if(Z>=ae&&C>=O)return 0;if(Z>=ae)return-1;if(C>=O)return 1;if(C>>>=0,O>>>=0,Z>>>=0,ae>>>=0,this===x)return 0;for(var J=ae-Z,ge=O-C,we=Math.min(J,ge),Ee=this.slice(Z,ae),ke=x.slice(C,O),Me=0;Me<we;++Me)if(Ee[Me]!==ke[Me]){J=Ee[Me],ge=ke[Me];break}return J<ge?-1:ge<J?1:0};function j(P,x,C,O,Z){if(P.length===0)return-1;if(typeof C=="string"?(O=C,C=0):C>2147483647?C=2147483647:C<-2147483648&&(C=-2147483648),C=+C,_(C)&&(C=Z?0:P.length-1),C<0&&(C=P.length+C),C>=P.length){if(Z)return-1;C=P.length-1}else if(C<0)if(Z)C=0;else return-1;if(typeof x=="string"&&(x=l.from(x,O)),l.isBuffer(x))return x.length===0?-1:W(P,x,C,O,Z);if(typeof x=="number")return x=x&255,typeof Uint8Array.prototype.indexOf=="function"?Z?Uint8Array.prototype.indexOf.call(P,x,C):Uint8Array.prototype.lastIndexOf.call(P,x,C):W(P,[x],C,O,Z);throw new TypeError("val must be string, number or Buffer")}function W(P,x,C,O,Z){var ae=1,J=P.length,ge=x.length;if(O!==void 0&&(O=String(O).toLowerCase(),O==="ucs2"||O==="ucs-2"||O==="utf16le"||O==="utf-16le")){if(P.length<2||x.length<2)return-1;ae=2,J/=2,ge/=2,C/=2}function we(yt,Mt){return ae===1?yt[Mt]:yt.readUInt16BE(Mt*ae)}var Ee;if(Z){var ke=-1;for(Ee=C;Ee<J;Ee++)if(we(P,Ee)===we(x,ke===-1?0:Ee-ke)){if(ke===-1&&(ke=Ee),Ee-ke+1===ge)return ke*ae}else ke!==-1&&(Ee-=Ee-ke),ke=-1}else for(C+ge>J&&(C=J-ge),Ee=C;Ee>=0;Ee--){for(var Me=!0,Ue=0;Ue<ge;Ue++)if(we(P,Ee+Ue)!==we(x,Ue)){Me=!1;break}if(Me)return Ee}return-1}l.prototype.includes=function(x,C,O){return this.indexOf(x,C,O)!==-1},l.prototype.indexOf=function(x,C,O){return j(this,x,C,O,!0)},l.prototype.lastIndexOf=function(x,C,O){return j(this,x,C,O,!1)};function ee(P,x,C,O){C=Number(C)||0;var Z=P.length-C;O?(O=Number(O),O>Z&&(O=Z)):O=Z;var ae=x.length;O>ae/2&&(O=ae/2);for(var J=0;J<O;++J){var ge=parseInt(x.substr(J*2,2),16);if(_(ge))return J;P[C+J]=ge}return J}function F(P,x,C,O){return $(M(x,P.length-C),P,C,O)}function se(P,x,C,O){return $(ne(x),P,C,O)}function be(P,x,C,O){return $(U(x),P,C,O)}function B(P,x,C,O){return $(Q(x,P.length-C),P,C,O)}l.prototype.write=function(x,C,O,Z){if(C===void 0)Z="utf8",O=this.length,C=0;else if(O===void 0&&typeof C=="string")Z=C,O=this.length,C=0;else if(isFinite(C))C=C>>>0,isFinite(O)?(O=O>>>0,Z===void 0&&(Z="utf8")):(Z=O,O=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ae=this.length-C;if((O===void 0||O>ae)&&(O=ae),x.length>0&&(O<0||C<0)||C>this.length)throw new RangeError("Attempt to write outside buffer bounds");Z||(Z="utf8");for(var J=!1;;)switch(Z){case"hex":return ee(this,x,C,O);case"utf8":case"utf-8":return F(this,x,C,O);case"ascii":case"latin1":case"binary":return se(this,x,C,O);case"base64":return be(this,x,C,O);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,x,C,O);default:if(J)throw new TypeError("Unknown encoding: "+Z);Z=(""+Z).toLowerCase(),J=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Y(P,x,C){return x===0&&C===P.length?e.fromByteArray(P):e.fromByteArray(P.slice(x,C))}function N(P,x,C){C=Math.min(P.length,C);for(var O=[],Z=x;Z<C;){var ae=P[Z],J=null,ge=ae>239?4:ae>223?3:ae>191?2:1;if(Z+ge<=C){var we,Ee,ke,Me;switch(ge){case 1:ae<128&&(J=ae);break;case 2:we=P[Z+1],(we&192)===128&&(Me=(ae&31)<<6|we&63,Me>127&&(J=Me));break;case 3:we=P[Z+1],Ee=P[Z+2],(we&192)===128&&(Ee&192)===128&&(Me=(ae&15)<<12|(we&63)<<6|Ee&63,Me>2047&&(Me<55296||Me>57343)&&(J=Me));break;case 4:we=P[Z+1],Ee=P[Z+2],ke=P[Z+3],(we&192)===128&&(Ee&192)===128&&(ke&192)===128&&(Me=(ae&15)<<18|(we&63)<<12|(Ee&63)<<6|ke&63,Me>65535&&Me<1114112&&(J=Me))}}J===null?(J=65533,ge=1):J>65535&&(J-=65536,O.push(J>>>10&1023|55296),J=56320|J&1023),O.push(J),Z+=ge}return ue(O)}var G=4096;function ue(P){var x=P.length;if(x<=G)return String.fromCharCode.apply(String,P);for(var C="",O=0;O<x;)C+=String.fromCharCode.apply(String,P.slice(O,O+=G));return C}function q(P,x,C){var O="";C=Math.min(P.length,C);for(var Z=x;Z<C;++Z)O+=String.fromCharCode(P[Z]&127);return O}function X(P,x,C){var O="";C=Math.min(P.length,C);for(var Z=x;Z<C;++Z)O+=String.fromCharCode(P[Z]);return O}function te(P,x,C){var O=P.length;(!x||x<0)&&(x=0),(!C||C<0||C>O)&&(C=O);for(var Z="",ae=x;ae<C;++ae)Z+=he[P[ae]];return Z}function de(P,x,C){for(var O=P.slice(x,C),Z="",ae=0;ae<O.length-1;ae+=2)Z+=String.fromCharCode(O[ae]+O[ae+1]*256);return Z}l.prototype.slice=function(x,C){var O=this.length;x=~~x,C=C===void 0?O:~~C,x<0?(x+=O,x<0&&(x=0)):x>O&&(x=O),C<0?(C+=O,C<0&&(C=0)):C>O&&(C=O),C<x&&(C=x);var Z=this.subarray(x,C);return Object.setPrototypeOf(Z,l.prototype),Z};function H(P,x,C){if(P%1!==0||P<0)throw new RangeError("offset is not uint");if(P+x>C)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(x,C,O){x=x>>>0,C=C>>>0,O||H(x,C,this.length);for(var Z=this[x],ae=1,J=0;++J<C&&(ae*=256);)Z+=this[x+J]*ae;return Z},l.prototype.readUintBE=l.prototype.readUIntBE=function(x,C,O){x=x>>>0,C=C>>>0,O||H(x,C,this.length);for(var Z=this[x+--C],ae=1;C>0&&(ae*=256);)Z+=this[x+--C]*ae;return Z},l.prototype.readUint8=l.prototype.readUInt8=function(x,C){return x=x>>>0,C||H(x,1,this.length),this[x]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(x,C){return x=x>>>0,C||H(x,2,this.length),this[x]|this[x+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(x,C){return x=x>>>0,C||H(x,2,this.length),this[x]<<8|this[x+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(x,C){return x=x>>>0,C||H(x,4,this.length),(this[x]|this[x+1]<<8|this[x+2]<<16)+this[x+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(x,C){return x=x>>>0,C||H(x,4,this.length),this[x]*16777216+(this[x+1]<<16|this[x+2]<<8|this[x+3])},l.prototype.readIntLE=function(x,C,O){x=x>>>0,C=C>>>0,O||H(x,C,this.length);for(var Z=this[x],ae=1,J=0;++J<C&&(ae*=256);)Z+=this[x+J]*ae;return ae*=128,Z>=ae&&(Z-=Math.pow(2,8*C)),Z},l.prototype.readIntBE=function(x,C,O){x=x>>>0,C=C>>>0,O||H(x,C,this.length);for(var Z=C,ae=1,J=this[x+--Z];Z>0&&(ae*=256);)J+=this[x+--Z]*ae;return ae*=128,J>=ae&&(J-=Math.pow(2,8*C)),J},l.prototype.readInt8=function(x,C){return x=x>>>0,C||H(x,1,this.length),this[x]&128?(255-this[x]+1)*-1:this[x]},l.prototype.readInt16LE=function(x,C){x=x>>>0,C||H(x,2,this.length);var O=this[x]|this[x+1]<<8;return O&32768?O|4294901760:O},l.prototype.readInt16BE=function(x,C){x=x>>>0,C||H(x,2,this.length);var O=this[x+1]|this[x]<<8;return O&32768?O|4294901760:O},l.prototype.readInt32LE=function(x,C){return x=x>>>0,C||H(x,4,this.length),this[x]|this[x+1]<<8|this[x+2]<<16|this[x+3]<<24},l.prototype.readInt32BE=function(x,C){return x=x>>>0,C||H(x,4,this.length),this[x]<<24|this[x+1]<<16|this[x+2]<<8|this[x+3]},l.prototype.readFloatLE=function(x,C){return x=x>>>0,C||H(x,4,this.length),t.read(this,x,!0,23,4)},l.prototype.readFloatBE=function(x,C){return x=x>>>0,C||H(x,4,this.length),t.read(this,x,!1,23,4)},l.prototype.readDoubleLE=function(x,C){return x=x>>>0,C||H(x,8,this.length),t.read(this,x,!0,52,8)},l.prototype.readDoubleBE=function(x,C){return x=x>>>0,C||H(x,8,this.length),t.read(this,x,!1,52,8)};function L(P,x,C,O,Z,ae){if(!l.isBuffer(P))throw new TypeError('"buffer" argument must be a Buffer instance');if(x>Z||x<ae)throw new RangeError('"value" argument is out of bounds');if(C+O>P.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(x,C,O,Z){if(x=+x,C=C>>>0,O=O>>>0,!Z){var ae=Math.pow(2,8*O)-1;L(this,x,C,O,ae,0)}var J=1,ge=0;for(this[C]=x&255;++ge<O&&(J*=256);)this[C+ge]=x/J&255;return C+O},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(x,C,O,Z){if(x=+x,C=C>>>0,O=O>>>0,!Z){var ae=Math.pow(2,8*O)-1;L(this,x,C,O,ae,0)}var J=O-1,ge=1;for(this[C+J]=x&255;--J>=0&&(ge*=256);)this[C+J]=x/ge&255;return C+O},l.prototype.writeUint8=l.prototype.writeUInt8=function(x,C,O){return x=+x,C=C>>>0,O||L(this,x,C,1,255,0),this[C]=x&255,C+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(x,C,O){return x=+x,C=C>>>0,O||L(this,x,C,2,65535,0),this[C]=x&255,this[C+1]=x>>>8,C+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(x,C,O){return x=+x,C=C>>>0,O||L(this,x,C,2,65535,0),this[C]=x>>>8,this[C+1]=x&255,C+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(x,C,O){return x=+x,C=C>>>0,O||L(this,x,C,4,4294967295,0),this[C+3]=x>>>24,this[C+2]=x>>>16,this[C+1]=x>>>8,this[C]=x&255,C+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(x,C,O){return x=+x,C=C>>>0,O||L(this,x,C,4,4294967295,0),this[C]=x>>>24,this[C+1]=x>>>16,this[C+2]=x>>>8,this[C+3]=x&255,C+4},l.prototype.writeIntLE=function(x,C,O,Z){if(x=+x,C=C>>>0,!Z){var ae=Math.pow(2,8*O-1);L(this,x,C,O,ae-1,-ae)}var J=0,ge=1,we=0;for(this[C]=x&255;++J<O&&(ge*=256);)x<0&&we===0&&this[C+J-1]!==0&&(we=1),this[C+J]=(x/ge>>0)-we&255;return C+O},l.prototype.writeIntBE=function(x,C,O,Z){if(x=+x,C=C>>>0,!Z){var ae=Math.pow(2,8*O-1);L(this,x,C,O,ae-1,-ae)}var J=O-1,ge=1,we=0;for(this[C+J]=x&255;--J>=0&&(ge*=256);)x<0&&we===0&&this[C+J+1]!==0&&(we=1),this[C+J]=(x/ge>>0)-we&255;return C+O},l.prototype.writeInt8=function(x,C,O){return x=+x,C=C>>>0,O||L(this,x,C,1,127,-128),x<0&&(x=255+x+1),this[C]=x&255,C+1},l.prototype.writeInt16LE=function(x,C,O){return x=+x,C=C>>>0,O||L(this,x,C,2,32767,-32768),this[C]=x&255,this[C+1]=x>>>8,C+2},l.prototype.writeInt16BE=function(x,C,O){return x=+x,C=C>>>0,O||L(this,x,C,2,32767,-32768),this[C]=x>>>8,this[C+1]=x&255,C+2},l.prototype.writeInt32LE=function(x,C,O){return x=+x,C=C>>>0,O||L(this,x,C,4,2147483647,-2147483648),this[C]=x&255,this[C+1]=x>>>8,this[C+2]=x>>>16,this[C+3]=x>>>24,C+4},l.prototype.writeInt32BE=function(x,C,O){return x=+x,C=C>>>0,O||L(this,x,C,4,2147483647,-2147483648),x<0&&(x=4294967295+x+1),this[C]=x>>>24,this[C+1]=x>>>16,this[C+2]=x>>>8,this[C+3]=x&255,C+4};function re(P,x,C,O,Z,ae){if(C+O>P.length)throw new RangeError("Index out of range");if(C<0)throw new RangeError("Index out of range")}function le(P,x,C,O,Z){return x=+x,C=C>>>0,Z||re(P,x,C,4),t.write(P,x,C,O,23,4),C+4}l.prototype.writeFloatLE=function(x,C,O){return le(this,x,C,!0,O)},l.prototype.writeFloatBE=function(x,C,O){return le(this,x,C,!1,O)};function me(P,x,C,O,Z){return x=+x,C=C>>>0,Z||re(P,x,C,8),t.write(P,x,C,O,52,8),C+8}l.prototype.writeDoubleLE=function(x,C,O){return me(this,x,C,!0,O)},l.prototype.writeDoubleBE=function(x,C,O){return me(this,x,C,!1,O)},l.prototype.copy=function(x,C,O,Z){if(!l.isBuffer(x))throw new TypeError("argument should be a Buffer");if(O||(O=0),!Z&&Z!==0&&(Z=this.length),C>=x.length&&(C=x.length),C||(C=0),Z>0&&Z<O&&(Z=O),Z===O||x.length===0||this.length===0)return 0;if(C<0)throw new RangeError("targetStart out of bounds");if(O<0||O>=this.length)throw new RangeError("Index out of range");if(Z<0)throw new RangeError("sourceEnd out of bounds");Z>this.length&&(Z=this.length),x.length-C<Z-O&&(Z=x.length-C+O);var ae=Z-O;return this===x&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(C,O,Z):Uint8Array.prototype.set.call(x,this.subarray(O,Z),C),ae},l.prototype.fill=function(x,C,O,Z){if(typeof x=="string"){if(typeof C=="string"?(Z=C,C=0,O=this.length):typeof O=="string"&&(Z=O,O=this.length),Z!==void 0&&typeof Z!="string")throw new TypeError("encoding must be a string");if(typeof Z=="string"&&!l.isEncoding(Z))throw new TypeError("Unknown encoding: "+Z);if(x.length===1){var ae=x.charCodeAt(0);(Z==="utf8"&&ae<128||Z==="latin1")&&(x=ae)}}else typeof x=="number"?x=x&255:typeof x=="boolean"&&(x=Number(x));if(C<0||this.length<C||this.length<O)throw new RangeError("Out of range index");if(O<=C)return this;C=C>>>0,O=O===void 0?this.length:O>>>0,x||(x=0);var J;if(typeof x=="number")for(J=C;J<O;++J)this[J]=x;else{var ge=l.isBuffer(x)?x:l.from(x,Z),we=ge.length;if(we===0)throw new TypeError('The value "'+x+'" is invalid for argument "value"');for(J=0;J<O-C;++J)this[J+C]=ge[J%we]}return this};var ie=/[^+/0-9A-Za-z-_]/g;function D(P){if(P=P.split("=")[0],P=P.trim().replace(ie,""),P.length<2)return"";for(;P.length%4!==0;)P=P+"=";return P}function M(P,x){x=x||1/0;for(var C,O=P.length,Z=null,ae=[],J=0;J<O;++J){if(C=P.charCodeAt(J),C>55295&&C<57344){if(!Z){if(C>56319){(x-=3)>-1&&ae.push(239,191,189);continue}else if(J+1===O){(x-=3)>-1&&ae.push(239,191,189);continue}Z=C;continue}if(C<56320){(x-=3)>-1&&ae.push(239,191,189),Z=C;continue}C=(Z-55296<<10|C-56320)+65536}else Z&&(x-=3)>-1&&ae.push(239,191,189);if(Z=null,C<128){if((x-=1)<0)break;ae.push(C)}else if(C<2048){if((x-=2)<0)break;ae.push(C>>6|192,C&63|128)}else if(C<65536){if((x-=3)<0)break;ae.push(C>>12|224,C>>6&63|128,C&63|128)}else if(C<1114112){if((x-=4)<0)break;ae.push(C>>18|240,C>>12&63|128,C>>6&63|128,C&63|128)}else throw new Error("Invalid code point")}return ae}function ne(P){for(var x=[],C=0;C<P.length;++C)x.push(P.charCodeAt(C)&255);return x}function Q(P,x){for(var C,O,Z,ae=[],J=0;J<P.length&&!((x-=2)<0);++J)C=P.charCodeAt(J),O=C>>8,Z=C%256,ae.push(Z),ae.push(O);return ae}function U(P){return e.toByteArray(D(P))}function $(P,x,C,O){for(var Z=0;Z<O&&!(Z+C>=x.length||Z>=P.length);++Z)x[Z+C]=P[Z];return Z}function fe(P,x){return P instanceof x||P!=null&&P.constructor!=null&&P.constructor.name!=null&&P.constructor.name===x.name}function _(P){return P!==P}var he=function(){for(var P="0123456789abcdef",x=new Array(256),C=0;C<16;++C)for(var O=C*16,Z=0;Z<16;++Z)x[O+Z]=P[C]+P[Z];return x}()}(qp)),qp}var Gp={},Zp={},Xp,Pb;function gS(){return Pb||(Pb=1,Xp=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),r=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[t]=i;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var l=Object.getOwnPropertyDescriptor(e,t);if(l.value!==i||l.enumerable!==!0)return!1}return!0}),Xp}var Jp,Fb;function Sy(){if(Fb)return Jp;Fb=1;var n=gS();return Jp=function(){return n()&&!!Symbol.toStringTag},Jp}var Yp,Bb;function yS(){return Bb||(Bb=1,Yp=Object),Yp}var Qp,jb;function PN(){return jb||(jb=1,Qp=Error),Qp}var em,zb;function FN(){return zb||(zb=1,em=EvalError),em}var tm,Hb;function BN(){return Hb||(Hb=1,tm=RangeError),tm}var nm,Ub;function jN(){return Ub||(Ub=1,nm=ReferenceError),nm}var rm,Vb;function wS(){return Vb||(Vb=1,rm=SyntaxError),rm}var im,Wb;function zl(){return Wb||(Wb=1,im=TypeError),im}var sm,$b;function zN(){return $b||($b=1,sm=URIError),sm}var om,Kb;function HN(){return Kb||(Kb=1,om=Math.abs),om}var am,qb;function UN(){return qb||(qb=1,am=Math.floor),am}var lm,Gb;function VN(){return Gb||(Gb=1,lm=Math.max),lm}var um,Zb;function WN(){return Zb||(Zb=1,um=Math.min),um}var cm,Xb;function $N(){return Xb||(Xb=1,cm=Math.pow),cm}var fm,Jb;function KN(){return Jb||(Jb=1,fm=Math.round),fm}var dm,Yb;function qN(){return Yb||(Yb=1,dm=Number.isNaN||function(e){return e!==e}),dm}var hm,Qb;function GN(){if(Qb)return hm;Qb=1;var n=qN();return hm=function(t){return n(t)||t===0?t:t<0?-1:1},hm}var pm,ex;function ZN(){return ex||(ex=1,pm=Object.getOwnPropertyDescriptor),pm}var mm,tx;function Hl(){if(tx)return mm;tx=1;var n=ZN();if(n)try{n([],"length")}catch{n=null}return mm=n,mm}var gm,nx;function dd(){if(nx)return gm;nx=1;var n=Object.defineProperty||!1;if(n)try{n({},"a",{value:1})}catch{n=!1}return gm=n,gm}var ym,rx;function XN(){if(rx)return ym;rx=1;var n=typeof Symbol<"u"&&Symbol,e=gS();return ym=function(){return typeof n!="function"||typeof Symbol!="function"||typeof n("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},ym}var wm,ix;function vS(){return ix||(ix=1,wm=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),wm}var vm,sx;function bS(){if(sx)return vm;sx=1;var n=yS();return vm=n.getPrototypeOf||null,vm}var bm,ox;function JN(){if(ox)return bm;ox=1;var n="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,t=Math.max,r="[object Function]",i=function(c,f){for(var h=[],p=0;p<c.length;p+=1)h[p]=c[p];for(var g=0;g<f.length;g+=1)h[g+c.length]=f[g];return h},s=function(c,f){for(var h=[],p=f,g=0;p<c.length;p+=1,g+=1)h[g]=c[p];return h},o=function(l,c){for(var f="",h=0;h<l.length;h+=1)f+=l[h],h+1<l.length&&(f+=c);return f};return bm=function(c){var f=this;if(typeof f!="function"||e.apply(f)!==r)throw new TypeError(n+f);for(var h=s(arguments,1),p,g=function(){if(this instanceof p){var b=f.apply(this,i(h,arguments));return Object(b)===b?b:this}return f.apply(c,i(h,arguments))},m=t(0,f.length-h.length),w=[],v=0;v<m;v++)w[v]="$"+v;if(p=Function("binder","return function ("+o(w,",")+"){ return binder.apply(this,arguments); }")(g),f.prototype){var E=function(){};E.prototype=f.prototype,p.prototype=new E,E.prototype=null}return p},bm}var xm,ax;function Ul(){if(ax)return xm;ax=1;var n=JN();return xm=Function.prototype.bind||n,xm}var Em,lx;function ky(){return lx||(lx=1,Em=Function.prototype.call),Em}var Cm,ux;function xS(){return ux||(ux=1,Cm=Function.prototype.apply),Cm}var Sm,cx;function YN(){return cx||(cx=1,Sm=typeof Reflect<"u"&&Reflect&&Reflect.apply),Sm}var km,fx;function QN(){if(fx)return km;fx=1;var n=Ul(),e=xS(),t=ky(),r=YN();return km=r||n.call(t,e),km}var Tm,dx;function eO(){if(dx)return Tm;dx=1;var n=Ul(),e=zl(),t=ky(),r=QN();return Tm=function(s){if(s.length<1||typeof s[0]!="function")throw new e("a function is required");return r(n,t,s)},Tm}var Am,hx;function tO(){if(hx)return Am;hx=1;var n=eO(),e=Hl(),t;try{t=[].__proto__===Array.prototype}catch(o){if(!o||typeof o!="object"||!("code"in o)||o.code!=="ERR_PROTO_ACCESS")throw o}var r=!!t&&e&&e(Object.prototype,"__proto__"),i=Object,s=i.getPrototypeOf;return Am=r&&typeof r.get=="function"?n([r.get]):typeof s=="function"?function(l){return s(l==null?l:i(l))}:!1,Am}var Rm,px;function nO(){if(px)return Rm;px=1;var n=vS(),e=bS(),t=tO();return Rm=n?function(i){return n(i)}:e?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return e(i)}:t?function(i){return t(i)}:null,Rm}var _m,mx;function rO(){if(mx)return _m;mx=1;var n=Function.prototype.call,e=Object.prototype.hasOwnProperty,t=Ul();return _m=t.call(n,e),_m}var Nm,gx;function Ty(){if(gx)return Nm;gx=1;var n,e=yS(),t=PN(),r=FN(),i=BN(),s=jN(),o=wS(),l=zl(),c=zN(),f=HN(),h=UN(),p=VN(),g=WN(),m=$N(),w=KN(),v=GN(),E=Function,b=function(ne){try{return E('"use strict"; return ('+ne+").constructor;")()}catch{}},T=Hl(),A=dd(),k=function(){throw new l},I=T?function(){try{return arguments.callee,k}catch{try{return T(arguments,"callee").get}catch{return k}}}():k,j=XN()(),W=nO(),ee=bS(),F=vS(),se=xS(),be=ky(),B={},Y=typeof Uint8Array>"u"||!W?n:W(Uint8Array),N={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?n:ArrayBuffer,"%ArrayIteratorPrototype%":j&&W?W([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":B,"%AsyncGenerator%":B,"%AsyncGeneratorFunction%":B,"%AsyncIteratorPrototype%":B,"%Atomics%":typeof Atomics>"u"?n:Atomics,"%BigInt%":typeof BigInt>"u"?n:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?n:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":t,"%eval%":eval,"%EvalError%":r,"%Float16Array%":typeof Float16Array>"u"?n:Float16Array,"%Float32Array%":typeof Float32Array>"u"?n:Float32Array,"%Float64Array%":typeof Float64Array>"u"?n:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?n:FinalizationRegistry,"%Function%":E,"%GeneratorFunction%":B,"%Int8Array%":typeof Int8Array>"u"?n:Int8Array,"%Int16Array%":typeof Int16Array>"u"?n:Int16Array,"%Int32Array%":typeof Int32Array>"u"?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":j&&W?W(W([][Symbol.iterator]())):n,"%JSON%":typeof JSON=="object"?JSON:n,"%Map%":typeof Map>"u"?n:Map,"%MapIteratorPrototype%":typeof Map>"u"||!j||!W?n:W(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":T,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?n:Promise,"%Proxy%":typeof Proxy>"u"?n:Proxy,"%RangeError%":i,"%ReferenceError%":s,"%Reflect%":typeof Reflect>"u"?n:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?n:Set,"%SetIteratorPrototype%":typeof Set>"u"||!j||!W?n:W(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":j&&W?W(""[Symbol.iterator]()):n,"%Symbol%":j?Symbol:n,"%SyntaxError%":o,"%ThrowTypeError%":I,"%TypedArray%":Y,"%TypeError%":l,"%Uint8Array%":typeof Uint8Array>"u"?n:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?n:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?n:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?n:Uint32Array,"%URIError%":c,"%WeakMap%":typeof WeakMap>"u"?n:WeakMap,"%WeakRef%":typeof WeakRef>"u"?n:WeakRef,"%WeakSet%":typeof WeakSet>"u"?n:WeakSet,"%Function.prototype.call%":be,"%Function.prototype.apply%":se,"%Object.defineProperty%":A,"%Object.getPrototypeOf%":ee,"%Math.abs%":f,"%Math.floor%":h,"%Math.max%":p,"%Math.min%":g,"%Math.pow%":m,"%Math.round%":w,"%Math.sign%":v,"%Reflect.getPrototypeOf%":F};if(W)try{null.error}catch(ne){var G=W(W(ne));N["%Error.prototype%"]=G}var ue=function ne(Q){var U;if(Q==="%AsyncFunction%")U=b("async function () {}");else if(Q==="%GeneratorFunction%")U=b("function* () {}");else if(Q==="%AsyncGeneratorFunction%")U=b("async function* () {}");else if(Q==="%AsyncGenerator%"){var $=ne("%AsyncGeneratorFunction%");$&&(U=$.prototype)}else if(Q==="%AsyncIteratorPrototype%"){var fe=ne("%AsyncGenerator%");fe&&W&&(U=W(fe.prototype))}return N[Q]=U,U},q={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},X=Ul(),te=rO(),de=X.call(be,Array.prototype.concat),H=X.call(se,Array.prototype.splice),L=X.call(be,String.prototype.replace),re=X.call(be,String.prototype.slice),le=X.call(be,RegExp.prototype.exec),me=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ie=/\\(\\)?/g,D=function(Q){var U=re(Q,0,1),$=re(Q,-1);if(U==="%"&&$!=="%")throw new o("invalid intrinsic syntax, expected closing `%`");if($==="%"&&U!=="%")throw new o("invalid intrinsic syntax, expected opening `%`");var fe=[];return L(Q,me,function(_,he,P,x){fe[fe.length]=P?L(x,ie,"$1"):he||_}),fe},M=function(Q,U){var $=Q,fe;if(te(q,$)&&(fe=q[$],$="%"+fe[0]+"%"),te(N,$)){var _=N[$];if(_===B&&(_=ue($)),typeof _>"u"&&!U)throw new l("intrinsic "+Q+" exists, but is not available. Please file an issue!");return{alias:fe,name:$,value:_}}throw new o("intrinsic "+Q+" does not exist!")};return Nm=function(Q,U){if(typeof Q!="string"||Q.length===0)throw new l("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof U!="boolean")throw new l('"allowMissing" argument must be a boolean');if(le(/^%?[^%]*%?$/,Q)===null)throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var $=D(Q),fe=$.length>0?$[0]:"",_=M("%"+fe+"%",U),he=_.name,P=_.value,x=!1,C=_.alias;C&&(fe=C[0],H($,de([0,1],C)));for(var O=1,Z=!0;O<$.length;O+=1){var ae=$[O],J=re(ae,0,1),ge=re(ae,-1);if((J==='"'||J==="'"||J==="`"||ge==='"'||ge==="'"||ge==="`")&&J!==ge)throw new o("property names with quotes must have matching quotes");if((ae==="constructor"||!Z)&&(x=!0),fe+="."+ae,he="%"+fe+"%",te(N,he))P=N[he];else if(P!=null){if(!(ae in P)){if(!U)throw new l("base intrinsic for "+Q+" exists, but the property is not available.");return}if(T&&O+1>=$.length){var we=T(P,ae);Z=!!we,Z&&"get"in we&&!("originalValue"in we.get)?P=we.get:P=P[ae]}else Z=te(P,ae),P=P[ae];Z&&!x&&(N[he]=P)}}return P},Nm}var Om={exports:{}},Im,yx;function iO(){if(yx)return Im;yx=1;var n=dd(),e=wS(),t=zl(),r=Hl();return Im=function(s,o,l){if(!s||typeof s!="object"&&typeof s!="function")throw new t("`obj` must be an object or a function`");if(typeof o!="string"&&typeof o!="symbol")throw new t("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new t("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new t("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new t("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new t("`loose`, if provided, must be a boolean");var c=arguments.length>3?arguments[3]:null,f=arguments.length>4?arguments[4]:null,h=arguments.length>5?arguments[5]:null,p=arguments.length>6?arguments[6]:!1,g=!!r&&r(s,o);if(n)n(s,o,{configurable:h===null&&g?g.configurable:!h,enumerable:c===null&&g?g.enumerable:!c,value:l,writable:f===null&&g?g.writable:!f});else if(p||!c&&!f&&!h)s[o]=l;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Im}var Mm,wx;function sO(){if(wx)return Mm;wx=1;var n=dd(),e=function(){return!!n};return e.hasArrayLengthDefineBug=function(){if(!n)return null;try{return n([],"length",{value:1}).length!==1}catch{return!0}},Mm=e,Mm}var Dm,vx;function oO(){if(vx)return Dm;vx=1;var n=Ty(),e=iO(),t=sO()(),r=Hl(),i=zl(),s=n("%Math.floor%");return Dm=function(l,c){if(typeof l!="function")throw new i("`fn` is not a function");if(typeof c!="number"||c<0||c>4294967295||s(c)!==c)throw new i("`length` must be a positive 32-bit integer");var f=arguments.length>2&&!!arguments[2],h=!0,p=!0;if("length"in l&&r){var g=r(l,"length");g&&!g.configurable&&(h=!1),g&&!g.writable&&(p=!1)}return(h||p||!f)&&(t?e(l,"length",c,!0,!0):e(l,"length",c)),l},Dm}var bx;function ES(){return bx||(bx=1,function(n){var e=Ul(),t=Ty(),r=oO(),i=zl(),s=t("%Function.prototype.apply%"),o=t("%Function.prototype.call%"),l=t("%Reflect.apply%",!0)||e.call(o,s),c=dd(),f=t("%Math.max%");n.exports=function(g){if(typeof g!="function")throw new i("a function is required");var m=l(e,o,arguments);return r(m,1+f(0,g.length-(arguments.length-1)),!0)};var h=function(){return l(e,s,arguments)};c?c(n.exports,"apply",{value:h}):n.exports.apply=h}(Om)),Om.exports}var Lm,xx;function CS(){if(xx)return Lm;xx=1;var n=Ty(),e=ES(),t=e(n("String.prototype.indexOf"));return Lm=function(i,s){var o=n(i,!!s);return typeof o=="function"&&t(i,".prototype.")>-1?e(o):o},Lm}var Pm,Ex;function aO(){if(Ex)return Pm;Ex=1;var n=Sy()(),e=CS(),t=e("Object.prototype.toString"),r=function(l){return n&&l&&typeof l=="object"&&Symbol.toStringTag in l?!1:t(l)==="[object Arguments]"},i=function(l){return r(l)?!0:l!==null&&typeof l=="object"&&typeof l.length=="number"&&l.length>=0&&t(l)!=="[object Array]"&&t(l.callee)==="[object Function]"},s=function(){return r(arguments)}();return r.isLegacyArguments=i,Pm=s?r:i,Pm}var Fm,Cx;function lO(){if(Cx)return Fm;Cx=1;var n=Object.prototype.toString,e=Function.prototype.toString,t=/^\s*(?:function)?\*/,r=Sy()(),i=Object.getPrototypeOf,s=function(){if(!r)return!1;try{return Function("return function*() {}")()}catch{}},o;return Fm=function(c){if(typeof c!="function")return!1;if(t.test(e.call(c)))return!0;if(!r){var f=n.call(c);return f==="[object GeneratorFunction]"}if(!i)return!1;if(typeof o>"u"){var h=s();o=h?i(h):!1}return i(c)===o},Fm}var Bm,Sx;function uO(){if(Sx)return Bm;Sx=1;var n=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,t,r;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{t=Object.defineProperty({},"length",{get:function(){throw r}}),r={},e(function(){throw 42},null,t)}catch(T){T!==r&&(e=null)}else e=null;var i=/^\s*class\b/,s=function(A){try{var k=n.call(A);return i.test(k)}catch{return!1}},o=function(A){try{return s(A)?!1:(n.call(A),!0)}catch{return!1}},l=Object.prototype.toString,c="[object Object]",f="[object Function]",h="[object GeneratorFunction]",p="[object HTMLAllCollection]",g="[object HTML document.all class]",m="[object HTMLCollection]",w=typeof Symbol=="function"&&!!Symbol.toStringTag,v=!(0 in[,]),E=function(){return!1};if(typeof document=="object"){var b=document.all;l.call(b)===l.call(document.all)&&(E=function(A){if((v||!A)&&(typeof A>"u"||typeof A=="object"))try{var k=l.call(A);return(k===p||k===g||k===m||k===c)&&A("")==null}catch{}return!1})}return Bm=e?function(A){if(E(A))return!0;if(!A||typeof A!="function"&&typeof A!="object")return!1;try{e(A,null,t)}catch(k){if(k!==r)return!1}return!s(A)&&o(A)}:function(A){if(E(A))return!0;if(!A||typeof A!="function"&&typeof A!="object")return!1;if(w)return o(A);if(s(A))return!1;var k=l.call(A);return k!==f&&k!==h&&!/^\[object HTML/.test(k)?!1:o(A)},Bm}var jm,kx;function cO(){if(kx)return jm;kx=1;var n=uO(),e=Object.prototype.toString,t=Object.prototype.hasOwnProperty,r=function(c,f,h){for(var p=0,g=c.length;p<g;p++)t.call(c,p)&&(h==null?f(c[p],p,c):f.call(h,c[p],p,c))},i=function(c,f,h){for(var p=0,g=c.length;p<g;p++)h==null?f(c.charAt(p),p,c):f.call(h,c.charAt(p),p,c)},s=function(c,f,h){for(var p in c)t.call(c,p)&&(h==null?f(c[p],p,c):f.call(h,c[p],p,c))},o=function(c,f,h){if(!n(f))throw new TypeError("iterator must be a function");var p;arguments.length>=3&&(p=h),e.call(c)==="[object Array]"?r(c,f,p):typeof c=="string"?i(c,f,p):s(c,f,p)};return jm=o,jm}var zm,Tx;function fO(){return Tx||(Tx=1,zm=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),zm}var Hm,Ax;function dO(){if(Ax)return Hm;Ax=1;var n=fO(),e=typeof globalThis>"u"?Lr:globalThis;return Hm=function(){for(var r=[],i=0;i<n.length;i++)typeof e[n[i]]=="function"&&(r[r.length]=n[i]);return r},Hm}var Um,Rx;function SS(){if(Rx)return Um;Rx=1;var n=cO(),e=dO(),t=ES(),r=CS(),i=Hl(),s=r("Object.prototype.toString"),o=Sy()(),l=typeof globalThis>"u"?Lr:globalThis,c=e(),f=r("String.prototype.slice"),h=Object.getPrototypeOf,p=r("Array.prototype.indexOf",!0)||function(E,b){for(var T=0;T<E.length;T+=1)if(E[T]===b)return T;return-1},g={__proto__:null};o&&i&&h?n(c,function(v){var E=new l[v];if(Symbol.toStringTag in E){var b=h(E),T=i(b,Symbol.toStringTag);if(!T){var A=h(b);T=i(A,Symbol.toStringTag)}g["$"+v]=t(T.get)}}):n(c,function(v){var E=new l[v],b=E.slice||E.set;b&&(g["$"+v]=t(b))});var m=function(E){var b=!1;return n(g,function(T,A){if(!b)try{"$"+T(E)===A&&(b=f(A,1))}catch{}}),b},w=function(E){var b=!1;return n(g,function(T,A){if(!b)try{T(E),b=f(A,1)}catch{}}),b};return Um=function(E){if(!E||typeof E!="object")return!1;if(!o){var b=f(s(E),8,-1);return p(c,b)>-1?b:b!=="Object"?!1:w(E)}return i?m(E):null},Um}var Vm,_x;function hO(){if(_x)return Vm;_x=1;var n=SS();return Vm=function(t){return!!n(t)},Vm}var Nx;function pO(){return Nx||(Nx=1,function(n){var e=aO(),t=lO(),r=SS(),i=hO();function s(O){return O.call.bind(O)}var o=typeof BigInt<"u",l=typeof Symbol<"u",c=s(Object.prototype.toString),f=s(Number.prototype.valueOf),h=s(String.prototype.valueOf),p=s(Boolean.prototype.valueOf);if(o)var g=s(BigInt.prototype.valueOf);if(l)var m=s(Symbol.prototype.valueOf);function w(O,Z){if(typeof O!="object")return!1;try{return Z(O),!0}catch{return!1}}n.isArgumentsObject=e,n.isGeneratorFunction=t,n.isTypedArray=i;function v(O){return typeof Promise<"u"&&O instanceof Promise||O!==null&&typeof O=="object"&&typeof O.then=="function"&&typeof O.catch=="function"}n.isPromise=v;function E(O){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(O):i(O)||re(O)}n.isArrayBufferView=E;function b(O){return r(O)==="Uint8Array"}n.isUint8Array=b;function T(O){return r(O)==="Uint8ClampedArray"}n.isUint8ClampedArray=T;function A(O){return r(O)==="Uint16Array"}n.isUint16Array=A;function k(O){return r(O)==="Uint32Array"}n.isUint32Array=k;function I(O){return r(O)==="Int8Array"}n.isInt8Array=I;function j(O){return r(O)==="Int16Array"}n.isInt16Array=j;function W(O){return r(O)==="Int32Array"}n.isInt32Array=W;function ee(O){return r(O)==="Float32Array"}n.isFloat32Array=ee;function F(O){return r(O)==="Float64Array"}n.isFloat64Array=F;function se(O){return r(O)==="BigInt64Array"}n.isBigInt64Array=se;function be(O){return r(O)==="BigUint64Array"}n.isBigUint64Array=be;function B(O){return c(O)==="[object Map]"}B.working=typeof Map<"u"&&B(new Map);function Y(O){return typeof Map>"u"?!1:B.working?B(O):O instanceof Map}n.isMap=Y;function N(O){return c(O)==="[object Set]"}N.working=typeof Set<"u"&&N(new Set);function G(O){return typeof Set>"u"?!1:N.working?N(O):O instanceof Set}n.isSet=G;function ue(O){return c(O)==="[object WeakMap]"}ue.working=typeof WeakMap<"u"&&ue(new WeakMap);function q(O){return typeof WeakMap>"u"?!1:ue.working?ue(O):O instanceof WeakMap}n.isWeakMap=q;function X(O){return c(O)==="[object WeakSet]"}X.working=typeof WeakSet<"u"&&X(new WeakSet);function te(O){return X(O)}n.isWeakSet=te;function de(O){return c(O)==="[object ArrayBuffer]"}de.working=typeof ArrayBuffer<"u"&&de(new ArrayBuffer);function H(O){return typeof ArrayBuffer>"u"?!1:de.working?de(O):O instanceof ArrayBuffer}n.isArrayBuffer=H;function L(O){return c(O)==="[object DataView]"}L.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&L(new DataView(new ArrayBuffer(1),0,1));function re(O){return typeof DataView>"u"?!1:L.working?L(O):O instanceof DataView}n.isDataView=re;var le=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function me(O){return c(O)==="[object SharedArrayBuffer]"}function ie(O){return typeof le>"u"?!1:(typeof me.working>"u"&&(me.working=me(new le)),me.working?me(O):O instanceof le)}n.isSharedArrayBuffer=ie;function D(O){return c(O)==="[object AsyncFunction]"}n.isAsyncFunction=D;function M(O){return c(O)==="[object Map Iterator]"}n.isMapIterator=M;function ne(O){return c(O)==="[object Set Iterator]"}n.isSetIterator=ne;function Q(O){return c(O)==="[object Generator]"}n.isGeneratorObject=Q;function U(O){return c(O)==="[object WebAssembly.Module]"}n.isWebAssemblyCompiledModule=U;function $(O){return w(O,f)}n.isNumberObject=$;function fe(O){return w(O,h)}n.isStringObject=fe;function _(O){return w(O,p)}n.isBooleanObject=_;function he(O){return o&&w(O,g)}n.isBigIntObject=he;function P(O){return l&&w(O,m)}n.isSymbolObject=P;function x(O){return $(O)||fe(O)||_(O)||he(O)||P(O)}n.isBoxedPrimitive=x;function C(O){return typeof Uint8Array<"u"&&(H(O)||ie(O))}n.isAnyArrayBuffer=C,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(O){Object.defineProperty(n,O,{enumerable:!1,value:function(){throw new Error(O+" is not supported in userland")}})})}(Zp)),Zp}var Wm,Ox;function mO(){return Ox||(Ox=1,Wm=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),Wm}var Ix;function kS(){return Ix||(Ix=1,function(n){var e=Object.getOwnPropertyDescriptors||function(re){for(var le=Object.keys(re),me={},ie=0;ie<le.length;ie++)me[le[ie]]=Object.getOwnPropertyDescriptor(re,le[ie]);return me},t=/%[sdj%]/g;n.format=function(L){if(!I(L)){for(var re=[],le=0;le<arguments.length;le++)re.push(o(arguments[le]));return re.join(" ")}for(var le=1,me=arguments,ie=me.length,D=String(L).replace(t,function(ne){if(ne==="%%")return"%";if(le>=ie)return ne;switch(ne){case"%s":return String(me[le++]);case"%d":return Number(me[le++]);case"%j":try{return JSON.stringify(me[le++])}catch{return"[Circular]"}default:return ne}}),M=me[le];le<ie;M=me[++le])T(M)||!F(M)?D+=" "+M:D+=" "+o(M);return D},n.deprecate=function(L,re){if(typeof Ye<"u"&&Ye.noDeprecation===!0)return L;if(typeof Ye>"u")return function(){return n.deprecate(L,re).apply(this,arguments)};var le=!1;function me(){if(!le){if(Ye.throwDeprecation)throw new Error(re);Ye.traceDeprecation?console.trace(re):console.error(re),le=!0}return L.apply(this,arguments)}return me};var r={},i=/^$/;if(Ye.env.NODE_DEBUG){var s=Ye.env.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+s+"$","i")}n.debuglog=function(L){if(L=L.toUpperCase(),!r[L])if(i.test(L)){var re=Ye.pid;r[L]=function(){var le=n.format.apply(n,arguments);console.error("%s %d: %s",L,re,le)}}else r[L]=function(){};return r[L]};function o(L,re){var le={seen:[],stylize:c};return arguments.length>=3&&(le.depth=arguments[2]),arguments.length>=4&&(le.colors=arguments[3]),b(re)?le.showHidden=re:re&&n._extend(le,re),W(le.showHidden)&&(le.showHidden=!1),W(le.depth)&&(le.depth=2),W(le.colors)&&(le.colors=!1),W(le.customInspect)&&(le.customInspect=!0),le.colors&&(le.stylize=l),h(le,L,le.depth)}n.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function l(L,re){var le=o.styles[re];return le?"\x1B["+o.colors[le][0]+"m"+L+"\x1B["+o.colors[le][1]+"m":L}function c(L,re){return L}function f(L){var re={};return L.forEach(function(le,me){re[le]=!0}),re}function h(L,re,le){if(L.customInspect&&re&&B(re.inspect)&&re.inspect!==n.inspect&&!(re.constructor&&re.constructor.prototype===re)){var me=re.inspect(le,L);return I(me)||(me=h(L,me,le)),me}var ie=p(L,re);if(ie)return ie;var D=Object.keys(re),M=f(D);if(L.showHidden&&(D=Object.getOwnPropertyNames(re)),be(re)&&(D.indexOf("message")>=0||D.indexOf("description")>=0))return g(re);if(D.length===0){if(B(re)){var ne=re.name?": "+re.name:"";return L.stylize("[Function"+ne+"]","special")}if(ee(re))return L.stylize(RegExp.prototype.toString.call(re),"regexp");if(se(re))return L.stylize(Date.prototype.toString.call(re),"date");if(be(re))return g(re)}var Q="",U=!1,$=["{","}"];if(E(re)&&(U=!0,$=["[","]"]),B(re)){var fe=re.name?": "+re.name:"";Q=" [Function"+fe+"]"}if(ee(re)&&(Q=" "+RegExp.prototype.toString.call(re)),se(re)&&(Q=" "+Date.prototype.toUTCString.call(re)),be(re)&&(Q=" "+g(re)),D.length===0&&(!U||re.length==0))return $[0]+Q+$[1];if(le<0)return ee(re)?L.stylize(RegExp.prototype.toString.call(re),"regexp"):L.stylize("[Object]","special");L.seen.push(re);var _;return U?_=m(L,re,le,M,D):_=D.map(function(he){return w(L,re,le,M,he,U)}),L.seen.pop(),v(_,Q,$)}function p(L,re){if(W(re))return L.stylize("undefined","undefined");if(I(re)){var le="'"+JSON.stringify(re).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return L.stylize(le,"string")}if(k(re))return L.stylize(""+re,"number");if(b(re))return L.stylize(""+re,"boolean");if(T(re))return L.stylize("null","null")}function g(L){return"["+Error.prototype.toString.call(L)+"]"}function m(L,re,le,me,ie){for(var D=[],M=0,ne=re.length;M<ne;++M)X(re,String(M))?D.push(w(L,re,le,me,String(M),!0)):D.push("");return ie.forEach(function(Q){Q.match(/^\d+$/)||D.push(w(L,re,le,me,Q,!0))}),D}function w(L,re,le,me,ie,D){var M,ne,Q;if(Q=Object.getOwnPropertyDescriptor(re,ie)||{value:re[ie]},Q.get?Q.set?ne=L.stylize("[Getter/Setter]","special"):ne=L.stylize("[Getter]","special"):Q.set&&(ne=L.stylize("[Setter]","special")),X(me,ie)||(M="["+ie+"]"),ne||(L.seen.indexOf(Q.value)<0?(T(le)?ne=h(L,Q.value,null):ne=h(L,Q.value,le-1),ne.indexOf(`
`)>-1&&(D?ne=ne.split(`
`).map(function(U){return"  "+U}).join(`
`).slice(2):ne=`
`+ne.split(`
`).map(function(U){return"   "+U}).join(`
`))):ne=L.stylize("[Circular]","special")),W(M)){if(D&&ie.match(/^\d+$/))return ne;M=JSON.stringify(""+ie),M.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(M=M.slice(1,-1),M=L.stylize(M,"name")):(M=M.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),M=L.stylize(M,"string"))}return M+": "+ne}function v(L,re,le){var me=L.reduce(function(ie,D){return D.indexOf(`
`)>=0,ie+D.replace(/\u001b\[\d\d?m/g,"").length+1},0);return me>60?le[0]+(re===""?"":re+`
 `)+" "+L.join(`,
  `)+" "+le[1]:le[0]+re+" "+L.join(", ")+" "+le[1]}n.types=pO();function E(L){return Array.isArray(L)}n.isArray=E;function b(L){return typeof L=="boolean"}n.isBoolean=b;function T(L){return L===null}n.isNull=T;function A(L){return L==null}n.isNullOrUndefined=A;function k(L){return typeof L=="number"}n.isNumber=k;function I(L){return typeof L=="string"}n.isString=I;function j(L){return typeof L=="symbol"}n.isSymbol=j;function W(L){return L===void 0}n.isUndefined=W;function ee(L){return F(L)&&N(L)==="[object RegExp]"}n.isRegExp=ee,n.types.isRegExp=ee;function F(L){return typeof L=="object"&&L!==null}n.isObject=F;function se(L){return F(L)&&N(L)==="[object Date]"}n.isDate=se,n.types.isDate=se;function be(L){return F(L)&&(N(L)==="[object Error]"||L instanceof Error)}n.isError=be,n.types.isNativeError=be;function B(L){return typeof L=="function"}n.isFunction=B;function Y(L){return L===null||typeof L=="boolean"||typeof L=="number"||typeof L=="string"||typeof L=="symbol"||typeof L>"u"}n.isPrimitive=Y,n.isBuffer=mO();function N(L){return Object.prototype.toString.call(L)}function G(L){return L<10?"0"+L.toString(10):L.toString(10)}var ue=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function q(){var L=new Date,re=[G(L.getHours()),G(L.getMinutes()),G(L.getSeconds())].join(":");return[L.getDate(),ue[L.getMonth()],re].join(" ")}n.log=function(){console.log("%s - %s",q(),n.format.apply(n,arguments))},n.inherits=ls(),n._extend=function(L,re){if(!re||!F(re))return L;for(var le=Object.keys(re),me=le.length;me--;)L[le[me]]=re[le[me]];return L};function X(L,re){return Object.prototype.hasOwnProperty.call(L,re)}var te=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;n.promisify=function(re){if(typeof re!="function")throw new TypeError('The "original" argument must be of type Function');if(te&&re[te]){var le=re[te];if(typeof le!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(le,te,{value:le,enumerable:!1,writable:!1,configurable:!0}),le}function le(){for(var me,ie,D=new Promise(function(Q,U){me=Q,ie=U}),M=[],ne=0;ne<arguments.length;ne++)M.push(arguments[ne]);M.push(function(Q,U){Q?ie(Q):me(U)});try{re.apply(this,M)}catch(Q){ie(Q)}return D}return Object.setPrototypeOf(le,Object.getPrototypeOf(re)),te&&Object.defineProperty(le,te,{value:le,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(le,e(re))},n.promisify.custom=te;function de(L,re){if(!L){var le=new Error("Promise was rejected with a falsy value");le.reason=L,L=le}return re(L)}function H(L){if(typeof L!="function")throw new TypeError('The "original" argument must be of type Function');function re(){for(var le=[],me=0;me<arguments.length;me++)le.push(arguments[me]);var ie=le.pop();if(typeof ie!="function")throw new TypeError("The last argument must be of type Function");var D=this,M=function(){return ie.apply(D,arguments)};L.apply(this,le).then(function(ne){Ye.nextTick(M.bind(null,null,ne))},function(ne){Ye.nextTick(de.bind(null,ne,M))})}return Object.setPrototypeOf(re,Object.getPrototypeOf(L)),Object.defineProperties(re,e(L)),re}n.callbackify=H}(Gp)),Gp}var $m,Mx;function gO(){if(Mx)return $m;Mx=1;function n(g,m){var w=Object.keys(g);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(g);m&&(v=v.filter(function(E){return Object.getOwnPropertyDescriptor(g,E).enumerable})),w.push.apply(w,v)}return w}function e(g){for(var m=1;m<arguments.length;m++){var w=arguments[m]!=null?arguments[m]:{};m%2?n(Object(w),!0).forEach(function(v){t(g,v,w[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(w)):n(Object(w)).forEach(function(v){Object.defineProperty(g,v,Object.getOwnPropertyDescriptor(w,v))})}return g}function t(g,m,w){return m in g?Object.defineProperty(g,m,{value:w,enumerable:!0,configurable:!0,writable:!0}):g[m]=w,g}function r(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function i(g,m){for(var w=0;w<m.length;w++){var v=m[w];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(g,v.key,v)}}function s(g,m,w){return i(g.prototype,m),g}var o=fd(),l=o.Buffer,c=kS(),f=c.inspect,h=f&&f.custom||"inspect";function p(g,m,w){l.prototype.copy.call(g,m,w)}return $m=function(){function g(){r(this,g),this.head=null,this.tail=null,this.length=0}return s(g,[{key:"push",value:function(w){var v={data:w,next:null};this.length>0?this.tail.next=v:this.head=v,this.tail=v,++this.length}},{key:"unshift",value:function(w){var v={data:w,next:this.head};this.length===0&&(this.tail=v),this.head=v,++this.length}},{key:"shift",value:function(){if(this.length!==0){var w=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,w}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(w){if(this.length===0)return"";for(var v=this.head,E=""+v.data;v=v.next;)E+=w+v.data;return E}},{key:"concat",value:function(w){if(this.length===0)return l.alloc(0);for(var v=l.allocUnsafe(w>>>0),E=this.head,b=0;E;)p(E.data,v,b),b+=E.data.length,E=E.next;return v}},{key:"consume",value:function(w,v){var E;return w<this.head.data.length?(E=this.head.data.slice(0,w),this.head.data=this.head.data.slice(w)):w===this.head.data.length?E=this.shift():E=v?this._getString(w):this._getBuffer(w),E}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(w){var v=this.head,E=1,b=v.data;for(w-=b.length;v=v.next;){var T=v.data,A=w>T.length?T.length:w;if(A===T.length?b+=T:b+=T.slice(0,w),w-=A,w===0){A===T.length?(++E,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=T.slice(A));break}++E}return this.length-=E,b}},{key:"_getBuffer",value:function(w){var v=l.allocUnsafe(w),E=this.head,b=1;for(E.data.copy(v),w-=E.data.length;E=E.next;){var T=E.data,A=w>T.length?T.length:w;if(T.copy(v,v.length-w,0,A),w-=A,w===0){A===T.length?(++b,E.next?this.head=E.next:this.head=this.tail=null):(this.head=E,E.data=T.slice(A));break}++b}return this.length-=b,v}},{key:h,value:function(w,v){return f(this,e({},v,{depth:0,customInspect:!1}))}}]),g}(),$m}var Km,Dx;function TS(){if(Dx)return Km;Dx=1;function n(o,l){var c=this,f=this._readableState&&this._readableState.destroyed,h=this._writableState&&this._writableState.destroyed;return f||h?(l?l(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Ye.nextTick(i,this,o)):Ye.nextTick(i,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(p){!l&&p?c._writableState?c._writableState.errorEmitted?Ye.nextTick(t,c):(c._writableState.errorEmitted=!0,Ye.nextTick(e,c,p)):Ye.nextTick(e,c,p):l?(Ye.nextTick(t,c),l(p)):Ye.nextTick(t,c)}),this)}function e(o,l){i(o,l),t(o)}function t(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}function r(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(o,l){o.emit("error",l)}function s(o,l){var c=o._readableState,f=o._writableState;c&&c.autoDestroy||f&&f.autoDestroy?o.destroy(l):o.emit("error",l)}return Km={destroy:n,undestroy:r,errorOrDestroy:s},Km}var qm={},Lx;function da(){if(Lx)return qm;Lx=1;function n(l,c){l.prototype=Object.create(c.prototype),l.prototype.constructor=l,l.__proto__=c}var e={};function t(l,c,f){f||(f=Error);function h(g,m,w){return typeof c=="string"?c:c(g,m,w)}var p=function(g){n(m,g);function m(w,v,E){return g.call(this,h(w,v,E))||this}return m}(f);p.prototype.name=f.name,p.prototype.code=l,e[l]=p}function r(l,c){if(Array.isArray(l)){var f=l.length;return l=l.map(function(h){return String(h)}),f>2?"one of ".concat(c," ").concat(l.slice(0,f-1).join(", "),", or ")+l[f-1]:f===2?"one of ".concat(c," ").concat(l[0]," or ").concat(l[1]):"of ".concat(c," ").concat(l[0])}else return"of ".concat(c," ").concat(String(l))}function i(l,c,f){return l.substr(0,c.length)===c}function s(l,c,f){return(f===void 0||f>l.length)&&(f=l.length),l.substring(f-c.length,f)===c}function o(l,c,f){return typeof f!="number"&&(f=0),f+c.length>l.length?!1:l.indexOf(c,f)!==-1}return t("ERR_INVALID_OPT_VALUE",function(l,c){return'The value "'+c+'" is invalid for option "'+l+'"'},TypeError),t("ERR_INVALID_ARG_TYPE",function(l,c,f){var h;typeof c=="string"&&i(c,"not ")?(h="must not be",c=c.replace(/^not /,"")):h="must be";var p;if(s(l," argument"))p="The ".concat(l," ").concat(h," ").concat(r(c,"type"));else{var g=o(l,".")?"property":"argument";p='The "'.concat(l,'" ').concat(g," ").concat(h," ").concat(r(c,"type"))}return p+=". Received type ".concat(typeof f),p},TypeError),t("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),t("ERR_METHOD_NOT_IMPLEMENTED",function(l){return"The "+l+" method is not implemented"}),t("ERR_STREAM_PREMATURE_CLOSE","Premature close"),t("ERR_STREAM_DESTROYED",function(l){return"Cannot call "+l+" after a stream was destroyed"}),t("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),t("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),t("ERR_STREAM_WRITE_AFTER_END","write after end"),t("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),t("ERR_UNKNOWN_ENCODING",function(l){return"Unknown encoding: "+l},TypeError),t("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),qm.codes=e,qm}var Gm,Px;function AS(){if(Px)return Gm;Px=1;var n=da().codes.ERR_INVALID_OPT_VALUE;function e(r,i,s){return r.highWaterMark!=null?r.highWaterMark:i?r[s]:null}function t(r,i,s,o){var l=e(i,o,s);if(l!=null){if(!(isFinite(l)&&Math.floor(l)===l)||l<0){var c=o?s:"highWaterMark";throw new n(c,l)}return Math.floor(l)}return r.objectMode?16:16*1024}return Gm={getHighWaterMark:t},Gm}var Zm,Fx;function yO(){if(Fx)return Zm;Fx=1,Zm=n;function n(t,r){if(e("noDeprecation"))return t;var i=!1;function s(){if(!i){if(e("throwDeprecation"))throw new Error(r);e("traceDeprecation")?console.trace(r):console.warn(r),i=!0}return t.apply(this,arguments)}return s}function e(t){try{if(!Lr.localStorage)return!1}catch{return!1}var r=Lr.localStorage[t];return r==null?!1:String(r).toLowerCase()==="true"}return Zm}var Xm,Bx;function RS(){if(Bx)return Xm;Bx=1,Xm=ee;function n(ie){var D=this;this.next=null,this.entry=null,this.finish=function(){me(D,ie)}}var e;ee.WritableState=j;var t={deprecate:yO()},r=mS(),i=fd().Buffer,s=Lr.Uint8Array||function(){};function o(ie){return i.from(ie)}function l(ie){return i.isBuffer(ie)||ie instanceof s}var c=TS(),f=AS(),h=f.getHighWaterMark,p=da().codes,g=p.ERR_INVALID_ARG_TYPE,m=p.ERR_METHOD_NOT_IMPLEMENTED,w=p.ERR_MULTIPLE_CALLBACK,v=p.ERR_STREAM_CANNOT_PIPE,E=p.ERR_STREAM_DESTROYED,b=p.ERR_STREAM_NULL_VALUES,T=p.ERR_STREAM_WRITE_AFTER_END,A=p.ERR_UNKNOWN_ENCODING,k=c.errorOrDestroy;ls()(ee,r);function I(){}function j(ie,D,M){e=e||ra(),ie=ie||{},typeof M!="boolean"&&(M=D instanceof e),this.objectMode=!!ie.objectMode,M&&(this.objectMode=this.objectMode||!!ie.writableObjectMode),this.highWaterMark=h(this,ie,"writableHighWaterMark",M),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ne=ie.decodeStrings===!1;this.decodeStrings=!ne,this.defaultEncoding=ie.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Q){ue(D,Q)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=ie.emitClose!==!1,this.autoDestroy=!!ie.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}j.prototype.getBuffer=function(){for(var D=this.bufferedRequest,M=[];D;)M.push(D),D=D.next;return M},function(){try{Object.defineProperty(j.prototype,"buffer",{get:t.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var W;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(W=Function.prototype[Symbol.hasInstance],Object.defineProperty(ee,Symbol.hasInstance,{value:function(D){return W.call(this,D)?!0:this!==ee?!1:D&&D._writableState instanceof j}})):W=function(D){return D instanceof this};function ee(ie){e=e||ra();var D=this instanceof e;if(!D&&!W.call(ee,this))return new ee(ie);this._writableState=new j(ie,this,D),this.writable=!0,ie&&(typeof ie.write=="function"&&(this._write=ie.write),typeof ie.writev=="function"&&(this._writev=ie.writev),typeof ie.destroy=="function"&&(this._destroy=ie.destroy),typeof ie.final=="function"&&(this._final=ie.final)),r.call(this)}ee.prototype.pipe=function(){k(this,new v)};function F(ie,D){var M=new T;k(ie,M),Ye.nextTick(D,M)}function se(ie,D,M,ne){var Q;return M===null?Q=new b:typeof M!="string"&&!D.objectMode&&(Q=new g("chunk",["string","Buffer"],M)),Q?(k(ie,Q),Ye.nextTick(ne,Q),!1):!0}ee.prototype.write=function(ie,D,M){var ne=this._writableState,Q=!1,U=!ne.objectMode&&l(ie);return U&&!i.isBuffer(ie)&&(ie=o(ie)),typeof D=="function"&&(M=D,D=null),U?D="buffer":D||(D=ne.defaultEncoding),typeof M!="function"&&(M=I),ne.ending?F(this,M):(U||se(this,ne,ie,M))&&(ne.pendingcb++,Q=B(this,ne,U,ie,D,M)),Q},ee.prototype.cork=function(){this._writableState.corked++},ee.prototype.uncork=function(){var ie=this._writableState;ie.corked&&(ie.corked--,!ie.writing&&!ie.corked&&!ie.bufferProcessing&&ie.bufferedRequest&&te(this,ie))},ee.prototype.setDefaultEncoding=function(D){if(typeof D=="string"&&(D=D.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((D+"").toLowerCase())>-1))throw new A(D);return this._writableState.defaultEncoding=D,this},Object.defineProperty(ee.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function be(ie,D,M){return!ie.objectMode&&ie.decodeStrings!==!1&&typeof D=="string"&&(D=i.from(D,M)),D}Object.defineProperty(ee.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function B(ie,D,M,ne,Q,U){if(!M){var $=be(D,ne,Q);ne!==$&&(M=!0,Q="buffer",ne=$)}var fe=D.objectMode?1:ne.length;D.length+=fe;var _=D.length<D.highWaterMark;if(_||(D.needDrain=!0),D.writing||D.corked){var he=D.lastBufferedRequest;D.lastBufferedRequest={chunk:ne,encoding:Q,isBuf:M,callback:U,next:null},he?he.next=D.lastBufferedRequest:D.bufferedRequest=D.lastBufferedRequest,D.bufferedRequestCount+=1}else Y(ie,D,!1,fe,ne,Q,U);return _}function Y(ie,D,M,ne,Q,U,$){D.writelen=ne,D.writecb=$,D.writing=!0,D.sync=!0,D.destroyed?D.onwrite(new E("write")):M?ie._writev(Q,D.onwrite):ie._write(Q,U,D.onwrite),D.sync=!1}function N(ie,D,M,ne,Q){--D.pendingcb,M?(Ye.nextTick(Q,ne),Ye.nextTick(re,ie,D),ie._writableState.errorEmitted=!0,k(ie,ne)):(Q(ne),ie._writableState.errorEmitted=!0,k(ie,ne),re(ie,D))}function G(ie){ie.writing=!1,ie.writecb=null,ie.length-=ie.writelen,ie.writelen=0}function ue(ie,D){var M=ie._writableState,ne=M.sync,Q=M.writecb;if(typeof Q!="function")throw new w;if(G(M),D)N(ie,M,ne,D,Q);else{var U=de(M)||ie.destroyed;!U&&!M.corked&&!M.bufferProcessing&&M.bufferedRequest&&te(ie,M),ne?Ye.nextTick(q,ie,M,U,Q):q(ie,M,U,Q)}}function q(ie,D,M,ne){M||X(ie,D),D.pendingcb--,ne(),re(ie,D)}function X(ie,D){D.length===0&&D.needDrain&&(D.needDrain=!1,ie.emit("drain"))}function te(ie,D){D.bufferProcessing=!0;var M=D.bufferedRequest;if(ie._writev&&M&&M.next){var ne=D.bufferedRequestCount,Q=new Array(ne),U=D.corkedRequestsFree;U.entry=M;for(var $=0,fe=!0;M;)Q[$]=M,M.isBuf||(fe=!1),M=M.next,$+=1;Q.allBuffers=fe,Y(ie,D,!0,D.length,Q,"",U.finish),D.pendingcb++,D.lastBufferedRequest=null,U.next?(D.corkedRequestsFree=U.next,U.next=null):D.corkedRequestsFree=new n(D),D.bufferedRequestCount=0}else{for(;M;){var _=M.chunk,he=M.encoding,P=M.callback,x=D.objectMode?1:_.length;if(Y(ie,D,!1,x,_,he,P),M=M.next,D.bufferedRequestCount--,D.writing)break}M===null&&(D.lastBufferedRequest=null)}D.bufferedRequest=M,D.bufferProcessing=!1}ee.prototype._write=function(ie,D,M){M(new m("_write()"))},ee.prototype._writev=null,ee.prototype.end=function(ie,D,M){var ne=this._writableState;return typeof ie=="function"?(M=ie,ie=null,D=null):typeof D=="function"&&(M=D,D=null),ie!=null&&this.write(ie,D),ne.corked&&(ne.corked=1,this.uncork()),ne.ending||le(this,ne,M),this},Object.defineProperty(ee.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function de(ie){return ie.ending&&ie.length===0&&ie.bufferedRequest===null&&!ie.finished&&!ie.writing}function H(ie,D){ie._final(function(M){D.pendingcb--,M&&k(ie,M),D.prefinished=!0,ie.emit("prefinish"),re(ie,D)})}function L(ie,D){!D.prefinished&&!D.finalCalled&&(typeof ie._final=="function"&&!D.destroyed?(D.pendingcb++,D.finalCalled=!0,Ye.nextTick(H,ie,D)):(D.prefinished=!0,ie.emit("prefinish")))}function re(ie,D){var M=de(D);if(M&&(L(ie,D),D.pendingcb===0&&(D.finished=!0,ie.emit("finish"),D.autoDestroy))){var ne=ie._readableState;(!ne||ne.autoDestroy&&ne.endEmitted)&&ie.destroy()}return M}function le(ie,D,M){D.ending=!0,re(ie,D),M&&(D.finished?Ye.nextTick(M):ie.once("finish",M)),D.ended=!0,ie.writable=!1}function me(ie,D,M){var ne=ie.entry;for(ie.entry=null;ne;){var Q=ne.callback;D.pendingcb--,Q(M),ne=ne.next}D.corkedRequestsFree.next=ie}return Object.defineProperty(ee.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(D){this._writableState&&(this._writableState.destroyed=D)}}),ee.prototype.destroy=c.destroy,ee.prototype._undestroy=c.undestroy,ee.prototype._destroy=function(ie,D){D(ie)},Xm}var Jm,jx;function ra(){if(jx)return Jm;jx=1;var n=Object.keys||function(f){var h=[];for(var p in f)h.push(p);return h};Jm=o;var e=_S(),t=RS();ls()(o,e);for(var r=n(t.prototype),i=0;i<r.length;i++){var s=r[i];o.prototype[s]||(o.prototype[s]=t.prototype[s])}function o(f){if(!(this instanceof o))return new o(f);e.call(this,f),t.call(this,f),this.allowHalfOpen=!0,f&&(f.readable===!1&&(this.readable=!1),f.writable===!1&&(this.writable=!1),f.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",l)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function l(){this._writableState.ended||Ye.nextTick(c,this)}function c(f){f.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(h){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=h,this._writableState.destroyed=h)}}),Jm}var Ym={},bc={exports:{}},zx;function wO(){return zx||(zx=1,function(n,e){var t=fd(),r=t.Buffer;function i(o,l){for(var c in o)l[c]=o[c]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?n.exports=t:(i(t,e),e.Buffer=s);function s(o,l,c){return r(o,l,c)}i(r,s),s.from=function(o,l,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,l,c)},s.alloc=function(o,l,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var f=r(o);return l!==void 0?typeof c=="string"?f.fill(l,c):f.fill(l):f.fill(0),f},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(o)}}(bc,bc.exports)),bc.exports}var Hx;function Cg(){if(Hx)return Ym;Hx=1;var n=wO().Buffer,e=n.isEncoding||function(b){switch(b=""+b,b&&b.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function t(b){if(!b)return"utf8";for(var T;;)switch(b){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return b;default:if(T)return;b=(""+b).toLowerCase(),T=!0}}function r(b){var T=t(b);if(typeof T!="string"&&(n.isEncoding===e||!e(b)))throw new Error("Unknown encoding: "+b);return T||b}Ym.StringDecoder=i;function i(b){this.encoding=r(b);var T;switch(this.encoding){case"utf16le":this.text=p,this.end=g,T=4;break;case"utf8":this.fillLast=c,T=4;break;case"base64":this.text=m,this.end=w,T=3;break;default:this.write=v,this.end=E;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(T)}i.prototype.write=function(b){if(b.length===0)return"";var T,A;if(this.lastNeed){if(T=this.fillLast(b),T===void 0)return"";A=this.lastNeed,this.lastNeed=0}else A=0;return A<b.length?T?T+this.text(b,A):this.text(b,A):T||""},i.prototype.end=h,i.prototype.text=f,i.prototype.fillLast=function(b){if(this.lastNeed<=b.length)return b.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);b.copy(this.lastChar,this.lastTotal-this.lastNeed,0,b.length),this.lastNeed-=b.length};function s(b){return b<=127?0:b>>5===6?2:b>>4===14?3:b>>3===30?4:b>>6===2?-1:-2}function o(b,T,A){var k=T.length-1;if(k<A)return 0;var I=s(T[k]);return I>=0?(I>0&&(b.lastNeed=I-1),I):--k<A||I===-2?0:(I=s(T[k]),I>=0?(I>0&&(b.lastNeed=I-2),I):--k<A||I===-2?0:(I=s(T[k]),I>=0?(I>0&&(I===2?I=0:b.lastNeed=I-3),I):0))}function l(b,T,A){if((T[0]&192)!==128)return b.lastNeed=0,"";if(b.lastNeed>1&&T.length>1){if((T[1]&192)!==128)return b.lastNeed=1,"";if(b.lastNeed>2&&T.length>2&&(T[2]&192)!==128)return b.lastNeed=2,""}}function c(b){var T=this.lastTotal-this.lastNeed,A=l(this,b);if(A!==void 0)return A;if(this.lastNeed<=b.length)return b.copy(this.lastChar,T,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);b.copy(this.lastChar,T,0,b.length),this.lastNeed-=b.length}function f(b,T){var A=o(this,b,T);if(!this.lastNeed)return b.toString("utf8",T);this.lastTotal=A;var k=b.length-(A-this.lastNeed);return b.copy(this.lastChar,0,k),b.toString("utf8",T,k)}function h(b){var T=b&&b.length?this.write(b):"";return this.lastNeed?T+"":T}function p(b,T){if((b.length-T)%2===0){var A=b.toString("utf16le",T);if(A){var k=A.charCodeAt(A.length-1);if(k>=55296&&k<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=b[b.length-2],this.lastChar[1]=b[b.length-1],A.slice(0,-1)}return A}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=b[b.length-1],b.toString("utf16le",T,b.length-1)}function g(b){var T=b&&b.length?this.write(b):"";if(this.lastNeed){var A=this.lastTotal-this.lastNeed;return T+this.lastChar.toString("utf16le",0,A)}return T}function m(b,T){var A=(b.length-T)%3;return A===0?b.toString("base64",T):(this.lastNeed=3-A,this.lastTotal=3,A===1?this.lastChar[0]=b[b.length-1]:(this.lastChar[0]=b[b.length-2],this.lastChar[1]=b[b.length-1]),b.toString("base64",T,b.length-A))}function w(b){var T=b&&b.length?this.write(b):"";return this.lastNeed?T+this.lastChar.toString("base64",0,3-this.lastNeed):T}function v(b){return b.toString(this.encoding)}function E(b){return b&&b.length?this.write(b):""}return Ym}var Qm,Ux;function Ay(){if(Ux)return Qm;Ux=1;var n=da().codes.ERR_STREAM_PREMATURE_CLOSE;function e(s){var o=!1;return function(){if(!o){o=!0;for(var l=arguments.length,c=new Array(l),f=0;f<l;f++)c[f]=arguments[f];s.apply(this,c)}}}function t(){}function r(s){return s.setHeader&&typeof s.abort=="function"}function i(s,o,l){if(typeof o=="function")return i(s,null,o);o||(o={}),l=e(l||t);var c=o.readable||o.readable!==!1&&s.readable,f=o.writable||o.writable!==!1&&s.writable,h=function(){s.writable||g()},p=s._writableState&&s._writableState.finished,g=function(){f=!1,p=!0,c||l.call(s)},m=s._readableState&&s._readableState.endEmitted,w=function(){c=!1,m=!0,f||l.call(s)},v=function(A){l.call(s,A)},E=function(){var A;if(c&&!m)return(!s._readableState||!s._readableState.ended)&&(A=new n),l.call(s,A);if(f&&!p)return(!s._writableState||!s._writableState.ended)&&(A=new n),l.call(s,A)},b=function(){s.req.on("finish",g)};return r(s)?(s.on("complete",g),s.on("abort",E),s.req?b():s.on("request",b)):f&&!s._writableState&&(s.on("end",h),s.on("close",h)),s.on("end",w),s.on("finish",g),o.error!==!1&&s.on("error",v),s.on("close",E),function(){s.removeListener("complete",g),s.removeListener("abort",E),s.removeListener("request",b),s.req&&s.req.removeListener("finish",g),s.removeListener("end",h),s.removeListener("close",h),s.removeListener("finish",g),s.removeListener("end",w),s.removeListener("error",v),s.removeListener("close",E)}}return Qm=i,Qm}var e1,Vx;function vO(){if(Vx)return e1;Vx=1;var n;function e(b,T,A){return T in b?Object.defineProperty(b,T,{value:A,enumerable:!0,configurable:!0,writable:!0}):b[T]=A,b}var t=Ay(),r=Symbol("lastResolve"),i=Symbol("lastReject"),s=Symbol("error"),o=Symbol("ended"),l=Symbol("lastPromise"),c=Symbol("handlePromise"),f=Symbol("stream");function h(b,T){return{value:b,done:T}}function p(b){var T=b[r];if(T!==null){var A=b[f].read();A!==null&&(b[l]=null,b[r]=null,b[i]=null,T(h(A,!1)))}}function g(b){Ye.nextTick(p,b)}function m(b,T){return function(A,k){b.then(function(){if(T[o]){A(h(void 0,!0));return}T[c](A,k)},k)}}var w=Object.getPrototypeOf(function(){}),v=Object.setPrototypeOf((n={get stream(){return this[f]},next:function(){var T=this,A=this[s];if(A!==null)return Promise.reject(A);if(this[o])return Promise.resolve(h(void 0,!0));if(this[f].destroyed)return new Promise(function(W,ee){Ye.nextTick(function(){T[s]?ee(T[s]):W(h(void 0,!0))})});var k=this[l],I;if(k)I=new Promise(m(k,this));else{var j=this[f].read();if(j!==null)return Promise.resolve(h(j,!1));I=new Promise(this[c])}return this[l]=I,I}},e(n,Symbol.asyncIterator,function(){return this}),e(n,"return",function(){var T=this;return new Promise(function(A,k){T[f].destroy(null,function(I){if(I){k(I);return}A(h(void 0,!0))})})}),n),w),E=function(T){var A,k=Object.create(v,(A={},e(A,f,{value:T,writable:!0}),e(A,r,{value:null,writable:!0}),e(A,i,{value:null,writable:!0}),e(A,s,{value:null,writable:!0}),e(A,o,{value:T._readableState.endEmitted,writable:!0}),e(A,c,{value:function(j,W){var ee=k[f].read();ee?(k[l]=null,k[r]=null,k[i]=null,j(h(ee,!1))):(k[r]=j,k[i]=W)},writable:!0}),A));return k[l]=null,t(T,function(I){if(I&&I.code!=="ERR_STREAM_PREMATURE_CLOSE"){var j=k[i];j!==null&&(k[l]=null,k[r]=null,k[i]=null,j(I)),k[s]=I;return}var W=k[r];W!==null&&(k[l]=null,k[r]=null,k[i]=null,W(h(void 0,!0))),k[o]=!0}),T.on("readable",g.bind(null,k)),k};return e1=E,e1}var t1,Wx;function bO(){return Wx||(Wx=1,t1=function(){throw new Error("Readable.from is not available in the browser")}),t1}var n1,$x;function _S(){if($x)return n1;$x=1,n1=F;var n;F.ReadableState=ee,Cy().EventEmitter;var e=function($,fe){return $.listeners(fe).length},t=mS(),r=fd().Buffer,i=Lr.Uint8Array||function(){};function s(U){return r.from(U)}function o(U){return r.isBuffer(U)||U instanceof i}var l=kS(),c;l&&l.debuglog?c=l.debuglog("stream"):c=function(){};var f=gO(),h=TS(),p=AS(),g=p.getHighWaterMark,m=da().codes,w=m.ERR_INVALID_ARG_TYPE,v=m.ERR_STREAM_PUSH_AFTER_EOF,E=m.ERR_METHOD_NOT_IMPLEMENTED,b=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,T,A,k;ls()(F,t);var I=h.errorOrDestroy,j=["error","close","destroy","pause","resume"];function W(U,$,fe){if(typeof U.prependListener=="function")return U.prependListener($,fe);!U._events||!U._events[$]?U.on($,fe):Array.isArray(U._events[$])?U._events[$].unshift(fe):U._events[$]=[fe,U._events[$]]}function ee(U,$,fe){n=n||ra(),U=U||{},typeof fe!="boolean"&&(fe=$ instanceof n),this.objectMode=!!U.objectMode,fe&&(this.objectMode=this.objectMode||!!U.readableObjectMode),this.highWaterMark=g(this,U,"readableHighWaterMark",fe),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=U.emitClose!==!1,this.autoDestroy=!!U.autoDestroy,this.destroyed=!1,this.defaultEncoding=U.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,U.encoding&&(T||(T=Cg().StringDecoder),this.decoder=new T(U.encoding),this.encoding=U.encoding)}function F(U){if(n=n||ra(),!(this instanceof F))return new F(U);var $=this instanceof n;this._readableState=new ee(U,this,$),this.readable=!0,U&&(typeof U.read=="function"&&(this._read=U.read),typeof U.destroy=="function"&&(this._destroy=U.destroy)),t.call(this)}Object.defineProperty(F.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function($){this._readableState&&(this._readableState.destroyed=$)}}),F.prototype.destroy=h.destroy,F.prototype._undestroy=h.undestroy,F.prototype._destroy=function(U,$){$(U)},F.prototype.push=function(U,$){var fe=this._readableState,_;return fe.objectMode?_=!0:typeof U=="string"&&($=$||fe.defaultEncoding,$!==fe.encoding&&(U=r.from(U,$),$=""),_=!0),se(this,U,$,!1,_)},F.prototype.unshift=function(U){return se(this,U,null,!0,!1)};function se(U,$,fe,_,he){c("readableAddChunk",$);var P=U._readableState;if($===null)P.reading=!1,ue(U,P);else{var x;if(he||(x=B(P,$)),x)I(U,x);else if(P.objectMode||$&&$.length>0)if(typeof $!="string"&&!P.objectMode&&Object.getPrototypeOf($)!==r.prototype&&($=s($)),_)P.endEmitted?I(U,new b):be(U,P,$,!0);else if(P.ended)I(U,new v);else{if(P.destroyed)return!1;P.reading=!1,P.decoder&&!fe?($=P.decoder.write($),P.objectMode||$.length!==0?be(U,P,$,!1):te(U,P)):be(U,P,$,!1)}else _||(P.reading=!1,te(U,P))}return!P.ended&&(P.length<P.highWaterMark||P.length===0)}function be(U,$,fe,_){$.flowing&&$.length===0&&!$.sync?($.awaitDrain=0,U.emit("data",fe)):($.length+=$.objectMode?1:fe.length,_?$.buffer.unshift(fe):$.buffer.push(fe),$.needReadable&&q(U)),te(U,$)}function B(U,$){var fe;return!o($)&&typeof $!="string"&&$!==void 0&&!U.objectMode&&(fe=new w("chunk",["string","Buffer","Uint8Array"],$)),fe}F.prototype.isPaused=function(){return this._readableState.flowing===!1},F.prototype.setEncoding=function(U){T||(T=Cg().StringDecoder);var $=new T(U);this._readableState.decoder=$,this._readableState.encoding=this._readableState.decoder.encoding;for(var fe=this._readableState.buffer.head,_="";fe!==null;)_+=$.write(fe.data),fe=fe.next;return this._readableState.buffer.clear(),_!==""&&this._readableState.buffer.push(_),this._readableState.length=_.length,this};var Y=1073741824;function N(U){return U>=Y?U=Y:(U--,U|=U>>>1,U|=U>>>2,U|=U>>>4,U|=U>>>8,U|=U>>>16,U++),U}function G(U,$){return U<=0||$.length===0&&$.ended?0:$.objectMode?1:U!==U?$.flowing&&$.length?$.buffer.head.data.length:$.length:(U>$.highWaterMark&&($.highWaterMark=N(U)),U<=$.length?U:$.ended?$.length:($.needReadable=!0,0))}F.prototype.read=function(U){c("read",U),U=parseInt(U,10);var $=this._readableState,fe=U;if(U!==0&&($.emittedReadable=!1),U===0&&$.needReadable&&(($.highWaterMark!==0?$.length>=$.highWaterMark:$.length>0)||$.ended))return c("read: emitReadable",$.length,$.ended),$.length===0&&$.ended?M(this):q(this),null;if(U=G(U,$),U===0&&$.ended)return $.length===0&&M(this),null;var _=$.needReadable;c("need readable",_),($.length===0||$.length-U<$.highWaterMark)&&(_=!0,c("length less than watermark",_)),$.ended||$.reading?(_=!1,c("reading or ended",_)):_&&(c("do read"),$.reading=!0,$.sync=!0,$.length===0&&($.needReadable=!0),this._read($.highWaterMark),$.sync=!1,$.reading||(U=G(fe,$)));var he;return U>0?he=D(U,$):he=null,he===null?($.needReadable=$.length<=$.highWaterMark,U=0):($.length-=U,$.awaitDrain=0),$.length===0&&($.ended||($.needReadable=!0),fe!==U&&$.ended&&M(this)),he!==null&&this.emit("data",he),he};function ue(U,$){if(c("onEofChunk"),!$.ended){if($.decoder){var fe=$.decoder.end();fe&&fe.length&&($.buffer.push(fe),$.length+=$.objectMode?1:fe.length)}$.ended=!0,$.sync?q(U):($.needReadable=!1,$.emittedReadable||($.emittedReadable=!0,X(U)))}}function q(U){var $=U._readableState;c("emitReadable",$.needReadable,$.emittedReadable),$.needReadable=!1,$.emittedReadable||(c("emitReadable",$.flowing),$.emittedReadable=!0,Ye.nextTick(X,U))}function X(U){var $=U._readableState;c("emitReadable_",$.destroyed,$.length,$.ended),!$.destroyed&&($.length||$.ended)&&(U.emit("readable"),$.emittedReadable=!1),$.needReadable=!$.flowing&&!$.ended&&$.length<=$.highWaterMark,ie(U)}function te(U,$){$.readingMore||($.readingMore=!0,Ye.nextTick(de,U,$))}function de(U,$){for(;!$.reading&&!$.ended&&($.length<$.highWaterMark||$.flowing&&$.length===0);){var fe=$.length;if(c("maybeReadMore read 0"),U.read(0),fe===$.length)break}$.readingMore=!1}F.prototype._read=function(U){I(this,new E("_read()"))},F.prototype.pipe=function(U,$){var fe=this,_=this._readableState;switch(_.pipesCount){case 0:_.pipes=U;break;case 1:_.pipes=[_.pipes,U];break;default:_.pipes.push(U);break}_.pipesCount+=1,c("pipe count=%d opts=%j",_.pipesCount,$);var he=(!$||$.end!==!1)&&U!==Ye.stdout&&U!==Ye.stderr,P=he?C:ke;_.endEmitted?Ye.nextTick(P):fe.once("end",P),U.on("unpipe",x);function x(Me,Ue){c("onunpipe"),Me===fe&&Ue&&Ue.hasUnpiped===!1&&(Ue.hasUnpiped=!0,ae())}function C(){c("onend"),U.end()}var O=H(fe);U.on("drain",O);var Z=!1;function ae(){c("cleanup"),U.removeListener("close",we),U.removeListener("finish",Ee),U.removeListener("drain",O),U.removeListener("error",ge),U.removeListener("unpipe",x),fe.removeListener("end",C),fe.removeListener("end",ke),fe.removeListener("data",J),Z=!0,_.awaitDrain&&(!U._writableState||U._writableState.needDrain)&&O()}fe.on("data",J);function J(Me){c("ondata");var Ue=U.write(Me);c("dest.write",Ue),Ue===!1&&((_.pipesCount===1&&_.pipes===U||_.pipesCount>1&&Q(_.pipes,U)!==-1)&&!Z&&(c("false write response, pause",_.awaitDrain),_.awaitDrain++),fe.pause())}function ge(Me){c("onerror",Me),ke(),U.removeListener("error",ge),e(U,"error")===0&&I(U,Me)}W(U,"error",ge);function we(){U.removeListener("finish",Ee),ke()}U.once("close",we);function Ee(){c("onfinish"),U.removeListener("close",we),ke()}U.once("finish",Ee);function ke(){c("unpipe"),fe.unpipe(U)}return U.emit("pipe",fe),_.flowing||(c("pipe resume"),fe.resume()),U};function H(U){return function(){var fe=U._readableState;c("pipeOnDrain",fe.awaitDrain),fe.awaitDrain&&fe.awaitDrain--,fe.awaitDrain===0&&e(U,"data")&&(fe.flowing=!0,ie(U))}}F.prototype.unpipe=function(U){var $=this._readableState,fe={hasUnpiped:!1};if($.pipesCount===0)return this;if($.pipesCount===1)return U&&U!==$.pipes?this:(U||(U=$.pipes),$.pipes=null,$.pipesCount=0,$.flowing=!1,U&&U.emit("unpipe",this,fe),this);if(!U){var _=$.pipes,he=$.pipesCount;$.pipes=null,$.pipesCount=0,$.flowing=!1;for(var P=0;P<he;P++)_[P].emit("unpipe",this,{hasUnpiped:!1});return this}var x=Q($.pipes,U);return x===-1?this:($.pipes.splice(x,1),$.pipesCount-=1,$.pipesCount===1&&($.pipes=$.pipes[0]),U.emit("unpipe",this,fe),this)},F.prototype.on=function(U,$){var fe=t.prototype.on.call(this,U,$),_=this._readableState;return U==="data"?(_.readableListening=this.listenerCount("readable")>0,_.flowing!==!1&&this.resume()):U==="readable"&&!_.endEmitted&&!_.readableListening&&(_.readableListening=_.needReadable=!0,_.flowing=!1,_.emittedReadable=!1,c("on readable",_.length,_.reading),_.length?q(this):_.reading||Ye.nextTick(re,this)),fe},F.prototype.addListener=F.prototype.on,F.prototype.removeListener=function(U,$){var fe=t.prototype.removeListener.call(this,U,$);return U==="readable"&&Ye.nextTick(L,this),fe},F.prototype.removeAllListeners=function(U){var $=t.prototype.removeAllListeners.apply(this,arguments);return(U==="readable"||U===void 0)&&Ye.nextTick(L,this),$};function L(U){var $=U._readableState;$.readableListening=U.listenerCount("readable")>0,$.resumeScheduled&&!$.paused?$.flowing=!0:U.listenerCount("data")>0&&U.resume()}function re(U){c("readable nexttick read 0"),U.read(0)}F.prototype.resume=function(){var U=this._readableState;return U.flowing||(c("resume"),U.flowing=!U.readableListening,le(this,U)),U.paused=!1,this};function le(U,$){$.resumeScheduled||($.resumeScheduled=!0,Ye.nextTick(me,U,$))}function me(U,$){c("resume",$.reading),$.reading||U.read(0),$.resumeScheduled=!1,U.emit("resume"),ie(U),$.flowing&&!$.reading&&U.read(0)}F.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function ie(U){var $=U._readableState;for(c("flow",$.flowing);$.flowing&&U.read()!==null;);}F.prototype.wrap=function(U){var $=this,fe=this._readableState,_=!1;U.on("end",function(){if(c("wrapped end"),fe.decoder&&!fe.ended){var x=fe.decoder.end();x&&x.length&&$.push(x)}$.push(null)}),U.on("data",function(x){if(c("wrapped data"),fe.decoder&&(x=fe.decoder.write(x)),!(fe.objectMode&&x==null)&&!(!fe.objectMode&&(!x||!x.length))){var C=$.push(x);C||(_=!0,U.pause())}});for(var he in U)this[he]===void 0&&typeof U[he]=="function"&&(this[he]=function(C){return function(){return U[C].apply(U,arguments)}}(he));for(var P=0;P<j.length;P++)U.on(j[P],this.emit.bind(this,j[P]));return this._read=function(x){c("wrapped _read",x),_&&(_=!1,U.resume())},this},typeof Symbol=="function"&&(F.prototype[Symbol.asyncIterator]=function(){return A===void 0&&(A=vO()),A(this)}),Object.defineProperty(F.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(F.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(F.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function($){this._readableState&&(this._readableState.flowing=$)}}),F._fromList=D,Object.defineProperty(F.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function D(U,$){if($.length===0)return null;var fe;return $.objectMode?fe=$.buffer.shift():!U||U>=$.length?($.decoder?fe=$.buffer.join(""):$.buffer.length===1?fe=$.buffer.first():fe=$.buffer.concat($.length),$.buffer.clear()):fe=$.buffer.consume(U,$.decoder),fe}function M(U){var $=U._readableState;c("endReadable",$.endEmitted),$.endEmitted||($.ended=!0,Ye.nextTick(ne,$,U))}function ne(U,$){if(c("endReadableNT",U.endEmitted,U.length),!U.endEmitted&&U.length===0&&(U.endEmitted=!0,$.readable=!1,$.emit("end"),U.autoDestroy)){var fe=$._writableState;(!fe||fe.autoDestroy&&fe.finished)&&$.destroy()}}typeof Symbol=="function"&&(F.from=function(U,$){return k===void 0&&(k=bO()),k(F,U,$)});function Q(U,$){for(var fe=0,_=U.length;fe<_;fe++)if(U[fe]===$)return fe;return-1}return n1}var r1,Kx;function NS(){if(Kx)return r1;Kx=1,r1=l;var n=da().codes,e=n.ERR_METHOD_NOT_IMPLEMENTED,t=n.ERR_MULTIPLE_CALLBACK,r=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=n.ERR_TRANSFORM_WITH_LENGTH_0,s=ra();ls()(l,s);function o(h,p){var g=this._transformState;g.transforming=!1;var m=g.writecb;if(m===null)return this.emit("error",new t);g.writechunk=null,g.writecb=null,p!=null&&this.push(p),m(h);var w=this._readableState;w.reading=!1,(w.needReadable||w.length<w.highWaterMark)&&this._read(w.highWaterMark)}function l(h){if(!(this instanceof l))return new l(h);s.call(this,h),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,h&&(typeof h.transform=="function"&&(this._transform=h.transform),typeof h.flush=="function"&&(this._flush=h.flush)),this.on("prefinish",c)}function c(){var h=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(p,g){f(h,p,g)}):f(this,null,null)}l.prototype.push=function(h,p){return this._transformState.needTransform=!1,s.prototype.push.call(this,h,p)},l.prototype._transform=function(h,p,g){g(new e("_transform()"))},l.prototype._write=function(h,p,g){var m=this._transformState;if(m.writecb=g,m.writechunk=h,m.writeencoding=p,!m.transforming){var w=this._readableState;(m.needTransform||w.needReadable||w.length<w.highWaterMark)&&this._read(w.highWaterMark)}},l.prototype._read=function(h){var p=this._transformState;p.writechunk!==null&&!p.transforming?(p.transforming=!0,this._transform(p.writechunk,p.writeencoding,p.afterTransform)):p.needTransform=!0},l.prototype._destroy=function(h,p){s.prototype._destroy.call(this,h,function(g){p(g)})};function f(h,p,g){if(p)return h.emit("error",p);if(g!=null&&h.push(g),h._writableState.length)throw new i;if(h._transformState.transforming)throw new r;return h.push(null)}return r1}var i1,qx;function xO(){if(qx)return i1;qx=1,i1=e;var n=NS();ls()(e,n);function e(t){if(!(this instanceof e))return new e(t);n.call(this,t)}return e.prototype._transform=function(t,r,i){i(null,t)},i1}var s1,Gx;function EO(){if(Gx)return s1;Gx=1;var n;function e(g){var m=!1;return function(){m||(m=!0,g.apply(void 0,arguments))}}var t=da().codes,r=t.ERR_MISSING_ARGS,i=t.ERR_STREAM_DESTROYED;function s(g){if(g)throw g}function o(g){return g.setHeader&&typeof g.abort=="function"}function l(g,m,w,v){v=e(v);var E=!1;g.on("close",function(){E=!0}),n===void 0&&(n=Ay()),n(g,{readable:m,writable:w},function(T){if(T)return v(T);E=!0,v()});var b=!1;return function(T){if(!E&&!b){if(b=!0,o(g))return g.abort();if(typeof g.destroy=="function")return g.destroy();v(T||new i("pipe"))}}}function c(g){g()}function f(g,m){return g.pipe(m)}function h(g){return!g.length||typeof g[g.length-1]!="function"?s:g.pop()}function p(){for(var g=arguments.length,m=new Array(g),w=0;w<g;w++)m[w]=arguments[w];var v=h(m);if(Array.isArray(m[0])&&(m=m[0]),m.length<2)throw new r("streams");var E,b=m.map(function(T,A){var k=A<m.length-1,I=A>0;return l(T,k,I,function(j){E||(E=j),j&&b.forEach(c),!k&&(b.forEach(c),v(E))})});return m.reduce(f)}return s1=p,s1}var o1,Zx;function Ry(){if(Zx)return o1;Zx=1,o1=t;var n=Cy().EventEmitter,e=ls();e(t,n),t.Readable=_S(),t.Writable=RS(),t.Duplex=ra(),t.Transform=NS(),t.PassThrough=xO(),t.finished=Ay(),t.pipeline=EO(),t.Stream=t;function t(){n.call(this)}return t.prototype.pipe=function(r,i){var s=this;function o(m){r.writable&&r.write(m)===!1&&s.pause&&s.pause()}s.on("data",o);function l(){s.readable&&s.resume&&s.resume()}r.on("drain",l),!r._isStdio&&(!i||i.end!==!1)&&(s.on("end",f),s.on("close",h));var c=!1;function f(){c||(c=!0,r.end())}function h(){c||(c=!0,typeof r.destroy=="function"&&r.destroy())}function p(m){if(g(),n.listenerCount(this,"error")===0)throw m}s.on("error",p),r.on("error",p);function g(){s.removeListener("data",o),r.removeListener("drain",l),s.removeListener("end",f),s.removeListener("close",h),s.removeListener("error",p),r.removeListener("error",p),s.removeListener("end",g),s.removeListener("close",g),r.removeListener("close",g)}return s.on("end",g),s.on("close",g),r.on("close",g),r.emit("pipe",s),r},o1}var Xx;function CO(){return Xx||(Xx=1,function(n){(function(e){e.parser=function(D,M){return new r(D,M)},e.SAXParser=r,e.SAXStream=h,e.createStream=f,e.MAX_BUFFER_LENGTH=64*1024;var t=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function r(D,M){if(!(this instanceof r))return new r(D,M);var ne=this;s(ne),ne.q=ne.c="",ne.bufferCheckPosition=e.MAX_BUFFER_LENGTH,ne.opt=M||{},ne.opt.lowercase=ne.opt.lowercase||ne.opt.lowercasetags,ne.looseCase=ne.opt.lowercase?"toLowerCase":"toUpperCase",ne.tags=[],ne.closed=ne.closedRoot=ne.sawRoot=!1,ne.tag=ne.error=null,ne.strict=!!D,ne.noscript=!!(D||ne.opt.noscript),ne.state=F.BEGIN,ne.strictEntities=ne.opt.strictEntities,ne.ENTITIES=ne.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),ne.attribList=[],ne.opt.xmlns&&(ne.ns=Object.create(v)),ne.trackPosition=ne.opt.position!==!1,ne.trackPosition&&(ne.position=ne.line=ne.column=0),be(ne,"onready")}Object.create||(Object.create=function(D){function M(){}M.prototype=D;var ne=new M;return ne}),Object.keys||(Object.keys=function(D){var M=[];for(var ne in D)D.hasOwnProperty(ne)&&M.push(ne);return M});function i(D){for(var M=Math.max(e.MAX_BUFFER_LENGTH,10),ne=0,Q=0,U=t.length;Q<U;Q++){var $=D[t[Q]].length;if($>M)switch(t[Q]){case"textNode":Y(D);break;case"cdata":B(D,"oncdata",D.cdata),D.cdata="";break;case"script":B(D,"onscript",D.script),D.script="";break;default:G(D,"Max buffer length exceeded: "+t[Q])}ne=Math.max(ne,$)}var fe=e.MAX_BUFFER_LENGTH-ne;D.bufferCheckPosition=fe+D.position}function s(D){for(var M=0,ne=t.length;M<ne;M++)D[t[M]]=""}function o(D){Y(D),D.cdata!==""&&(B(D,"oncdata",D.cdata),D.cdata=""),D.script!==""&&(B(D,"onscript",D.script),D.script="")}r.prototype={end:function(){ue(this)},write:ie,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){o(this)}};var l;try{l=Ry().Stream}catch{l=function(){}}var c=e.EVENTS.filter(function(D){return D!=="error"&&D!=="end"});function f(D,M){return new h(D,M)}function h(D,M){if(!(this instanceof h))return new h(D,M);l.apply(this),this._parser=new r(D,M),this.writable=!0,this.readable=!0;var ne=this;this._parser.onend=function(){ne.emit("end")},this._parser.onerror=function(Q){ne.emit("error",Q),ne._parser.error=null},this._decoder=null,c.forEach(function(Q){Object.defineProperty(ne,"on"+Q,{get:function(){return ne._parser["on"+Q]},set:function(U){if(!U)return ne.removeAllListeners(Q),ne._parser["on"+Q]=U,U;ne.on(Q,U)},enumerable:!0,configurable:!1})})}h.prototype=Object.create(l.prototype,{constructor:{value:h}}),h.prototype.write=function(D){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(D)){if(!this._decoder){var M=Cg().StringDecoder;this._decoder=new M("utf8")}D=this._decoder.write(D)}return this._parser.write(D.toString()),this.emit("data",D),!0},h.prototype.end=function(D){return D&&D.length&&this.write(D),this._parser.end(),!0},h.prototype.on=function(D,M){var ne=this;return!ne._parser["on"+D]&&c.indexOf(D)!==-1&&(ne._parser["on"+D]=function(){var Q=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);Q.splice(0,0,D),ne.emit.apply(ne,Q)}),l.prototype.on.call(ne,D,M)};var p="[CDATA[",g="DOCTYPE",m="http://www.w3.org/XML/1998/namespace",w="http://www.w3.org/2000/xmlns/",v={xml:m,xmlns:w},E=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,b=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,T=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,A=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function k(D){return D===" "||D===`
`||D==="\r"||D==="	"}function I(D){return D==='"'||D==="'"}function j(D){return D===">"||k(D)}function W(D,M){return D.test(M)}function ee(D,M){return!W(D,M)}var F=0;e.STATE={BEGIN:F++,BEGIN_WHITESPACE:F++,TEXT:F++,TEXT_ENTITY:F++,OPEN_WAKA:F++,SGML_DECL:F++,SGML_DECL_QUOTED:F++,DOCTYPE:F++,DOCTYPE_QUOTED:F++,DOCTYPE_DTD:F++,DOCTYPE_DTD_QUOTED:F++,COMMENT_STARTING:F++,COMMENT:F++,COMMENT_ENDING:F++,COMMENT_ENDED:F++,CDATA:F++,CDATA_ENDING:F++,CDATA_ENDING_2:F++,PROC_INST:F++,PROC_INST_BODY:F++,PROC_INST_ENDING:F++,OPEN_TAG:F++,OPEN_TAG_SLASH:F++,ATTRIB:F++,ATTRIB_NAME:F++,ATTRIB_NAME_SAW_WHITE:F++,ATTRIB_VALUE:F++,ATTRIB_VALUE_QUOTED:F++,ATTRIB_VALUE_CLOSED:F++,ATTRIB_VALUE_UNQUOTED:F++,ATTRIB_VALUE_ENTITY_Q:F++,ATTRIB_VALUE_ENTITY_U:F++,CLOSE_TAG:F++,CLOSE_TAG_SAW_WHITE:F++,SCRIPT:F++,SCRIPT_ENDING:F++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(D){var M=e.ENTITIES[D],ne=typeof M=="number"?String.fromCharCode(M):M;e.ENTITIES[D]=ne});for(var se in e.STATE)e.STATE[e.STATE[se]]=se;F=e.STATE;function be(D,M,ne){D[M]&&D[M](ne)}function B(D,M,ne){D.textNode&&Y(D),be(D,M,ne)}function Y(D){D.textNode=N(D.opt,D.textNode),D.textNode&&be(D,"ontext",D.textNode),D.textNode=""}function N(D,M){return D.trim&&(M=M.trim()),D.normalize&&(M=M.replace(/\s+/g," ")),M}function G(D,M){return Y(D),D.trackPosition&&(M+=`
Line: `+D.line+`
Column: `+D.column+`
Char: `+D.c),M=new Error(M),D.error=M,be(D,"onerror",M),D}function ue(D){return D.sawRoot&&!D.closedRoot&&q(D,"Unclosed root tag"),D.state!==F.BEGIN&&D.state!==F.BEGIN_WHITESPACE&&D.state!==F.TEXT&&G(D,"Unexpected end"),Y(D),D.c="",D.closed=!0,be(D,"onend"),r.call(D,D.strict,D.opt),D}function q(D,M){if(typeof D!="object"||!(D instanceof r))throw new Error("bad call to strictFail");D.strict&&G(D,M)}function X(D){D.strict||(D.tagName=D.tagName[D.looseCase]());var M=D.tags[D.tags.length-1]||D,ne=D.tag={name:D.tagName,attributes:{}};D.opt.xmlns&&(ne.ns=M.ns),D.attribList.length=0,B(D,"onopentagstart",ne)}function te(D,M){var ne=D.indexOf(":"),Q=ne<0?["",D]:D.split(":"),U=Q[0],$=Q[1];return M&&D==="xmlns"&&(U="xmlns",$=""),{prefix:U,local:$}}function de(D){if(D.strict||(D.attribName=D.attribName[D.looseCase]()),D.attribList.indexOf(D.attribName)!==-1||D.tag.attributes.hasOwnProperty(D.attribName)){D.attribName=D.attribValue="";return}if(D.opt.xmlns){var M=te(D.attribName,!0),ne=M.prefix,Q=M.local;if(ne==="xmlns")if(Q==="xml"&&D.attribValue!==m)q(D,"xml: prefix must be bound to "+m+`
Actual: `+D.attribValue);else if(Q==="xmlns"&&D.attribValue!==w)q(D,"xmlns: prefix must be bound to "+w+`
Actual: `+D.attribValue);else{var U=D.tag,$=D.tags[D.tags.length-1]||D;U.ns===$.ns&&(U.ns=Object.create($.ns)),U.ns[Q]=D.attribValue}D.attribList.push([D.attribName,D.attribValue])}else D.tag.attributes[D.attribName]=D.attribValue,B(D,"onattribute",{name:D.attribName,value:D.attribValue});D.attribName=D.attribValue=""}function H(D,M){if(D.opt.xmlns){var ne=D.tag,Q=te(D.tagName);ne.prefix=Q.prefix,ne.local=Q.local,ne.uri=ne.ns[Q.prefix]||"",ne.prefix&&!ne.uri&&(q(D,"Unbound namespace prefix: "+JSON.stringify(D.tagName)),ne.uri=Q.prefix);var U=D.tags[D.tags.length-1]||D;ne.ns&&U.ns!==ne.ns&&Object.keys(ne.ns).forEach(function(J){B(D,"onopennamespace",{prefix:J,uri:ne.ns[J]})});for(var $=0,fe=D.attribList.length;$<fe;$++){var _=D.attribList[$],he=_[0],P=_[1],x=te(he,!0),C=x.prefix,O=x.local,Z=C===""?"":ne.ns[C]||"",ae={name:he,value:P,prefix:C,local:O,uri:Z};C&&C!=="xmlns"&&!Z&&(q(D,"Unbound namespace prefix: "+JSON.stringify(C)),ae.uri=C),D.tag.attributes[he]=ae,B(D,"onattribute",ae)}D.attribList.length=0}D.tag.isSelfClosing=!!M,D.sawRoot=!0,D.tags.push(D.tag),B(D,"onopentag",D.tag),M||(!D.noscript&&D.tagName.toLowerCase()==="script"?D.state=F.SCRIPT:D.state=F.TEXT,D.tag=null,D.tagName=""),D.attribName=D.attribValue="",D.attribList.length=0}function L(D){if(!D.tagName){q(D,"Weird empty close tag."),D.textNode+="</>",D.state=F.TEXT;return}if(D.script){if(D.tagName!=="script"){D.script+="</"+D.tagName+">",D.tagName="",D.state=F.SCRIPT;return}B(D,"onscript",D.script),D.script=""}var M=D.tags.length,ne=D.tagName;D.strict||(ne=ne[D.looseCase]());for(var Q=ne;M--;){var U=D.tags[M];if(U.name!==Q)q(D,"Unexpected close tag");else break}if(M<0){q(D,"Unmatched closing tag: "+D.tagName),D.textNode+="</"+D.tagName+">",D.state=F.TEXT;return}D.tagName=ne;for(var $=D.tags.length;$-- >M;){var fe=D.tag=D.tags.pop();D.tagName=D.tag.name,B(D,"onclosetag",D.tagName);var _={};for(var he in fe.ns)_[he]=fe.ns[he];var P=D.tags[D.tags.length-1]||D;D.opt.xmlns&&fe.ns!==P.ns&&Object.keys(fe.ns).forEach(function(x){var C=fe.ns[x];B(D,"onclosenamespace",{prefix:x,uri:C})})}M===0&&(D.closedRoot=!0),D.tagName=D.attribValue=D.attribName="",D.attribList.length=0,D.state=F.TEXT}function re(D){var M=D.entity,ne=M.toLowerCase(),Q,U="";return D.ENTITIES[M]?D.ENTITIES[M]:D.ENTITIES[ne]?D.ENTITIES[ne]:(M=ne,M.charAt(0)==="#"&&(M.charAt(1)==="x"?(M=M.slice(2),Q=parseInt(M,16),U=Q.toString(16)):(M=M.slice(1),Q=parseInt(M,10),U=Q.toString(10))),M=M.replace(/^0+/,""),isNaN(Q)||U.toLowerCase()!==M?(q(D,"Invalid character entity"),"&"+D.entity+";"):String.fromCodePoint(Q))}function le(D,M){M==="<"?(D.state=F.OPEN_WAKA,D.startTagPosition=D.position):k(M)||(q(D,"Non-whitespace before first tag."),D.textNode=M,D.state=F.TEXT)}function me(D,M){var ne="";return M<D.length&&(ne=D.charAt(M)),ne}function ie(D){var M=this;if(this.error)throw this.error;if(M.closed)return G(M,"Cannot write after close. Assign an onready handler.");if(D===null)return ue(M);typeof D=="object"&&(D=D.toString());for(var ne=0,Q="";Q=me(D,ne++),M.c=Q,!!Q;)switch(M.trackPosition&&(M.position++,Q===`
`?(M.line++,M.column=0):M.column++),M.state){case F.BEGIN:if(M.state=F.BEGIN_WHITESPACE,Q==="\uFEFF")continue;le(M,Q);continue;case F.BEGIN_WHITESPACE:le(M,Q);continue;case F.TEXT:if(M.sawRoot&&!M.closedRoot){for(var U=ne-1;Q&&Q!=="<"&&Q!=="&";)Q=me(D,ne++),Q&&M.trackPosition&&(M.position++,Q===`
`?(M.line++,M.column=0):M.column++);M.textNode+=D.substring(U,ne-1)}Q==="<"&&!(M.sawRoot&&M.closedRoot&&!M.strict)?(M.state=F.OPEN_WAKA,M.startTagPosition=M.position):(!k(Q)&&(!M.sawRoot||M.closedRoot)&&q(M,"Text data outside of root node."),Q==="&"?M.state=F.TEXT_ENTITY:M.textNode+=Q);continue;case F.SCRIPT:Q==="<"?M.state=F.SCRIPT_ENDING:M.script+=Q;continue;case F.SCRIPT_ENDING:Q==="/"?M.state=F.CLOSE_TAG:(M.script+="<"+Q,M.state=F.SCRIPT);continue;case F.OPEN_WAKA:if(Q==="!")M.state=F.SGML_DECL,M.sgmlDecl="";else if(!k(Q))if(W(E,Q))M.state=F.OPEN_TAG,M.tagName=Q;else if(Q==="/")M.state=F.CLOSE_TAG,M.tagName="";else if(Q==="?")M.state=F.PROC_INST,M.procInstName=M.procInstBody="";else{if(q(M,"Unencoded <"),M.startTagPosition+1<M.position){var $=M.position-M.startTagPosition;Q=new Array($).join(" ")+Q}M.textNode+="<"+Q,M.state=F.TEXT}continue;case F.SGML_DECL:(M.sgmlDecl+Q).toUpperCase()===p?(B(M,"onopencdata"),M.state=F.CDATA,M.sgmlDecl="",M.cdata=""):M.sgmlDecl+Q==="--"?(M.state=F.COMMENT,M.comment="",M.sgmlDecl=""):(M.sgmlDecl+Q).toUpperCase()===g?(M.state=F.DOCTYPE,(M.doctype||M.sawRoot)&&q(M,"Inappropriately located doctype declaration"),M.doctype="",M.sgmlDecl=""):Q===">"?(B(M,"onsgmldeclaration",M.sgmlDecl),M.sgmlDecl="",M.state=F.TEXT):(I(Q)&&(M.state=F.SGML_DECL_QUOTED),M.sgmlDecl+=Q);continue;case F.SGML_DECL_QUOTED:Q===M.q&&(M.state=F.SGML_DECL,M.q=""),M.sgmlDecl+=Q;continue;case F.DOCTYPE:Q===">"?(M.state=F.TEXT,B(M,"ondoctype",M.doctype),M.doctype=!0):(M.doctype+=Q,Q==="["?M.state=F.DOCTYPE_DTD:I(Q)&&(M.state=F.DOCTYPE_QUOTED,M.q=Q));continue;case F.DOCTYPE_QUOTED:M.doctype+=Q,Q===M.q&&(M.q="",M.state=F.DOCTYPE);continue;case F.DOCTYPE_DTD:M.doctype+=Q,Q==="]"?M.state=F.DOCTYPE:I(Q)&&(M.state=F.DOCTYPE_DTD_QUOTED,M.q=Q);continue;case F.DOCTYPE_DTD_QUOTED:M.doctype+=Q,Q===M.q&&(M.state=F.DOCTYPE_DTD,M.q="");continue;case F.COMMENT:Q==="-"?M.state=F.COMMENT_ENDING:M.comment+=Q;continue;case F.COMMENT_ENDING:Q==="-"?(M.state=F.COMMENT_ENDED,M.comment=N(M.opt,M.comment),M.comment&&B(M,"oncomment",M.comment),M.comment=""):(M.comment+="-"+Q,M.state=F.COMMENT);continue;case F.COMMENT_ENDED:Q!==">"?(q(M,"Malformed comment"),M.comment+="--"+Q,M.state=F.COMMENT):M.state=F.TEXT;continue;case F.CDATA:Q==="]"?M.state=F.CDATA_ENDING:M.cdata+=Q;continue;case F.CDATA_ENDING:Q==="]"?M.state=F.CDATA_ENDING_2:(M.cdata+="]"+Q,M.state=F.CDATA);continue;case F.CDATA_ENDING_2:Q===">"?(M.cdata&&B(M,"oncdata",M.cdata),B(M,"onclosecdata"),M.cdata="",M.state=F.TEXT):Q==="]"?M.cdata+="]":(M.cdata+="]]"+Q,M.state=F.CDATA);continue;case F.PROC_INST:Q==="?"?M.state=F.PROC_INST_ENDING:k(Q)?M.state=F.PROC_INST_BODY:M.procInstName+=Q;continue;case F.PROC_INST_BODY:if(!M.procInstBody&&k(Q))continue;Q==="?"?M.state=F.PROC_INST_ENDING:M.procInstBody+=Q;continue;case F.PROC_INST_ENDING:Q===">"?(B(M,"onprocessinginstruction",{name:M.procInstName,body:M.procInstBody}),M.procInstName=M.procInstBody="",M.state=F.TEXT):(M.procInstBody+="?"+Q,M.state=F.PROC_INST_BODY);continue;case F.OPEN_TAG:W(b,Q)?M.tagName+=Q:(X(M),Q===">"?H(M):Q==="/"?M.state=F.OPEN_TAG_SLASH:(k(Q)||q(M,"Invalid character in tag name"),M.state=F.ATTRIB));continue;case F.OPEN_TAG_SLASH:Q===">"?(H(M,!0),L(M)):(q(M,"Forward-slash in opening tag not followed by >"),M.state=F.ATTRIB);continue;case F.ATTRIB:if(k(Q))continue;Q===">"?H(M):Q==="/"?M.state=F.OPEN_TAG_SLASH:W(E,Q)?(M.attribName=Q,M.attribValue="",M.state=F.ATTRIB_NAME):q(M,"Invalid attribute name");continue;case F.ATTRIB_NAME:Q==="="?M.state=F.ATTRIB_VALUE:Q===">"?(q(M,"Attribute without value"),M.attribValue=M.attribName,de(M),H(M)):k(Q)?M.state=F.ATTRIB_NAME_SAW_WHITE:W(b,Q)?M.attribName+=Q:q(M,"Invalid attribute name");continue;case F.ATTRIB_NAME_SAW_WHITE:if(Q==="=")M.state=F.ATTRIB_VALUE;else{if(k(Q))continue;q(M,"Attribute without value"),M.tag.attributes[M.attribName]="",M.attribValue="",B(M,"onattribute",{name:M.attribName,value:""}),M.attribName="",Q===">"?H(M):W(E,Q)?(M.attribName=Q,M.state=F.ATTRIB_NAME):(q(M,"Invalid attribute name"),M.state=F.ATTRIB)}continue;case F.ATTRIB_VALUE:if(k(Q))continue;I(Q)?(M.q=Q,M.state=F.ATTRIB_VALUE_QUOTED):(q(M,"Unquoted attribute value"),M.state=F.ATTRIB_VALUE_UNQUOTED,M.attribValue=Q);continue;case F.ATTRIB_VALUE_QUOTED:if(Q!==M.q){Q==="&"?M.state=F.ATTRIB_VALUE_ENTITY_Q:M.attribValue+=Q;continue}de(M),M.q="",M.state=F.ATTRIB_VALUE_CLOSED;continue;case F.ATTRIB_VALUE_CLOSED:k(Q)?M.state=F.ATTRIB:Q===">"?H(M):Q==="/"?M.state=F.OPEN_TAG_SLASH:W(E,Q)?(q(M,"No whitespace between attributes"),M.attribName=Q,M.attribValue="",M.state=F.ATTRIB_NAME):q(M,"Invalid attribute name");continue;case F.ATTRIB_VALUE_UNQUOTED:if(!j(Q)){Q==="&"?M.state=F.ATTRIB_VALUE_ENTITY_U:M.attribValue+=Q;continue}de(M),Q===">"?H(M):M.state=F.ATTRIB;continue;case F.CLOSE_TAG:if(M.tagName)Q===">"?L(M):W(b,Q)?M.tagName+=Q:M.script?(M.script+="</"+M.tagName,M.tagName="",M.state=F.SCRIPT):(k(Q)||q(M,"Invalid tagname in closing tag"),M.state=F.CLOSE_TAG_SAW_WHITE);else{if(k(Q))continue;ee(E,Q)?M.script?(M.script+="</"+Q,M.state=F.SCRIPT):q(M,"Invalid tagname in closing tag."):M.tagName=Q}continue;case F.CLOSE_TAG_SAW_WHITE:if(k(Q))continue;Q===">"?L(M):q(M,"Invalid characters in closing tag");continue;case F.TEXT_ENTITY:case F.ATTRIB_VALUE_ENTITY_Q:case F.ATTRIB_VALUE_ENTITY_U:var fe,_;switch(M.state){case F.TEXT_ENTITY:fe=F.TEXT,_="textNode";break;case F.ATTRIB_VALUE_ENTITY_Q:fe=F.ATTRIB_VALUE_QUOTED,_="attribValue";break;case F.ATTRIB_VALUE_ENTITY_U:fe=F.ATTRIB_VALUE_UNQUOTED,_="attribValue";break}Q===";"?(M[_]+=re(M),M.entity="",M.state=fe):W(M.entity.length?A:T,Q)?M.entity+=Q:(q(M,"Invalid character in entity name"),M[_]+="&"+M.entity+Q,M.entity="",M.state=fe);continue;default:throw new Error(M,"Unknown state: "+M.state)}return M.position>=M.bufferCheckPosition&&i(M),M}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var D=String.fromCharCode,M=Math.floor,ne=function(){var Q=16384,U=[],$,fe,_=-1,he=arguments.length;if(!he)return"";for(var P="";++_<he;){var x=Number(arguments[_]);if(!isFinite(x)||x<0||x>1114111||M(x)!==x)throw RangeError("Invalid code point: "+x);x<=65535?U.push(x):(x-=65536,$=(x>>10)+55296,fe=x%1024+56320,U.push($,fe)),(_+1===he||U.length>Q)&&(P+=D.apply(null,U),U.length=0)}return P};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:ne,configurable:!0,writable:!0}):String.fromCodePoint=ne}()})(n)}($p)),$p}var a1,Jx;function _y(){return Jx||(Jx=1,a1={isArray:function(n){return Array.isArray?Array.isArray(n):Object.prototype.toString.call(n)==="[object Array]"}}),a1}var l1,Yx;function Ny(){if(Yx)return l1;Yx=1;var n=_y().isArray;return l1={copyOptions:function(e){var t,r={};for(t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);return r},ensureFlagExists:function(e,t){(!(e in t)||typeof t[e]!="boolean")&&(t[e]=!1)},ensureSpacesExists:function(e){(!("spaces"in e)||typeof e.spaces!="number"&&typeof e.spaces!="string")&&(e.spaces=0)},ensureAlwaysArrayExists:function(e){(!("alwaysArray"in e)||typeof e.alwaysArray!="boolean"&&!n(e.alwaysArray))&&(e.alwaysArray=!1)},ensureKeyExists:function(e,t){(!(e+"Key"in t)||typeof t[e+"Key"]!="string")&&(t[e+"Key"]=t.compact?"_"+e:e)},checkFnExists:function(e,t){return e+"Fn"in t}},l1}var u1,Qx;function OS(){if(Qx)return u1;Qx=1;var n=CO(),e=Ny(),t=_y().isArray,r,i;function s(b){return r=e.copyOptions(b),e.ensureFlagExists("ignoreDeclaration",r),e.ensureFlagExists("ignoreInstruction",r),e.ensureFlagExists("ignoreAttributes",r),e.ensureFlagExists("ignoreText",r),e.ensureFlagExists("ignoreComment",r),e.ensureFlagExists("ignoreCdata",r),e.ensureFlagExists("ignoreDoctype",r),e.ensureFlagExists("compact",r),e.ensureFlagExists("alwaysChildren",r),e.ensureFlagExists("addParent",r),e.ensureFlagExists("trim",r),e.ensureFlagExists("nativeType",r),e.ensureFlagExists("nativeTypeAttributes",r),e.ensureFlagExists("sanitize",r),e.ensureFlagExists("instructionHasAttributes",r),e.ensureFlagExists("captureSpacesBetweenElements",r),e.ensureAlwaysArrayExists(r),e.ensureKeyExists("declaration",r),e.ensureKeyExists("instruction",r),e.ensureKeyExists("attributes",r),e.ensureKeyExists("text",r),e.ensureKeyExists("comment",r),e.ensureKeyExists("cdata",r),e.ensureKeyExists("doctype",r),e.ensureKeyExists("type",r),e.ensureKeyExists("name",r),e.ensureKeyExists("elements",r),e.ensureKeyExists("parent",r),e.checkFnExists("doctype",r),e.checkFnExists("instruction",r),e.checkFnExists("cdata",r),e.checkFnExists("comment",r),e.checkFnExists("text",r),e.checkFnExists("instructionName",r),e.checkFnExists("elementName",r),e.checkFnExists("attributeName",r),e.checkFnExists("attributeValue",r),e.checkFnExists("attributes",r),r}function o(b){var T=Number(b);if(!isNaN(T))return T;var A=b.toLowerCase();return A==="true"?!0:A==="false"?!1:b}function l(b,T){var A;if(r.compact){if(!i[r[b+"Key"]]&&(t(r.alwaysArray)?r.alwaysArray.indexOf(r[b+"Key"])!==-1:r.alwaysArray)&&(i[r[b+"Key"]]=[]),i[r[b+"Key"]]&&!t(i[r[b+"Key"]])&&(i[r[b+"Key"]]=[i[r[b+"Key"]]]),b+"Fn"in r&&typeof T=="string"&&(T=r[b+"Fn"](T,i)),b==="instruction"&&("instructionFn"in r||"instructionNameFn"in r)){for(A in T)if(T.hasOwnProperty(A))if("instructionFn"in r)T[A]=r.instructionFn(T[A],A,i);else{var k=T[A];delete T[A],T[r.instructionNameFn(A,k,i)]=k}}t(i[r[b+"Key"]])?i[r[b+"Key"]].push(T):i[r[b+"Key"]]=T}else{i[r.elementsKey]||(i[r.elementsKey]=[]);var I={};if(I[r.typeKey]=b,b==="instruction"){for(A in T)if(T.hasOwnProperty(A))break;I[r.nameKey]="instructionNameFn"in r?r.instructionNameFn(A,T,i):A,r.instructionHasAttributes?(I[r.attributesKey]=T[A][r.attributesKey],"instructionFn"in r&&(I[r.attributesKey]=r.instructionFn(I[r.attributesKey],A,i))):("instructionFn"in r&&(T[A]=r.instructionFn(T[A],A,i)),I[r.instructionKey]=T[A])}else b+"Fn"in r&&(T=r[b+"Fn"](T,i)),I[r[b+"Key"]]=T;r.addParent&&(I[r.parentKey]=i),i[r.elementsKey].push(I)}}function c(b){if("attributesFn"in r&&b&&(b=r.attributesFn(b,i)),(r.trim||"attributeValueFn"in r||"attributeNameFn"in r||r.nativeTypeAttributes)&&b){var T;for(T in b)if(b.hasOwnProperty(T)&&(r.trim&&(b[T]=b[T].trim()),r.nativeTypeAttributes&&(b[T]=o(b[T])),"attributeValueFn"in r&&(b[T]=r.attributeValueFn(b[T],T,i)),"attributeNameFn"in r)){var A=b[T];delete b[T],b[r.attributeNameFn(T,b[T],i)]=A}}return b}function f(b){var T={};if(b.body&&(b.name.toLowerCase()==="xml"||r.instructionHasAttributes)){for(var A=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,k;(k=A.exec(b.body))!==null;)T[k[1]]=k[2]||k[3]||k[4];T=c(T)}if(b.name.toLowerCase()==="xml"){if(r.ignoreDeclaration)return;i[r.declarationKey]={},Object.keys(T).length&&(i[r.declarationKey][r.attributesKey]=T),r.addParent&&(i[r.declarationKey][r.parentKey]=i)}else{if(r.ignoreInstruction)return;r.trim&&(b.body=b.body.trim());var I={};r.instructionHasAttributes&&Object.keys(T).length?(I[b.name]={},I[b.name][r.attributesKey]=T):I[b.name]=b.body,l("instruction",I)}}function h(b,T){var A;if(typeof b=="object"&&(T=b.attributes,b=b.name),T=c(T),"elementNameFn"in r&&(b=r.elementNameFn(b,i)),r.compact){if(A={},!r.ignoreAttributes&&T&&Object.keys(T).length){A[r.attributesKey]={};var k;for(k in T)T.hasOwnProperty(k)&&(A[r.attributesKey][k]=T[k])}!(b in i)&&(t(r.alwaysArray)?r.alwaysArray.indexOf(b)!==-1:r.alwaysArray)&&(i[b]=[]),i[b]&&!t(i[b])&&(i[b]=[i[b]]),t(i[b])?i[b].push(A):i[b]=A}else i[r.elementsKey]||(i[r.elementsKey]=[]),A={},A[r.typeKey]="element",A[r.nameKey]=b,!r.ignoreAttributes&&T&&Object.keys(T).length&&(A[r.attributesKey]=T),r.alwaysChildren&&(A[r.elementsKey]=[]),i[r.elementsKey].push(A);A[r.parentKey]=i,i=A}function p(b){r.ignoreText||!b.trim()&&!r.captureSpacesBetweenElements||(r.trim&&(b=b.trim()),r.nativeType&&(b=o(b)),r.sanitize&&(b=b.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),l("text",b))}function g(b){r.ignoreComment||(r.trim&&(b=b.trim()),l("comment",b))}function m(b){var T=i[r.parentKey];r.addParent||delete i[r.parentKey],i=T}function w(b){r.ignoreCdata||(r.trim&&(b=b.trim()),l("cdata",b))}function v(b){r.ignoreDoctype||(b=b.replace(/^ /,""),r.trim&&(b=b.trim()),l("doctype",b))}function E(b){b.note=b}return u1=function(b,T){var A=n.parser(!0,{}),k={};if(i=k,r=s(T),A.opt={strictEntities:!0},A.onopentag=h,A.ontext=p,A.oncomment=g,A.onclosetag=m,A.onerror=E,A.oncdata=w,A.ondoctype=v,A.onprocessinginstruction=f,A.write(b).close(),k[r.elementsKey]){var I=k[r.elementsKey];delete k[r.elementsKey],k[r.elementsKey]=I,delete k.text}return k},u1}var c1,eE;function SO(){if(eE)return c1;eE=1;var n=Ny(),e=OS();function t(r){var i=n.copyOptions(r);return n.ensureSpacesExists(i),i}return c1=function(r,i){var s,o,l,c;return s=t(i),o=e(r,s),c="compact"in s&&s.compact?"_parent":"parent","addParent"in s&&s.addParent?l=JSON.stringify(o,function(f,h){return f===c?"_":h},s.spaces):l=JSON.stringify(o,null,s.spaces),l.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},c1}var f1,tE;function IS(){if(tE)return f1;tE=1;var n=Ny(),e=_y().isArray,t,r;function i(A){var k=n.copyOptions(A);return n.ensureFlagExists("ignoreDeclaration",k),n.ensureFlagExists("ignoreInstruction",k),n.ensureFlagExists("ignoreAttributes",k),n.ensureFlagExists("ignoreText",k),n.ensureFlagExists("ignoreComment",k),n.ensureFlagExists("ignoreCdata",k),n.ensureFlagExists("ignoreDoctype",k),n.ensureFlagExists("compact",k),n.ensureFlagExists("indentText",k),n.ensureFlagExists("indentCdata",k),n.ensureFlagExists("indentAttributes",k),n.ensureFlagExists("indentInstruction",k),n.ensureFlagExists("fullTagEmptyElement",k),n.ensureFlagExists("noQuotesForNativeAttributes",k),n.ensureSpacesExists(k),typeof k.spaces=="number"&&(k.spaces=Array(k.spaces+1).join(" ")),n.ensureKeyExists("declaration",k),n.ensureKeyExists("instruction",k),n.ensureKeyExists("attributes",k),n.ensureKeyExists("text",k),n.ensureKeyExists("comment",k),n.ensureKeyExists("cdata",k),n.ensureKeyExists("doctype",k),n.ensureKeyExists("type",k),n.ensureKeyExists("name",k),n.ensureKeyExists("elements",k),n.checkFnExists("doctype",k),n.checkFnExists("instruction",k),n.checkFnExists("cdata",k),n.checkFnExists("comment",k),n.checkFnExists("text",k),n.checkFnExists("instructionName",k),n.checkFnExists("elementName",k),n.checkFnExists("attributeName",k),n.checkFnExists("attributeValue",k),n.checkFnExists("attributes",k),n.checkFnExists("fullTagEmptyElement",k),k}function s(A,k,I){return(!I&&A.spaces?`
`:"")+Array(k+1).join(A.spaces)}function o(A,k,I){if(k.ignoreAttributes)return"";"attributesFn"in k&&(A=k.attributesFn(A,r,t));var j,W,ee,F,se=[];for(j in A)A.hasOwnProperty(j)&&A[j]!==null&&A[j]!==void 0&&(F=k.noQuotesForNativeAttributes&&typeof A[j]!="string"?"":'"',W=""+A[j],W=W.replace(/"/g,"&quot;"),ee="attributeNameFn"in k?k.attributeNameFn(j,W,r,t):j,se.push(k.spaces&&k.indentAttributes?s(k,I+1,!1):" "),se.push(ee+"="+F+("attributeValueFn"in k?k.attributeValueFn(W,j,r,t):W)+F));return A&&Object.keys(A).length&&k.spaces&&k.indentAttributes&&se.push(s(k,I,!1)),se.join("")}function l(A,k,I){return t=A,r="xml",k.ignoreDeclaration?"":"<?xml"+o(A[k.attributesKey],k,I)+"?>"}function c(A,k,I){if(k.ignoreInstruction)return"";var j;for(j in A)if(A.hasOwnProperty(j))break;var W="instructionNameFn"in k?k.instructionNameFn(j,A[j],r,t):j;if(typeof A[j]=="object")return t=A,r=W,"<?"+W+o(A[j][k.attributesKey],k,I)+"?>";var ee=A[j]?A[j]:"";return"instructionFn"in k&&(ee=k.instructionFn(ee,j,r,t)),"<?"+W+(ee?" "+ee:"")+"?>"}function f(A,k){return k.ignoreComment?"":"<!--"+("commentFn"in k?k.commentFn(A,r,t):A)+"-->"}function h(A,k){return k.ignoreCdata?"":"<![CDATA["+("cdataFn"in k?k.cdataFn(A,r,t):A.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function p(A,k){return k.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in k?k.doctypeFn(A,r,t):A)+">"}function g(A,k){return k.ignoreText?"":(A=""+A,A=A.replace(/&amp;/g,"&"),A=A.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in k?k.textFn(A,r,t):A)}function m(A,k){var I;if(A.elements&&A.elements.length)for(I=0;I<A.elements.length;++I)switch(A.elements[I][k.typeKey]){case"text":if(k.indentText)return!0;break;case"cdata":if(k.indentCdata)return!0;break;case"instruction":if(k.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function w(A,k,I){t=A,r=A.name;var j=[],W="elementNameFn"in k?k.elementNameFn(A.name,A):A.name;j.push("<"+W),A[k.attributesKey]&&j.push(o(A[k.attributesKey],k,I));var ee=A[k.elementsKey]&&A[k.elementsKey].length||A[k.attributesKey]&&A[k.attributesKey]["xml:space"]==="preserve";return ee||("fullTagEmptyElementFn"in k?ee=k.fullTagEmptyElementFn(A.name,A):ee=k.fullTagEmptyElement),ee?(j.push(">"),A[k.elementsKey]&&A[k.elementsKey].length&&(j.push(v(A[k.elementsKey],k,I+1)),t=A,r=A.name),j.push(k.spaces&&m(A,k)?`
`+Array(I+1).join(k.spaces):""),j.push("</"+W+">")):j.push("/>"),j.join("")}function v(A,k,I,j){return A.reduce(function(W,ee){var F=s(k,I,j&&!W);switch(ee.type){case"element":return W+F+w(ee,k,I);case"comment":return W+F+f(ee[k.commentKey],k);case"doctype":return W+F+p(ee[k.doctypeKey],k);case"cdata":return W+(k.indentCdata?F:"")+h(ee[k.cdataKey],k);case"text":return W+(k.indentText?F:"")+g(ee[k.textKey],k);case"instruction":var se={};return se[ee[k.nameKey]]=ee[k.attributesKey]?ee:ee[k.instructionKey],W+(k.indentInstruction?F:"")+c(se,k,I)}},"")}function E(A,k,I){var j;for(j in A)if(A.hasOwnProperty(j))switch(j){case k.parentKey:case k.attributesKey:break;case k.textKey:if(k.indentText||I)return!0;break;case k.cdataKey:if(k.indentCdata||I)return!0;break;case k.instructionKey:if(k.indentInstruction||I)return!0;break;case k.doctypeKey:case k.commentKey:return!0;default:return!0}return!1}function b(A,k,I,j,W){t=A,r=k;var ee="elementNameFn"in I?I.elementNameFn(k,A):k;if(typeof A>"u"||A===null||A==="")return"fullTagEmptyElementFn"in I&&I.fullTagEmptyElementFn(k,A)||I.fullTagEmptyElement?"<"+ee+"></"+ee+">":"<"+ee+"/>";var F=[];if(k){if(F.push("<"+ee),typeof A!="object")return F.push(">"+g(A,I)+"</"+ee+">"),F.join("");A[I.attributesKey]&&F.push(o(A[I.attributesKey],I,j));var se=E(A,I,!0)||A[I.attributesKey]&&A[I.attributesKey]["xml:space"]==="preserve";if(se||("fullTagEmptyElementFn"in I?se=I.fullTagEmptyElementFn(k,A):se=I.fullTagEmptyElement),se)F.push(">");else return F.push("/>"),F.join("")}return F.push(T(A,I,j+1,!1)),t=A,r=k,k&&F.push((W?s(I,j,!1):"")+"</"+ee+">"),F.join("")}function T(A,k,I,j){var W,ee,F,se=[];for(ee in A)if(A.hasOwnProperty(ee))for(F=e(A[ee])?A[ee]:[A[ee]],W=0;W<F.length;++W){switch(ee){case k.declarationKey:se.push(l(F[W],k,I));break;case k.instructionKey:se.push((k.indentInstruction?s(k,I,j):"")+c(F[W],k,I));break;case k.attributesKey:case k.parentKey:break;case k.textKey:se.push((k.indentText?s(k,I,j):"")+g(F[W],k));break;case k.cdataKey:se.push((k.indentCdata?s(k,I,j):"")+h(F[W],k));break;case k.doctypeKey:se.push(s(k,I,j)+p(F[W],k));break;case k.commentKey:se.push(s(k,I,j)+f(F[W],k));break;default:se.push(s(k,I,j)+b(F[W],ee,k,I,E(F[W],k)))}j=j&&!se.length}return se.join("")}return f1=function(A,k){k=i(k);var I=[];return t=A,r="_root_",k.compact?I.push(T(A,k,0,!0)):(A[k.declarationKey]&&I.push(l(A[k.declarationKey],k,0)),A[k.elementsKey]&&A[k.elementsKey].length&&I.push(v(A[k.elementsKey],k,0,!I.length))),I.join("")},f1}var d1,nE;function kO(){if(nE)return d1;nE=1;var n=IS();return d1=function(e,t){e instanceof Buffer&&(e=e.toString());var r=null;if(typeof e=="string")try{r=JSON.parse(e)}catch{throw new Error("The JSON structure is invalid")}else r=e;return n(r,t)},d1}var h1,rE;function TO(){if(rE)return h1;rE=1;var n=OS(),e=SO(),t=IS(),r=kO();return h1={xml2js:n,xml2json:e,js2xml:t,json2xml:r},h1}var MS=TO();const Oy=n=>{switch(n.type){case void 0:case"element":const e=new RO(n.name,n.attributes),t=n.elements||[];for(const r of t){const i=Oy(r);i!==void 0&&e.push(i)}return e;case"text":return n.text;default:return}};class AO extends Pe{}class RO extends Se{static fromXmlString(e){const t=MS.xml2js(e,{compact:!1});return Oy(t)}constructor(e,t){super(e),t&&this.root.push(new AO(t))}push(e){this.root.push(e)}}class _O extends Se{constructor(e){super(""),this._attr=e}prepForXml(e){return{_attr:this._attr}}}class DS extends Se{constructor(e,t){super(e),t&&(this.root=t.root)}}const mn=n=>{if(isNaN(n))throw new Error(`Invalid value '${n}' specified. Must be an integer.`);return Math.floor(n)},hd=n=>{const e=mn(n);if(e<0)throw new Error(`Invalid value '${n}' specified. Must be a positive integer.`);return e},LS=(n,e)=>{const t=e*2;if(n.length!==t||isNaN(+`0x${n}`))throw new Error(`Invalid hex value '${n}'. Expected ${t} digit hex value`);return n},iE=n=>LS(n,1),Iy=n=>{const e=n.slice(-2),t=n.substring(0,n.length-2);return`${Number(t)}${e}`},PS=n=>{const e=Iy(n);if(parseFloat(e)<0)throw new Error(`Invalid value '${e}' specified. Expected a positive number.`);return e},ia=n=>{if(n==="auto")return n;const e=n.charAt(0)==="#"?n.substring(1):n;return LS(e,3)},si=n=>typeof n=="string"?Iy(n):mn(n),NO=n=>typeof n=="string"?PS(n):hd(n),on=n=>typeof n=="string"?PS(n):hd(n),OO=n=>{const e=n.substring(0,n.length-1);return`${Number(e)}%`},FS=n=>typeof n=="number"?mn(n):n.slice(-1)==="%"?OO(n):Iy(n),IO=hd,MO=hd,DO=n=>n.toISOString();class Te extends Se{constructor(e,t=!0){super(e),t!==!0&&this.root.push(new At({val:t}))}}class p1 extends Se{constructor(e,t){super(e),this.root.push(new At({val:NO(t)}))}}class Zs extends Se{constructor(e,t){super(e),this.root.push(new At({val:t}))}}const el=(n,e)=>new nt({name:n,attributes:{value:{key:"w:val",value:e}}});class ml extends Se{constructor(e,t){super(e),this.root.push(new At({val:t}))}}class LO extends Se{constructor(e,t){super(e),this.root.push(new At({val:t}))}}class As extends Se{constructor(e,t){super(e),this.root.push(t)}}class nt extends Se{constructor({name:e,attributes:t,children:r}){super(e),t&&this.root.push(new di(t)),r&&this.root.push(...r)}}const St={START:"start",CENTER:"center",END:"end",BOTH:"both",MEDIUM_KASHIDA:"mediumKashida",DISTRIBUTE:"distribute",NUM_TAB:"numTab",HIGH_KASHIDA:"highKashida",LOW_KASHIDA:"lowKashida",THAI_DISTRIBUTE:"thaiDistribute",LEFT:"left",RIGHT:"right",JUSTIFIED:"both"};class PO extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{val:"w:val"})}}class BS extends Se{constructor(e){super("w:jc"),this.root.push(new PO({val:e}))}}class at extends Se{constructor(e,{color:t,size:r,space:i,style:s}){super(e),this.root.push(new FO({style:s,color:t===void 0?void 0:ia(t),size:r===void 0?void 0:IO(r),space:i===void 0?void 0:MO(i)}))}}class FO extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}}const My={SINGLE:"single",DASH_DOT_STROKED:"dashDotStroked",DASHED:"dashed",DASH_SMALL_GAP:"dashSmallGap",DOT_DASH:"dotDash",DOT_DOT_DASH:"dotDotDash",DOTTED:"dotted",DOUBLE:"double",DOUBLE_WAVE:"doubleWave",INSET:"inset",NIL:"nil",NONE:"none",OUTSET:"outset",THICK:"thick",THICK_THIN_LARGE_GAP:"thickThinLargeGap",THICK_THIN_MEDIUM_GAP:"thickThinMediumGap",THICK_THIN_SMALL_GAP:"thickThinSmallGap",THIN_THICK_LARGE_GAP:"thinThickLargeGap",THIN_THICK_MEDIUM_GAP:"thinThickMediumGap",THIN_THICK_SMALL_GAP:"thinThickSmallGap",THIN_THICK_THIN_LARGE_GAP:"thinThickThinLargeGap",THIN_THICK_THIN_MEDIUM_GAP:"thinThickThinMediumGap",THIN_THICK_THIN_SMALL_GAP:"thinThickThinSmallGap",THREE_D_EMBOSS:"threeDEmboss",THREE_D_ENGRAVE:"threeDEngrave",TRIPLE:"triple",WAVE:"wave"};class BO extends fi{constructor(e){super("w:pBdr"),e.top&&this.root.push(new at("w:top",e.top)),e.bottom&&this.root.push(new at("w:bottom",e.bottom)),e.left&&this.root.push(new at("w:left",e.left)),e.right&&this.root.push(new at("w:right",e.right))}}class jO extends Se{constructor(){super("w:pBdr");const e=new at("w:bottom",{color:"auto",space:1,style:My.SINGLE,size:6});this.root.push(e)}}class zO extends Se{constructor({start:e,end:t,left:r,right:i,hanging:s,firstLine:o}){super("w:ind"),this.root.push(new di({start:{key:"w:start",value:e===void 0?void 0:si(e)},end:{key:"w:end",value:t===void 0?void 0:si(t)},left:{key:"w:left",value:r===void 0?void 0:si(r)},right:{key:"w:right",value:i===void 0?void 0:si(i)},hanging:{key:"w:hanging",value:s===void 0?void 0:on(s)},firstLine:{key:"w:firstLine",value:o===void 0?void 0:on(o)}}))}}let HO=class extends Se{constructor(){super("w:br")}};const Dy={BEGIN:"begin",END:"end",SEPARATE:"separate"};class Ly extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}}class xc extends Se{constructor(e){super("w:fldChar"),this.root.push(new Ly({type:Dy.BEGIN,dirty:e}))}}class Ec extends Se{constructor(e){super("w:fldChar"),this.root.push(new Ly({type:Dy.SEPARATE,dirty:e}))}}class Cc extends Se{constructor(e){super("w:fldChar"),this.root.push(new Ly({type:Dy.END,dirty:e}))}}const sa={DEFAULT:"default",PRESERVE:"preserve"};class oa extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{space:"xml:space"})}}class UO extends Se{constructor(){super("w:instrText"),this.root.push(new oa({space:sa.PRESERVE})),this.root.push("PAGE")}}class VO extends Se{constructor(){super("w:instrText"),this.root.push(new oa({space:sa.PRESERVE})),this.root.push("NUMPAGES")}}class WO extends Se{constructor(){super("w:instrText"),this.root.push(new oa({space:sa.PRESERVE})),this.root.push("SECTIONPAGES")}}class $O extends Se{constructor(){super("w:instrText"),this.root.push(new oa({space:sa.PRESERVE})),this.root.push("SECTION")}}class KO extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}}class pd extends Se{constructor({fill:e,color:t,type:r}){super("w:shd"),this.root.push(new KO({fill:e===void 0?void 0:ia(e),color:t===void 0?void 0:ia(t),type:r}))}}const qO={CLEAR:"clear",DIAGONAL_CROSS:"diagCross",DIAGONAL_STRIPE:"diagStripe",HORIZONTAL_CROSS:"horzCross",HORIZONTAL_STRIPE:"horzStripe",NIL:"nil",PERCENT_5:"pct5",PERCENT_10:"pct10",PERCENT_12:"pct12",PERCENT_15:"pct15",PERCENT_20:"pct20",PERCENT_25:"pct25",PERCENT_30:"pct30",PERCENT_35:"pct35",PERCENT_37:"pct37",PERCENT_40:"pct40",PERCENT_45:"pct45",PERCENT_50:"pct50",PERCENT_55:"pct55",PERCENT_60:"pct60",PERCENT_62:"pct62",PERCENT_65:"pct65",PERCENT_70:"pct70",PERCENT_75:"pct75",PERCENT_80:"pct80",PERCENT_85:"pct85",PERCENT_87:"pct87",PERCENT_90:"pct90",PERCENT_95:"pct95",REVERSE_DIAGONAL_STRIPE:"reverseDiagStripe",SOLID:"solid",THIN_DIAGONAL_CROSS:"thinDiagCross",THIN_DIAGONAL_STRIPE:"thinDiagStripe",THIN_HORIZONTAL_CROSS:"thinHorzCross",THIN_REVERSE_DIAGONAL_STRIPE:"thinReverseDiagStripe",THIN_VERTICAL_STRIPE:"thinVertStripe",VERTICAL_STRIPE:"vertStripe"};class GO extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}}const ZO={DOT:"dot"};class XO extends Se{constructor(e){super("w:em"),this.root.push(new At({val:e}))}}class JO extends XO{constructor(e=ZO.DOT){super(e)}}class YO extends Se{constructor(e){super("w:spacing"),this.root.push(new At({val:si(e)}))}}let QO=class extends Se{constructor(e){super("w:color"),this.root.push(new At({val:ia(e)}))}};class eI extends Se{constructor(e){super("w:highlight"),this.root.push(new At({val:e}))}}class tI extends Se{constructor(e){super("w:highlightCs"),this.root.push(new At({val:e}))}}const nI=n=>new nt({name:"w:lang",attributes:{value:{key:"w:val",value:n.value},eastAsia:{key:"w:eastAsia",value:n.eastAsia},bidirectional:{key:"w:bidi",value:n.bidirectional}}});class sE extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}}class m1 extends Se{constructor(e,t){if(super("w:rFonts"),typeof e=="string"){const r=e;this.root.push(new sE({ascii:r,cs:r,eastAsia:r,hAnsi:r,hint:t}))}else{const r=e;this.root.push(new sE(r))}}}let jS=class extends Se{constructor(e){super("w:vertAlign"),this.root.push(new At({val:e}))}};class rI extends jS{constructor(){super("superscript")}}class iI extends jS{constructor(){super("subscript")}}const Py={SINGLE:"single",WORDS:"words",DOUBLE:"double",THICK:"thick",DOTTED:"dotted",DOTTEDHEAVY:"dottedHeavy",DASH:"dash",DASHEDHEAVY:"dashedHeavy",DASHLONG:"dashLong",DASHLONGHEAVY:"dashLongHeavy",DOTDASH:"dotDash",DASHDOTHEAVY:"dashDotHeavy",DOTDOTDASH:"dotDotDash",DASHDOTDOTHEAVY:"dashDotDotHeavy",WAVE:"wave",WAVYHEAVY:"wavyHeavy",WAVYDOUBLE:"wavyDouble",NONE:"none"};class sI extends Se{constructor(e=Py.SINGLE,t){super("w:u"),this.root.push(new At({val:e,color:t===void 0?void 0:ia(t)}))}}const oI={BLACK:"black",BLUE:"blue",CYAN:"cyan",DARK_BLUE:"darkBlue",DARK_CYAN:"darkCyan",DARK_GRAY:"darkGray",DARK_GREEN:"darkGreen",DARK_MAGENTA:"darkMagenta",DARK_RED:"darkRed",DARK_YELLOW:"darkYellow",GREEN:"green",LIGHT_GRAY:"lightGray",MAGENTA:"magenta",NONE:"none",RED:"red",WHITE:"white",YELLOW:"yellow"};class so extends fi{constructor(e){var t,r;if(super("w:rPr"),!e)return;e.noProof!==void 0&&this.push(new Te("w:noProof",e.noProof)),e.bold!==void 0&&this.push(new Te("w:b",e.bold)),(e.boldComplexScript===void 0&&e.bold!==void 0||e.boldComplexScript)&&this.push(new Te("w:bCs",(t=e.boldComplexScript)!=null?t:e.bold)),e.italics!==void 0&&this.push(new Te("w:i",e.italics)),(e.italicsComplexScript===void 0&&e.italics!==void 0||e.italicsComplexScript)&&this.push(new Te("w:iCs",(r=e.italicsComplexScript)!=null?r:e.italics)),e.underline&&this.push(new sI(e.underline.type,e.underline.color)),e.effect&&this.push(new Zs("w:effect",e.effect)),e.emphasisMark&&this.push(new JO(e.emphasisMark.type)),e.color&&this.push(new QO(e.color)),e.kern&&this.push(new p1("w:kern",e.kern)),e.position&&this.push(new Zs("w:position",e.position)),e.size!==void 0&&this.push(new p1("w:sz",e.size));const i=e.sizeComplexScript===void 0||e.sizeComplexScript===!0?e.size:e.sizeComplexScript;i&&this.push(new p1("w:szCs",i)),e.rightToLeft!==void 0&&this.push(new Te("w:rtl",e.rightToLeft)),e.smallCaps!==void 0?this.push(new Te("w:smallCaps",e.smallCaps)):e.allCaps!==void 0&&this.push(new Te("w:caps",e.allCaps)),e.strike!==void 0&&this.push(new Te("w:strike",e.strike)),e.doubleStrike!==void 0&&this.push(new Te("w:dstrike",e.doubleStrike)),e.subScript&&this.push(new iI),e.superScript&&this.push(new rI),e.style&&this.push(new Zs("w:rStyle",e.style)),e.font&&(typeof e.font=="string"?this.push(new m1(e.font)):"name"in e.font?this.push(new m1(e.font.name,e.font.hint)):this.push(new m1(e.font))),e.highlight&&this.push(new eI(e.highlight));const s=e.highlightComplexScript===void 0||e.highlightComplexScript===!0?e.highlight:e.highlightComplexScript;s&&this.push(new tI(s)),e.characterSpacing&&this.push(new YO(e.characterSpacing)),e.emboss!==void 0&&this.push(new Te("w:emboss",e.emboss)),e.imprint!==void 0&&this.push(new Te("w:imprint",e.imprint)),e.shading&&this.push(new pd(e.shading)),e.revision&&this.push(new aI(e.revision)),e.border&&this.push(new at("w:bdr",e.border)),e.snapToGrid!==void 0&&this.push(new Te("w:snapToGrid",e.snapToGrid)),e.vanish&&this.push(new Te("w:vanish",e.vanish)),e.specVanish&&this.push(new Te("w:specVanish",e.vanish)),e.scale!==void 0&&this.push(new ml("w:w",e.scale)),e.language&&this.push(nI(e.language)),e.math&&this.push(new Te("w:oMath",e.math))}push(e){this.root.push(e)}}class aI extends Se{constructor(e){super("w:rPrChange"),this.root.push(new GO({id:e.id,author:e.author,date:e.date})),this.addChildElement(new so(e))}}let oE=class extends Se{constructor(e){var t;super("w:t"),typeof e=="string"?(this.root.push(new oa({space:sa.PRESERVE})),this.root.push(e)):(this.root.push(new oa({space:(t=e.space)!=null?t:sa.DEFAULT})),this.root.push(e.text))}};const Sc={CURRENT:"CURRENT",TOTAL_PAGES:"TOTAL_PAGES",TOTAL_PAGES_IN_SECTION:"TOTAL_PAGES_IN_SECTION",CURRENT_SECTION:"SECTION"};class ha extends Se{constructor(e){if(super("w:r"),Ce(this,"properties"),this.properties=new so(e),this.root.push(this.properties),e.break)for(let t=0;t<e.break;t++)this.root.push(new HO);if(e.children)for(const t of e.children){if(typeof t=="string"){switch(t){case Sc.CURRENT:this.root.push(new xc),this.root.push(new UO),this.root.push(new Ec),this.root.push(new Cc);break;case Sc.TOTAL_PAGES:this.root.push(new xc),this.root.push(new VO),this.root.push(new Ec),this.root.push(new Cc);break;case Sc.TOTAL_PAGES_IN_SECTION:this.root.push(new xc),this.root.push(new WO),this.root.push(new Ec),this.root.push(new Cc);break;case Sc.CURRENT_SECTION:this.root.push(new xc),this.root.push(new $O),this.root.push(new Ec),this.root.push(new Cc);break;default:this.root.push(new oE(t));break}continue}this.root.push(t)}else e.text!==void 0&&this.root.push(new oE(e.text))}}class Sg extends ha{constructor(e){super(typeof e=="string"?{text:e}:e)}}var g1={},ot={},y1,aE;function Vl(){if(aE)return y1;aE=1,y1=n;function n(e,t){if(!e)throw new Error(t||"Assertion failed")}return n.equal=function(t,r,i){if(t!=r)throw new Error(i||"Assertion failed: "+t+" != "+r)},y1}var lE;function jr(){if(lE)return ot;lE=1;var n=Vl(),e=ls();ot.inherits=e;function t(B,Y){return(B.charCodeAt(Y)&64512)!==55296||Y<0||Y+1>=B.length?!1:(B.charCodeAt(Y+1)&64512)===56320}function r(B,Y){if(Array.isArray(B))return B.slice();if(!B)return[];var N=[];if(typeof B=="string")if(Y){if(Y==="hex")for(B=B.replace(/[^a-z0-9]+/ig,""),B.length%2!==0&&(B="0"+B),ue=0;ue<B.length;ue+=2)N.push(parseInt(B[ue]+B[ue+1],16))}else for(var G=0,ue=0;ue<B.length;ue++){var q=B.charCodeAt(ue);q<128?N[G++]=q:q<2048?(N[G++]=q>>6|192,N[G++]=q&63|128):t(B,ue)?(q=65536+((q&1023)<<10)+(B.charCodeAt(++ue)&1023),N[G++]=q>>18|240,N[G++]=q>>12&63|128,N[G++]=q>>6&63|128,N[G++]=q&63|128):(N[G++]=q>>12|224,N[G++]=q>>6&63|128,N[G++]=q&63|128)}else for(ue=0;ue<B.length;ue++)N[ue]=B[ue]|0;return N}ot.toArray=r;function i(B){for(var Y="",N=0;N<B.length;N++)Y+=l(B[N].toString(16));return Y}ot.toHex=i;function s(B){var Y=B>>>24|B>>>8&65280|B<<8&16711680|(B&255)<<24;return Y>>>0}ot.htonl=s;function o(B,Y){for(var N="",G=0;G<B.length;G++){var ue=B[G];Y==="little"&&(ue=s(ue)),N+=c(ue.toString(16))}return N}ot.toHex32=o;function l(B){return B.length===1?"0"+B:B}ot.zero2=l;function c(B){return B.length===7?"0"+B:B.length===6?"00"+B:B.length===5?"000"+B:B.length===4?"0000"+B:B.length===3?"00000"+B:B.length===2?"000000"+B:B.length===1?"0000000"+B:B}ot.zero8=c;function f(B,Y,N,G){var ue=N-Y;n(ue%4===0);for(var q=new Array(ue/4),X=0,te=Y;X<q.length;X++,te+=4){var de;G==="big"?de=B[te]<<24|B[te+1]<<16|B[te+2]<<8|B[te+3]:de=B[te+3]<<24|B[te+2]<<16|B[te+1]<<8|B[te],q[X]=de>>>0}return q}ot.join32=f;function h(B,Y){for(var N=new Array(B.length*4),G=0,ue=0;G<B.length;G++,ue+=4){var q=B[G];Y==="big"?(N[ue]=q>>>24,N[ue+1]=q>>>16&255,N[ue+2]=q>>>8&255,N[ue+3]=q&255):(N[ue+3]=q>>>24,N[ue+2]=q>>>16&255,N[ue+1]=q>>>8&255,N[ue]=q&255)}return N}ot.split32=h;function p(B,Y){return B>>>Y|B<<32-Y}ot.rotr32=p;function g(B,Y){return B<<Y|B>>>32-Y}ot.rotl32=g;function m(B,Y){return B+Y>>>0}ot.sum32=m;function w(B,Y,N){return B+Y+N>>>0}ot.sum32_3=w;function v(B,Y,N,G){return B+Y+N+G>>>0}ot.sum32_4=v;function E(B,Y,N,G,ue){return B+Y+N+G+ue>>>0}ot.sum32_5=E;function b(B,Y,N,G){var ue=B[Y],q=B[Y+1],X=G+q>>>0,te=(X<G?1:0)+N+ue;B[Y]=te>>>0,B[Y+1]=X}ot.sum64=b;function T(B,Y,N,G){var ue=Y+G>>>0,q=(ue<Y?1:0)+B+N;return q>>>0}ot.sum64_hi=T;function A(B,Y,N,G){var ue=Y+G;return ue>>>0}ot.sum64_lo=A;function k(B,Y,N,G,ue,q,X,te){var de=0,H=Y;H=H+G>>>0,de+=H<Y?1:0,H=H+q>>>0,de+=H<q?1:0,H=H+te>>>0,de+=H<te?1:0;var L=B+N+ue+X+de;return L>>>0}ot.sum64_4_hi=k;function I(B,Y,N,G,ue,q,X,te){var de=Y+G+q+te;return de>>>0}ot.sum64_4_lo=I;function j(B,Y,N,G,ue,q,X,te,de,H){var L=0,re=Y;re=re+G>>>0,L+=re<Y?1:0,re=re+q>>>0,L+=re<q?1:0,re=re+te>>>0,L+=re<te?1:0,re=re+H>>>0,L+=re<H?1:0;var le=B+N+ue+X+de+L;return le>>>0}ot.sum64_5_hi=j;function W(B,Y,N,G,ue,q,X,te,de,H){var L=Y+G+q+te+H;return L>>>0}ot.sum64_5_lo=W;function ee(B,Y,N){var G=Y<<32-N|B>>>N;return G>>>0}ot.rotr64_hi=ee;function F(B,Y,N){var G=B<<32-N|Y>>>N;return G>>>0}ot.rotr64_lo=F;function se(B,Y,N){return B>>>N}ot.shr64_hi=se;function be(B,Y,N){var G=B<<32-N|Y>>>N;return G>>>0}return ot.shr64_lo=be,ot}var w1={},uE;function Wl(){if(uE)return w1;uE=1;var n=jr(),e=Vl();function t(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return w1.BlockHash=t,t.prototype.update=function(i,s){if(i=n.toArray(i,s),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var o=i.length%this._delta8;this.pending=i.slice(i.length-o,i.length),this.pending.length===0&&(this.pending=null),i=n.join32(i,0,i.length-o,this.endian);for(var l=0;l<i.length;l+=this._delta32)this._update(i,l,l+this._delta32)}return this},t.prototype.digest=function(i){return this.update(this._pad()),e(this.pending===null),this._digest(i)},t.prototype._pad=function(){var i=this.pendingTotal,s=this._delta8,o=s-(i+this.padLength)%s,l=new Array(o+this.padLength);l[0]=128;for(var c=1;c<o;c++)l[c]=0;if(i<<=3,this.endian==="big"){for(var f=8;f<this.padLength;f++)l[c++]=0;l[c++]=0,l[c++]=0,l[c++]=0,l[c++]=0,l[c++]=i>>>24&255,l[c++]=i>>>16&255,l[c++]=i>>>8&255,l[c++]=i&255}else for(l[c++]=i&255,l[c++]=i>>>8&255,l[c++]=i>>>16&255,l[c++]=i>>>24&255,l[c++]=0,l[c++]=0,l[c++]=0,l[c++]=0,f=8;f<this.padLength;f++)l[c++]=0;return l},w1}var Rs={},Rr={},cE;function zS(){if(cE)return Rr;cE=1;var n=jr(),e=n.rotr32;function t(h,p,g,m){if(h===0)return r(p,g,m);if(h===1||h===3)return s(p,g,m);if(h===2)return i(p,g,m)}Rr.ft_1=t;function r(h,p,g){return h&p^~h&g}Rr.ch32=r;function i(h,p,g){return h&p^h&g^p&g}Rr.maj32=i;function s(h,p,g){return h^p^g}Rr.p32=s;function o(h){return e(h,2)^e(h,13)^e(h,22)}Rr.s0_256=o;function l(h){return e(h,6)^e(h,11)^e(h,25)}Rr.s1_256=l;function c(h){return e(h,7)^e(h,18)^h>>>3}Rr.g0_256=c;function f(h){return e(h,17)^e(h,19)^h>>>10}return Rr.g1_256=f,Rr}var v1,fE;function lI(){if(fE)return v1;fE=1;var n=jr(),e=Wl(),t=zS(),r=n.rotl32,i=n.sum32,s=n.sum32_5,o=t.ft_1,l=e.BlockHash,c=[1518500249,1859775393,2400959708,3395469782];function f(){if(!(this instanceof f))return new f;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return n.inherits(f,l),v1=f,f.blockSize=512,f.outSize=160,f.hmacStrength=80,f.padLength=64,f.prototype._update=function(p,g){for(var m=this.W,w=0;w<16;w++)m[w]=p[g+w];for(;w<m.length;w++)m[w]=r(m[w-3]^m[w-8]^m[w-14]^m[w-16],1);var v=this.h[0],E=this.h[1],b=this.h[2],T=this.h[3],A=this.h[4];for(w=0;w<m.length;w++){var k=~~(w/20),I=s(r(v,5),o(k,E,b,T),A,m[w],c[k]);A=T,T=b,b=r(E,30),E=v,v=I}this.h[0]=i(this.h[0],v),this.h[1]=i(this.h[1],E),this.h[2]=i(this.h[2],b),this.h[3]=i(this.h[3],T),this.h[4]=i(this.h[4],A)},f.prototype._digest=function(p){return p==="hex"?n.toHex32(this.h,"big"):n.split32(this.h,"big")},v1}var b1,dE;function HS(){if(dE)return b1;dE=1;var n=jr(),e=Wl(),t=zS(),r=Vl(),i=n.sum32,s=n.sum32_4,o=n.sum32_5,l=t.ch32,c=t.maj32,f=t.s0_256,h=t.s1_256,p=t.g0_256,g=t.g1_256,m=e.BlockHash,w=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function v(){if(!(this instanceof v))return new v;m.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=w,this.W=new Array(64)}return n.inherits(v,m),b1=v,v.blockSize=512,v.outSize=256,v.hmacStrength=192,v.padLength=64,v.prototype._update=function(b,T){for(var A=this.W,k=0;k<16;k++)A[k]=b[T+k];for(;k<A.length;k++)A[k]=s(g(A[k-2]),A[k-7],p(A[k-15]),A[k-16]);var I=this.h[0],j=this.h[1],W=this.h[2],ee=this.h[3],F=this.h[4],se=this.h[5],be=this.h[6],B=this.h[7];for(r(this.k.length===A.length),k=0;k<A.length;k++){var Y=o(B,h(F),l(F,se,be),this.k[k],A[k]),N=i(f(I),c(I,j,W));B=be,be=se,se=F,F=i(ee,Y),ee=W,W=j,j=I,I=i(Y,N)}this.h[0]=i(this.h[0],I),this.h[1]=i(this.h[1],j),this.h[2]=i(this.h[2],W),this.h[3]=i(this.h[3],ee),this.h[4]=i(this.h[4],F),this.h[5]=i(this.h[5],se),this.h[6]=i(this.h[6],be),this.h[7]=i(this.h[7],B)},v.prototype._digest=function(b){return b==="hex"?n.toHex32(this.h,"big"):n.split32(this.h,"big")},b1}var x1,hE;function uI(){if(hE)return x1;hE=1;var n=jr(),e=HS();function t(){if(!(this instanceof t))return new t;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return n.inherits(t,e),x1=t,t.blockSize=512,t.outSize=224,t.hmacStrength=192,t.padLength=64,t.prototype._digest=function(i){return i==="hex"?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")},x1}var E1,pE;function US(){if(pE)return E1;pE=1;var n=jr(),e=Wl(),t=Vl(),r=n.rotr64_hi,i=n.rotr64_lo,s=n.shr64_hi,o=n.shr64_lo,l=n.sum64,c=n.sum64_hi,f=n.sum64_lo,h=n.sum64_4_hi,p=n.sum64_4_lo,g=n.sum64_5_hi,m=n.sum64_5_lo,w=e.BlockHash,v=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function E(){if(!(this instanceof E))return new E;w.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=v,this.W=new Array(160)}n.inherits(E,w),E1=E,E.blockSize=1024,E.outSize=512,E.hmacStrength=192,E.padLength=128,E.prototype._prepareBlock=function(N,G){for(var ue=this.W,q=0;q<32;q++)ue[q]=N[G+q];for(;q<ue.length;q+=2){var X=be(ue[q-4],ue[q-3]),te=B(ue[q-4],ue[q-3]),de=ue[q-14],H=ue[q-13],L=F(ue[q-30],ue[q-29]),re=se(ue[q-30],ue[q-29]),le=ue[q-32],me=ue[q-31];ue[q]=h(X,te,de,H,L,re,le,me),ue[q+1]=p(X,te,de,H,L,re,le,me)}},E.prototype._update=function(N,G){this._prepareBlock(N,G);var ue=this.W,q=this.h[0],X=this.h[1],te=this.h[2],de=this.h[3],H=this.h[4],L=this.h[5],re=this.h[6],le=this.h[7],me=this.h[8],ie=this.h[9],D=this.h[10],M=this.h[11],ne=this.h[12],Q=this.h[13],U=this.h[14],$=this.h[15];t(this.k.length===ue.length);for(var fe=0;fe<ue.length;fe+=2){var _=U,he=$,P=W(me,ie),x=ee(me,ie),C=b(me,ie,D,M,ne),O=T(me,ie,D,M,ne,Q),Z=this.k[fe],ae=this.k[fe+1],J=ue[fe],ge=ue[fe+1],we=g(_,he,P,x,C,O,Z,ae,J,ge),Ee=m(_,he,P,x,C,O,Z,ae,J,ge);_=I(q,X),he=j(q,X),P=A(q,X,te,de,H),x=k(q,X,te,de,H,L);var ke=c(_,he,P,x),Me=f(_,he,P,x);U=ne,$=Q,ne=D,Q=M,D=me,M=ie,me=c(re,le,we,Ee),ie=f(le,le,we,Ee),re=H,le=L,H=te,L=de,te=q,de=X,q=c(we,Ee,ke,Me),X=f(we,Ee,ke,Me)}l(this.h,0,q,X),l(this.h,2,te,de),l(this.h,4,H,L),l(this.h,6,re,le),l(this.h,8,me,ie),l(this.h,10,D,M),l(this.h,12,ne,Q),l(this.h,14,U,$)},E.prototype._digest=function(N){return N==="hex"?n.toHex32(this.h,"big"):n.split32(this.h,"big")};function b(Y,N,G,ue,q){var X=Y&G^~Y&q;return X<0&&(X+=4294967296),X}function T(Y,N,G,ue,q,X){var te=N&ue^~N&X;return te<0&&(te+=4294967296),te}function A(Y,N,G,ue,q){var X=Y&G^Y&q^G&q;return X<0&&(X+=4294967296),X}function k(Y,N,G,ue,q,X){var te=N&ue^N&X^ue&X;return te<0&&(te+=4294967296),te}function I(Y,N){var G=r(Y,N,28),ue=r(N,Y,2),q=r(N,Y,7),X=G^ue^q;return X<0&&(X+=4294967296),X}function j(Y,N){var G=i(Y,N,28),ue=i(N,Y,2),q=i(N,Y,7),X=G^ue^q;return X<0&&(X+=4294967296),X}function W(Y,N){var G=r(Y,N,14),ue=r(Y,N,18),q=r(N,Y,9),X=G^ue^q;return X<0&&(X+=4294967296),X}function ee(Y,N){var G=i(Y,N,14),ue=i(Y,N,18),q=i(N,Y,9),X=G^ue^q;return X<0&&(X+=4294967296),X}function F(Y,N){var G=r(Y,N,1),ue=r(Y,N,8),q=s(Y,N,7),X=G^ue^q;return X<0&&(X+=4294967296),X}function se(Y,N){var G=i(Y,N,1),ue=i(Y,N,8),q=o(Y,N,7),X=G^ue^q;return X<0&&(X+=4294967296),X}function be(Y,N){var G=r(Y,N,19),ue=r(N,Y,29),q=s(Y,N,6),X=G^ue^q;return X<0&&(X+=4294967296),X}function B(Y,N){var G=i(Y,N,19),ue=i(N,Y,29),q=o(Y,N,6),X=G^ue^q;return X<0&&(X+=4294967296),X}return E1}var C1,mE;function cI(){if(mE)return C1;mE=1;var n=jr(),e=US();function t(){if(!(this instanceof t))return new t;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return n.inherits(t,e),C1=t,t.blockSize=1024,t.outSize=384,t.hmacStrength=192,t.padLength=128,t.prototype._digest=function(i){return i==="hex"?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")},C1}var gE;function fI(){return gE||(gE=1,Rs.sha1=lI(),Rs.sha224=uI(),Rs.sha256=HS(),Rs.sha384=cI(),Rs.sha512=US()),Rs}var S1={},yE;function dI(){if(yE)return S1;yE=1;var n=jr(),e=Wl(),t=n.rotl32,r=n.sum32,i=n.sum32_3,s=n.sum32_4,o=e.BlockHash;function l(){if(!(this instanceof l))return new l;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}n.inherits(l,o),S1.ripemd160=l,l.blockSize=512,l.outSize=160,l.hmacStrength=192,l.padLength=64,l.prototype._update=function(E,b){for(var T=this.h[0],A=this.h[1],k=this.h[2],I=this.h[3],j=this.h[4],W=T,ee=A,F=k,se=I,be=j,B=0;B<80;B++){var Y=r(t(s(T,c(B,A,k,I),E[p[B]+b],f(B)),m[B]),j);T=j,j=I,I=t(k,10),k=A,A=Y,Y=r(t(s(W,c(79-B,ee,F,se),E[g[B]+b],h(B)),w[B]),be),W=be,be=se,se=t(F,10),F=ee,ee=Y}Y=i(this.h[1],k,se),this.h[1]=i(this.h[2],I,be),this.h[2]=i(this.h[3],j,W),this.h[3]=i(this.h[4],T,ee),this.h[4]=i(this.h[0],A,F),this.h[0]=Y},l.prototype._digest=function(E){return E==="hex"?n.toHex32(this.h,"little"):n.split32(this.h,"little")};function c(v,E,b,T){return v<=15?E^b^T:v<=31?E&b|~E&T:v<=47?(E|~b)^T:v<=63?E&T|b&~T:E^(b|~T)}function f(v){return v<=15?0:v<=31?1518500249:v<=47?1859775393:v<=63?2400959708:2840853838}function h(v){return v<=15?1352829926:v<=31?1548603684:v<=47?1836072691:v<=63?2053994217:0}var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],g=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],w=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return S1}var k1,wE;function hI(){if(wE)return k1;wE=1;var n=jr(),e=Vl();function t(r,i,s){if(!(this instanceof t))return new t(r,i,s);this.Hash=r,this.blockSize=r.blockSize/8,this.outSize=r.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(i,s))}return k1=t,t.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),e(i.length<=this.blockSize);for(var s=i.length;s<this.blockSize;s++)i.push(0);for(s=0;s<i.length;s++)i[s]^=54;for(this.inner=new this.Hash().update(i),s=0;s<i.length;s++)i[s]^=106;this.outer=new this.Hash().update(i)},t.prototype.update=function(i,s){return this.inner.update(i,s),this},t.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)},k1}var vE;function pI(){return vE||(vE=1,function(n){var e=n;e.utils=jr(),e.common=Wl(),e.sha=fI(),e.ripemd=dI(),e.hmac=hI(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(g1)),g1}var mI=pI();const gI=Ey(mI);let yI="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",wI=(n,e=21)=>(t=e)=>{let r="",i=t|0;for(;i--;)r+=n[Math.random()*n.length|0];return r},vI=(n=21)=>{let e="",t=n|0;for(;t--;)e+=yI[Math.random()*64|0];return e};const yr=n=>Math.floor(n*72*20),md=(n=0)=>{let e=n;return()=>++e},bI=()=>md(),xI=()=>md(1),EI=()=>md(),CI=()=>md(),SI=()=>vI().toLowerCase(),bE=n=>gI.sha1().update(n instanceof ArrayBuffer?new Uint8Array(n):n).digest("hex"),tl=n=>wI("1234567890abcdef",n)(),kI=()=>`${tl(8)}-${tl(4)}-${tl(4)}-${tl(4)}-${tl(12)}`,TI={CHARACTER:"character",COLUMN:"column",INSIDE_MARGIN:"insideMargin",LEFT_MARGIN:"leftMargin",MARGIN:"margin",OUTSIDE_MARGIN:"outsideMargin",PAGE:"page",RIGHT_MARGIN:"rightMargin"},AI={BOTTOM_MARGIN:"bottomMargin",INSIDE_MARGIN:"insideMargin",LINE:"line",MARGIN:"margin",OUTSIDE_MARGIN:"outsideMargin",PAGE:"page",PARAGRAPH:"paragraph",TOP_MARGIN:"topMargin"},RI=()=>new nt({name:"wp:simplePos",attributes:{x:{key:"x",value:0},y:{key:"y",value:0}}}),VS=n=>new nt({name:"wp:align",children:[n]}),WS=n=>new nt({name:"wp:posOffset",children:[n.toString()]}),_I=({relative:n,align:e,offset:t})=>new nt({name:"wp:positionH",attributes:{relativeFrom:{key:"relativeFrom",value:n??TI.PAGE}},children:[(()=>{if(e)return VS(e);if(t!==void 0)return WS(t);throw new Error("There is no configuration provided for floating position (Align or offset)")})()]}),NI=({relative:n,align:e,offset:t})=>new nt({name:"wp:positionV",attributes:{relativeFrom:{key:"relativeFrom",value:n??AI.PAGE}},children:[(()=>{if(e)return VS(e);if(t!==void 0)return WS(t);throw new Error("There is no configuration provided for floating position (Align or offset)")})()]});class OI extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{uri:"uri"})}}const II=n=>new nt({name:"asvg:svgBlip",attributes:{asvg:{key:"xmlns:asvg",value:"http://schemas.microsoft.com/office/drawing/2016/SVG/main"},embed:{key:"r:embed",value:`rId{${n.fileName}}`}}}),MI=n=>new nt({name:"a:ext",attributes:{uri:{key:"uri",value:"{96DAC541-7B7A-43D3-8B79-37D633B846F1}"}},children:[II(n)]}),DI=n=>new nt({name:"a:extLst",children:[MI(n)]}),LI=n=>new nt({name:"a:blip",attributes:{embed:{key:"r:embed",value:`rId{${n.type==="svg"?n.fallback.fileName:n.fileName}}`},cstate:{key:"cstate",value:"none"}},children:n.type==="svg"?[DI(n)]:[]});class PI extends Se{constructor(){super("a:srcRect")}}class FI extends Se{constructor(){super("a:fillRect")}}class BI extends Se{constructor(){super("a:stretch"),this.root.push(new FI)}}class jI extends Se{constructor(e){super("pic:blipFill"),this.root.push(LI(e)),this.root.push(new PI),this.root.push(new BI)}}class zI extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{noChangeAspect:"noChangeAspect",noChangeArrowheads:"noChangeArrowheads"})}}class HI extends Se{constructor(){super("a:picLocks"),this.root.push(new zI({noChangeAspect:1,noChangeArrowheads:1}))}}class UI extends Se{constructor(){super("pic:cNvPicPr"),this.root.push(new HI)}}const $S=(n,e)=>new nt({name:"a:hlinkClick",attributes:li(Xe({},e?{xmlns:{key:"xmlns:a",value:"http://schemas.openxmlformats.org/drawingml/2006/main"}}:{}),{id:{key:"r:id",value:`rId${n}`}})});class VI extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{id:"id",name:"name",descr:"descr"})}}class WI extends Se{constructor(){super("pic:cNvPr"),this.root.push(new VI({id:0,name:"",descr:""}))}prepForXml(e){for(let t=e.stack.length-1;t>=0;t--){const r=e.stack[t];if(r instanceof Fy){this.root.push($S(r.linkId,!1));break}}return super.prepForXml(e)}}class $I extends Se{constructor(){super("pic:nvPicPr"),this.root.push(new WI),this.root.push(new UI)}}class KI extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{xmlns:"xmlns:pic"})}}class qI extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{cx:"cx",cy:"cy"})}}class GI extends Se{constructor(e,t){super("a:ext"),Ce(this,"attributes"),this.attributes=new qI({cx:e,cy:t}),this.root.push(this.attributes)}}class ZI extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{x:"x",y:"y"})}}class XI extends Se{constructor(){super("a:off"),this.root.push(new ZI({x:0,y:0}))}}class JI extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{flipVertical:"flipV",flipHorizontal:"flipH",rotation:"rot"})}}class YI extends Se{constructor(e){var t,r;super("a:xfrm"),Ce(this,"extents"),this.root.push(new JI({flipVertical:(t=e.flip)==null?void 0:t.vertical,flipHorizontal:(r=e.flip)==null?void 0:r.horizontal,rotation:e.rotation})),this.extents=new GI(e.emus.x,e.emus.y),this.root.push(new XI),this.root.push(this.extents)}}const KS=()=>new nt({name:"a:noFill"}),QI=n=>new nt({name:"a:srgbClr",attributes:{value:{key:"val",value:n.value}}}),eM=n=>new nt({name:"a:schemeClr",attributes:{value:{key:"val",value:n.value}}}),xE=n=>new nt({name:"a:solidFill",children:[n.type==="rgb"?QI(n):eM(n)]}),tM=n=>new nt({name:"a:ln",attributes:{width:{key:"w",value:n.width},cap:{key:"cap",value:n.cap},compoundLine:{key:"cmpd",value:n.compoundLine},align:{key:"algn",value:n.align}},children:[n.type==="noFill"?KS():n.solidFillType==="rgb"?xE({type:"rgb",value:n.value}):xE({type:"scheme",value:n.value})]});class nM extends Se{constructor(){super("a:avLst")}}class rM extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{prst:"prst"})}}class iM extends Se{constructor(){super("a:prstGeom"),this.root.push(new rM({prst:"rect"})),this.root.push(new nM)}}class sM extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{bwMode:"bwMode"})}}class oM extends Se{constructor({outline:e,transform:t}){super("pic:spPr"),Ce(this,"form"),this.root.push(new sM({bwMode:"auto"})),this.form=new YI(t),this.root.push(this.form),this.root.push(new iM),e&&(this.root.push(KS()),this.root.push(tM(e)))}}class aM extends Se{constructor({mediaData:e,transform:t,outline:r}){super("pic:pic"),this.root.push(new KI({xmlns:"http://schemas.openxmlformats.org/drawingml/2006/picture"})),this.root.push(new $I),this.root.push(new jI(e)),this.root.push(new oM({transform:t,outline:r}))}}class lM extends Se{constructor({mediaData:e,transform:t,outline:r}){super("a:graphicData"),Ce(this,"pic"),this.root.push(new OI({uri:"http://schemas.openxmlformats.org/drawingml/2006/picture"})),this.pic=new aM({mediaData:e,transform:t,outline:r}),this.root.push(this.pic)}}class uM extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{a:"xmlns:a"})}}class qS extends Se{constructor({mediaData:e,transform:t,outline:r}){super("a:graphic"),Ce(this,"data"),this.root.push(new uM({a:"http://schemas.openxmlformats.org/drawingml/2006/main"})),this.data=new lM({mediaData:e,transform:t,outline:r}),this.root.push(this.data)}}const kc={NONE:0,SQUARE:1,TIGHT:2,TOP_AND_BOTTOM:3},cM={BOTH_SIDES:"bothSides",LEFT:"left",RIGHT:"right",LARGEST:"largest"};class EE extends Se{constructor(){super("wp:wrapNone")}}class fM extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{distT:"distT",distB:"distB",distL:"distL",distR:"distR",wrapText:"wrapText"})}}class dM extends Se{constructor(e,t={top:0,bottom:0,left:0,right:0}){super("wp:wrapSquare"),this.root.push(new fM({wrapText:e.side||cM.BOTH_SIDES,distT:t.top,distB:t.bottom,distL:t.left,distR:t.right}))}}class hM extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{distT:"distT",distB:"distB"})}}class pM extends Se{constructor(e={top:0,bottom:0}){super("wp:wrapTight"),this.root.push(new hM({distT:e.top,distB:e.bottom}))}}class mM extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{distT:"distT",distB:"distB"})}}class gM extends Se{constructor(e={top:0,bottom:0}){super("wp:wrapTopAndBottom"),this.root.push(new mM({distT:e.top,distB:e.bottom}))}}class GS extends Se{constructor({name:e,description:t,title:r}={name:"",description:"",title:""}){super("wp:docPr"),Ce(this,"docPropertiesUniqueNumericId",EI());const i={id:{key:"id",value:this.docPropertiesUniqueNumericId()},name:{key:"name",value:e}};t!=null&&(i.description={key:"descr",value:t}),r!=null&&(i.title={key:"title",value:r}),this.root.push(new di(i))}prepForXml(e){for(let t=e.stack.length-1;t>=0;t--){const r=e.stack[t];if(r instanceof Fy){this.root.push($S(r.linkId,!0));break}}return super.prepForXml(e)}}const ZS=({top:n,right:e,bottom:t,left:r})=>new nt({name:"wp:effectExtent",attributes:{top:{key:"t",value:n},right:{key:"r",value:e},bottom:{key:"b",value:t},left:{key:"l",value:r}}}),XS=({x:n,y:e})=>new nt({name:"wp:extent",attributes:{x:{key:"cx",value:n},y:{key:"cy",value:e}}});class yM extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{xmlns:"xmlns:a",noChangeAspect:"noChangeAspect"})}}class wM extends Se{constructor(){super("a:graphicFrameLocks"),this.root.push(new yM({xmlns:"http://schemas.openxmlformats.org/drawingml/2006/main",noChangeAspect:1}))}}const JS=()=>new nt({name:"wp:cNvGraphicFramePr",children:[new wM]});class vM extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{distT:"distT",distB:"distB",distL:"distL",distR:"distR",allowOverlap:"allowOverlap",behindDoc:"behindDoc",layoutInCell:"layoutInCell",locked:"locked",relativeHeight:"relativeHeight",simplePos:"simplePos"})}}class bM extends Se{constructor({mediaData:e,transform:t,drawingOptions:r}){super("wp:anchor");const i=Xe({allowOverlap:!0,behindDocument:!1,lockAnchor:!1,layoutInCell:!0,verticalPosition:{},horizontalPosition:{}},r.floating);if(this.root.push(new vM({distT:i.margins&&i.margins.top||0,distB:i.margins&&i.margins.bottom||0,distL:i.margins&&i.margins.left||0,distR:i.margins&&i.margins.right||0,simplePos:"0",allowOverlap:i.allowOverlap===!0?"1":"0",behindDoc:i.behindDocument===!0?"1":"0",locked:i.lockAnchor===!0?"1":"0",layoutInCell:i.layoutInCell===!0?"1":"0",relativeHeight:i.zIndex?i.zIndex:t.emus.y})),this.root.push(RI()),this.root.push(_I(i.horizontalPosition)),this.root.push(NI(i.verticalPosition)),this.root.push(XS({x:t.emus.x,y:t.emus.y})),this.root.push(ZS({top:0,right:0,bottom:0,left:0})),r.floating!==void 0&&r.floating.wrap!==void 0)switch(r.floating.wrap.type){case kc.SQUARE:this.root.push(new dM(r.floating.wrap,r.floating.margins));break;case kc.TIGHT:this.root.push(new pM(r.floating.margins));break;case kc.TOP_AND_BOTTOM:this.root.push(new gM(r.floating.margins));break;case kc.NONE:default:this.root.push(new EE)}else this.root.push(new EE);this.root.push(new GS(r.docProperties)),this.root.push(JS()),this.root.push(new qS({mediaData:e,transform:t,outline:r.outline}))}}const xM=({mediaData:n,transform:e,docProperties:t,outline:r})=>{var i,s,o,l;return new nt({name:"wp:inline",attributes:{distanceTop:{key:"distT",value:0},distanceBottom:{key:"distB",value:0},distanceLeft:{key:"distL",value:0},distanceRight:{key:"distR",value:0}},children:[XS({x:e.emus.x,y:e.emus.y}),ZS(r?{top:((i=r.width)!=null?i:9525)*2,right:((s=r.width)!=null?s:9525)*2,bottom:((o=r.width)!=null?o:9525)*2,left:((l=r.width)!=null?l:9525)*2}:{top:0,right:0,bottom:0,left:0}),new GS(t),JS(),new qS({mediaData:n,transform:e,outline:r})]})};class EM extends Se{constructor(e,t={}){super("w:drawing"),t.floating?this.root.push(new bM({mediaData:e,transform:e.transformation,drawingOptions:t})):this.root.push(xM({mediaData:e,transform:e.transformation,docProperties:t.docProperties,outline:t.outline}))}}const CM=n=>{if(typeof atob=="function"){const e=";base64,",t=n.indexOf(e),r=t===-1?0:t+e.length;return new Uint8Array(atob(n.substring(r)).split("").map(i=>i.charCodeAt(0)))}else{const e=require("buffer");return new e.Buffer(n,"base64")}},SM=n=>typeof n=="string"?CM(n):n,T1=(n,e)=>({data:SM(n.data),fileName:e,transformation:{pixels:{x:Math.round(n.transformation.width),y:Math.round(n.transformation.height)},emus:{x:Math.round(n.transformation.width*9525),y:Math.round(n.transformation.height*9525)},flip:n.transformation.flip,rotation:n.transformation.rotation?n.transformation.rotation*6e4:void 0}});class kM extends ha{constructor(e){super({}),Ce(this,"imageData");const r=`${bE(e.data)}.${e.type}`;this.imageData=e.type==="svg"?li(Xe({type:e.type},T1(e,r)),{fallback:Xe({type:e.fallback.type},T1(li(Xe({},e.fallback),{transformation:e.transformation}),`${bE(e.fallback.data)}.${e.fallback.type}`))}):Xe({type:e.type},T1(e,r));const i=new EM(this.imageData,{floating:e.floating,docProperties:e.altText,outline:e.outline});this.root.push(i)}prepForXml(e){return e.file.Media.addImage(this.imageData.fileName,this.imageData),this.imageData.type==="svg"&&e.file.Media.addImage(this.imageData.fallback.fileName,this.imageData.fallback),super.prepForXml(e)}}class TM extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{xmlns:"xmlns"})}}class AM extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}}const RM={EXTERNAL:"External"};class _M extends Se{constructor(e,t,r,i){super("Relationship"),this.root.push(new AM({id:e,type:t,target:r,targetMode:i}))}}class oo extends Se{constructor(){super("Relationships"),this.root.push(new TM({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(e,t,r,i){const s=new _M(`rId${e}`,t,r,i);return this.root.push(s),s}get RelationshipCount(){return this.root.length-1}}class NM extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}}class OM extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}}class IM extends Se{constructor({id:e,initials:t,author:r,date:i=new Date,children:s}){super("w:comment"),this.root.push(new NM({id:e,initials:t,author:r,date:i.toISOString()}));for(const o of s)this.root.push(o)}}class MM extends Se{constructor({children:e}){super("w:comments"),Ce(this,"relationships"),this.root.push(new OM({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const t of e)this.root.push(new IM(t));this.relationships=new oo}get Relationships(){return this.relationships}}class DM extends Se{constructor(){super("w:pageBreakBefore")}}const kg={AT_LEAST:"atLeast",EXACTLY:"exactly",EXACT:"exact",AUTO:"auto"};class LM extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule",beforeAutoSpacing:"w:beforeAutospacing",afterAutoSpacing:"w:afterAutospacing"})}}class PM extends Se{constructor(e){super("w:spacing"),this.root.push(new LM(e))}}const _s={HEADING_1:"Heading1",HEADING_2:"Heading2",HEADING_3:"Heading3",HEADING_4:"Heading4",HEADING_5:"Heading5",HEADING_6:"Heading6",TITLE:"Title"};let Tc=class extends Se{constructor(e){super("w:pStyle"),this.root.push(new At({val:e}))}};class FM extends Se{constructor(e){super("w:tabs");for(const t of e)this.root.push(new jM(t))}}const CE={LEFT:"left",RIGHT:"right",CENTER:"center",BAR:"bar",CLEAR:"clear",DECIMAL:"decimal",END:"end",NUM:"num",START:"start"};class BM extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}}class jM extends Se{constructor({type:e,position:t,leader:r}){super("w:tab"),this.root.push(new BM({val:e,pos:t,leader:r}))}}class A1 extends Se{constructor(e,t){super("w:numPr"),this.root.push(new zM(t)),this.root.push(new HM(e))}}class zM extends Se{constructor(e){if(super("w:ilvl"),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new At({val:e}))}}class HM extends Se{constructor(e){super("w:numId"),this.root.push(new At({val:typeof e=="string"?`{${e}}`:e}))}}class YS extends Se{constructor(){super(...arguments),Ce(this,"fileChild",Symbol())}}class UM extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}}class Fy extends Se{constructor(e,t,r){super("w:hyperlink"),Ce(this,"linkId"),this.linkId=t;const i={history:1,anchor:r||void 0,id:r?void 0:`rId${this.linkId}`},s=new UM(i);this.root.push(s),e.forEach(o=>{this.root.push(o)})}}class QS extends Se{constructor(e){super("w:externalHyperlink"),this.options=e}}class VM extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{id:"w:id",name:"w:name"})}}class WM extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{id:"w:id"})}}class $M{constructor(e){Ce(this,"bookmarkUniqueNumericId",CI()),Ce(this,"start"),Ce(this,"children"),Ce(this,"end");const t=this.bookmarkUniqueNumericId();this.start=new KM(e.id,t),this.children=e.children,this.end=new qM(t)}}class KM extends Se{constructor(e,t){super("w:bookmarkStart");const r=new VM({name:e,id:t});this.root.push(r)}}class qM extends Se{constructor(e){super("w:bookmarkEnd");const t=new WM({id:e});this.root.push(t)}}class GM extends Se{constructor(e){super("w:outlineLvl"),this.level=e,this.root.push(new At({val:e}))}}const ZM={TOP:"top",CENTER:"center",BOTTOM:"bottom"};li(Xe({},ZM),{BOTH:"both"});class XM extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{verticalAlign:"w:val"})}}class e5 extends Se{constructor(e){super("w:vAlign"),this.root.push(new XM({verticalAlign:e}))}}class JM extends Se{constructor({space:e,count:t,separate:r,equalWidth:i,children:s}){super("w:cols"),this.root.push(new di({space:{key:"w:space",value:e===void 0?void 0:on(e)},count:{key:"w:num",value:t===void 0?void 0:mn(t)},separate:{key:"w:sep",value:r},equalWidth:{key:"w:equalWidth",value:i}})),!i&&s&&s.forEach(o=>this.addChildElement(o))}}const YM=({type:n,linePitch:e,charSpace:t})=>new nt({name:"w:docGrid",attributes:{type:{key:"w:type",value:n},linePitch:{key:"w:linePitch",value:mn(e)},charSpace:{key:"w:charSpace",value:t?mn(t):void 0}}}),Go={DEFAULT:"default",FIRST:"first",EVEN:"even"};class QM extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{type:"w:type",id:"r:id"})}}const SE={HEADER:"w:headerReference",FOOTER:"w:footerReference"};class R1 extends Se{constructor(e,t){super(e),this.root.push(new QM({type:t.type||Go.DEFAULT,id:`rId${t.id}`}))}}const eD=({countBy:n,start:e,restart:t,distance:r})=>new nt({name:"w:lnNumType",attributes:{countBy:{key:"w:countBy",value:n===void 0?void 0:mn(n)},start:{key:"w:start",value:e===void 0?void 0:mn(e)},restart:{key:"w:restart",value:t},distance:{key:"w:distance",value:r===void 0?void 0:on(r)}}});class kE extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}}class tD extends fi{constructor(e){if(super("w:pgBorders"),!e)return this;e.pageBorders?this.root.push(new kE({display:e.pageBorders.display,offsetFrom:e.pageBorders.offsetFrom,zOrder:e.pageBorders.zOrder})):this.root.push(new kE({})),e.pageBorderTop&&this.root.push(new at("w:top",e.pageBorderTop)),e.pageBorderLeft&&this.root.push(new at("w:left",e.pageBorderLeft)),e.pageBorderBottom&&this.root.push(new at("w:bottom",e.pageBorderBottom)),e.pageBorderRight&&this.root.push(new at("w:right",e.pageBorderRight))}}class nD extends Se{constructor(e,t,r,i,s,o,l){super("w:pgMar"),this.root.push(new di({top:{key:"w:top",value:si(e)},right:{key:"w:right",value:on(t)},bottom:{key:"w:bottom",value:si(r)},left:{key:"w:left",value:on(i)},header:{key:"w:header",value:on(s)},footer:{key:"w:footer",value:on(o)},gutter:{key:"w:gutter",value:on(l)}}))}}class rD extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}}class iD extends Se{constructor({start:e,formatType:t,separator:r}){super("w:pgNumType"),this.root.push(new rD({start:e===void 0?void 0:mn(e),formatType:t,separator:r}))}}const Tg={PORTRAIT:"portrait",LANDSCAPE:"landscape"},sD=({width:n,height:e,orientation:t,code:r})=>{const i=on(n),s=on(e);return new nt({name:"w:pgSz",attributes:{width:{key:"w:w",value:t===Tg.LANDSCAPE?s:i},height:{key:"w:h",value:t===Tg.LANDSCAPE?i:s},orientation:{key:"w:orient",value:t},code:{key:"w:code",value:r}}})};class oD extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{val:"w:val"})}}class aD extends Se{constructor(e){super("w:textDirection"),this.root.push(new oD({val:e}))}}class lD extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{val:"w:val"})}}class uD extends Se{constructor(e){super("w:type"),this.root.push(new lD({val:e}))}}const Ns={TOP:1440,RIGHT:1440,BOTTOM:1440,LEFT:1440,HEADER:708,FOOTER:708,GUTTER:0},_1={WIDTH:11906,HEIGHT:16838,ORIENTATION:Tg.PORTRAIT};class cD extends Se{constructor({page:{size:{width:e=_1.WIDTH,height:t=_1.HEIGHT,orientation:r=_1.ORIENTATION}={},margin:{top:i=Ns.TOP,right:s=Ns.RIGHT,bottom:o=Ns.BOTTOM,left:l=Ns.LEFT,header:c=Ns.HEADER,footer:f=Ns.FOOTER,gutter:h=Ns.GUTTER}={},pageNumbers:p={},borders:g,textDirection:m}={},grid:{linePitch:w=360,charSpace:v,type:E}={},headerWrapperGroup:b={},footerWrapperGroup:T={},lineNumbers:A,titlePage:k,verticalAlign:I,column:j,type:W}={}){super("w:sectPr"),this.addHeaderFooterGroup(SE.HEADER,b),this.addHeaderFooterGroup(SE.FOOTER,T),W&&this.root.push(new uD(W)),this.root.push(sD({width:e,height:t,orientation:r})),this.root.push(new nD(i,s,o,l,c,f,h)),g&&this.root.push(new tD(g)),A&&this.root.push(eD(A)),this.root.push(new iD(p)),j&&this.root.push(new JM(j)),I&&this.root.push(new e5(I)),k!==void 0&&this.root.push(new Te("w:titlePg",k)),m&&this.root.push(new aD(m)),this.root.push(YM({linePitch:w,charSpace:v,type:E}))}addHeaderFooterGroup(e,t){t.default&&this.root.push(new R1(e,{type:Go.DEFAULT,id:t.default.View.ReferenceId})),t.first&&this.root.push(new R1(e,{type:Go.FIRST,id:t.first.View.ReferenceId})),t.even&&this.root.push(new R1(e,{type:Go.EVEN,id:t.even.View.ReferenceId}))}}class fD extends Se{constructor(){super("w:body"),Ce(this,"sections",[])}addSection(e){const t=this.sections.pop();this.root.push(this.createSectionParagraph(t)),this.sections.push(new cD(e))}prepForXml(e){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(e)}push(e){this.root.push(e)}createSectionParagraph(e){const t=new xn({}),r=new aa({});return r.push(e),t.addChildElement(r),t}}const TE={wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"};class gd extends Pe{constructor(e,t){super(Xe({Ignorable:t},Object.fromEntries(e.map(r=>[r,TE[r]])))),Ce(this,"xmlKeys",Xe({Ignorable:"mc:Ignorable"},Object.fromEntries(Object.keys(TE).map(r=>[r,`xmlns:${r}`]))))}}class dD extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}}class hD extends Se{constructor(e){super("w:background"),this.root.push(new dD({color:e.color===void 0?void 0:ia(e.color),themeColor:e.themeColor,themeShade:e.themeShade===void 0?void 0:iE(e.themeShade),themeTint:e.themeTint===void 0?void 0:iE(e.themeTint)}))}}class pD extends Se{constructor(e){super("w:document"),Ce(this,"body"),this.root.push(new gd(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps","cx","cx1","cx2","cx3","cx4","cx5","cx6","cx7","cx8","aink","am3d","w16cex","w16cid","w16","w16sdtdh","w16se"],"w14 w15 wp14")),this.body=new fD,e.background&&this.root.push(new hD(e.background)),this.root.push(this.body)}add(e){return this.body.push(e),this}get Body(){return this.body}}class t5{constructor(e){Ce(this,"document"),Ce(this,"relationships"),this.document=new pD(e),this.relationships=new oo}get View(){return this.document}get Relationships(){return this.relationships}}class mD extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{val:"w:val"})}}class gD extends Se{constructor(){super("w:wordWrap"),this.root.push(new mD({val:0}))}}const yD=n=>{var e,t;return new nt({name:"w:framePr",attributes:{anchorLock:{key:"w:anchorLock",value:n.anchorLock},dropCap:{key:"w:dropCap",value:n.dropCap},width:{key:"w:w",value:n.width},height:{key:"w:h",value:n.height},x:{key:"w:x",value:n.position?n.position.x:void 0},y:{key:"w:y",value:n.position?n.position.y:void 0},anchorHorizontal:{key:"w:hAnchor",value:n.anchor.horizontal},anchorVertical:{key:"w:vAnchor",value:n.anchor.vertical},spaceHorizontal:{key:"w:hSpace",value:(e=n.space)==null?void 0:e.horizontal},spaceVertical:{key:"w:vSpace",value:(t=n.space)==null?void 0:t.vertical},rule:{key:"w:hRule",value:n.rule},alignmentX:{key:"w:xAlign",value:n.alignment?n.alignment.x:void 0},alignmentY:{key:"w:yAlign",value:n.alignment?n.alignment.y:void 0},lines:{key:"w:lines",value:n.lines},wrap:{key:"w:wrap",value:n.wrap}}})};class aa extends fi{constructor(e){var t,r;if(super("w:pPr"),Ce(this,"numberingReferences",[]),!e)return this;e.heading&&this.push(new Tc(e.heading)),e.bullet&&this.push(new Tc("ListParagraph")),e.numbering&&!e.style&&!e.heading&&(e.numbering.custom||this.push(new Tc("ListParagraph"))),e.style&&this.push(new Tc(e.style)),e.keepNext!==void 0&&this.push(new Te("w:keepNext",e.keepNext)),e.keepLines!==void 0&&this.push(new Te("w:keepLines",e.keepLines)),e.pageBreakBefore&&this.push(new DM),e.frame&&this.push(yD(e.frame)),e.widowControl!==void 0&&this.push(new Te("w:widowControl",e.widowControl)),e.bullet&&this.push(new A1(1,e.bullet.level)),e.numbering?(this.numberingReferences.push({reference:e.numbering.reference,instance:(t=e.numbering.instance)!=null?t:0}),this.push(new A1(`${e.numbering.reference}-${(r=e.numbering.instance)!=null?r:0}`,e.numbering.level))):e.numbering===!1&&this.push(new A1(0,0)),e.border&&this.push(new BO(e.border)),e.thematicBreak&&this.push(new jO),e.shading&&this.push(new pd(e.shading)),e.wordWrap&&this.push(new gD),e.overflowPunctuation&&this.push(new Te("w:overflowPunct",e.overflowPunctuation));const i=[...e.rightTabStop!==void 0?[{type:CE.RIGHT,position:e.rightTabStop}]:[],...e.tabStops?e.tabStops:[],...e.leftTabStop!==void 0?[{type:CE.LEFT,position:e.leftTabStop}]:[]];i.length>0&&this.push(new FM(i)),e.bidirectional!==void 0&&this.push(new Te("w:bidi",e.bidirectional)),e.spacing&&this.push(new PM(e.spacing)),e.indent&&this.push(new zO(e.indent)),e.contextualSpacing!==void 0&&this.push(new Te("w:contextualSpacing",e.contextualSpacing)),e.alignment&&this.push(new BS(e.alignment)),e.outlineLevel!==void 0&&this.push(new GM(e.outlineLevel)),e.suppressLineNumbers!==void 0&&this.push(new Te("w:suppressLineNumbers",e.suppressLineNumbers)),e.autoSpaceEastAsianText!==void 0&&this.push(new Te("w:autoSpaceDN",e.autoSpaceEastAsianText)),e.run&&this.push(new so(e.run))}push(e){this.root.push(e)}prepForXml(e){if(e.viewWrapper instanceof t5)for(const t of this.numberingReferences)e.file.Numbering.createConcreteNumberingInstance(t.reference,t.instance);return super.prepForXml(e)}}class xn extends YS{constructor(e){if(super("w:p"),Ce(this,"properties"),typeof e=="string")return this.properties=new aa({}),this.root.push(this.properties),this.root.push(new Sg(e)),this;if(this.properties=new aa(e),this.root.push(this.properties),e.text&&this.root.push(new Sg(e.text)),e.children)for(const t of e.children){if(t instanceof $M){this.root.push(t.start);for(const r of t.children)this.root.push(r);this.root.push(t.end);continue}this.root.push(t)}}prepForXml(e){for(const t of this.root)if(t instanceof QS){const r=this.root.indexOf(t),i=new Fy(t.options.children,SI());e.viewWrapper.Relationships.createRelationship(i.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",t.options.link,RM.EXTERNAL),this.root[r]=i}return super.prepForXml(e)}addRunToFront(e){return this.root.splice(1,0,e),this}}class wD extends Se{constructor(e){super("w:tblGrid");for(const t of e)this.root.push(new vD(t))}}class vD extends Se{constructor(e){super("w:gridCol"),e!==void 0&&this.root.push(new di({width:{key:"w:w",value:on(e)}}))}}const n5={TABLE:"w:tblCellMar",TABLE_CELL:"w:tcMar"};class r5 extends fi{constructor(e,{marginUnitType:t=cf.DXA,top:r,left:i,bottom:s,right:o}){super(e),r!==void 0&&this.root.push(new Hs("w:top",{type:t,size:r})),i!==void 0&&this.root.push(new Hs("w:left",{type:t,size:i})),s!==void 0&&this.root.push(new Hs("w:bottom",{type:t,size:s})),o!==void 0&&this.root.push(new Hs("w:right",{type:t,size:o}))}}const cf={AUTO:"auto",DXA:"dxa",NIL:"nil",PERCENTAGE:"pct"};class Hs extends Se{constructor(e,{type:t=cf.AUTO,size:r}){super(e);let i=r;t===cf.PERCENTAGE&&typeof r=="number"&&(i=`${r}%`),this.root.push(new di({type:{key:"w:type",value:t},size:{key:"w:w",value:FS(i)}}))}}class bD extends fi{constructor(e){super("w:tcBorders"),e.top&&this.root.push(new at("w:top",e.top)),e.start&&this.root.push(new at("w:start",e.start)),e.left&&this.root.push(new at("w:left",e.left)),e.bottom&&this.root.push(new at("w:bottom",e.bottom)),e.end&&this.root.push(new at("w:end",e.end)),e.right&&this.root.push(new at("w:right",e.right))}}class xD extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{val:"w:val"})}}class ED extends Se{constructor(e){super("w:gridSpan"),this.root.push(new xD({val:mn(e)}))}}const i5={CONTINUE:"continue",RESTART:"restart"};class CD extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{val:"w:val"})}}class AE extends Se{constructor(e){super("w:vMerge"),this.root.push(new CD({val:e}))}}class SD extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{val:"w:val"})}}class kD extends Se{constructor(e){super("w:textDirection"),this.root.push(new SD({val:e}))}}class TD extends fi{constructor(e){super("w:tcPr"),e.width&&this.root.push(new Hs("w:tcW",e.width)),e.columnSpan&&this.root.push(new ED(e.columnSpan)),e.verticalMerge?this.root.push(new AE(e.verticalMerge)):e.rowSpan&&e.rowSpan>1&&this.root.push(new AE(i5.RESTART)),e.borders&&this.root.push(new bD(e.borders)),e.shading&&this.root.push(new pd(e.shading)),e.margins&&this.root.push(new r5(n5.TABLE_CELL,e.margins)),e.textDirection&&this.root.push(new kD(e.textDirection)),e.verticalAlign&&this.root.push(new e5(e.verticalAlign))}}class By extends Se{constructor(e){super("w:tc"),this.options=e,this.root.push(new TD(e));for(const t of e.children)this.root.push(t)}prepForXml(e){return this.root[this.root.length-1]instanceof xn||this.root.push(new xn({})),super.prepForXml(e)}}const Do={style:My.NONE,size:0,color:"auto"},Lo={style:My.SINGLE,size:4,color:"auto"};class s5 extends Se{constructor(e){super("w:tblBorders"),e.top?this.root.push(new at("w:top",e.top)):this.root.push(new at("w:top",Lo)),e.left?this.root.push(new at("w:left",e.left)):this.root.push(new at("w:left",Lo)),e.bottom?this.root.push(new at("w:bottom",e.bottom)):this.root.push(new at("w:bottom",Lo)),e.right?this.root.push(new at("w:right",e.right)):this.root.push(new at("w:right",Lo)),e.insideHorizontal?this.root.push(new at("w:insideH",e.insideHorizontal)):this.root.push(new at("w:insideH",Lo)),e.insideVertical?this.root.push(new at("w:insideV",e.insideVertical)):this.root.push(new at("w:insideV",Lo))}}Ce(s5,"NONE",{top:Do,bottom:Do,left:Do,right:Do,insideHorizontal:Do,insideVertical:Do});class AD extends Se{constructor({horizontalAnchor:e,verticalAnchor:t,absoluteHorizontalPosition:r,relativeHorizontalPosition:i,absoluteVerticalPosition:s,relativeVerticalPosition:o,bottomFromText:l,topFromText:c,leftFromText:f,rightFromText:h,overlap:p}){super("w:tblpPr"),this.root.push(new di({leftFromText:{key:"w:leftFromText",value:f===void 0?void 0:on(f)},rightFromText:{key:"w:rightFromText",value:h===void 0?void 0:on(h)},topFromText:{key:"w:topFromText",value:c===void 0?void 0:on(c)},bottomFromText:{key:"w:bottomFromText",value:l===void 0?void 0:on(l)},absoluteHorizontalPosition:{key:"w:tblpX",value:r===void 0?void 0:si(r)},absoluteVerticalPosition:{key:"w:tblpY",value:s===void 0?void 0:si(s)},horizontalAnchor:{key:"w:horzAnchor",value:e===void 0?void 0:e},relativeHorizontalPosition:{key:"w:tblpXSpec",value:i},relativeVerticalPosition:{key:"w:tblpYSpec",value:o},verticalAnchor:{key:"w:vertAnchor",value:t}})),p&&this.root.push(new LO("w:tblOverlap",p))}}class RD extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{type:"w:type"})}}class _D extends Se{constructor(e){super("w:tblLayout"),this.root.push(new RD({type:e}))}}const ND={DXA:"dxa"};class o5 extends Se{constructor({type:e=ND.DXA,value:t}){super("w:tblCellSpacing"),this.root.push(new di({type:{key:"w:type",value:e},value:{key:"w:w",value:FS(t)}}))}}class OD extends fi{constructor(e){super("w:tblPr"),e.style&&this.root.push(new Zs("w:tblStyle",e.style)),e.float&&this.root.push(new AD(e.float)),e.visuallyRightToLeft!==void 0&&this.root.push(new Te("w:bidiVisual",e.visuallyRightToLeft)),e.width&&this.root.push(new Hs("w:tblW",e.width)),e.alignment&&this.root.push(new BS(e.alignment)),e.indent&&this.root.push(new Hs("w:tblInd",e.indent)),e.borders&&this.root.push(new s5(e.borders)),e.shading&&this.root.push(new pd(e.shading)),e.layout&&this.root.push(new _D(e.layout)),e.cellMargin&&this.root.push(new r5(n5.TABLE,e.cellMargin)),e.cellSpacing&&this.root.push(new o5(e.cellSpacing))}}class a5 extends YS{constructor({rows:e,width:t,columnWidths:r=Array(Math.max(...e.map(m=>m.CellCount))).fill(100),margins:i,indent:s,float:o,layout:l,style:c,borders:f,alignment:h,visuallyRightToLeft:p,cellSpacing:g}){super("w:tbl"),this.root.push(new OD({borders:f??{},width:t??{size:100},indent:s,float:o,layout:l,style:c,alignment:h,cellMargin:i,visuallyRightToLeft:p,cellSpacing:g})),this.root.push(new wD(r));for(const m of e)this.root.push(m);e.forEach((m,w)=>{if(w===e.length-1)return;let v=0;m.cells.forEach(E=>{if(E.options.rowSpan&&E.options.rowSpan>1){const b=new By({rowSpan:E.options.rowSpan-1,columnSpan:E.options.columnSpan,borders:E.options.borders,children:[],verticalMerge:i5.CONTINUE});e[w+1].addCellToColumnIndex(b,v)}v+=E.options.columnSpan||1})})}}class ID extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{value:"w:val",rule:"w:hRule"})}}class MD extends Se{constructor(e,t){super("w:trHeight"),this.root.push(new ID({value:on(e),rule:t}))}}class DD extends fi{constructor(e){super("w:trPr"),e.cantSplit!==void 0&&this.root.push(new Te("w:cantSplit",e.cantSplit)),e.tableHeader!==void 0&&this.root.push(new Te("w:tblHeader",e.tableHeader)),e.height&&this.root.push(new MD(e.height.value,e.height.rule)),e.cellSpacing&&this.root.push(new o5(e.cellSpacing))}}class LD extends Se{constructor(e){super("w:tr"),this.options=e,this.root.push(new DD(e));for(const t of e.children)this.root.push(t)}get CellCount(){return this.options.children.length}get cells(){return this.root.filter(e=>e instanceof By)}addCellToIndex(e,t){this.root.splice(t+1,0,e)}addCellToColumnIndex(e,t){const r=this.columnIndexToRootIndex(t,!0);this.addCellToIndex(e,r-1)}rootIndexToColumnIndex(e){if(e<1||e>=this.root.length)throw new Error(`cell 'rootIndex' should between 1 to ${this.root.length-1}`);let t=0;for(let r=1;r<e;r++){const i=this.root[r];t+=i.options.columnSpan||1}return t}columnIndexToRootIndex(e,t=!1){if(e<0)throw new Error("cell 'columnIndex' should not less than zero");let r=0,i=1;for(;r<=e;){if(i>=this.root.length){if(t)return this.root.length;throw new Error(`cell 'columnIndex' should not great than ${r-1}`)}const s=this.root[i];i+=1,r+=s&&s.options.columnSpan||1}return i-1}}class PD extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class FD extends Se{constructor(){super("Properties"),this.root.push(new PD({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class BD extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{xmlns:"xmlns"})}}class jD extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}}class Xr extends Se{constructor(e,t){super("Default"),this.root.push(new jD({contentType:e,extension:t}))}}class zD extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}}class nr extends Se{constructor(e,t){super("Override"),this.root.push(new zD({contentType:e,partName:t}))}}class HD extends Se{constructor(){super("Types"),this.root.push(new BD({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new Xr("image/png","png")),this.root.push(new Xr("image/jpeg","jpeg")),this.root.push(new Xr("image/jpeg","jpg")),this.root.push(new Xr("image/bmp","bmp")),this.root.push(new Xr("image/gif","gif")),this.root.push(new Xr("image/svg+xml","svg")),this.root.push(new Xr("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new Xr("application/xml","xml")),this.root.push(new Xr("application/vnd.openxmlformats-officedocument.obfuscatedFont","odttf")),this.root.push(new nr("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new nr("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new nr("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new nr("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new nr("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new nr("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new nr("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new nr("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new nr("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml")),this.root.push(new nr("application/vnd.openxmlformats-officedocument.wordprocessingml.fontTable+xml","/word/fontTable.xml"))}addFooter(e){this.root.push(new nr("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${e}.xml`))}addHeader(e){this.root.push(new nr("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${e}.xml`))}}class UD extends Se{constructor(e){super("cp:coreProperties"),this.root.push(new gd(["cp","dc","dcterms","dcmitype","xsi"])),e.title&&this.root.push(new As("dc:title",e.title)),e.subject&&this.root.push(new As("dc:subject",e.subject)),e.creator&&this.root.push(new As("dc:creator",e.creator)),e.keywords&&this.root.push(new As("cp:keywords",e.keywords)),e.description&&this.root.push(new As("dc:description",e.description)),e.lastModifiedBy&&this.root.push(new As("cp:lastModifiedBy",e.lastModifiedBy)),e.revision&&this.root.push(new As("cp:revision",String(e.revision))),this.root.push(new RE("dcterms:created")),this.root.push(new RE("dcterms:modified"))}}class VD extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{type:"xsi:type"})}}class RE extends Se{constructor(e){super(e),this.root.push(new VD({type:"dcterms:W3CDTF"})),this.root.push(DO(new Date))}}class WD extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class $D extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}}class KD extends Se{constructor(e,t){super("property"),this.root.push(new $D({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:e.toString(),name:t.name})),this.root.push(new qD(t.value))}}class qD extends Se{constructor(e){super("vt:lpwstr"),this.root.push(e)}}class GD extends Se{constructor(e){super("Properties"),Ce(this,"nextId"),Ce(this,"properties",[]),this.root.push(new WD({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const t of e)this.addCustomProperty(t)}prepForXml(e){return this.properties.forEach(t=>this.root.push(t)),super.prepForXml(e)}addCustomProperty(e){this.properties.push(new KD(this.nextId++,e))}}const Ac=({id:n,fontKey:e,subsetted:t},r)=>new nt({name:r,attributes:Xe({id:{key:"r:id",value:n}},e?{fontKey:{key:"w:fontKey",value:`{${e}}`}}:{}),children:[...t?[new Te("w:subsetted",t)]:[]]}),ZD=({name:n,altName:e,panose1:t,charset:r,family:i,notTrueType:s,pitch:o,sig:l,embedRegular:c,embedBold:f,embedItalic:h,embedBoldItalic:p})=>new nt({name:"w:font",attributes:{name:{key:"w:name",value:n}},children:[...e?[el("w:altName",e)]:[],...t?[el("w:panose1",t)]:[],...r?[el("w:charset",r)]:[],el("w:family",i),...s?[new Te("w:notTrueType",s)]:[],el("w:pitch",o),...l?[new nt({name:"w:sig",attributes:{usb0:{key:"w:usb0",value:l.usb0},usb1:{key:"w:usb1",value:l.usb1},usb2:{key:"w:usb2",value:l.usb2},usb3:{key:"w:usb3",value:l.usb3},csb0:{key:"w:csb0",value:l.csb0},csb1:{key:"w:csb1",value:l.csb1}}})]:[],...c?[Ac(c,"w:embedRegular")]:[],...f?[Ac(f,"w:embedBold")]:[],...h?[Ac(h,"w:embedItalic")]:[],...p?[Ac(p,"w:embedBoldItalic")]:[]]}),XD=({name:n,index:e,fontKey:t,characterSet:r})=>ZD({name:n,sig:{usb0:"E0002AFF",usb1:"C000247B",usb2:"00000009",usb3:"00000000",csb0:"000001FF",csb1:"00000000"},charset:r,family:"auto",pitch:"variable",embedRegular:{fontKey:t,id:`rId${e}`}}),JD=n=>new nt({name:"w:fonts",attributes:{mc:{key:"xmlns:mc",value:"http://schemas.openxmlformats.org/markup-compatibility/2006"},r:{key:"xmlns:r",value:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"},w:{key:"xmlns:w",value:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},w14:{key:"xmlns:w14",value:"http://schemas.microsoft.com/office/word/2010/wordml"},w15:{key:"xmlns:w15",value:"http://schemas.microsoft.com/office/word/2012/wordml"},w16cex:{key:"xmlns:w16cex",value:"http://schemas.microsoft.com/office/word/2018/wordml/cex"},w16cid:{key:"xmlns:w16cid",value:"http://schemas.microsoft.com/office/word/2016/wordml/cid"},w16:{key:"xmlns:w16",value:"http://schemas.microsoft.com/office/word/2018/wordml"},w16sdtdh:{key:"xmlns:w16sdtdh",value:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash"},w16se:{key:"xmlns:w16se",value:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ignorable:{key:"mc:Ignorable",value:"w14 w15 w16se w16cid w16 w16cex w16sdtdh"}},children:n.map((e,t)=>XD({name:e.name,index:t+1,fontKey:e.fontKey}))});class YD{constructor(e){Ce(this,"fontTable"),Ce(this,"relationships"),Ce(this,"fontOptionsWithKey",[]),this.options=e,this.fontOptionsWithKey=e.map(t=>li(Xe({},t),{fontKey:kI()})),this.fontTable=JD(this.fontOptionsWithKey),this.relationships=new oo;for(let t=0;t<e.length;t++)this.relationships.createRelationship(t+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/font",`fonts/${e[t].name}.odttf`)}get View(){return this.fontTable}get Relationships(){return this.relationships}}class QD extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}}let eL=class extends DS{constructor(e,t){super("w:ftr",t),Ce(this,"refId"),this.refId=e,t||this.root.push(new QD({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class tL{constructor(e,t,r){Ce(this,"footer"),Ce(this,"relationships"),this.media=e,this.footer=new eL(t,r),this.relationships=new oo}add(e){this.footer.add(e)}addChildElement(e){this.footer.addChildElement(e)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class nL extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{type:"w:type",id:"w:id"})}}class rL extends Se{constructor(){super("w:footnoteRef")}}class iL extends ha{constructor(){super({style:"FootnoteReference"}),this.root.push(new rL)}}const _E={SEPERATOR:"separator",CONTINUATION_SEPERATOR:"continuationSeparator"};class N1 extends Se{constructor(e){super("w:footnote"),this.root.push(new nL({type:e.type,id:e.id}));for(let t=0;t<e.children.length;t++){const r=e.children[t];t===0&&r.addRunToFront(new iL),this.root.push(r)}}}class sL extends Se{constructor(){super("w:continuationSeparator")}}class oL extends ha{constructor(){super({}),this.root.push(new sL)}}class aL extends Se{constructor(){super("w:separator")}}class lL extends ha{constructor(){super({}),this.root.push(new aL)}}class uL extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class cL extends Se{constructor(){super("w:footnotes"),this.root.push(new uL({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const e=new N1({id:-1,type:_E.SEPERATOR,children:[new xn({spacing:{after:0,line:240,lineRule:kg.AUTO},children:[new lL]})]});this.root.push(e);const t=new N1({id:0,type:_E.CONTINUATION_SEPERATOR,children:[new xn({spacing:{after:0,line:240,lineRule:kg.AUTO},children:[new oL]})]});this.root.push(t)}createFootNote(e,t){const r=new N1({id:e,children:t});this.root.push(r)}}class fL{constructor(){Ce(this,"footnotess"),Ce(this,"relationships"),this.footnotess=new cL,this.relationships=new oo}get View(){return this.footnotess}get Relationships(){return this.relationships}}class dL extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}}let hL=class extends DS{constructor(e,t){super("w:hdr",t),Ce(this,"refId"),this.refId=e,t||this.root.push(new dL({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class pL{constructor(e,t,r){Ce(this,"header"),Ce(this,"relationships"),this.media=e,this.header=new hL(t,r),this.relationships=new oo}add(e){return this.header.add(e),this}addChildElement(e){this.header.addChildElement(e)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class mL{constructor(){Ce(this,"map"),this.map=new Map}addImage(e,t){this.map.set(e,t)}get Array(){return Array.from(this.map.values())}}const Kt={DECIMAL:"decimal",UPPER_ROMAN:"upperRoman",LOWER_ROMAN:"lowerRoman",UPPER_LETTER:"upperLetter",LOWER_LETTER:"lowerLetter",ORDINAL:"ordinal",CARDINAL_TEXT:"cardinalText",ORDINAL_TEXT:"ordinalText",HEX:"hex",CHICAGO:"chicago",IDEOGRAPH__DIGITAL:"ideographDigital",JAPANESE_COUNTING:"japaneseCounting",AIUEO:"aiueo",IROHA:"iroha",DECIMAL_FULL_WIDTH:"decimalFullWidth",DECIMAL_HALF_WIDTH:"decimalHalfWidth",JAPANESE_LEGAL:"japaneseLegal",JAPANESE_DIGITAL_TEN_THOUSAND:"japaneseDigitalTenThousand",DECIMAL_ENCLOSED_CIRCLE:"decimalEnclosedCircle",DECIMAL_FULL_WIDTH2:"decimalFullWidth2",AIUEO_FULL_WIDTH:"aiueoFullWidth",IROHA_FULL_WIDTH:"irohaFullWidth",DECIMAL_ZERO:"decimalZero",BULLET:"bullet",GANADA:"ganada",CHOSUNG:"chosung",DECIMAL_ENCLOSED_FULLSTOP:"decimalEnclosedFullstop",DECIMAL_ENCLOSED_PARENTHESES:"decimalEnclosedParen",DECIMAL_ENCLOSED_CIRCLE_CHINESE:"decimalEnclosedCircleChinese",IDEOGRAPH_ENCLOSED_CIRCLE:"ideographEnclosedCircle",IDEOGRAPH_TRADITIONAL:"ideographTraditional",IDEOGRAPH_ZODIAC:"ideographZodiac",IDEOGRAPH_ZODIAC_TRADITIONAL:"ideographZodiacTraditional",TAIWANESE_COUNTING:"taiwaneseCounting",IDEOGRAPH_LEGAL_TRADITIONAL:"ideographLegalTraditional",TAIWANESE_COUNTING_THOUSAND:"taiwaneseCountingThousand",TAIWANESE_DIGITAL:"taiwaneseDigital",CHINESE_COUNTING:"chineseCounting",CHINESE_LEGAL_SIMPLIFIED:"chineseLegalSimplified",CHINESE_COUNTING_THOUSAND:"chineseCountingThousand",KOREAN_DIGITAL:"koreanDigital",KOREAN_COUNTING:"koreanCounting",KOREAN_LEGAL:"koreanLegal",KOREAN_DIGITAL2:"koreanDigital2",VIETNAMESE_COUNTING:"vietnameseCounting",RUSSIAN_LOWER:"russianLower",RUSSIAN_UPPER:"russianUpper",NONE:"none",NUMBER_IN_DASH:"numberInDash",HEBREW1:"hebrew1",HEBREW2:"hebrew2",ARABIC_ALPHA:"arabicAlpha",ARABIC_ABJAD:"arabicAbjad",HINDI_VOWELS:"hindiVowels",HINDI_CONSONANTS:"hindiConsonants",HINDI_NUMBERS:"hindiNumbers",HINDI_COUNTING:"hindiCounting",THAI_LETTERS:"thaiLetters",THAI_NUMBERS:"thaiNumbers",THAI_COUNTING:"thaiCounting",BAHT_TEXT:"bahtText",DOLLAR_TEXT:"dollarText",CUSTOM:"custom"};class gL extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}}class yL extends Se{constructor(e){super("w:numFmt"),this.root.push(new At({val:e}))}}class wL extends Se{constructor(e){super("w:lvlText"),this.root.push(new At({val:e}))}}class vL extends Se{constructor(e){super("w:lvlJc"),this.root.push(new At({val:e}))}}class bL extends Se{constructor(e){super("w:suff"),this.root.push(new At({val:e}))}}class xL extends Se{constructor(){super("w:isLgl")}}class EL extends Se{constructor({level:e,format:t,text:r,alignment:i=St.START,start:s=1,style:o,suffix:l,isLegalNumberingStyle:c}){if(super("w:lvl"),Ce(this,"paragraphProperties"),Ce(this,"runProperties"),this.root.push(new ml("w:start",mn(s))),t&&this.root.push(new yL(t)),l&&this.root.push(new bL(l)),c&&this.root.push(new xL),r&&this.root.push(new wL(r)),this.root.push(new vL(i)),this.paragraphProperties=new aa(o&&o.paragraph),this.runProperties=new so(o&&o.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new gL({ilvl:mn(e),tentative:1}))}}class CL extends EL{}class SL extends Se{constructor(e){super("w:multiLevelType"),this.root.push(new At({val:e}))}}class kL extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}}class NE extends Se{constructor(e,t){super("w:abstractNum"),Ce(this,"id"),this.root.push(new kL({abstractNumId:mn(e),restartNumberingAfterBreak:0})),this.root.push(new SL("hybridMultilevel")),this.id=e;for(const r of t)this.root.push(new CL(r))}}class TL extends Se{constructor(e){super("w:abstractNumId"),this.root.push(new At({val:e}))}}class AL extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{numId:"w:numId"})}}class OE extends Se{constructor(e){if(super("w:num"),Ce(this,"numId"),Ce(this,"reference"),Ce(this,"instance"),this.numId=e.numId,this.reference=e.reference,this.instance=e.instance,this.root.push(new AL({numId:mn(e.numId)})),this.root.push(new TL(mn(e.abstractNumId))),e.overrideLevels&&e.overrideLevels.length)for(const t of e.overrideLevels)this.root.push(new _L(t.num,t.start))}}class RL extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{ilvl:"w:ilvl"})}}class _L extends Se{constructor(e,t){super("w:lvlOverride"),this.root.push(new RL({ilvl:e})),t!==void 0&&this.root.push(new OL(t))}}class NL extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{val:"w:val"})}}class OL extends Se{constructor(e){super("w:startOverride"),this.root.push(new NL({val:e}))}}class IL extends Se{constructor(e){super("w:numbering"),Ce(this,"abstractNumberingMap",new Map),Ce(this,"concreteNumberingMap",new Map),Ce(this,"referenceConfigMap",new Map),Ce(this,"abstractNumUniqueNumericId",bI()),Ce(this,"concreteNumUniqueNumericId",xI()),this.root.push(new gd(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps"],"w14 w15 wp14"));const t=new NE(this.abstractNumUniqueNumericId(),[{level:0,format:Kt.BULLET,text:"",alignment:St.LEFT,style:{paragraph:{indent:{left:yr(.5),hanging:yr(.25)}}}},{level:1,format:Kt.BULLET,text:"",alignment:St.LEFT,style:{paragraph:{indent:{left:yr(1),hanging:yr(.25)}}}},{level:2,format:Kt.BULLET,text:"",alignment:St.LEFT,style:{paragraph:{indent:{left:2160,hanging:yr(.25)}}}},{level:3,format:Kt.BULLET,text:"",alignment:St.LEFT,style:{paragraph:{indent:{left:2880,hanging:yr(.25)}}}},{level:4,format:Kt.BULLET,text:"",alignment:St.LEFT,style:{paragraph:{indent:{left:3600,hanging:yr(.25)}}}},{level:5,format:Kt.BULLET,text:"",alignment:St.LEFT,style:{paragraph:{indent:{left:4320,hanging:yr(.25)}}}},{level:6,format:Kt.BULLET,text:"",alignment:St.LEFT,style:{paragraph:{indent:{left:5040,hanging:yr(.25)}}}},{level:7,format:Kt.BULLET,text:"",alignment:St.LEFT,style:{paragraph:{indent:{left:5760,hanging:yr(.25)}}}},{level:8,format:Kt.BULLET,text:"",alignment:St.LEFT,style:{paragraph:{indent:{left:6480,hanging:yr(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new OE({numId:1,abstractNumId:t.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",t);for(const r of e.config)this.abstractNumberingMap.set(r.reference,new NE(this.abstractNumUniqueNumericId(),r.levels)),this.referenceConfigMap.set(r.reference,r.levels)}prepForXml(e){for(const t of this.abstractNumberingMap.values())this.root.push(t);for(const t of this.concreteNumberingMap.values())this.root.push(t);return super.prepForXml(e)}createConcreteNumberingInstance(e,t){const r=this.abstractNumberingMap.get(e);if(!r)return;const i=`${e}-${t}`;if(this.concreteNumberingMap.has(i))return;const s=this.referenceConfigMap.get(e),o=s&&s[0].start,l={numId:this.concreteNumUniqueNumericId(),abstractNumId:r.id,reference:e,instance:t,overrideLevels:[o&&Number.isInteger(o)?{num:0,start:o}:{num:0,start:1}]};this.concreteNumberingMap.set(i,new OE(l))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class ML extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}}class DL extends Se{constructor(e){super("w:compatSetting"),this.root.push(new ML({version:e,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class LL extends Se{constructor(e){super("w:compat"),e.version&&this.root.push(new DL(e.version)),e.useSingleBorderforContiguousCells&&this.root.push(new Te("w:useSingleBorderforContiguousCells",e.useSingleBorderforContiguousCells)),e.wordPerfectJustification&&this.root.push(new Te("w:wpJustification",e.wordPerfectJustification)),e.noTabStopForHangingIndent&&this.root.push(new Te("w:noTabHangInd",e.noTabStopForHangingIndent)),e.noLeading&&this.root.push(new Te("w:noLeading",e.noLeading)),e.spaceForUnderline&&this.root.push(new Te("w:spaceForUL",e.spaceForUnderline)),e.noColumnBalance&&this.root.push(new Te("w:noColumnBalance",e.noColumnBalance)),e.balanceSingleByteDoubleByteWidth&&this.root.push(new Te("w:balanceSingleByteDoubleByteWidth",e.balanceSingleByteDoubleByteWidth)),e.noExtraLineSpacing&&this.root.push(new Te("w:noExtraLineSpacing",e.noExtraLineSpacing)),e.doNotLeaveBackslashAlone&&this.root.push(new Te("w:doNotLeaveBackslashAlone",e.doNotLeaveBackslashAlone)),e.underlineTrailingSpaces&&this.root.push(new Te("w:ulTrailSpace",e.underlineTrailingSpaces)),e.doNotExpandShiftReturn&&this.root.push(new Te("w:doNotExpandShiftReturn",e.doNotExpandShiftReturn)),e.spacingInWholePoints&&this.root.push(new Te("w:spacingInWholePoints",e.spacingInWholePoints)),e.lineWrapLikeWord6&&this.root.push(new Te("w:lineWrapLikeWord6",e.lineWrapLikeWord6)),e.printBodyTextBeforeHeader&&this.root.push(new Te("w:printBodyTextBeforeHeader",e.printBodyTextBeforeHeader)),e.printColorsBlack&&this.root.push(new Te("w:printColBlack",e.printColorsBlack)),e.spaceWidth&&this.root.push(new Te("w:wpSpaceWidth",e.spaceWidth)),e.showBreaksInFrames&&this.root.push(new Te("w:showBreaksInFrames",e.showBreaksInFrames)),e.subFontBySize&&this.root.push(new Te("w:subFontBySize",e.subFontBySize)),e.suppressBottomSpacing&&this.root.push(new Te("w:suppressBottomSpacing",e.suppressBottomSpacing)),e.suppressTopSpacing&&this.root.push(new Te("w:suppressTopSpacing",e.suppressTopSpacing)),e.suppressSpacingAtTopOfPage&&this.root.push(new Te("w:suppressSpacingAtTopOfPage",e.suppressSpacingAtTopOfPage)),e.suppressTopSpacingWP&&this.root.push(new Te("w:suppressTopSpacingWP",e.suppressTopSpacingWP)),e.suppressSpBfAfterPgBrk&&this.root.push(new Te("w:suppressSpBfAfterPgBrk",e.suppressSpBfAfterPgBrk)),e.swapBordersFacingPages&&this.root.push(new Te("w:swapBordersFacingPages",e.swapBordersFacingPages)),e.convertMailMergeEsc&&this.root.push(new Te("w:convMailMergeEsc",e.convertMailMergeEsc)),e.truncateFontHeightsLikeWP6&&this.root.push(new Te("w:truncateFontHeightsLikeWP6",e.truncateFontHeightsLikeWP6)),e.macWordSmallCaps&&this.root.push(new Te("w:mwSmallCaps",e.macWordSmallCaps)),e.usePrinterMetrics&&this.root.push(new Te("w:usePrinterMetrics",e.usePrinterMetrics)),e.doNotSuppressParagraphBorders&&this.root.push(new Te("w:doNotSuppressParagraphBorders",e.doNotSuppressParagraphBorders)),e.wrapTrailSpaces&&this.root.push(new Te("w:wrapTrailSpaces",e.wrapTrailSpaces)),e.footnoteLayoutLikeWW8&&this.root.push(new Te("w:footnoteLayoutLikeWW8",e.footnoteLayoutLikeWW8)),e.shapeLayoutLikeWW8&&this.root.push(new Te("w:shapeLayoutLikeWW8",e.shapeLayoutLikeWW8)),e.alignTablesRowByRow&&this.root.push(new Te("w:alignTablesRowByRow",e.alignTablesRowByRow)),e.forgetLastTabAlignment&&this.root.push(new Te("w:forgetLastTabAlignment",e.forgetLastTabAlignment)),e.adjustLineHeightInTable&&this.root.push(new Te("w:adjustLineHeightInTable",e.adjustLineHeightInTable)),e.autoSpaceLikeWord95&&this.root.push(new Te("w:autoSpaceLikeWord95",e.autoSpaceLikeWord95)),e.noSpaceRaiseLower&&this.root.push(new Te("w:noSpaceRaiseLower",e.noSpaceRaiseLower)),e.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new Te("w:doNotUseHTMLParagraphAutoSpacing",e.doNotUseHTMLParagraphAutoSpacing)),e.layoutRawTableWidth&&this.root.push(new Te("w:layoutRawTableWidth",e.layoutRawTableWidth)),e.layoutTableRowsApart&&this.root.push(new Te("w:layoutTableRowsApart",e.layoutTableRowsApart)),e.useWord97LineBreakRules&&this.root.push(new Te("w:useWord97LineBreakRules",e.useWord97LineBreakRules)),e.doNotBreakWrappedTables&&this.root.push(new Te("w:doNotBreakWrappedTables",e.doNotBreakWrappedTables)),e.doNotSnapToGridInCell&&this.root.push(new Te("w:doNotSnapToGridInCell",e.doNotSnapToGridInCell)),e.selectFieldWithFirstOrLastCharacter&&this.root.push(new Te("w:selectFldWithFirstOrLastChar",e.selectFieldWithFirstOrLastCharacter)),e.applyBreakingRules&&this.root.push(new Te("w:applyBreakingRules",e.applyBreakingRules)),e.doNotWrapTextWithPunctuation&&this.root.push(new Te("w:doNotWrapTextWithPunct",e.doNotWrapTextWithPunctuation)),e.doNotUseEastAsianBreakRules&&this.root.push(new Te("w:doNotUseEastAsianBreakRules",e.doNotUseEastAsianBreakRules)),e.useWord2002TableStyleRules&&this.root.push(new Te("w:useWord2002TableStyleRules",e.useWord2002TableStyleRules)),e.growAutofit&&this.root.push(new Te("w:growAutofit",e.growAutofit)),e.useFELayout&&this.root.push(new Te("w:useFELayout",e.useFELayout)),e.useNormalStyleForList&&this.root.push(new Te("w:useNormalStyleForList",e.useNormalStyleForList)),e.doNotUseIndentAsNumberingTabStop&&this.root.push(new Te("w:doNotUseIndentAsNumberingTabStop",e.doNotUseIndentAsNumberingTabStop)),e.useAlternateEastAsianLineBreakRules&&this.root.push(new Te("w:useAltKinsokuLineBreakRules",e.useAlternateEastAsianLineBreakRules)),e.allowSpaceOfSameStyleInTable&&this.root.push(new Te("w:allowSpaceOfSameStyleInTable",e.allowSpaceOfSameStyleInTable)),e.doNotSuppressIndentation&&this.root.push(new Te("w:doNotSuppressIndentation",e.doNotSuppressIndentation)),e.doNotAutofitConstrainedTables&&this.root.push(new Te("w:doNotAutofitConstrainedTables",e.doNotAutofitConstrainedTables)),e.autofitToFirstFixedWidthCell&&this.root.push(new Te("w:autofitToFirstFixedWidthCell",e.autofitToFirstFixedWidthCell)),e.underlineTabInNumberingList&&this.root.push(new Te("w:underlineTabInNumList",e.underlineTabInNumberingList)),e.displayHangulFixedWidth&&this.root.push(new Te("w:displayHangulFixedWidth",e.displayHangulFixedWidth)),e.splitPgBreakAndParaMark&&this.root.push(new Te("w:splitPgBreakAndParaMark",e.splitPgBreakAndParaMark)),e.doNotVerticallyAlignCellWithSp&&this.root.push(new Te("w:doNotVertAlignCellWithSp",e.doNotVerticallyAlignCellWithSp)),e.doNotBreakConstrainedForcedTable&&this.root.push(new Te("w:doNotBreakConstrainedForcedTable",e.doNotBreakConstrainedForcedTable)),e.ignoreVerticalAlignmentInTextboxes&&this.root.push(new Te("w:doNotVertAlignInTxbx",e.ignoreVerticalAlignmentInTextboxes)),e.useAnsiKerningPairs&&this.root.push(new Te("w:useAnsiKerningPairs",e.useAnsiKerningPairs)),e.cachedColumnBalance&&this.root.push(new Te("w:cachedColBalance",e.cachedColumnBalance))}}class PL extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class FL extends Se{constructor(e){var t,r,i,s,o,l,c,f;super("w:settings"),this.root.push(new PL({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new Te("w:displayBackgroundShape",!0)),e.trackRevisions!==void 0&&this.root.push(new Te("w:trackRevisions",e.trackRevisions)),e.evenAndOddHeaders!==void 0&&this.root.push(new Te("w:evenAndOddHeaders",e.evenAndOddHeaders)),e.updateFields!==void 0&&this.root.push(new Te("w:updateFields",e.updateFields)),e.defaultTabStop!==void 0&&this.root.push(new ml("w:defaultTabStop",e.defaultTabStop)),((t=e.hyphenation)==null?void 0:t.autoHyphenation)!==void 0&&this.root.push(new Te("w:autoHyphenation",e.hyphenation.autoHyphenation)),((r=e.hyphenation)==null?void 0:r.hyphenationZone)!==void 0&&this.root.push(new ml("w:hyphenationZone",e.hyphenation.hyphenationZone)),((i=e.hyphenation)==null?void 0:i.consecutiveHyphenLimit)!==void 0&&this.root.push(new ml("w:consecutiveHyphenLimit",e.hyphenation.consecutiveHyphenLimit)),((s=e.hyphenation)==null?void 0:s.doNotHyphenateCaps)!==void 0&&this.root.push(new Te("w:doNotHyphenateCaps",e.hyphenation.doNotHyphenateCaps)),this.root.push(new LL(li(Xe({},(o=e.compatibility)!=null?o:{}),{version:(f=(c=(l=e.compatibility)==null?void 0:l.version)!=null?c:e.compatibilityModeVersion)!=null?f:15})))}}class l5 extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{val:"w:val"})}}class BL extends Se{constructor(e){super("w:name"),this.root.push(new l5({val:e}))}}class jL extends Se{constructor(e){super("w:uiPriority"),this.root.push(new l5({val:mn(e)}))}}class zL extends Pe{constructor(){super(...arguments),Ce(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}}class u5 extends Se{constructor(e,t){super("w:style"),this.root.push(new zL(e)),t.name&&this.root.push(new BL(t.name)),t.basedOn&&this.root.push(new Zs("w:basedOn",t.basedOn)),t.next&&this.root.push(new Zs("w:next",t.next)),t.link&&this.root.push(new Zs("w:link",t.link)),t.uiPriority!==void 0&&this.root.push(new jL(t.uiPriority)),t.semiHidden!==void 0&&this.root.push(new Te("w:semiHidden",t.semiHidden)),t.unhideWhenUsed!==void 0&&this.root.push(new Te("w:unhideWhenUsed",t.unhideWhenUsed)),t.quickFormat!==void 0&&this.root.push(new Te("w:qFormat",t.quickFormat))}}class yd extends u5{constructor(e){super({type:"paragraph",styleId:e.id},e),Ce(this,"paragraphProperties"),Ce(this,"runProperties"),this.paragraphProperties=new aa(e.paragraph),this.runProperties=new so(e.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class wd extends u5{constructor(e){super({type:"character",styleId:e.id},Xe({uiPriority:99,unhideWhenUsed:!0},e)),Ce(this,"runProperties"),this.runProperties=new so(e.run),this.root.push(this.runProperties)}}class us extends yd{constructor(e){super(Xe({basedOn:"Normal",next:"Normal",quickFormat:!0},e))}}class HL extends us{constructor(e){super(Xe({id:"Title",name:"Title"},e))}}class UL extends us{constructor(e){super(Xe({id:"Heading1",name:"Heading 1"},e))}}class VL extends us{constructor(e){super(Xe({id:"Heading2",name:"Heading 2"},e))}}class WL extends us{constructor(e){super(Xe({id:"Heading3",name:"Heading 3"},e))}}class $L extends us{constructor(e){super(Xe({id:"Heading4",name:"Heading 4"},e))}}class KL extends us{constructor(e){super(Xe({id:"Heading5",name:"Heading 5"},e))}}class qL extends us{constructor(e){super(Xe({id:"Heading6",name:"Heading 6"},e))}}class GL extends us{constructor(e){super(Xe({id:"Strong",name:"Strong"},e))}}class ZL extends yd{constructor(e){super(Xe({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0},e))}}class XL extends yd{constructor(e){super(Xe({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:kg.AUTO}},run:{size:20}},e))}}class JL extends wd{constructor(e){super(Xe({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}},e))}}class YL extends wd{constructor(e){super(Xe({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}},e))}}class QL extends wd{constructor(e){super(Xe({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:Py.SINGLE}}},e))}}class Ag extends Se{constructor(e){if(super("w:styles"),e.initialStyles&&this.root.push(e.initialStyles),e.importedStyles)for(const t of e.importedStyles)this.root.push(t);if(e.paragraphStyles)for(const t of e.paragraphStyles)this.root.push(new yd(t));if(e.characterStyles)for(const t of e.characterStyles)this.root.push(new wd(t))}}class eP extends Se{constructor(e){super("w:pPrDefault"),this.root.push(new aa(e))}}class tP extends Se{constructor(e){super("w:rPrDefault"),this.root.push(new so(e))}}class nP extends Se{constructor(e){super("w:docDefaults"),Ce(this,"runPropertiesDefaults"),Ce(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new tP(e.run),this.paragraphPropertiesDefaults=new eP(e.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class rP{newInstance(e){const t=MS.xml2js(e,{compact:!1});let r;for(const o of t.elements||[])o.name==="w:styles"&&(r=o);if(r===void 0)throw new Error("can not find styles element");const i=r.elements||[];return new Ag({initialStyles:new _O(r.attributes),importedStyles:i.map(o=>Oy(o))})}}class IE{newInstance(e={}){var t;return{initialStyles:new gd(["mc","r","w","w14","w15"],"w14 w15"),importedStyles:[new nP((t=e.document)!=null?t:{}),new HL(Xe({run:{size:56}},e.title)),new UL(Xe({run:{color:"2E74B5",size:32}},e.heading1)),new VL(Xe({run:{color:"2E74B5",size:26}},e.heading2)),new WL(Xe({run:{color:"1F4D78",size:24}},e.heading3)),new $L(Xe({run:{color:"2E74B5",italics:!0}},e.heading4)),new KL(Xe({run:{color:"2E74B5"}},e.heading5)),new qL(Xe({run:{color:"1F4D78"}},e.heading6)),new GL(Xe({run:{bold:!0}},e.strong)),new ZL(e.listParagraph||{}),new QL(e.hyperlink||{}),new JL(e.footnoteReference||{}),new XL(e.footnoteText||{}),new YL(e.footnoteTextChar||{})]}}}class iP{constructor(e){Ce(this,"currentRelationshipId",1),Ce(this,"documentWrapper"),Ce(this,"headers",[]),Ce(this,"footers",[]),Ce(this,"coreProperties"),Ce(this,"numbering"),Ce(this,"media"),Ce(this,"fileRelationships"),Ce(this,"footnotesWrapper"),Ce(this,"settings"),Ce(this,"contentTypes"),Ce(this,"customProperties"),Ce(this,"appProperties"),Ce(this,"styles"),Ce(this,"comments"),Ce(this,"fontWrapper");var t,r,i,s,o,l,c,f,h,p,g,m;if(this.coreProperties=new UD(li(Xe({},e),{creator:(t=e.creator)!=null?t:"Un-named",revision:(r=e.revision)!=null?r:1,lastModifiedBy:(i=e.lastModifiedBy)!=null?i:"Un-named"})),this.numbering=new IL(e.numbering?e.numbering:{config:[]}),this.comments=new MM((s=e.comments)!=null?s:{children:[]}),this.fileRelationships=new oo,this.customProperties=new GD((o=e.customProperties)!=null?o:[]),this.appProperties=new FD,this.footnotesWrapper=new fL,this.contentTypes=new HD,this.documentWrapper=new t5({background:e.background}),this.settings=new FL({compatibilityModeVersion:e.compatabilityModeVersion,compatibility:e.compatibility,evenAndOddHeaders:!!e.evenAndOddHeaderAndFooters,trackRevisions:(l=e.features)==null?void 0:l.trackRevisions,updateFields:(c=e.features)==null?void 0:c.updateFields,defaultTabStop:e.defaultTabStop,hyphenation:{autoHyphenation:(f=e.hyphenation)==null?void 0:f.autoHyphenation,hyphenationZone:(h=e.hyphenation)==null?void 0:h.hyphenationZone,consecutiveHyphenLimit:(p=e.hyphenation)==null?void 0:p.consecutiveHyphenLimit,doNotHyphenateCaps:(g=e.hyphenation)==null?void 0:g.doNotHyphenateCaps}}),this.media=new mL,e.externalStyles!==void 0){const w=new rP;this.styles=w.newInstance(e.externalStyles)}else if(e.styles){const v=new IE().newInstance(e.styles.default);this.styles=new Ag(Xe(Xe({},v),e.styles))}else{const w=new IE;this.styles=new Ag(w.newInstance())}this.addDefaultRelationships();for(const w of e.sections)this.addSection(w);if(e.footnotes)for(const w in e.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(w),e.footnotes[w].children);this.fontWrapper=new YD((m=e.fonts)!=null?m:[])}addSection({headers:e={},footers:t={},children:r,properties:i}){this.documentWrapper.View.Body.addSection(li(Xe({},i),{headerWrapperGroup:{default:e.default?this.createHeader(e.default):void 0,first:e.first?this.createHeader(e.first):void 0,even:e.even?this.createHeader(e.even):void 0},footerWrapperGroup:{default:t.default?this.createFooter(t.default):void 0,first:t.first?this.createFooter(t.first):void 0,even:t.even?this.createFooter(t.even):void 0}}));for(const s of r)this.documentWrapper.View.add(s)}createHeader(e){const t=new pL(this.media,this.currentRelationshipId++);for(const r of e.options.children)t.add(r);return this.addHeaderToDocument(t),t}createFooter(e){const t=new tL(this.media,this.currentRelationshipId++);for(const r of e.options.children)t.add(r);return this.addFooterToDocument(t),t}addHeaderToDocument(e,t=Go.DEFAULT){this.headers.push({header:e,type:t}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(e,t=Go.DEFAULT){this.footers.push({footer:e,type:t}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(e=>e.header)}get Footers(){return this.footers.map(e=>e.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}get FontTable(){return this.fontWrapper}}var sP=Ry();function Rc(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var O1={exports:{}},ME;function oP(){return ME||(ME=1,function(n,e){(function(t){n.exports=t()})(function(){return function t(r,i,s){function o(f,h){if(!i[f]){if(!r[f]){var p=typeof Rc=="function"&&Rc;if(!h&&p)return p(f,!0);if(l)return l(f,!0);var g=new Error("Cannot find module '"+f+"'");throw g.code="MODULE_NOT_FOUND",g}var m=i[f]={exports:{}};r[f][0].call(m.exports,function(w){var v=r[f][1][w];return o(v||w)},m,m.exports,t,r,i,s)}return i[f].exports}for(var l=typeof Rc=="function"&&Rc,c=0;c<s.length;c++)o(s[c]);return o}({1:[function(t,r,i){var s=t("./utils"),o=t("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(c){for(var f,h,p,g,m,w,v,E=[],b=0,T=c.length,A=T,k=s.getTypeOf(c)!=="string";b<c.length;)A=T-b,p=k?(f=c[b++],h=b<T?c[b++]:0,b<T?c[b++]:0):(f=c.charCodeAt(b++),h=b<T?c.charCodeAt(b++):0,b<T?c.charCodeAt(b++):0),g=f>>2,m=(3&f)<<4|h>>4,w=1<A?(15&h)<<2|p>>6:64,v=2<A?63&p:64,E.push(l.charAt(g)+l.charAt(m)+l.charAt(w)+l.charAt(v));return E.join("")},i.decode=function(c){var f,h,p,g,m,w,v=0,E=0,b="data:";if(c.substr(0,b.length)===b)throw new Error("Invalid base64 input, it looks like a data url.");var T,A=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===l.charAt(64)&&A--,c.charAt(c.length-2)===l.charAt(64)&&A--,A%1!=0)throw new Error("Invalid base64 input, bad content length.");for(T=o.uint8array?new Uint8Array(0|A):new Array(0|A);v<c.length;)f=l.indexOf(c.charAt(v++))<<2|(g=l.indexOf(c.charAt(v++)))>>4,h=(15&g)<<4|(m=l.indexOf(c.charAt(v++)))>>2,p=(3&m)<<6|(w=l.indexOf(c.charAt(v++))),T[E++]=f,m!==64&&(T[E++]=h),w!==64&&(T[E++]=p);return T}},{"./support":30,"./utils":32}],2:[function(t,r,i){var s=t("./external"),o=t("./stream/DataWorker"),l=t("./stream/Crc32Probe"),c=t("./stream/DataLengthProbe");function f(h,p,g,m,w){this.compressedSize=h,this.uncompressedSize=p,this.crc32=g,this.compression=m,this.compressedContent=w}f.prototype={getContentWorker:function(){var h=new o(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),p=this;return h.on("end",function(){if(this.streamInfo.data_length!==p.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),h},getCompressedWorker:function(){return new o(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},f.createWorkerFrom=function(h,p,g){return h.pipe(new l).pipe(new c("uncompressedSize")).pipe(p.compressWorker(g)).pipe(new c("compressedSize")).withStreamInfo("compression",p)},r.exports=f},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,r,i){var s=t("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,r,i){var s=t("./utils"),o=function(){for(var l,c=[],f=0;f<256;f++){l=f;for(var h=0;h<8;h++)l=1&l?3988292384^l>>>1:l>>>1;c[f]=l}return c}();r.exports=function(l,c){return l!==void 0&&l.length?s.getTypeOf(l)!=="string"?function(f,h,p,g){var m=o,w=g+p;f^=-1;for(var v=g;v<w;v++)f=f>>>8^m[255&(f^h[v])];return-1^f}(0|c,l,l.length,0):function(f,h,p,g){var m=o,w=g+p;f^=-1;for(var v=g;v<w;v++)f=f>>>8^m[255&(f^h.charCodeAt(v))];return-1^f}(0|c,l,l.length,0):0}},{"./utils":32}],5:[function(t,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(t,r,i){var s=null;s=typeof Promise<"u"?Promise:t("lie"),r.exports={Promise:s}},{lie:37}],7:[function(t,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=t("pako"),l=t("./utils"),c=t("./stream/GenericWorker"),f=s?"uint8array":"array";function h(p,g){c.call(this,"FlateWorker/"+p),this._pako=null,this._pakoAction=p,this._pakoOptions=g,this.meta={}}i.magic="\b\0",l.inherits(h,c),h.prototype.processChunk=function(p){this.meta=p.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(f,p.data),!1)},h.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var p=this;this._pako.onData=function(g){p.push({data:g,meta:p.meta})}},i.compressWorker=function(p){return new h("Deflate",p)},i.uncompressWorker=function(){return new h("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,r,i){function s(m,w){var v,E="";for(v=0;v<w;v++)E+=String.fromCharCode(255&m),m>>>=8;return E}function o(m,w,v,E,b,T){var A,k,I=m.file,j=m.compression,W=T!==f.utf8encode,ee=l.transformTo("string",T(I.name)),F=l.transformTo("string",f.utf8encode(I.name)),se=I.comment,be=l.transformTo("string",T(se)),B=l.transformTo("string",f.utf8encode(se)),Y=F.length!==I.name.length,N=B.length!==se.length,G="",ue="",q="",X=I.dir,te=I.date,de={crc32:0,compressedSize:0,uncompressedSize:0};w&&!v||(de.crc32=m.crc32,de.compressedSize=m.compressedSize,de.uncompressedSize=m.uncompressedSize);var H=0;w&&(H|=8),W||!Y&&!N||(H|=2048);var L=0,re=0;X&&(L|=16),b==="UNIX"?(re=798,L|=function(me,ie){var D=me;return me||(D=ie?16893:33204),(65535&D)<<16}(I.unixPermissions,X)):(re=20,L|=function(me){return 63&(me||0)}(I.dosPermissions)),A=te.getUTCHours(),A<<=6,A|=te.getUTCMinutes(),A<<=5,A|=te.getUTCSeconds()/2,k=te.getUTCFullYear()-1980,k<<=4,k|=te.getUTCMonth()+1,k<<=5,k|=te.getUTCDate(),Y&&(ue=s(1,1)+s(h(ee),4)+F,G+="up"+s(ue.length,2)+ue),N&&(q=s(1,1)+s(h(be),4)+B,G+="uc"+s(q.length,2)+q);var le="";return le+=`
\0`,le+=s(H,2),le+=j.magic,le+=s(A,2),le+=s(k,2),le+=s(de.crc32,4),le+=s(de.compressedSize,4),le+=s(de.uncompressedSize,4),le+=s(ee.length,2),le+=s(G.length,2),{fileRecord:p.LOCAL_FILE_HEADER+le+ee+G,dirRecord:p.CENTRAL_FILE_HEADER+s(re,2)+le+s(be.length,2)+"\0\0\0\0"+s(L,4)+s(E,4)+ee+G+be}}var l=t("../utils"),c=t("../stream/GenericWorker"),f=t("../utf8"),h=t("../crc32"),p=t("../signature");function g(m,w,v,E){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=w,this.zipPlatform=v,this.encodeFileName=E,this.streamFiles=m,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(g,c),g.prototype.push=function(m){var w=m.meta.percent||0,v=this.entriesCount,E=this._sources.length;this.accumulate?this.contentBuffer.push(m):(this.bytesWritten+=m.data.length,c.prototype.push.call(this,{data:m.data,meta:{currentFile:this.currentFile,percent:v?(w+100*(v-E-1))/v:100}}))},g.prototype.openedSource=function(m){this.currentSourceOffset=this.bytesWritten,this.currentFile=m.file.name;var w=this.streamFiles&&!m.file.dir;if(w){var v=o(m,w,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:v.fileRecord,meta:{percent:0}})}else this.accumulate=!0},g.prototype.closedSource=function(m){this.accumulate=!1;var w=this.streamFiles&&!m.file.dir,v=o(m,w,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(v.dirRecord),w)this.push({data:function(E){return p.DATA_DESCRIPTOR+s(E.crc32,4)+s(E.compressedSize,4)+s(E.uncompressedSize,4)}(m),meta:{percent:100}});else for(this.push({data:v.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},g.prototype.flush=function(){for(var m=this.bytesWritten,w=0;w<this.dirRecords.length;w++)this.push({data:this.dirRecords[w],meta:{percent:100}});var v=this.bytesWritten-m,E=function(b,T,A,k,I){var j=l.transformTo("string",I(k));return p.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(b,2)+s(b,2)+s(T,4)+s(A,4)+s(j.length,2)+j}(this.dirRecords.length,v,m,this.zipComment,this.encodeFileName);this.push({data:E,meta:{percent:100}})},g.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},g.prototype.registerPrevious=function(m){this._sources.push(m);var w=this;return m.on("data",function(v){w.processChunk(v)}),m.on("end",function(){w.closedSource(w.previous.streamInfo),w._sources.length?w.prepareNextSource():w.end()}),m.on("error",function(v){w.error(v)}),this},g.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},g.prototype.error=function(m){var w=this._sources;if(!c.prototype.error.call(this,m))return!1;for(var v=0;v<w.length;v++)try{w[v].error(m)}catch{}return!0},g.prototype.lock=function(){c.prototype.lock.call(this);for(var m=this._sources,w=0;w<m.length;w++)m[w].lock()},r.exports=g},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,r,i){var s=t("../compressions"),o=t("./ZipFileWorker");i.generateWorker=function(l,c,f){var h=new o(c.streamFiles,f,c.platform,c.encodeFileName),p=0;try{l.forEach(function(g,m){p++;var w=function(T,A){var k=T||A,I=s[k];if(!I)throw new Error(k+" is not a valid compression method !");return I}(m.options.compression,c.compression),v=m.options.compressionOptions||c.compressionOptions||{},E=m.dir,b=m.date;m._compressWorker(w,v).withStreamInfo("file",{name:g,dir:E,date:b,comment:m.comment||"",unixPermissions:m.unixPermissions,dosPermissions:m.dosPermissions}).pipe(h)}),h.entriesCount=p}catch(g){h.error(g)}return h}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,r,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new s;for(var l in this)typeof this[l]!="function"&&(o[l]=this[l]);return o}}(s.prototype=t("./object")).loadAsync=t("./load"),s.support=t("./support"),s.defaults=t("./defaults"),s.version="3.10.1",s.loadAsync=function(o,l){return new s().loadAsync(o,l)},s.external=t("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,r,i){var s=t("./utils"),o=t("./external"),l=t("./utf8"),c=t("./zipEntries"),f=t("./stream/Crc32Probe"),h=t("./nodejsUtils");function p(g){return new o.Promise(function(m,w){var v=g.decompressed.getContentWorker().pipe(new f);v.on("error",function(E){w(E)}).on("end",function(){v.streamInfo.crc32!==g.decompressed.crc32?w(new Error("Corrupted zip : CRC32 mismatch")):m()}).resume()})}r.exports=function(g,m){var w=this;return m=s.extend(m||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),h.isNode&&h.isStream(g)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",g,!0,m.optimizedBinaryString,m.base64).then(function(v){var E=new c(m);return E.load(v),E}).then(function(v){var E=[o.Promise.resolve(v)],b=v.files;if(m.checkCRC32)for(var T=0;T<b.length;T++)E.push(p(b[T]));return o.Promise.all(E)}).then(function(v){for(var E=v.shift(),b=E.files,T=0;T<b.length;T++){var A=b[T],k=A.fileNameStr,I=s.resolve(A.fileNameStr);w.file(I,A.decompressed,{binary:!0,optimizedBinaryString:!0,date:A.date,dir:A.dir,comment:A.fileCommentStr.length?A.fileCommentStr:null,unixPermissions:A.unixPermissions,dosPermissions:A.dosPermissions,createFolders:m.createFolders}),A.dir||(w.file(I).unsafeOriginalName=k)}return E.zipComment.length&&(w.comment=E.zipComment),w})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,r,i){var s=t("../utils"),o=t("../stream/GenericWorker");function l(c,f){o.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(f)}s.inherits(l,o),l.prototype._bindStream=function(c){var f=this;(this._stream=c).pause(),c.on("data",function(h){f.push({data:h,meta:{percent:0}})}).on("error",function(h){f.isPaused?this.generatedError=h:f.error(h)}).on("end",function(){f.isPaused?f._upstreamEnded=!0:f.end()})},l.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,r,i){var s=t("readable-stream").Readable;function o(l,c,f){s.call(this,c),this._helper=l;var h=this;l.on("data",function(p,g){h.push(p)||h._helper.pause(),f&&f(g)}).on("error",function(p){h.emit("error",p)}).on("end",function(){h.push(null)})}t("../utils").inherits(o,s),o.prototype._read=function(){this._helper.resume()},r.exports=o},{"../utils":32,"readable-stream":16}],14:[function(t,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,o);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,o)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var o=new Buffer(s);return o.fill(0),o},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(t,r,i){function s(I,j,W){var ee,F=l.getTypeOf(j),se=l.extend(W||{},h);se.date=se.date||new Date,se.compression!==null&&(se.compression=se.compression.toUpperCase()),typeof se.unixPermissions=="string"&&(se.unixPermissions=parseInt(se.unixPermissions,8)),se.unixPermissions&&16384&se.unixPermissions&&(se.dir=!0),se.dosPermissions&&16&se.dosPermissions&&(se.dir=!0),se.dir&&(I=b(I)),se.createFolders&&(ee=E(I))&&T.call(this,ee,!0);var be=F==="string"&&se.binary===!1&&se.base64===!1;W&&W.binary!==void 0||(se.binary=!be),(j instanceof p&&j.uncompressedSize===0||se.dir||!j||j.length===0)&&(se.base64=!1,se.binary=!0,j="",se.compression="STORE",F="string");var B=null;B=j instanceof p||j instanceof c?j:w.isNode&&w.isStream(j)?new v(I,j):l.prepareContent(I,j,se.binary,se.optimizedBinaryString,se.base64);var Y=new g(I,B,se);this.files[I]=Y}var o=t("./utf8"),l=t("./utils"),c=t("./stream/GenericWorker"),f=t("./stream/StreamHelper"),h=t("./defaults"),p=t("./compressedObject"),g=t("./zipObject"),m=t("./generate"),w=t("./nodejsUtils"),v=t("./nodejs/NodejsStreamInputAdapter"),E=function(I){I.slice(-1)==="/"&&(I=I.substring(0,I.length-1));var j=I.lastIndexOf("/");return 0<j?I.substring(0,j):""},b=function(I){return I.slice(-1)!=="/"&&(I+="/"),I},T=function(I,j){return j=j!==void 0?j:h.createFolders,I=b(I),this.files[I]||s.call(this,I,null,{dir:!0,createFolders:j}),this.files[I]};function A(I){return Object.prototype.toString.call(I)==="[object RegExp]"}var k={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(I){var j,W,ee;for(j in this.files)ee=this.files[j],(W=j.slice(this.root.length,j.length))&&j.slice(0,this.root.length)===this.root&&I(W,ee)},filter:function(I){var j=[];return this.forEach(function(W,ee){I(W,ee)&&j.push(ee)}),j},file:function(I,j,W){if(arguments.length!==1)return I=this.root+I,s.call(this,I,j,W),this;if(A(I)){var ee=I;return this.filter(function(se,be){return!be.dir&&ee.test(se)})}var F=this.files[this.root+I];return F&&!F.dir?F:null},folder:function(I){if(!I)return this;if(A(I))return this.filter(function(F,se){return se.dir&&I.test(F)});var j=this.root+I,W=T.call(this,j),ee=this.clone();return ee.root=W.name,ee},remove:function(I){I=this.root+I;var j=this.files[I];if(j||(I.slice(-1)!=="/"&&(I+="/"),j=this.files[I]),j&&!j.dir)delete this.files[I];else for(var W=this.filter(function(F,se){return se.name.slice(0,I.length)===I}),ee=0;ee<W.length;ee++)delete this.files[W[ee].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(I){var j,W={};try{if((W=l.extend(I||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=W.type.toLowerCase(),W.compression=W.compression.toUpperCase(),W.type==="binarystring"&&(W.type="string"),!W.type)throw new Error("No output type specified.");l.checkSupport(W.type),W.platform!=="darwin"&&W.platform!=="freebsd"&&W.platform!=="linux"&&W.platform!=="sunos"||(W.platform="UNIX"),W.platform==="win32"&&(W.platform="DOS");var ee=W.comment||this.comment||"";j=m.generateWorker(this,W,ee)}catch(F){(j=new c("error")).error(F)}return new f(j,W.type||"string",W.mimeType)},generateAsync:function(I,j){return this.generateInternalStream(I).accumulate(j)},generateNodeStream:function(I,j){return(I=I||{}).type||(I.type="nodebuffer"),this.generateInternalStream(I).toNodejsStream(j)}};r.exports=k},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,r,i){r.exports=t("stream")},{stream:void 0}],17:[function(t,r,i){var s=t("./DataReader");function o(l){s.call(this,l);for(var c=0;c<this.data.length;c++)l[c]=255&l[c]}t("../utils").inherits(o,s),o.prototype.byteAt=function(l){return this.data[this.zero+l]},o.prototype.lastIndexOfSignature=function(l){for(var c=l.charCodeAt(0),f=l.charCodeAt(1),h=l.charCodeAt(2),p=l.charCodeAt(3),g=this.length-4;0<=g;--g)if(this.data[g]===c&&this.data[g+1]===f&&this.data[g+2]===h&&this.data[g+3]===p)return g-this.zero;return-1},o.prototype.readAndCheckSignature=function(l){var c=l.charCodeAt(0),f=l.charCodeAt(1),h=l.charCodeAt(2),p=l.charCodeAt(3),g=this.readData(4);return c===g[0]&&f===g[1]&&h===g[2]&&p===g[3]},o.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},r.exports=o},{"../utils":32,"./DataReader":18}],18:[function(t,r,i){var s=t("../utils");function o(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var c,f=0;for(this.checkOffset(l),c=this.index+l-1;c>=this.index;c--)f=(f<<8)+this.byteAt(c);return this.index+=l,f},readString:function(l){return s.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},r.exports=o},{"../utils":32}],19:[function(t,r,i){var s=t("./Uint8ArrayReader");function o(l){s.call(this,l)}t("../utils").inherits(o,s),o.prototype.readData=function(l){this.checkOffset(l);var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},r.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,r,i){var s=t("./DataReader");function o(l){s.call(this,l)}t("../utils").inherits(o,s),o.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},o.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},o.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},o.prototype.readData=function(l){this.checkOffset(l);var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},r.exports=o},{"../utils":32,"./DataReader":18}],21:[function(t,r,i){var s=t("./ArrayReader");function o(l){s.call(this,l)}t("../utils").inherits(o,s),o.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},r.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(t,r,i){var s=t("../utils"),o=t("../support"),l=t("./ArrayReader"),c=t("./StringReader"),f=t("./NodeBufferReader"),h=t("./Uint8ArrayReader");r.exports=function(p){var g=s.getTypeOf(p);return s.checkSupport(g),g!=="string"||o.uint8array?g==="nodebuffer"?new f(p):o.uint8array?new h(s.transformTo("uint8array",p)):new l(s.transformTo("array",p)):new c(p)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,r,i){var s=t("./GenericWorker"),o=t("../utils");function l(c){s.call(this,"ConvertWorker to "+c),this.destType=c}o.inherits(l,s),l.prototype.processChunk=function(c){this.push({data:o.transformTo(this.destType,c.data),meta:c.meta})},r.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(t,r,i){var s=t("./GenericWorker"),o=t("../crc32");function l(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(l,s),l.prototype.processChunk=function(c){this.streamInfo.crc32=o(c.data,this.streamInfo.crc32||0),this.push(c)},r.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,r,i){var s=t("../utils"),o=t("./GenericWorker");function l(c){o.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}s.inherits(l,o),l.prototype.processChunk=function(c){if(c){var f=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=f+c.data.length}o.prototype.processChunk.call(this,c)},r.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(t,r,i){var s=t("../utils"),o=t("./GenericWorker");function l(c){o.call(this,"DataWorker");var f=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(h){f.dataIsReady=!0,f.data=h,f.max=h&&h.length||0,f.type=s.getTypeOf(h),f.isPaused||f._tickAndRepeat()},function(h){f.error(h)})}s.inherits(l,o),l.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,f=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,f);break;case"uint8array":c=this.data.subarray(this.index,f);break;case"array":case"nodebuffer":c=this.data.slice(this.index,f)}return this.index=f,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(t,r,i){function s(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,l){return this._listeners[o].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,l){if(this._listeners[o])for(var c=0;c<this._listeners[o].length;c++)this._listeners[o][c].call(this,l)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var l=this;return o.on("data",function(c){l.processChunk(c)}),o.on("end",function(){l.end()}),o.on("error",function(c){l.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,l){return this.extraStreamInfo[o]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},r.exports=s},{}],29:[function(t,r,i){var s=t("../utils"),o=t("./ConvertWorker"),l=t("./GenericWorker"),c=t("../base64"),f=t("../support"),h=t("../external"),p=null;if(f.nodestream)try{p=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function g(w,v){return new h.Promise(function(E,b){var T=[],A=w._internalType,k=w._outputType,I=w._mimeType;w.on("data",function(j,W){T.push(j),v&&v(W)}).on("error",function(j){T=[],b(j)}).on("end",function(){try{var j=function(W,ee,F){switch(W){case"blob":return s.newBlob(s.transformTo("arraybuffer",ee),F);case"base64":return c.encode(ee);default:return s.transformTo(W,ee)}}(k,function(W,ee){var F,se=0,be=null,B=0;for(F=0;F<ee.length;F++)B+=ee[F].length;switch(W){case"string":return ee.join("");case"array":return Array.prototype.concat.apply([],ee);case"uint8array":for(be=new Uint8Array(B),F=0;F<ee.length;F++)be.set(ee[F],se),se+=ee[F].length;return be;case"nodebuffer":return Buffer.concat(ee);default:throw new Error("concat : unsupported type '"+W+"'")}}(A,T),I);E(j)}catch(W){b(W)}T=[]}).resume()})}function m(w,v,E){var b=v;switch(v){case"blob":case"arraybuffer":b="uint8array";break;case"base64":b="string"}try{this._internalType=b,this._outputType=v,this._mimeType=E,s.checkSupport(b),this._worker=w.pipe(new o(b)),w.lock()}catch(T){this._worker=new l("error"),this._worker.error(T)}}m.prototype={accumulate:function(w){return g(this,w)},on:function(w,v){var E=this;return w==="data"?this._worker.on(w,function(b){v.call(E,b.data,b.meta)}):this._worker.on(w,function(){s.delay(v,arguments,E)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(w){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new p(this,{objectMode:this._outputType!=="nodebuffer"},w)}},r.exports=m},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(s),i.blob=o.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!t("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(t,r,i){for(var s=t("./utils"),o=t("./support"),l=t("./nodejsUtils"),c=t("./stream/GenericWorker"),f=new Array(256),h=0;h<256;h++)f[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;f[254]=f[254]=1;function p(){c.call(this,"utf-8 decode"),this.leftOver=null}function g(){c.call(this,"utf-8 encode")}i.utf8encode=function(m){return o.nodebuffer?l.newBufferFrom(m,"utf-8"):function(w){var v,E,b,T,A,k=w.length,I=0;for(T=0;T<k;T++)(64512&(E=w.charCodeAt(T)))==55296&&T+1<k&&(64512&(b=w.charCodeAt(T+1)))==56320&&(E=65536+(E-55296<<10)+(b-56320),T++),I+=E<128?1:E<2048?2:E<65536?3:4;for(v=o.uint8array?new Uint8Array(I):new Array(I),T=A=0;A<I;T++)(64512&(E=w.charCodeAt(T)))==55296&&T+1<k&&(64512&(b=w.charCodeAt(T+1)))==56320&&(E=65536+(E-55296<<10)+(b-56320),T++),E<128?v[A++]=E:(E<2048?v[A++]=192|E>>>6:(E<65536?v[A++]=224|E>>>12:(v[A++]=240|E>>>18,v[A++]=128|E>>>12&63),v[A++]=128|E>>>6&63),v[A++]=128|63&E);return v}(m)},i.utf8decode=function(m){return o.nodebuffer?s.transformTo("nodebuffer",m).toString("utf-8"):function(w){var v,E,b,T,A=w.length,k=new Array(2*A);for(v=E=0;v<A;)if((b=w[v++])<128)k[E++]=b;else if(4<(T=f[b]))k[E++]=65533,v+=T-1;else{for(b&=T===2?31:T===3?15:7;1<T&&v<A;)b=b<<6|63&w[v++],T--;1<T?k[E++]=65533:b<65536?k[E++]=b:(b-=65536,k[E++]=55296|b>>10&1023,k[E++]=56320|1023&b)}return k.length!==E&&(k.subarray?k=k.subarray(0,E):k.length=E),s.applyFromCharCode(k)}(m=s.transformTo(o.uint8array?"uint8array":"array",m))},s.inherits(p,c),p.prototype.processChunk=function(m){var w=s.transformTo(o.uint8array?"uint8array":"array",m.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var v=w;(w=new Uint8Array(v.length+this.leftOver.length)).set(this.leftOver,0),w.set(v,this.leftOver.length)}else w=this.leftOver.concat(w);this.leftOver=null}var E=function(T,A){var k;for((A=A||T.length)>T.length&&(A=T.length),k=A-1;0<=k&&(192&T[k])==128;)k--;return k<0||k===0?A:k+f[T[k]]>A?k:A}(w),b=w;E!==w.length&&(o.uint8array?(b=w.subarray(0,E),this.leftOver=w.subarray(E,w.length)):(b=w.slice(0,E),this.leftOver=w.slice(E,w.length))),this.push({data:i.utf8decode(b),meta:m.meta})},p.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=p,s.inherits(g,c),g.prototype.processChunk=function(m){this.push({data:i.utf8encode(m.data),meta:m.meta})},i.Utf8EncodeWorker=g},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,r,i){var s=t("./support"),o=t("./base64"),l=t("./nodejsUtils"),c=t("./external");function f(v){return v}function h(v,E){for(var b=0;b<v.length;++b)E[b]=255&v.charCodeAt(b);return E}t("setimmediate"),i.newBlob=function(v,E){i.checkSupport("blob");try{return new Blob([v],{type:E})}catch{try{var b=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return b.append(v),b.getBlob(E)}catch{throw new Error("Bug : can't construct the Blob.")}}};var p={stringifyByChunk:function(v,E,b){var T=[],A=0,k=v.length;if(k<=b)return String.fromCharCode.apply(null,v);for(;A<k;)E==="array"||E==="nodebuffer"?T.push(String.fromCharCode.apply(null,v.slice(A,Math.min(A+b,k)))):T.push(String.fromCharCode.apply(null,v.subarray(A,Math.min(A+b,k)))),A+=b;return T.join("")},stringifyByChar:function(v){for(var E="",b=0;b<v.length;b++)E+=String.fromCharCode(v[b]);return E},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}}()}};function g(v){var E=65536,b=i.getTypeOf(v),T=!0;if(b==="uint8array"?T=p.applyCanBeUsed.uint8array:b==="nodebuffer"&&(T=p.applyCanBeUsed.nodebuffer),T)for(;1<E;)try{return p.stringifyByChunk(v,b,E)}catch{E=Math.floor(E/2)}return p.stringifyByChar(v)}function m(v,E){for(var b=0;b<v.length;b++)E[b]=v[b];return E}i.applyFromCharCode=g;var w={};w.string={string:f,array:function(v){return h(v,new Array(v.length))},arraybuffer:function(v){return w.string.uint8array(v).buffer},uint8array:function(v){return h(v,new Uint8Array(v.length))},nodebuffer:function(v){return h(v,l.allocBuffer(v.length))}},w.array={string:g,array:f,arraybuffer:function(v){return new Uint8Array(v).buffer},uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return l.newBufferFrom(v)}},w.arraybuffer={string:function(v){return g(new Uint8Array(v))},array:function(v){return m(new Uint8Array(v),new Array(v.byteLength))},arraybuffer:f,uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return l.newBufferFrom(new Uint8Array(v))}},w.uint8array={string:g,array:function(v){return m(v,new Array(v.length))},arraybuffer:function(v){return v.buffer},uint8array:f,nodebuffer:function(v){return l.newBufferFrom(v)}},w.nodebuffer={string:g,array:function(v){return m(v,new Array(v.length))},arraybuffer:function(v){return w.nodebuffer.uint8array(v).buffer},uint8array:function(v){return m(v,new Uint8Array(v.length))},nodebuffer:f},i.transformTo=function(v,E){if(E=E||"",!v)return E;i.checkSupport(v);var b=i.getTypeOf(E);return w[b][v](E)},i.resolve=function(v){for(var E=v.split("/"),b=[],T=0;T<E.length;T++){var A=E[T];A==="."||A===""&&T!==0&&T!==E.length-1||(A===".."?b.pop():b.push(A))}return b.join("/")},i.getTypeOf=function(v){return typeof v=="string"?"string":Object.prototype.toString.call(v)==="[object Array]"?"array":s.nodebuffer&&l.isBuffer(v)?"nodebuffer":s.uint8array&&v instanceof Uint8Array?"uint8array":s.arraybuffer&&v instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(v){if(!s[v.toLowerCase()])throw new Error(v+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(v){var E,b,T="";for(b=0;b<(v||"").length;b++)T+="\\x"+((E=v.charCodeAt(b))<16?"0":"")+E.toString(16).toUpperCase();return T},i.delay=function(v,E,b){setImmediate(function(){v.apply(b||null,E||[])})},i.inherits=function(v,E){function b(){}b.prototype=E.prototype,v.prototype=new b},i.extend=function(){var v,E,b={};for(v=0;v<arguments.length;v++)for(E in arguments[v])Object.prototype.hasOwnProperty.call(arguments[v],E)&&b[E]===void 0&&(b[E]=arguments[v][E]);return b},i.prepareContent=function(v,E,b,T,A){return c.Promise.resolve(E).then(function(k){return s.blob&&(k instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(k))!==-1)&&typeof FileReader<"u"?new c.Promise(function(I,j){var W=new FileReader;W.onload=function(ee){I(ee.target.result)},W.onerror=function(ee){j(ee.target.error)},W.readAsArrayBuffer(k)}):k}).then(function(k){var I=i.getTypeOf(k);return I?(I==="arraybuffer"?k=i.transformTo("uint8array",k):I==="string"&&(A?k=o.decode(k):b&&T!==!0&&(k=function(j){return h(j,s.uint8array?new Uint8Array(j.length):new Array(j.length))}(k))),k):c.Promise.reject(new Error("Can't read the data of '"+v+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,r,i){var s=t("./reader/readerFor"),o=t("./utils"),l=t("./signature"),c=t("./zipEntry"),f=t("./support");function h(p){this.files=[],this.loadOptions=p}h.prototype={checkSignature:function(p){if(!this.reader.readAndCheckSignature(p)){this.reader.index-=4;var g=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(g)+", expected "+o.pretty(p)+")")}},isSignature:function(p,g){var m=this.reader.index;this.reader.setIndex(p);var w=this.reader.readString(4)===g;return this.reader.setIndex(m),w},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var p=this.reader.readData(this.zipCommentLength),g=f.uint8array?"uint8array":"array",m=o.transformTo(g,p);this.zipComment=this.loadOptions.decodeFileName(m)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var p,g,m,w=this.zip64EndOfCentralSize-44;0<w;)p=this.reader.readInt(2),g=this.reader.readInt(4),m=this.reader.readData(g),this.zip64ExtensibleData[p]={id:p,length:g,value:m}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var p,g;for(p=0;p<this.files.length;p++)g=this.files[p],this.reader.setIndex(g.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),g.readLocalPart(this.reader),g.handleUTF8(),g.processAttributes()},readCentralDir:function(){var p;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(p=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(p);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var p=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(p<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(p);var g=p;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(p=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(p),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var m=this.centralDirOffset+this.centralDirSize;this.zip64&&(m+=20,m+=12+this.zip64EndOfCentralSize);var w=g-m;if(0<w)this.isSignature(g,l.CENTRAL_FILE_HEADER)||(this.reader.zero=w);else if(w<0)throw new Error("Corrupted zip: missing "+Math.abs(w)+" bytes.")},prepareReader:function(p){this.reader=s(p)},load:function(p){this.prepareReader(p),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=h},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,r,i){var s=t("./reader/readerFor"),o=t("./utils"),l=t("./compressedObject"),c=t("./crc32"),f=t("./utf8"),h=t("./compressions"),p=t("./support");function g(m,w){this.options=m,this.loadOptions=w}g.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(m){var w,v;if(m.skip(22),this.fileNameLength=m.readInt(2),v=m.readInt(2),this.fileName=m.readData(this.fileNameLength),m.skip(v),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((w=function(E){for(var b in h)if(Object.prototype.hasOwnProperty.call(h,b)&&h[b].magic===E)return h[b];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,w,m.readData(this.compressedSize))},readCentralPart:function(m){this.versionMadeBy=m.readInt(2),m.skip(2),this.bitFlag=m.readInt(2),this.compressionMethod=m.readString(2),this.date=m.readDate(),this.crc32=m.readInt(4),this.compressedSize=m.readInt(4),this.uncompressedSize=m.readInt(4);var w=m.readInt(2);if(this.extraFieldsLength=m.readInt(2),this.fileCommentLength=m.readInt(2),this.diskNumberStart=m.readInt(2),this.internalFileAttributes=m.readInt(2),this.externalFileAttributes=m.readInt(4),this.localHeaderOffset=m.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");m.skip(w),this.readExtraFields(m),this.parseZIP64ExtraField(m),this.fileComment=m.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var m=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),m==0&&(this.dosPermissions=63&this.externalFileAttributes),m==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var m=s(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=m.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=m.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=m.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=m.readInt(4))}},readExtraFields:function(m){var w,v,E,b=m.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});m.index+4<b;)w=m.readInt(2),v=m.readInt(2),E=m.readData(v),this.extraFields[w]={id:w,length:v,value:E};m.setIndex(b)},handleUTF8:function(){var m=p.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=f.utf8decode(this.fileName),this.fileCommentStr=f.utf8decode(this.fileComment);else{var w=this.findExtraFieldUnicodePath();if(w!==null)this.fileNameStr=w;else{var v=o.transformTo(m,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(v)}var E=this.findExtraFieldUnicodeComment();if(E!==null)this.fileCommentStr=E;else{var b=o.transformTo(m,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(b)}}},findExtraFieldUnicodePath:function(){var m=this.extraFields[28789];if(m){var w=s(m.value);return w.readInt(1)!==1||c(this.fileName)!==w.readInt(4)?null:f.utf8decode(w.readData(m.length-5))}return null},findExtraFieldUnicodeComment:function(){var m=this.extraFields[25461];if(m){var w=s(m.value);return w.readInt(1)!==1||c(this.fileComment)!==w.readInt(4)?null:f.utf8decode(w.readData(m.length-5))}return null}},r.exports=g},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,r,i){function s(w,v,E){this.name=w,this.dir=E.dir,this.date=E.date,this.comment=E.comment,this.unixPermissions=E.unixPermissions,this.dosPermissions=E.dosPermissions,this._data=v,this._dataBinary=E.binary,this.options={compression:E.compression,compressionOptions:E.compressionOptions}}var o=t("./stream/StreamHelper"),l=t("./stream/DataWorker"),c=t("./utf8"),f=t("./compressedObject"),h=t("./stream/GenericWorker");s.prototype={internalStream:function(w){var v=null,E="string";try{if(!w)throw new Error("No output type specified.");var b=(E=w.toLowerCase())==="string"||E==="text";E!=="binarystring"&&E!=="text"||(E="string"),v=this._decompressWorker();var T=!this._dataBinary;T&&!b&&(v=v.pipe(new c.Utf8EncodeWorker)),!T&&b&&(v=v.pipe(new c.Utf8DecodeWorker))}catch(A){(v=new h("error")).error(A)}return new o(v,E,"")},async:function(w,v){return this.internalStream(w).accumulate(v)},nodeStream:function(w,v){return this.internalStream(w||"nodebuffer").toNodejsStream(v)},_compressWorker:function(w,v){if(this._data instanceof f&&this._data.compression.magic===w.magic)return this._data.getCompressedWorker();var E=this._decompressWorker();return this._dataBinary||(E=E.pipe(new c.Utf8EncodeWorker)),f.createWorkerFrom(E,w,v)},_decompressWorker:function(){return this._data instanceof f?this._data.getContentWorker():this._data instanceof h?this._data:new l(this._data)}};for(var p=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],g=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},m=0;m<p.length;m++)s.prototype[p[m]]=g;r.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,r,i){(function(s){var o,l,c=s.MutationObserver||s.WebKitMutationObserver;if(c){var f=0,h=new c(w),p=s.document.createTextNode("");h.observe(p,{characterData:!0}),o=function(){p.data=f=++f%2}}else if(s.setImmediate||s.MessageChannel===void 0)o="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var v=s.document.createElement("script");v.onreadystatechange=function(){w(),v.onreadystatechange=null,v.parentNode.removeChild(v),v=null},s.document.documentElement.appendChild(v)}:function(){setTimeout(w,0)};else{var g=new s.MessageChannel;g.port1.onmessage=w,o=function(){g.port2.postMessage(0)}}var m=[];function w(){var v,E;l=!0;for(var b=m.length;b;){for(E=m,m=[],v=-1;++v<b;)E[v]();b=m.length}l=!1}r.exports=function(v){m.push(v)!==1||l||o()}}).call(this,typeof Lr<"u"?Lr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,r,i){var s=t("immediate");function o(){}var l={},c=["REJECTED"],f=["FULFILLED"],h=["PENDING"];function p(b){if(typeof b!="function")throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,b!==o&&v(this,b)}function g(b,T,A){this.promise=b,typeof T=="function"&&(this.onFulfilled=T,this.callFulfilled=this.otherCallFulfilled),typeof A=="function"&&(this.onRejected=A,this.callRejected=this.otherCallRejected)}function m(b,T,A){s(function(){var k;try{k=T(A)}catch(I){return l.reject(b,I)}k===b?l.reject(b,new TypeError("Cannot resolve promise with itself")):l.resolve(b,k)})}function w(b){var T=b&&b.then;if(b&&(typeof b=="object"||typeof b=="function")&&typeof T=="function")return function(){T.apply(b,arguments)}}function v(b,T){var A=!1;function k(W){A||(A=!0,l.reject(b,W))}function I(W){A||(A=!0,l.resolve(b,W))}var j=E(function(){T(I,k)});j.status==="error"&&k(j.value)}function E(b,T){var A={};try{A.value=b(T),A.status="success"}catch(k){A.status="error",A.value=k}return A}(r.exports=p).prototype.finally=function(b){if(typeof b!="function")return this;var T=this.constructor;return this.then(function(A){return T.resolve(b()).then(function(){return A})},function(A){return T.resolve(b()).then(function(){throw A})})},p.prototype.catch=function(b){return this.then(null,b)},p.prototype.then=function(b,T){if(typeof b!="function"&&this.state===f||typeof T!="function"&&this.state===c)return this;var A=new this.constructor(o);return this.state!==h?m(A,this.state===f?b:T,this.outcome):this.queue.push(new g(A,b,T)),A},g.prototype.callFulfilled=function(b){l.resolve(this.promise,b)},g.prototype.otherCallFulfilled=function(b){m(this.promise,this.onFulfilled,b)},g.prototype.callRejected=function(b){l.reject(this.promise,b)},g.prototype.otherCallRejected=function(b){m(this.promise,this.onRejected,b)},l.resolve=function(b,T){var A=E(w,T);if(A.status==="error")return l.reject(b,A.value);var k=A.value;if(k)v(b,k);else{b.state=f,b.outcome=T;for(var I=-1,j=b.queue.length;++I<j;)b.queue[I].callFulfilled(T)}return b},l.reject=function(b,T){b.state=c,b.outcome=T;for(var A=-1,k=b.queue.length;++A<k;)b.queue[A].callRejected(T);return b},p.resolve=function(b){return b instanceof this?b:l.resolve(new this(o),b)},p.reject=function(b){var T=new this(o);return l.reject(T,b)},p.all=function(b){var T=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=b.length,k=!1;if(!A)return this.resolve([]);for(var I=new Array(A),j=0,W=-1,ee=new this(o);++W<A;)F(b[W],W);return ee;function F(se,be){T.resolve(se).then(function(B){I[be]=B,++j!==A||k||(k=!0,l.resolve(ee,I))},function(B){k||(k=!0,l.reject(ee,B))})}},p.race=function(b){var T=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=b.length,k=!1;if(!A)return this.resolve([]);for(var I=-1,j=new this(o);++I<A;)W=b[I],T.resolve(W).then(function(ee){k||(k=!0,l.resolve(j,ee))},function(ee){k||(k=!0,l.reject(j,ee))});var W;return j}},{immediate:36}],38:[function(t,r,i){var s={};(0,t("./lib/utils/common").assign)(s,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),r.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,r,i){var s=t("./zlib/deflate"),o=t("./utils/common"),l=t("./utils/strings"),c=t("./zlib/messages"),f=t("./zlib/zstream"),h=Object.prototype.toString,p=0,g=-1,m=0,w=8;function v(b){if(!(this instanceof v))return new v(b);this.options=o.assign({level:g,method:w,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},b||{});var T=this.options;T.raw&&0<T.windowBits?T.windowBits=-T.windowBits:T.gzip&&0<T.windowBits&&T.windowBits<16&&(T.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var A=s.deflateInit2(this.strm,T.level,T.method,T.windowBits,T.memLevel,T.strategy);if(A!==p)throw new Error(c[A]);if(T.header&&s.deflateSetHeader(this.strm,T.header),T.dictionary){var k;if(k=typeof T.dictionary=="string"?l.string2buf(T.dictionary):h.call(T.dictionary)==="[object ArrayBuffer]"?new Uint8Array(T.dictionary):T.dictionary,(A=s.deflateSetDictionary(this.strm,k))!==p)throw new Error(c[A]);this._dict_set=!0}}function E(b,T){var A=new v(T);if(A.push(b,!0),A.err)throw A.msg||c[A.err];return A.result}v.prototype.push=function(b,T){var A,k,I=this.strm,j=this.options.chunkSize;if(this.ended)return!1;k=T===~~T?T:T===!0?4:0,typeof b=="string"?I.input=l.string2buf(b):h.call(b)==="[object ArrayBuffer]"?I.input=new Uint8Array(b):I.input=b,I.next_in=0,I.avail_in=I.input.length;do{if(I.avail_out===0&&(I.output=new o.Buf8(j),I.next_out=0,I.avail_out=j),(A=s.deflate(I,k))!==1&&A!==p)return this.onEnd(A),!(this.ended=!0);I.avail_out!==0&&(I.avail_in!==0||k!==4&&k!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(o.shrinkBuf(I.output,I.next_out))):this.onData(o.shrinkBuf(I.output,I.next_out)))}while((0<I.avail_in||I.avail_out===0)&&A!==1);return k===4?(A=s.deflateEnd(this.strm),this.onEnd(A),this.ended=!0,A===p):k!==2||(this.onEnd(p),!(I.avail_out=0))},v.prototype.onData=function(b){this.chunks.push(b)},v.prototype.onEnd=function(b){b===p&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg},i.Deflate=v,i.deflate=E,i.deflateRaw=function(b,T){return(T=T||{}).raw=!0,E(b,T)},i.gzip=function(b,T){return(T=T||{}).gzip=!0,E(b,T)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,r,i){var s=t("./zlib/inflate"),o=t("./utils/common"),l=t("./utils/strings"),c=t("./zlib/constants"),f=t("./zlib/messages"),h=t("./zlib/zstream"),p=t("./zlib/gzheader"),g=Object.prototype.toString;function m(v){if(!(this instanceof m))return new m(v);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},v||{});var E=this.options;E.raw&&0<=E.windowBits&&E.windowBits<16&&(E.windowBits=-E.windowBits,E.windowBits===0&&(E.windowBits=-15)),!(0<=E.windowBits&&E.windowBits<16)||v&&v.windowBits||(E.windowBits+=32),15<E.windowBits&&E.windowBits<48&&!(15&E.windowBits)&&(E.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var b=s.inflateInit2(this.strm,E.windowBits);if(b!==c.Z_OK)throw new Error(f[b]);this.header=new p,s.inflateGetHeader(this.strm,this.header)}function w(v,E){var b=new m(E);if(b.push(v,!0),b.err)throw b.msg||f[b.err];return b.result}m.prototype.push=function(v,E){var b,T,A,k,I,j,W=this.strm,ee=this.options.chunkSize,F=this.options.dictionary,se=!1;if(this.ended)return!1;T=E===~~E?E:E===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof v=="string"?W.input=l.binstring2buf(v):g.call(v)==="[object ArrayBuffer]"?W.input=new Uint8Array(v):W.input=v,W.next_in=0,W.avail_in=W.input.length;do{if(W.avail_out===0&&(W.output=new o.Buf8(ee),W.next_out=0,W.avail_out=ee),(b=s.inflate(W,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&F&&(j=typeof F=="string"?l.string2buf(F):g.call(F)==="[object ArrayBuffer]"?new Uint8Array(F):F,b=s.inflateSetDictionary(this.strm,j)),b===c.Z_BUF_ERROR&&se===!0&&(b=c.Z_OK,se=!1),b!==c.Z_STREAM_END&&b!==c.Z_OK)return this.onEnd(b),!(this.ended=!0);W.next_out&&(W.avail_out!==0&&b!==c.Z_STREAM_END&&(W.avail_in!==0||T!==c.Z_FINISH&&T!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(A=l.utf8border(W.output,W.next_out),k=W.next_out-A,I=l.buf2string(W.output,A),W.next_out=k,W.avail_out=ee-k,k&&o.arraySet(W.output,W.output,A,k,0),this.onData(I)):this.onData(o.shrinkBuf(W.output,W.next_out)))),W.avail_in===0&&W.avail_out===0&&(se=!0)}while((0<W.avail_in||W.avail_out===0)&&b!==c.Z_STREAM_END);return b===c.Z_STREAM_END&&(T=c.Z_FINISH),T===c.Z_FINISH?(b=s.inflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===c.Z_OK):T!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(W.avail_out=0))},m.prototype.onData=function(v){this.chunks.push(v)},m.prototype.onEnd=function(v){v===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},i.Inflate=m,i.inflate=w,i.inflateRaw=function(v,E){return(E=E||{}).raw=!0,w(v,E)},i.ungzip=w},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(c){for(var f=Array.prototype.slice.call(arguments,1);f.length;){var h=f.shift();if(h){if(typeof h!="object")throw new TypeError(h+"must be non-object");for(var p in h)h.hasOwnProperty(p)&&(c[p]=h[p])}}return c},i.shrinkBuf=function(c,f){return c.length===f?c:c.subarray?c.subarray(0,f):(c.length=f,c)};var o={arraySet:function(c,f,h,p,g){if(f.subarray&&c.subarray)c.set(f.subarray(h,h+p),g);else for(var m=0;m<p;m++)c[g+m]=f[h+m]},flattenChunks:function(c){var f,h,p,g,m,w;for(f=p=0,h=c.length;f<h;f++)p+=c[f].length;for(w=new Uint8Array(p),f=g=0,h=c.length;f<h;f++)m=c[f],w.set(m,g),g+=m.length;return w}},l={arraySet:function(c,f,h,p,g){for(var m=0;m<p;m++)c[g+m]=f[h+m]},flattenChunks:function(c){return[].concat.apply([],c)}};i.setTyped=function(c){c?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,o)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,l))},i.setTyped(s)},{}],42:[function(t,r,i){var s=t("./common"),o=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var c=new s.Buf8(256),f=0;f<256;f++)c[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;function h(p,g){if(g<65537&&(p.subarray&&l||!p.subarray&&o))return String.fromCharCode.apply(null,s.shrinkBuf(p,g));for(var m="",w=0;w<g;w++)m+=String.fromCharCode(p[w]);return m}c[254]=c[254]=1,i.string2buf=function(p){var g,m,w,v,E,b=p.length,T=0;for(v=0;v<b;v++)(64512&(m=p.charCodeAt(v)))==55296&&v+1<b&&(64512&(w=p.charCodeAt(v+1)))==56320&&(m=65536+(m-55296<<10)+(w-56320),v++),T+=m<128?1:m<2048?2:m<65536?3:4;for(g=new s.Buf8(T),v=E=0;E<T;v++)(64512&(m=p.charCodeAt(v)))==55296&&v+1<b&&(64512&(w=p.charCodeAt(v+1)))==56320&&(m=65536+(m-55296<<10)+(w-56320),v++),m<128?g[E++]=m:(m<2048?g[E++]=192|m>>>6:(m<65536?g[E++]=224|m>>>12:(g[E++]=240|m>>>18,g[E++]=128|m>>>12&63),g[E++]=128|m>>>6&63),g[E++]=128|63&m);return g},i.buf2binstring=function(p){return h(p,p.length)},i.binstring2buf=function(p){for(var g=new s.Buf8(p.length),m=0,w=g.length;m<w;m++)g[m]=p.charCodeAt(m);return g},i.buf2string=function(p,g){var m,w,v,E,b=g||p.length,T=new Array(2*b);for(m=w=0;m<b;)if((v=p[m++])<128)T[w++]=v;else if(4<(E=c[v]))T[w++]=65533,m+=E-1;else{for(v&=E===2?31:E===3?15:7;1<E&&m<b;)v=v<<6|63&p[m++],E--;1<E?T[w++]=65533:v<65536?T[w++]=v:(v-=65536,T[w++]=55296|v>>10&1023,T[w++]=56320|1023&v)}return h(T,w)},i.utf8border=function(p,g){var m;for((g=g||p.length)>p.length&&(g=p.length),m=g-1;0<=m&&(192&p[m])==128;)m--;return m<0||m===0?g:m+c[p[m]]>g?m:g}},{"./common":41}],43:[function(t,r,i){r.exports=function(s,o,l,c){for(var f=65535&s|0,h=s>>>16&65535|0,p=0;l!==0;){for(l-=p=2e3<l?2e3:l;h=h+(f=f+o[c++]|0)|0,--p;);f%=65521,h%=65521}return f|h<<16|0}},{}],44:[function(t,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,r,i){var s=function(){for(var o,l=[],c=0;c<256;c++){o=c;for(var f=0;f<8;f++)o=1&o?3988292384^o>>>1:o>>>1;l[c]=o}return l}();r.exports=function(o,l,c,f){var h=s,p=f+c;o^=-1;for(var g=f;g<p;g++)o=o>>>8^h[255&(o^l[g])];return-1^o}},{}],46:[function(t,r,i){var s,o=t("../utils/common"),l=t("./trees"),c=t("./adler32"),f=t("./crc32"),h=t("./messages"),p=0,g=4,m=0,w=-2,v=-1,E=4,b=2,T=8,A=9,k=286,I=30,j=19,W=2*k+1,ee=15,F=3,se=258,be=se+F+1,B=42,Y=113,N=1,G=2,ue=3,q=4;function X(_,he){return _.msg=h[he],he}function te(_){return(_<<1)-(4<_?9:0)}function de(_){for(var he=_.length;0<=--he;)_[he]=0}function H(_){var he=_.state,P=he.pending;P>_.avail_out&&(P=_.avail_out),P!==0&&(o.arraySet(_.output,he.pending_buf,he.pending_out,P,_.next_out),_.next_out+=P,he.pending_out+=P,_.total_out+=P,_.avail_out-=P,he.pending-=P,he.pending===0&&(he.pending_out=0))}function L(_,he){l._tr_flush_block(_,0<=_.block_start?_.block_start:-1,_.strstart-_.block_start,he),_.block_start=_.strstart,H(_.strm)}function re(_,he){_.pending_buf[_.pending++]=he}function le(_,he){_.pending_buf[_.pending++]=he>>>8&255,_.pending_buf[_.pending++]=255&he}function me(_,he){var P,x,C=_.max_chain_length,O=_.strstart,Z=_.prev_length,ae=_.nice_match,J=_.strstart>_.w_size-be?_.strstart-(_.w_size-be):0,ge=_.window,we=_.w_mask,Ee=_.prev,ke=_.strstart+se,Me=ge[O+Z-1],Ue=ge[O+Z];_.prev_length>=_.good_match&&(C>>=2),ae>_.lookahead&&(ae=_.lookahead);do if(ge[(P=he)+Z]===Ue&&ge[P+Z-1]===Me&&ge[P]===ge[O]&&ge[++P]===ge[O+1]){O+=2,P++;do;while(ge[++O]===ge[++P]&&ge[++O]===ge[++P]&&ge[++O]===ge[++P]&&ge[++O]===ge[++P]&&ge[++O]===ge[++P]&&ge[++O]===ge[++P]&&ge[++O]===ge[++P]&&ge[++O]===ge[++P]&&O<ke);if(x=se-(ke-O),O=ke-se,Z<x){if(_.match_start=he,ae<=(Z=x))break;Me=ge[O+Z-1],Ue=ge[O+Z]}}while((he=Ee[he&we])>J&&--C!=0);return Z<=_.lookahead?Z:_.lookahead}function ie(_){var he,P,x,C,O,Z,ae,J,ge,we,Ee=_.w_size;do{if(C=_.window_size-_.lookahead-_.strstart,_.strstart>=Ee+(Ee-be)){for(o.arraySet(_.window,_.window,Ee,Ee,0),_.match_start-=Ee,_.strstart-=Ee,_.block_start-=Ee,he=P=_.hash_size;x=_.head[--he],_.head[he]=Ee<=x?x-Ee:0,--P;);for(he=P=Ee;x=_.prev[--he],_.prev[he]=Ee<=x?x-Ee:0,--P;);C+=Ee}if(_.strm.avail_in===0)break;if(Z=_.strm,ae=_.window,J=_.strstart+_.lookahead,ge=C,we=void 0,we=Z.avail_in,ge<we&&(we=ge),P=we===0?0:(Z.avail_in-=we,o.arraySet(ae,Z.input,Z.next_in,we,J),Z.state.wrap===1?Z.adler=c(Z.adler,ae,we,J):Z.state.wrap===2&&(Z.adler=f(Z.adler,ae,we,J)),Z.next_in+=we,Z.total_in+=we,we),_.lookahead+=P,_.lookahead+_.insert>=F)for(O=_.strstart-_.insert,_.ins_h=_.window[O],_.ins_h=(_.ins_h<<_.hash_shift^_.window[O+1])&_.hash_mask;_.insert&&(_.ins_h=(_.ins_h<<_.hash_shift^_.window[O+F-1])&_.hash_mask,_.prev[O&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=O,O++,_.insert--,!(_.lookahead+_.insert<F)););}while(_.lookahead<be&&_.strm.avail_in!==0)}function D(_,he){for(var P,x;;){if(_.lookahead<be){if(ie(_),_.lookahead<be&&he===p)return N;if(_.lookahead===0)break}if(P=0,_.lookahead>=F&&(_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+F-1])&_.hash_mask,P=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart),P!==0&&_.strstart-P<=_.w_size-be&&(_.match_length=me(_,P)),_.match_length>=F)if(x=l._tr_tally(_,_.strstart-_.match_start,_.match_length-F),_.lookahead-=_.match_length,_.match_length<=_.max_lazy_match&&_.lookahead>=F){for(_.match_length--;_.strstart++,_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+F-1])&_.hash_mask,P=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart,--_.match_length!=0;);_.strstart++}else _.strstart+=_.match_length,_.match_length=0,_.ins_h=_.window[_.strstart],_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+1])&_.hash_mask;else x=l._tr_tally(_,0,_.window[_.strstart]),_.lookahead--,_.strstart++;if(x&&(L(_,!1),_.strm.avail_out===0))return N}return _.insert=_.strstart<F-1?_.strstart:F-1,he===g?(L(_,!0),_.strm.avail_out===0?ue:q):_.last_lit&&(L(_,!1),_.strm.avail_out===0)?N:G}function M(_,he){for(var P,x,C;;){if(_.lookahead<be){if(ie(_),_.lookahead<be&&he===p)return N;if(_.lookahead===0)break}if(P=0,_.lookahead>=F&&(_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+F-1])&_.hash_mask,P=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart),_.prev_length=_.match_length,_.prev_match=_.match_start,_.match_length=F-1,P!==0&&_.prev_length<_.max_lazy_match&&_.strstart-P<=_.w_size-be&&(_.match_length=me(_,P),_.match_length<=5&&(_.strategy===1||_.match_length===F&&4096<_.strstart-_.match_start)&&(_.match_length=F-1)),_.prev_length>=F&&_.match_length<=_.prev_length){for(C=_.strstart+_.lookahead-F,x=l._tr_tally(_,_.strstart-1-_.prev_match,_.prev_length-F),_.lookahead-=_.prev_length-1,_.prev_length-=2;++_.strstart<=C&&(_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+F-1])&_.hash_mask,P=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart),--_.prev_length!=0;);if(_.match_available=0,_.match_length=F-1,_.strstart++,x&&(L(_,!1),_.strm.avail_out===0))return N}else if(_.match_available){if((x=l._tr_tally(_,0,_.window[_.strstart-1]))&&L(_,!1),_.strstart++,_.lookahead--,_.strm.avail_out===0)return N}else _.match_available=1,_.strstart++,_.lookahead--}return _.match_available&&(x=l._tr_tally(_,0,_.window[_.strstart-1]),_.match_available=0),_.insert=_.strstart<F-1?_.strstart:F-1,he===g?(L(_,!0),_.strm.avail_out===0?ue:q):_.last_lit&&(L(_,!1),_.strm.avail_out===0)?N:G}function ne(_,he,P,x,C){this.good_length=_,this.max_lazy=he,this.nice_length=P,this.max_chain=x,this.func=C}function Q(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=T,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*W),this.dyn_dtree=new o.Buf16(2*(2*I+1)),this.bl_tree=new o.Buf16(2*(2*j+1)),de(this.dyn_ltree),de(this.dyn_dtree),de(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(ee+1),this.heap=new o.Buf16(2*k+1),de(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*k+1),de(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function U(_){var he;return _&&_.state?(_.total_in=_.total_out=0,_.data_type=b,(he=_.state).pending=0,he.pending_out=0,he.wrap<0&&(he.wrap=-he.wrap),he.status=he.wrap?B:Y,_.adler=he.wrap===2?0:1,he.last_flush=p,l._tr_init(he),m):X(_,w)}function $(_){var he=U(_);return he===m&&function(P){P.window_size=2*P.w_size,de(P.head),P.max_lazy_match=s[P.level].max_lazy,P.good_match=s[P.level].good_length,P.nice_match=s[P.level].nice_length,P.max_chain_length=s[P.level].max_chain,P.strstart=0,P.block_start=0,P.lookahead=0,P.insert=0,P.match_length=P.prev_length=F-1,P.match_available=0,P.ins_h=0}(_.state),he}function fe(_,he,P,x,C,O){if(!_)return w;var Z=1;if(he===v&&(he=6),x<0?(Z=0,x=-x):15<x&&(Z=2,x-=16),C<1||A<C||P!==T||x<8||15<x||he<0||9<he||O<0||E<O)return X(_,w);x===8&&(x=9);var ae=new Q;return(_.state=ae).strm=_,ae.wrap=Z,ae.gzhead=null,ae.w_bits=x,ae.w_size=1<<ae.w_bits,ae.w_mask=ae.w_size-1,ae.hash_bits=C+7,ae.hash_size=1<<ae.hash_bits,ae.hash_mask=ae.hash_size-1,ae.hash_shift=~~((ae.hash_bits+F-1)/F),ae.window=new o.Buf8(2*ae.w_size),ae.head=new o.Buf16(ae.hash_size),ae.prev=new o.Buf16(ae.w_size),ae.lit_bufsize=1<<C+6,ae.pending_buf_size=4*ae.lit_bufsize,ae.pending_buf=new o.Buf8(ae.pending_buf_size),ae.d_buf=1*ae.lit_bufsize,ae.l_buf=3*ae.lit_bufsize,ae.level=he,ae.strategy=O,ae.method=P,$(_)}s=[new ne(0,0,0,0,function(_,he){var P=65535;for(P>_.pending_buf_size-5&&(P=_.pending_buf_size-5);;){if(_.lookahead<=1){if(ie(_),_.lookahead===0&&he===p)return N;if(_.lookahead===0)break}_.strstart+=_.lookahead,_.lookahead=0;var x=_.block_start+P;if((_.strstart===0||_.strstart>=x)&&(_.lookahead=_.strstart-x,_.strstart=x,L(_,!1),_.strm.avail_out===0)||_.strstart-_.block_start>=_.w_size-be&&(L(_,!1),_.strm.avail_out===0))return N}return _.insert=0,he===g?(L(_,!0),_.strm.avail_out===0?ue:q):(_.strstart>_.block_start&&(L(_,!1),_.strm.avail_out),N)}),new ne(4,4,8,4,D),new ne(4,5,16,8,D),new ne(4,6,32,32,D),new ne(4,4,16,16,M),new ne(8,16,32,32,M),new ne(8,16,128,128,M),new ne(8,32,128,256,M),new ne(32,128,258,1024,M),new ne(32,258,258,4096,M)],i.deflateInit=function(_,he){return fe(_,he,T,15,8,0)},i.deflateInit2=fe,i.deflateReset=$,i.deflateResetKeep=U,i.deflateSetHeader=function(_,he){return _&&_.state?_.state.wrap!==2?w:(_.state.gzhead=he,m):w},i.deflate=function(_,he){var P,x,C,O;if(!_||!_.state||5<he||he<0)return _?X(_,w):w;if(x=_.state,!_.output||!_.input&&_.avail_in!==0||x.status===666&&he!==g)return X(_,_.avail_out===0?-5:w);if(x.strm=_,P=x.last_flush,x.last_flush=he,x.status===B)if(x.wrap===2)_.adler=0,re(x,31),re(x,139),re(x,8),x.gzhead?(re(x,(x.gzhead.text?1:0)+(x.gzhead.hcrc?2:0)+(x.gzhead.extra?4:0)+(x.gzhead.name?8:0)+(x.gzhead.comment?16:0)),re(x,255&x.gzhead.time),re(x,x.gzhead.time>>8&255),re(x,x.gzhead.time>>16&255),re(x,x.gzhead.time>>24&255),re(x,x.level===9?2:2<=x.strategy||x.level<2?4:0),re(x,255&x.gzhead.os),x.gzhead.extra&&x.gzhead.extra.length&&(re(x,255&x.gzhead.extra.length),re(x,x.gzhead.extra.length>>8&255)),x.gzhead.hcrc&&(_.adler=f(_.adler,x.pending_buf,x.pending,0)),x.gzindex=0,x.status=69):(re(x,0),re(x,0),re(x,0),re(x,0),re(x,0),re(x,x.level===9?2:2<=x.strategy||x.level<2?4:0),re(x,3),x.status=Y);else{var Z=T+(x.w_bits-8<<4)<<8;Z|=(2<=x.strategy||x.level<2?0:x.level<6?1:x.level===6?2:3)<<6,x.strstart!==0&&(Z|=32),Z+=31-Z%31,x.status=Y,le(x,Z),x.strstart!==0&&(le(x,_.adler>>>16),le(x,65535&_.adler)),_.adler=1}if(x.status===69)if(x.gzhead.extra){for(C=x.pending;x.gzindex<(65535&x.gzhead.extra.length)&&(x.pending!==x.pending_buf_size||(x.gzhead.hcrc&&x.pending>C&&(_.adler=f(_.adler,x.pending_buf,x.pending-C,C)),H(_),C=x.pending,x.pending!==x.pending_buf_size));)re(x,255&x.gzhead.extra[x.gzindex]),x.gzindex++;x.gzhead.hcrc&&x.pending>C&&(_.adler=f(_.adler,x.pending_buf,x.pending-C,C)),x.gzindex===x.gzhead.extra.length&&(x.gzindex=0,x.status=73)}else x.status=73;if(x.status===73)if(x.gzhead.name){C=x.pending;do{if(x.pending===x.pending_buf_size&&(x.gzhead.hcrc&&x.pending>C&&(_.adler=f(_.adler,x.pending_buf,x.pending-C,C)),H(_),C=x.pending,x.pending===x.pending_buf_size)){O=1;break}O=x.gzindex<x.gzhead.name.length?255&x.gzhead.name.charCodeAt(x.gzindex++):0,re(x,O)}while(O!==0);x.gzhead.hcrc&&x.pending>C&&(_.adler=f(_.adler,x.pending_buf,x.pending-C,C)),O===0&&(x.gzindex=0,x.status=91)}else x.status=91;if(x.status===91)if(x.gzhead.comment){C=x.pending;do{if(x.pending===x.pending_buf_size&&(x.gzhead.hcrc&&x.pending>C&&(_.adler=f(_.adler,x.pending_buf,x.pending-C,C)),H(_),C=x.pending,x.pending===x.pending_buf_size)){O=1;break}O=x.gzindex<x.gzhead.comment.length?255&x.gzhead.comment.charCodeAt(x.gzindex++):0,re(x,O)}while(O!==0);x.gzhead.hcrc&&x.pending>C&&(_.adler=f(_.adler,x.pending_buf,x.pending-C,C)),O===0&&(x.status=103)}else x.status=103;if(x.status===103&&(x.gzhead.hcrc?(x.pending+2>x.pending_buf_size&&H(_),x.pending+2<=x.pending_buf_size&&(re(x,255&_.adler),re(x,_.adler>>8&255),_.adler=0,x.status=Y)):x.status=Y),x.pending!==0){if(H(_),_.avail_out===0)return x.last_flush=-1,m}else if(_.avail_in===0&&te(he)<=te(P)&&he!==g)return X(_,-5);if(x.status===666&&_.avail_in!==0)return X(_,-5);if(_.avail_in!==0||x.lookahead!==0||he!==p&&x.status!==666){var ae=x.strategy===2?function(J,ge){for(var we;;){if(J.lookahead===0&&(ie(J),J.lookahead===0)){if(ge===p)return N;break}if(J.match_length=0,we=l._tr_tally(J,0,J.window[J.strstart]),J.lookahead--,J.strstart++,we&&(L(J,!1),J.strm.avail_out===0))return N}return J.insert=0,ge===g?(L(J,!0),J.strm.avail_out===0?ue:q):J.last_lit&&(L(J,!1),J.strm.avail_out===0)?N:G}(x,he):x.strategy===3?function(J,ge){for(var we,Ee,ke,Me,Ue=J.window;;){if(J.lookahead<=se){if(ie(J),J.lookahead<=se&&ge===p)return N;if(J.lookahead===0)break}if(J.match_length=0,J.lookahead>=F&&0<J.strstart&&(Ee=Ue[ke=J.strstart-1])===Ue[++ke]&&Ee===Ue[++ke]&&Ee===Ue[++ke]){Me=J.strstart+se;do;while(Ee===Ue[++ke]&&Ee===Ue[++ke]&&Ee===Ue[++ke]&&Ee===Ue[++ke]&&Ee===Ue[++ke]&&Ee===Ue[++ke]&&Ee===Ue[++ke]&&Ee===Ue[++ke]&&ke<Me);J.match_length=se-(Me-ke),J.match_length>J.lookahead&&(J.match_length=J.lookahead)}if(J.match_length>=F?(we=l._tr_tally(J,1,J.match_length-F),J.lookahead-=J.match_length,J.strstart+=J.match_length,J.match_length=0):(we=l._tr_tally(J,0,J.window[J.strstart]),J.lookahead--,J.strstart++),we&&(L(J,!1),J.strm.avail_out===0))return N}return J.insert=0,ge===g?(L(J,!0),J.strm.avail_out===0?ue:q):J.last_lit&&(L(J,!1),J.strm.avail_out===0)?N:G}(x,he):s[x.level].func(x,he);if(ae!==ue&&ae!==q||(x.status=666),ae===N||ae===ue)return _.avail_out===0&&(x.last_flush=-1),m;if(ae===G&&(he===1?l._tr_align(x):he!==5&&(l._tr_stored_block(x,0,0,!1),he===3&&(de(x.head),x.lookahead===0&&(x.strstart=0,x.block_start=0,x.insert=0))),H(_),_.avail_out===0))return x.last_flush=-1,m}return he!==g?m:x.wrap<=0?1:(x.wrap===2?(re(x,255&_.adler),re(x,_.adler>>8&255),re(x,_.adler>>16&255),re(x,_.adler>>24&255),re(x,255&_.total_in),re(x,_.total_in>>8&255),re(x,_.total_in>>16&255),re(x,_.total_in>>24&255)):(le(x,_.adler>>>16),le(x,65535&_.adler)),H(_),0<x.wrap&&(x.wrap=-x.wrap),x.pending!==0?m:1)},i.deflateEnd=function(_){var he;return _&&_.state?(he=_.state.status)!==B&&he!==69&&he!==73&&he!==91&&he!==103&&he!==Y&&he!==666?X(_,w):(_.state=null,he===Y?X(_,-3):m):w},i.deflateSetDictionary=function(_,he){var P,x,C,O,Z,ae,J,ge,we=he.length;if(!_||!_.state||(O=(P=_.state).wrap)===2||O===1&&P.status!==B||P.lookahead)return w;for(O===1&&(_.adler=c(_.adler,he,we,0)),P.wrap=0,we>=P.w_size&&(O===0&&(de(P.head),P.strstart=0,P.block_start=0,P.insert=0),ge=new o.Buf8(P.w_size),o.arraySet(ge,he,we-P.w_size,P.w_size,0),he=ge,we=P.w_size),Z=_.avail_in,ae=_.next_in,J=_.input,_.avail_in=we,_.next_in=0,_.input=he,ie(P);P.lookahead>=F;){for(x=P.strstart,C=P.lookahead-(F-1);P.ins_h=(P.ins_h<<P.hash_shift^P.window[x+F-1])&P.hash_mask,P.prev[x&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=x,x++,--C;);P.strstart=x,P.lookahead=F-1,ie(P)}return P.strstart+=P.lookahead,P.block_start=P.strstart,P.insert=P.lookahead,P.lookahead=0,P.match_length=P.prev_length=F-1,P.match_available=0,_.next_in=ae,_.input=J,_.avail_in=Z,P.wrap=O,m},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,r,i){r.exports=function(s,o){var l,c,f,h,p,g,m,w,v,E,b,T,A,k,I,j,W,ee,F,se,be,B,Y,N,G;l=s.state,c=s.next_in,N=s.input,f=c+(s.avail_in-5),h=s.next_out,G=s.output,p=h-(o-s.avail_out),g=h+(s.avail_out-257),m=l.dmax,w=l.wsize,v=l.whave,E=l.wnext,b=l.window,T=l.hold,A=l.bits,k=l.lencode,I=l.distcode,j=(1<<l.lenbits)-1,W=(1<<l.distbits)-1;e:do{A<15&&(T+=N[c++]<<A,A+=8,T+=N[c++]<<A,A+=8),ee=k[T&j];t:for(;;){if(T>>>=F=ee>>>24,A-=F,(F=ee>>>16&255)===0)G[h++]=65535&ee;else{if(!(16&F)){if(!(64&F)){ee=k[(65535&ee)+(T&(1<<F)-1)];continue t}if(32&F){l.mode=12;break e}s.msg="invalid literal/length code",l.mode=30;break e}se=65535&ee,(F&=15)&&(A<F&&(T+=N[c++]<<A,A+=8),se+=T&(1<<F)-1,T>>>=F,A-=F),A<15&&(T+=N[c++]<<A,A+=8,T+=N[c++]<<A,A+=8),ee=I[T&W];n:for(;;){if(T>>>=F=ee>>>24,A-=F,!(16&(F=ee>>>16&255))){if(!(64&F)){ee=I[(65535&ee)+(T&(1<<F)-1)];continue n}s.msg="invalid distance code",l.mode=30;break e}if(be=65535&ee,A<(F&=15)&&(T+=N[c++]<<A,(A+=8)<F&&(T+=N[c++]<<A,A+=8)),m<(be+=T&(1<<F)-1)){s.msg="invalid distance too far back",l.mode=30;break e}if(T>>>=F,A-=F,(F=h-p)<be){if(v<(F=be-F)&&l.sane){s.msg="invalid distance too far back",l.mode=30;break e}if(Y=b,(B=0)===E){if(B+=w-F,F<se){for(se-=F;G[h++]=b[B++],--F;);B=h-be,Y=G}}else if(E<F){if(B+=w+E-F,(F-=E)<se){for(se-=F;G[h++]=b[B++],--F;);if(B=0,E<se){for(se-=F=E;G[h++]=b[B++],--F;);B=h-be,Y=G}}}else if(B+=E-F,F<se){for(se-=F;G[h++]=b[B++],--F;);B=h-be,Y=G}for(;2<se;)G[h++]=Y[B++],G[h++]=Y[B++],G[h++]=Y[B++],se-=3;se&&(G[h++]=Y[B++],1<se&&(G[h++]=Y[B++]))}else{for(B=h-be;G[h++]=G[B++],G[h++]=G[B++],G[h++]=G[B++],2<(se-=3););se&&(G[h++]=G[B++],1<se&&(G[h++]=G[B++]))}break}}break}}while(c<f&&h<g);c-=se=A>>3,T&=(1<<(A-=se<<3))-1,s.next_in=c,s.next_out=h,s.avail_in=c<f?f-c+5:5-(c-f),s.avail_out=h<g?g-h+257:257-(h-g),l.hold=T,l.bits=A}},{}],49:[function(t,r,i){var s=t("../utils/common"),o=t("./adler32"),l=t("./crc32"),c=t("./inffast"),f=t("./inftrees"),h=1,p=2,g=0,m=-2,w=1,v=852,E=592;function b(B){return(B>>>24&255)+(B>>>8&65280)+((65280&B)<<8)+((255&B)<<24)}function T(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function A(B){var Y;return B&&B.state?(Y=B.state,B.total_in=B.total_out=Y.total=0,B.msg="",Y.wrap&&(B.adler=1&Y.wrap),Y.mode=w,Y.last=0,Y.havedict=0,Y.dmax=32768,Y.head=null,Y.hold=0,Y.bits=0,Y.lencode=Y.lendyn=new s.Buf32(v),Y.distcode=Y.distdyn=new s.Buf32(E),Y.sane=1,Y.back=-1,g):m}function k(B){var Y;return B&&B.state?((Y=B.state).wsize=0,Y.whave=0,Y.wnext=0,A(B)):m}function I(B,Y){var N,G;return B&&B.state?(G=B.state,Y<0?(N=0,Y=-Y):(N=1+(Y>>4),Y<48&&(Y&=15)),Y&&(Y<8||15<Y)?m:(G.window!==null&&G.wbits!==Y&&(G.window=null),G.wrap=N,G.wbits=Y,k(B))):m}function j(B,Y){var N,G;return B?(G=new T,(B.state=G).window=null,(N=I(B,Y))!==g&&(B.state=null),N):m}var W,ee,F=!0;function se(B){if(F){var Y;for(W=new s.Buf32(512),ee=new s.Buf32(32),Y=0;Y<144;)B.lens[Y++]=8;for(;Y<256;)B.lens[Y++]=9;for(;Y<280;)B.lens[Y++]=7;for(;Y<288;)B.lens[Y++]=8;for(f(h,B.lens,0,288,W,0,B.work,{bits:9}),Y=0;Y<32;)B.lens[Y++]=5;f(p,B.lens,0,32,ee,0,B.work,{bits:5}),F=!1}B.lencode=W,B.lenbits=9,B.distcode=ee,B.distbits=5}function be(B,Y,N,G){var ue,q=B.state;return q.window===null&&(q.wsize=1<<q.wbits,q.wnext=0,q.whave=0,q.window=new s.Buf8(q.wsize)),G>=q.wsize?(s.arraySet(q.window,Y,N-q.wsize,q.wsize,0),q.wnext=0,q.whave=q.wsize):(G<(ue=q.wsize-q.wnext)&&(ue=G),s.arraySet(q.window,Y,N-G,ue,q.wnext),(G-=ue)?(s.arraySet(q.window,Y,N-G,G,0),q.wnext=G,q.whave=q.wsize):(q.wnext+=ue,q.wnext===q.wsize&&(q.wnext=0),q.whave<q.wsize&&(q.whave+=ue))),0}i.inflateReset=k,i.inflateReset2=I,i.inflateResetKeep=A,i.inflateInit=function(B){return j(B,15)},i.inflateInit2=j,i.inflate=function(B,Y){var N,G,ue,q,X,te,de,H,L,re,le,me,ie,D,M,ne,Q,U,$,fe,_,he,P,x,C=0,O=new s.Buf8(4),Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!B||!B.state||!B.output||!B.input&&B.avail_in!==0)return m;(N=B.state).mode===12&&(N.mode=13),X=B.next_out,ue=B.output,de=B.avail_out,q=B.next_in,G=B.input,te=B.avail_in,H=N.hold,L=N.bits,re=te,le=de,he=g;e:for(;;)switch(N.mode){case w:if(N.wrap===0){N.mode=13;break}for(;L<16;){if(te===0)break e;te--,H+=G[q++]<<L,L+=8}if(2&N.wrap&&H===35615){O[N.check=0]=255&H,O[1]=H>>>8&255,N.check=l(N.check,O,2,0),L=H=0,N.mode=2;break}if(N.flags=0,N.head&&(N.head.done=!1),!(1&N.wrap)||(((255&H)<<8)+(H>>8))%31){B.msg="incorrect header check",N.mode=30;break}if((15&H)!=8){B.msg="unknown compression method",N.mode=30;break}if(L-=4,_=8+(15&(H>>>=4)),N.wbits===0)N.wbits=_;else if(_>N.wbits){B.msg="invalid window size",N.mode=30;break}N.dmax=1<<_,B.adler=N.check=1,N.mode=512&H?10:12,L=H=0;break;case 2:for(;L<16;){if(te===0)break e;te--,H+=G[q++]<<L,L+=8}if(N.flags=H,(255&N.flags)!=8){B.msg="unknown compression method",N.mode=30;break}if(57344&N.flags){B.msg="unknown header flags set",N.mode=30;break}N.head&&(N.head.text=H>>8&1),512&N.flags&&(O[0]=255&H,O[1]=H>>>8&255,N.check=l(N.check,O,2,0)),L=H=0,N.mode=3;case 3:for(;L<32;){if(te===0)break e;te--,H+=G[q++]<<L,L+=8}N.head&&(N.head.time=H),512&N.flags&&(O[0]=255&H,O[1]=H>>>8&255,O[2]=H>>>16&255,O[3]=H>>>24&255,N.check=l(N.check,O,4,0)),L=H=0,N.mode=4;case 4:for(;L<16;){if(te===0)break e;te--,H+=G[q++]<<L,L+=8}N.head&&(N.head.xflags=255&H,N.head.os=H>>8),512&N.flags&&(O[0]=255&H,O[1]=H>>>8&255,N.check=l(N.check,O,2,0)),L=H=0,N.mode=5;case 5:if(1024&N.flags){for(;L<16;){if(te===0)break e;te--,H+=G[q++]<<L,L+=8}N.length=H,N.head&&(N.head.extra_len=H),512&N.flags&&(O[0]=255&H,O[1]=H>>>8&255,N.check=l(N.check,O,2,0)),L=H=0}else N.head&&(N.head.extra=null);N.mode=6;case 6:if(1024&N.flags&&(te<(me=N.length)&&(me=te),me&&(N.head&&(_=N.head.extra_len-N.length,N.head.extra||(N.head.extra=new Array(N.head.extra_len)),s.arraySet(N.head.extra,G,q,me,_)),512&N.flags&&(N.check=l(N.check,G,me,q)),te-=me,q+=me,N.length-=me),N.length))break e;N.length=0,N.mode=7;case 7:if(2048&N.flags){if(te===0)break e;for(me=0;_=G[q+me++],N.head&&_&&N.length<65536&&(N.head.name+=String.fromCharCode(_)),_&&me<te;);if(512&N.flags&&(N.check=l(N.check,G,me,q)),te-=me,q+=me,_)break e}else N.head&&(N.head.name=null);N.length=0,N.mode=8;case 8:if(4096&N.flags){if(te===0)break e;for(me=0;_=G[q+me++],N.head&&_&&N.length<65536&&(N.head.comment+=String.fromCharCode(_)),_&&me<te;);if(512&N.flags&&(N.check=l(N.check,G,me,q)),te-=me,q+=me,_)break e}else N.head&&(N.head.comment=null);N.mode=9;case 9:if(512&N.flags){for(;L<16;){if(te===0)break e;te--,H+=G[q++]<<L,L+=8}if(H!==(65535&N.check)){B.msg="header crc mismatch",N.mode=30;break}L=H=0}N.head&&(N.head.hcrc=N.flags>>9&1,N.head.done=!0),B.adler=N.check=0,N.mode=12;break;case 10:for(;L<32;){if(te===0)break e;te--,H+=G[q++]<<L,L+=8}B.adler=N.check=b(H),L=H=0,N.mode=11;case 11:if(N.havedict===0)return B.next_out=X,B.avail_out=de,B.next_in=q,B.avail_in=te,N.hold=H,N.bits=L,2;B.adler=N.check=1,N.mode=12;case 12:if(Y===5||Y===6)break e;case 13:if(N.last){H>>>=7&L,L-=7&L,N.mode=27;break}for(;L<3;){if(te===0)break e;te--,H+=G[q++]<<L,L+=8}switch(N.last=1&H,L-=1,3&(H>>>=1)){case 0:N.mode=14;break;case 1:if(se(N),N.mode=20,Y!==6)break;H>>>=2,L-=2;break e;case 2:N.mode=17;break;case 3:B.msg="invalid block type",N.mode=30}H>>>=2,L-=2;break;case 14:for(H>>>=7&L,L-=7&L;L<32;){if(te===0)break e;te--,H+=G[q++]<<L,L+=8}if((65535&H)!=(H>>>16^65535)){B.msg="invalid stored block lengths",N.mode=30;break}if(N.length=65535&H,L=H=0,N.mode=15,Y===6)break e;case 15:N.mode=16;case 16:if(me=N.length){if(te<me&&(me=te),de<me&&(me=de),me===0)break e;s.arraySet(ue,G,q,me,X),te-=me,q+=me,de-=me,X+=me,N.length-=me;break}N.mode=12;break;case 17:for(;L<14;){if(te===0)break e;te--,H+=G[q++]<<L,L+=8}if(N.nlen=257+(31&H),H>>>=5,L-=5,N.ndist=1+(31&H),H>>>=5,L-=5,N.ncode=4+(15&H),H>>>=4,L-=4,286<N.nlen||30<N.ndist){B.msg="too many length or distance symbols",N.mode=30;break}N.have=0,N.mode=18;case 18:for(;N.have<N.ncode;){for(;L<3;){if(te===0)break e;te--,H+=G[q++]<<L,L+=8}N.lens[Z[N.have++]]=7&H,H>>>=3,L-=3}for(;N.have<19;)N.lens[Z[N.have++]]=0;if(N.lencode=N.lendyn,N.lenbits=7,P={bits:N.lenbits},he=f(0,N.lens,0,19,N.lencode,0,N.work,P),N.lenbits=P.bits,he){B.msg="invalid code lengths set",N.mode=30;break}N.have=0,N.mode=19;case 19:for(;N.have<N.nlen+N.ndist;){for(;ne=(C=N.lencode[H&(1<<N.lenbits)-1])>>>16&255,Q=65535&C,!((M=C>>>24)<=L);){if(te===0)break e;te--,H+=G[q++]<<L,L+=8}if(Q<16)H>>>=M,L-=M,N.lens[N.have++]=Q;else{if(Q===16){for(x=M+2;L<x;){if(te===0)break e;te--,H+=G[q++]<<L,L+=8}if(H>>>=M,L-=M,N.have===0){B.msg="invalid bit length repeat",N.mode=30;break}_=N.lens[N.have-1],me=3+(3&H),H>>>=2,L-=2}else if(Q===17){for(x=M+3;L<x;){if(te===0)break e;te--,H+=G[q++]<<L,L+=8}L-=M,_=0,me=3+(7&(H>>>=M)),H>>>=3,L-=3}else{for(x=M+7;L<x;){if(te===0)break e;te--,H+=G[q++]<<L,L+=8}L-=M,_=0,me=11+(127&(H>>>=M)),H>>>=7,L-=7}if(N.have+me>N.nlen+N.ndist){B.msg="invalid bit length repeat",N.mode=30;break}for(;me--;)N.lens[N.have++]=_}}if(N.mode===30)break;if(N.lens[256]===0){B.msg="invalid code -- missing end-of-block",N.mode=30;break}if(N.lenbits=9,P={bits:N.lenbits},he=f(h,N.lens,0,N.nlen,N.lencode,0,N.work,P),N.lenbits=P.bits,he){B.msg="invalid literal/lengths set",N.mode=30;break}if(N.distbits=6,N.distcode=N.distdyn,P={bits:N.distbits},he=f(p,N.lens,N.nlen,N.ndist,N.distcode,0,N.work,P),N.distbits=P.bits,he){B.msg="invalid distances set",N.mode=30;break}if(N.mode=20,Y===6)break e;case 20:N.mode=21;case 21:if(6<=te&&258<=de){B.next_out=X,B.avail_out=de,B.next_in=q,B.avail_in=te,N.hold=H,N.bits=L,c(B,le),X=B.next_out,ue=B.output,de=B.avail_out,q=B.next_in,G=B.input,te=B.avail_in,H=N.hold,L=N.bits,N.mode===12&&(N.back=-1);break}for(N.back=0;ne=(C=N.lencode[H&(1<<N.lenbits)-1])>>>16&255,Q=65535&C,!((M=C>>>24)<=L);){if(te===0)break e;te--,H+=G[q++]<<L,L+=8}if(ne&&!(240&ne)){for(U=M,$=ne,fe=Q;ne=(C=N.lencode[fe+((H&(1<<U+$)-1)>>U)])>>>16&255,Q=65535&C,!(U+(M=C>>>24)<=L);){if(te===0)break e;te--,H+=G[q++]<<L,L+=8}H>>>=U,L-=U,N.back+=U}if(H>>>=M,L-=M,N.back+=M,N.length=Q,ne===0){N.mode=26;break}if(32&ne){N.back=-1,N.mode=12;break}if(64&ne){B.msg="invalid literal/length code",N.mode=30;break}N.extra=15&ne,N.mode=22;case 22:if(N.extra){for(x=N.extra;L<x;){if(te===0)break e;te--,H+=G[q++]<<L,L+=8}N.length+=H&(1<<N.extra)-1,H>>>=N.extra,L-=N.extra,N.back+=N.extra}N.was=N.length,N.mode=23;case 23:for(;ne=(C=N.distcode[H&(1<<N.distbits)-1])>>>16&255,Q=65535&C,!((M=C>>>24)<=L);){if(te===0)break e;te--,H+=G[q++]<<L,L+=8}if(!(240&ne)){for(U=M,$=ne,fe=Q;ne=(C=N.distcode[fe+((H&(1<<U+$)-1)>>U)])>>>16&255,Q=65535&C,!(U+(M=C>>>24)<=L);){if(te===0)break e;te--,H+=G[q++]<<L,L+=8}H>>>=U,L-=U,N.back+=U}if(H>>>=M,L-=M,N.back+=M,64&ne){B.msg="invalid distance code",N.mode=30;break}N.offset=Q,N.extra=15&ne,N.mode=24;case 24:if(N.extra){for(x=N.extra;L<x;){if(te===0)break e;te--,H+=G[q++]<<L,L+=8}N.offset+=H&(1<<N.extra)-1,H>>>=N.extra,L-=N.extra,N.back+=N.extra}if(N.offset>N.dmax){B.msg="invalid distance too far back",N.mode=30;break}N.mode=25;case 25:if(de===0)break e;if(me=le-de,N.offset>me){if((me=N.offset-me)>N.whave&&N.sane){B.msg="invalid distance too far back",N.mode=30;break}ie=me>N.wnext?(me-=N.wnext,N.wsize-me):N.wnext-me,me>N.length&&(me=N.length),D=N.window}else D=ue,ie=X-N.offset,me=N.length;for(de<me&&(me=de),de-=me,N.length-=me;ue[X++]=D[ie++],--me;);N.length===0&&(N.mode=21);break;case 26:if(de===0)break e;ue[X++]=N.length,de--,N.mode=21;break;case 27:if(N.wrap){for(;L<32;){if(te===0)break e;te--,H|=G[q++]<<L,L+=8}if(le-=de,B.total_out+=le,N.total+=le,le&&(B.adler=N.check=N.flags?l(N.check,ue,le,X-le):o(N.check,ue,le,X-le)),le=de,(N.flags?H:b(H))!==N.check){B.msg="incorrect data check",N.mode=30;break}L=H=0}N.mode=28;case 28:if(N.wrap&&N.flags){for(;L<32;){if(te===0)break e;te--,H+=G[q++]<<L,L+=8}if(H!==(4294967295&N.total)){B.msg="incorrect length check",N.mode=30;break}L=H=0}N.mode=29;case 29:he=1;break e;case 30:he=-3;break e;case 31:return-4;case 32:default:return m}return B.next_out=X,B.avail_out=de,B.next_in=q,B.avail_in=te,N.hold=H,N.bits=L,(N.wsize||le!==B.avail_out&&N.mode<30&&(N.mode<27||Y!==4))&&be(B,B.output,B.next_out,le-B.avail_out)?(N.mode=31,-4):(re-=B.avail_in,le-=B.avail_out,B.total_in+=re,B.total_out+=le,N.total+=le,N.wrap&&le&&(B.adler=N.check=N.flags?l(N.check,ue,le,B.next_out-le):o(N.check,ue,le,B.next_out-le)),B.data_type=N.bits+(N.last?64:0)+(N.mode===12?128:0)+(N.mode===20||N.mode===15?256:0),(re==0&&le===0||Y===4)&&he===g&&(he=-5),he)},i.inflateEnd=function(B){if(!B||!B.state)return m;var Y=B.state;return Y.window&&(Y.window=null),B.state=null,g},i.inflateGetHeader=function(B,Y){var N;return B&&B.state&&2&(N=B.state).wrap?((N.head=Y).done=!1,g):m},i.inflateSetDictionary=function(B,Y){var N,G=Y.length;return B&&B.state?(N=B.state).wrap!==0&&N.mode!==11?m:N.mode===11&&o(1,Y,G,0)!==N.check?-3:be(B,Y,G,G)?(N.mode=31,-4):(N.havedict=1,g):m},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,r,i){var s=t("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(h,p,g,m,w,v,E,b){var T,A,k,I,j,W,ee,F,se,be=b.bits,B=0,Y=0,N=0,G=0,ue=0,q=0,X=0,te=0,de=0,H=0,L=null,re=0,le=new s.Buf16(16),me=new s.Buf16(16),ie=null,D=0;for(B=0;B<=15;B++)le[B]=0;for(Y=0;Y<m;Y++)le[p[g+Y]]++;for(ue=be,G=15;1<=G&&le[G]===0;G--);if(G<ue&&(ue=G),G===0)return w[v++]=20971520,w[v++]=20971520,b.bits=1,0;for(N=1;N<G&&le[N]===0;N++);for(ue<N&&(ue=N),B=te=1;B<=15;B++)if(te<<=1,(te-=le[B])<0)return-1;if(0<te&&(h===0||G!==1))return-1;for(me[1]=0,B=1;B<15;B++)me[B+1]=me[B]+le[B];for(Y=0;Y<m;Y++)p[g+Y]!==0&&(E[me[p[g+Y]]++]=Y);if(W=h===0?(L=ie=E,19):h===1?(L=o,re-=257,ie=l,D-=257,256):(L=c,ie=f,-1),B=N,j=v,X=Y=H=0,k=-1,I=(de=1<<(q=ue))-1,h===1&&852<de||h===2&&592<de)return 1;for(;;){for(ee=B-X,se=E[Y]<W?(F=0,E[Y]):E[Y]>W?(F=ie[D+E[Y]],L[re+E[Y]]):(F=96,0),T=1<<B-X,N=A=1<<q;w[j+(H>>X)+(A-=T)]=ee<<24|F<<16|se|0,A!==0;);for(T=1<<B-1;H&T;)T>>=1;if(T!==0?(H&=T-1,H+=T):H=0,Y++,--le[B]==0){if(B===G)break;B=p[g+E[Y]]}if(ue<B&&(H&I)!==k){for(X===0&&(X=ue),j+=N,te=1<<(q=B-X);q+X<G&&!((te-=le[q+X])<=0);)q++,te<<=1;if(de+=1<<q,h===1&&852<de||h===2&&592<de)return 1;w[k=H&I]=ue<<24|q<<16|j-v|0}}return H!==0&&(w[j+H]=B-X<<24|64<<16|0),b.bits=ue,0}},{"../utils/common":41}],51:[function(t,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,r,i){var s=t("../utils/common"),o=0,l=1;function c(C){for(var O=C.length;0<=--O;)C[O]=0}var f=0,h=29,p=256,g=p+1+h,m=30,w=19,v=2*g+1,E=15,b=16,T=7,A=256,k=16,I=17,j=18,W=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ee=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],F=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],se=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],be=new Array(2*(g+2));c(be);var B=new Array(2*m);c(B);var Y=new Array(512);c(Y);var N=new Array(256);c(N);var G=new Array(h);c(G);var ue,q,X,te=new Array(m);function de(C,O,Z,ae,J){this.static_tree=C,this.extra_bits=O,this.extra_base=Z,this.elems=ae,this.max_length=J,this.has_stree=C&&C.length}function H(C,O){this.dyn_tree=C,this.max_code=0,this.stat_desc=O}function L(C){return C<256?Y[C]:Y[256+(C>>>7)]}function re(C,O){C.pending_buf[C.pending++]=255&O,C.pending_buf[C.pending++]=O>>>8&255}function le(C,O,Z){C.bi_valid>b-Z?(C.bi_buf|=O<<C.bi_valid&65535,re(C,C.bi_buf),C.bi_buf=O>>b-C.bi_valid,C.bi_valid+=Z-b):(C.bi_buf|=O<<C.bi_valid&65535,C.bi_valid+=Z)}function me(C,O,Z){le(C,Z[2*O],Z[2*O+1])}function ie(C,O){for(var Z=0;Z|=1&C,C>>>=1,Z<<=1,0<--O;);return Z>>>1}function D(C,O,Z){var ae,J,ge=new Array(E+1),we=0;for(ae=1;ae<=E;ae++)ge[ae]=we=we+Z[ae-1]<<1;for(J=0;J<=O;J++){var Ee=C[2*J+1];Ee!==0&&(C[2*J]=ie(ge[Ee]++,Ee))}}function M(C){var O;for(O=0;O<g;O++)C.dyn_ltree[2*O]=0;for(O=0;O<m;O++)C.dyn_dtree[2*O]=0;for(O=0;O<w;O++)C.bl_tree[2*O]=0;C.dyn_ltree[2*A]=1,C.opt_len=C.static_len=0,C.last_lit=C.matches=0}function ne(C){8<C.bi_valid?re(C,C.bi_buf):0<C.bi_valid&&(C.pending_buf[C.pending++]=C.bi_buf),C.bi_buf=0,C.bi_valid=0}function Q(C,O,Z,ae){var J=2*O,ge=2*Z;return C[J]<C[ge]||C[J]===C[ge]&&ae[O]<=ae[Z]}function U(C,O,Z){for(var ae=C.heap[Z],J=Z<<1;J<=C.heap_len&&(J<C.heap_len&&Q(O,C.heap[J+1],C.heap[J],C.depth)&&J++,!Q(O,ae,C.heap[J],C.depth));)C.heap[Z]=C.heap[J],Z=J,J<<=1;C.heap[Z]=ae}function $(C,O,Z){var ae,J,ge,we,Ee=0;if(C.last_lit!==0)for(;ae=C.pending_buf[C.d_buf+2*Ee]<<8|C.pending_buf[C.d_buf+2*Ee+1],J=C.pending_buf[C.l_buf+Ee],Ee++,ae===0?me(C,J,O):(me(C,(ge=N[J])+p+1,O),(we=W[ge])!==0&&le(C,J-=G[ge],we),me(C,ge=L(--ae),Z),(we=ee[ge])!==0&&le(C,ae-=te[ge],we)),Ee<C.last_lit;);me(C,A,O)}function fe(C,O){var Z,ae,J,ge=O.dyn_tree,we=O.stat_desc.static_tree,Ee=O.stat_desc.has_stree,ke=O.stat_desc.elems,Me=-1;for(C.heap_len=0,C.heap_max=v,Z=0;Z<ke;Z++)ge[2*Z]!==0?(C.heap[++C.heap_len]=Me=Z,C.depth[Z]=0):ge[2*Z+1]=0;for(;C.heap_len<2;)ge[2*(J=C.heap[++C.heap_len]=Me<2?++Me:0)]=1,C.depth[J]=0,C.opt_len--,Ee&&(C.static_len-=we[2*J+1]);for(O.max_code=Me,Z=C.heap_len>>1;1<=Z;Z--)U(C,ge,Z);for(J=ke;Z=C.heap[1],C.heap[1]=C.heap[C.heap_len--],U(C,ge,1),ae=C.heap[1],C.heap[--C.heap_max]=Z,C.heap[--C.heap_max]=ae,ge[2*J]=ge[2*Z]+ge[2*ae],C.depth[J]=(C.depth[Z]>=C.depth[ae]?C.depth[Z]:C.depth[ae])+1,ge[2*Z+1]=ge[2*ae+1]=J,C.heap[1]=J++,U(C,ge,1),2<=C.heap_len;);C.heap[--C.heap_max]=C.heap[1],function(Ue,yt){var Mt,rt,yn,it,xr,pi,Ut=yt.dyn_tree,wn=yt.max_code,Er=yt.stat_desc.static_tree,ds=yt.stat_desc.has_stree,mi=yt.stat_desc.extra_bits,Gn=yt.stat_desc.extra_base,Zn=yt.stat_desc.max_length,hs=0;for(it=0;it<=E;it++)Ue.bl_count[it]=0;for(Ut[2*Ue.heap[Ue.heap_max]+1]=0,Mt=Ue.heap_max+1;Mt<v;Mt++)Zn<(it=Ut[2*Ut[2*(rt=Ue.heap[Mt])+1]+1]+1)&&(it=Zn,hs++),Ut[2*rt+1]=it,wn<rt||(Ue.bl_count[it]++,xr=0,Gn<=rt&&(xr=mi[rt-Gn]),pi=Ut[2*rt],Ue.opt_len+=pi*(it+xr),ds&&(Ue.static_len+=pi*(Er[2*rt+1]+xr)));if(hs!==0){do{for(it=Zn-1;Ue.bl_count[it]===0;)it--;Ue.bl_count[it]--,Ue.bl_count[it+1]+=2,Ue.bl_count[Zn]--,hs-=2}while(0<hs);for(it=Zn;it!==0;it--)for(rt=Ue.bl_count[it];rt!==0;)wn<(yn=Ue.heap[--Mt])||(Ut[2*yn+1]!==it&&(Ue.opt_len+=(it-Ut[2*yn+1])*Ut[2*yn],Ut[2*yn+1]=it),rt--)}}(C,O),D(ge,Me,C.bl_count)}function _(C,O,Z){var ae,J,ge=-1,we=O[1],Ee=0,ke=7,Me=4;for(we===0&&(ke=138,Me=3),O[2*(Z+1)+1]=65535,ae=0;ae<=Z;ae++)J=we,we=O[2*(ae+1)+1],++Ee<ke&&J===we||(Ee<Me?C.bl_tree[2*J]+=Ee:J!==0?(J!==ge&&C.bl_tree[2*J]++,C.bl_tree[2*k]++):Ee<=10?C.bl_tree[2*I]++:C.bl_tree[2*j]++,ge=J,Me=(Ee=0)===we?(ke=138,3):J===we?(ke=6,3):(ke=7,4))}function he(C,O,Z){var ae,J,ge=-1,we=O[1],Ee=0,ke=7,Me=4;for(we===0&&(ke=138,Me=3),ae=0;ae<=Z;ae++)if(J=we,we=O[2*(ae+1)+1],!(++Ee<ke&&J===we)){if(Ee<Me)for(;me(C,J,C.bl_tree),--Ee!=0;);else J!==0?(J!==ge&&(me(C,J,C.bl_tree),Ee--),me(C,k,C.bl_tree),le(C,Ee-3,2)):Ee<=10?(me(C,I,C.bl_tree),le(C,Ee-3,3)):(me(C,j,C.bl_tree),le(C,Ee-11,7));ge=J,Me=(Ee=0)===we?(ke=138,3):J===we?(ke=6,3):(ke=7,4)}}c(te);var P=!1;function x(C,O,Z,ae){le(C,(f<<1)+(ae?1:0),3),function(J,ge,we,Ee){ne(J),re(J,we),re(J,~we),s.arraySet(J.pending_buf,J.window,ge,we,J.pending),J.pending+=we}(C,O,Z)}i._tr_init=function(C){P||(function(){var O,Z,ae,J,ge,we=new Array(E+1);for(J=ae=0;J<h-1;J++)for(G[J]=ae,O=0;O<1<<W[J];O++)N[ae++]=J;for(N[ae-1]=J,J=ge=0;J<16;J++)for(te[J]=ge,O=0;O<1<<ee[J];O++)Y[ge++]=J;for(ge>>=7;J<m;J++)for(te[J]=ge<<7,O=0;O<1<<ee[J]-7;O++)Y[256+ge++]=J;for(Z=0;Z<=E;Z++)we[Z]=0;for(O=0;O<=143;)be[2*O+1]=8,O++,we[8]++;for(;O<=255;)be[2*O+1]=9,O++,we[9]++;for(;O<=279;)be[2*O+1]=7,O++,we[7]++;for(;O<=287;)be[2*O+1]=8,O++,we[8]++;for(D(be,g+1,we),O=0;O<m;O++)B[2*O+1]=5,B[2*O]=ie(O,5);ue=new de(be,W,p+1,g,E),q=new de(B,ee,0,m,E),X=new de(new Array(0),F,0,w,T)}(),P=!0),C.l_desc=new H(C.dyn_ltree,ue),C.d_desc=new H(C.dyn_dtree,q),C.bl_desc=new H(C.bl_tree,X),C.bi_buf=0,C.bi_valid=0,M(C)},i._tr_stored_block=x,i._tr_flush_block=function(C,O,Z,ae){var J,ge,we=0;0<C.level?(C.strm.data_type===2&&(C.strm.data_type=function(Ee){var ke,Me=4093624447;for(ke=0;ke<=31;ke++,Me>>>=1)if(1&Me&&Ee.dyn_ltree[2*ke]!==0)return o;if(Ee.dyn_ltree[18]!==0||Ee.dyn_ltree[20]!==0||Ee.dyn_ltree[26]!==0)return l;for(ke=32;ke<p;ke++)if(Ee.dyn_ltree[2*ke]!==0)return l;return o}(C)),fe(C,C.l_desc),fe(C,C.d_desc),we=function(Ee){var ke;for(_(Ee,Ee.dyn_ltree,Ee.l_desc.max_code),_(Ee,Ee.dyn_dtree,Ee.d_desc.max_code),fe(Ee,Ee.bl_desc),ke=w-1;3<=ke&&Ee.bl_tree[2*se[ke]+1]===0;ke--);return Ee.opt_len+=3*(ke+1)+5+5+4,ke}(C),J=C.opt_len+3+7>>>3,(ge=C.static_len+3+7>>>3)<=J&&(J=ge)):J=ge=Z+5,Z+4<=J&&O!==-1?x(C,O,Z,ae):C.strategy===4||ge===J?(le(C,2+(ae?1:0),3),$(C,be,B)):(le(C,4+(ae?1:0),3),function(Ee,ke,Me,Ue){var yt;for(le(Ee,ke-257,5),le(Ee,Me-1,5),le(Ee,Ue-4,4),yt=0;yt<Ue;yt++)le(Ee,Ee.bl_tree[2*se[yt]+1],3);he(Ee,Ee.dyn_ltree,ke-1),he(Ee,Ee.dyn_dtree,Me-1)}(C,C.l_desc.max_code+1,C.d_desc.max_code+1,we+1),$(C,C.dyn_ltree,C.dyn_dtree)),M(C),ae&&ne(C)},i._tr_tally=function(C,O,Z){return C.pending_buf[C.d_buf+2*C.last_lit]=O>>>8&255,C.pending_buf[C.d_buf+2*C.last_lit+1]=255&O,C.pending_buf[C.l_buf+C.last_lit]=255&Z,C.last_lit++,O===0?C.dyn_ltree[2*Z]++:(C.matches++,O--,C.dyn_ltree[2*(N[Z]+p+1)]++,C.dyn_dtree[2*L(O)]++),C.last_lit===C.lit_bufsize-1},i._tr_align=function(C){le(C,2,3),me(C,A,be),function(O){O.bi_valid===16?(re(O,O.bi_buf),O.bi_buf=0,O.bi_valid=0):8<=O.bi_valid&&(O.pending_buf[O.pending++]=255&O.bi_buf,O.bi_buf>>=8,O.bi_valid-=8)}(C)}},{"../utils/common":41}],53:[function(t,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,r,i){(function(s){(function(o,l){if(!o.setImmediate){var c,f,h,p,g=1,m={},w=!1,v=o.document,E=Object.getPrototypeOf&&Object.getPrototypeOf(o);E=E&&E.setTimeout?E:o,c={}.toString.call(o.process)==="[object process]"?function(k){Ye.nextTick(function(){T(k)})}:function(){if(o.postMessage&&!o.importScripts){var k=!0,I=o.onmessage;return o.onmessage=function(){k=!1},o.postMessage("","*"),o.onmessage=I,k}}()?(p="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",A,!1):o.attachEvent("onmessage",A),function(k){o.postMessage(p+k,"*")}):o.MessageChannel?((h=new MessageChannel).port1.onmessage=function(k){T(k.data)},function(k){h.port2.postMessage(k)}):v&&"onreadystatechange"in v.createElement("script")?(f=v.documentElement,function(k){var I=v.createElement("script");I.onreadystatechange=function(){T(k),I.onreadystatechange=null,f.removeChild(I),I=null},f.appendChild(I)}):function(k){setTimeout(T,0,k)},E.setImmediate=function(k){typeof k!="function"&&(k=new Function(""+k));for(var I=new Array(arguments.length-1),j=0;j<I.length;j++)I[j]=arguments[j+1];var W={callback:k,args:I};return m[g]=W,c(g),g++},E.clearImmediate=b}function b(k){delete m[k]}function T(k){if(w)setTimeout(T,0,k);else{var I=m[k];if(I){w=!0;try{(function(j){var W=j.callback,ee=j.args;switch(ee.length){case 0:W();break;case 1:W(ee[0]);break;case 2:W(ee[0],ee[1]);break;case 3:W(ee[0],ee[1],ee[2]);break;default:W.apply(l,ee)}})(I)}finally{b(k),w=!1}}}}function A(k){k.source===o&&typeof k.data=="string"&&k.data.indexOf(p)===0&&T(+k.data.slice(p.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof Lr<"u"?Lr:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(O1)),O1.exports}var aP=oP();const lP=Ey(aP);var nl={exports:{}},I1,DE;function uP(){if(DE)return I1;DE=1;var n={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function e(t){return t&&t.replace?t.replace(/([&"<>'])/g,function(r,i){return n[i]}):t}return I1=e,I1}var LE;function cP(){if(LE)return nl.exports;LE=1;var n=uP(),e=Ry().Stream,t="    ";function r(f,h){typeof h!="object"&&(h={indent:h});var p=h.stream?new e:null,g="",m=!1,w=h.indent?h.indent===!0?t:h.indent:"",v=!0;function E(I){v?Ye.nextTick(I):I()}function b(I,j){if(j!==void 0&&(g+=j),I&&!m&&(p=p||new e,m=!0),I&&m){var W=g;E(function(){p.emit("data",W)}),g=""}}function T(I,j){l(b,o(I,w,w?1:0),j)}function A(){if(p){var I=g;E(function(){p.emit("data",I),p.emit("end"),p.readable=!1,p.emit("close")})}}function k(I){var j=I.encoding||"UTF-8",W={version:"1.0",encoding:j};I.standalone&&(W.standalone=I.standalone),T({"?xml":{_attr:W}}),g=g.replace("/>","?>")}return E(function(){v=!1}),h.declaration&&k(h.declaration),f&&f.forEach?f.forEach(function(I,j){var W;j+1===f.length&&(W=A),T(I,W)}):T(f,A),p?(p.readable=!0,p):g}function i(){var f=Array.prototype.slice.call(arguments),h={_elem:o(f)};return h.push=function(p){if(!this.append)throw new Error("not assigned to a parent!");var g=this,m=this._elem.indent;l(this.append,o(p,m,this._elem.icount+(m?1:0)),function(){g.append(!0)})},h.close=function(p){p!==void 0&&this.push(p),this.end&&this.end()},h}function s(f,h){return new Array(h||0).join(f||"")}function o(f,h,p){p=p||0;var g=s(h,p),m,w=f,v=!1;if(typeof f=="object"){var E=Object.keys(f);if(m=E[0],w=f[m],w&&w._elem)return w._elem.name=m,w._elem.icount=p,w._elem.indent=h,w._elem.indents=g,w._elem.interrupt=w,w._elem}var b=[],T=[],A;function k(I){var j=Object.keys(I);j.forEach(function(W){b.push(c(W,I[W]))})}switch(typeof w){case"object":if(w===null)break;w._attr&&k(w._attr),w._cdata&&T.push(("<![CDATA["+w._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),w.forEach&&(A=!1,T.push(""),w.forEach(function(I){if(typeof I=="object"){var j=Object.keys(I)[0];j=="_attr"?k(I._attr):T.push(o(I,h,p+1))}else T.pop(),A=!0,T.push(n(I))}),A||T.push(""));break;default:T.push(n(w))}return{name:m,interrupt:v,attributes:b,content:T,icount:p,indents:g,indent:h}}function l(f,h,p){if(typeof h!="object")return f(!1,h);var g=h.interrupt?1:h.content.length;function m(){for(;h.content.length;){var v=h.content.shift();if(v!==void 0){if(w(v))return;l(f,v)}}f(!1,(g>1?h.indents:"")+(h.name?"</"+h.name+">":"")+(h.indent&&!p?`
`:"")),p&&p()}function w(v){return v.interrupt?(v.interrupt.append=f,v.interrupt.end=m,v.interrupt=!1,f(!0),!0):!1}if(f(!1,h.indents+(h.name?"<"+h.name:"")+(h.attributes.length?" "+h.attributes.join(" "):"")+(g?h.name?">":"":h.name?"/>":"")+(h.indent&&g>1?`
`:"")),!g)return f(!1,h.indent?`
`:"");w(h)||m()}function c(f,h){return f+'="'+n(h)+'"'}return nl.exports=r,nl.exports.element=nl.exports.Element=i,nl.exports}var fP=cP();const Et=Ey(fP),rl=0,M1=32,dP=32,hP=(n,e)=>{const t=e.replace(/-/g,"");if(t.length!==dP)throw new Error(`Error: Cannot extract GUID from font filename: ${e}`);const i=t.replace(/(..)/g,"$1 ").trim().split(" ").map(c=>parseInt(c,16));i.reverse();const o=n.slice(rl,M1).map((c,f)=>c^i[f%i.length]),l=new Uint8Array(rl+o.length+Math.max(0,n.length-M1));return l.set(n.slice(0,rl)),l.set(o,rl),l.set(n.slice(M1),rl+o.length),l};class pP{format(e,t={stack:[]}){const r=e.prepForXml(t);if(r)return r;throw Error("XMLComponent did not format correctly")}}class mP{replace(e,t,r){let i=e;return t.forEach((s,o)=>{i=i.replace(new RegExp(`{${s.fileName}}`,"g"),(r+o).toString())}),i}getMediaData(e,t){return t.Array.filter(r=>e.search(`{${r.fileName}}`)>0)}}class gP{replace(e,t){let r=e;for(const i of t)r=r.replace(new RegExp(`{${i.reference}-${i.instance}}`,"g"),i.numId.toString());return r}}class yP{constructor(){Ce(this,"formatter"),Ce(this,"imageReplacer"),Ce(this,"numberingReplacer"),this.formatter=new pP,this.imageReplacer=new mP,this.numberingReplacer=new gP}compile(e,t,r=[]){const i=new lP,s=this.xmlifyFile(e,t),o=new Map(Object.entries(s));for(const[,l]of o)if(Array.isArray(l))for(const c of l)i.file(c.path,c.data);else i.file(l.path,l.data);for(const l of r)i.file(l.path,l.data);for(const l of e.Media.Array)l.type!=="svg"?i.file(`word/media/${l.fileName}`,l.data):(i.file(`word/media/${l.fileName}`,l.data),i.file(`word/media/${l.fallback.fileName}`,l.fallback.data));for(const{data:l,name:c,fontKey:f}of e.FontTable.fontOptionsWithKey){const[h]=c.split(".");i.file(`word/fonts/${h}.odttf`,hP(l,f))}return i}xmlifyFile(e,t){const r=e.Document.Relationships.RelationshipCount+1,i=Et(this.formatter.format(e.Document.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),s=e.Comments.Relationships.RelationshipCount+1,o=Et(this.formatter.format(e.Comments,{viewWrapper:{View:e.Comments,Relationships:e.Comments.Relationships},file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),l=this.imageReplacer.getMediaData(i,e.Media),c=this.imageReplacer.getMediaData(o,e.Media);return{Relationships:{data:(l.forEach((f,h)=>{e.Document.Relationships.createRelationship(r+h,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${f.fileName}`)}),e.Document.Relationships.createRelationship(e.Document.Relationships.RelationshipCount+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/fontTable","fontTable.xml"),Et(this.formatter.format(e.Document.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}})),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const f=this.imageReplacer.replace(i,l,r);return this.numberingReplacer.replace(f,e.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const f=Et(this.formatter.format(e.Styles,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(f,e.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:Et(this.formatter.format(e.CoreProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:Et(this.formatter.format(e.Numbering,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:Et(this.formatter.format(e.FileRelationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:e.Headers.map((f,h)=>{const p=Et(this.formatter.format(f.View,{viewWrapper:f,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(p,e.Media).forEach((m,w)=>{f.Relationships.createRelationship(w,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${m.fileName}`)}),{data:Et(this.formatter.format(f.Relationships,{viewWrapper:f,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${h+1}.xml.rels`}}),FooterRelationships:e.Footers.map((f,h)=>{const p=Et(this.formatter.format(f.View,{viewWrapper:f,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(p,e.Media).forEach((m,w)=>{f.Relationships.createRelationship(w,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${m.fileName}`)}),{data:Et(this.formatter.format(f.Relationships,{viewWrapper:f,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${h+1}.xml.rels`}}),Headers:e.Headers.map((f,h)=>{const p=Et(this.formatter.format(f.View,{viewWrapper:f,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),g=this.imageReplacer.getMediaData(p,e.Media),m=this.imageReplacer.replace(p,g,0);return{data:this.numberingReplacer.replace(m,e.Numbering.ConcreteNumbering),path:`word/header${h+1}.xml`}}),Footers:e.Footers.map((f,h)=>{const p=Et(this.formatter.format(f.View,{viewWrapper:f,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),g=this.imageReplacer.getMediaData(p,e.Media),m=this.imageReplacer.replace(p,g,0);return{data:this.numberingReplacer.replace(m,e.Numbering.ConcreteNumbering),path:`word/footer${h+1}.xml`}}),ContentTypes:{data:Et(this.formatter.format(e.ContentTypes,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:Et(this.formatter.format(e.CustomProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:Et(this.formatter.format(e.AppProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:Et(this.formatter.format(e.FootNotes.View,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:Et(this.formatter.format(e.FootNotes.Relationships,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:Et(this.formatter.format(e.Settings,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:(()=>{const f=this.imageReplacer.replace(o,c,s);return this.numberingReplacer.replace(f,e.Numbering.ConcreteNumbering)})(),path:"word/comments.xml"},CommentsRelationships:{data:(c.forEach((f,h)=>{e.Comments.Relationships.createRelationship(s+h,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${f.fileName}`)}),Et(this.formatter.format(e.Comments.Relationships,{viewWrapper:{View:e.Comments,Relationships:e.Comments.Relationships},file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}})),path:"word/_rels/comments.xml.rels"},FontTable:{data:Et(this.formatter.format(e.FontTable.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/fontTable.xml"},FontTableRelationships:{data:Et(this.formatter.format(e.FontTable.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"word/_rels/fontTable.xml.rels"}}}}const wP={NONE:"",WITH_2_BLANKS:"  ",WITH_4_BLANKS:"    ",WITH_TAB:"	"},PE=n=>n===!0?wP.WITH_2_BLANKS:n===!1?void 0:n,c5=class jo{static pack(e,t,r){return RN(this,arguments,function*(i,s,o,l=[]){return this.compiler.compile(i,PE(o),l).generateAsync({type:s,mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toString(e,t,r=[]){return jo.pack(e,"string",t,r)}static toBuffer(e,t,r=[]){return jo.pack(e,"nodebuffer",t,r)}static toBase64String(e,t,r=[]){return jo.pack(e,"base64",t,r)}static toBlob(e,t,r=[]){return jo.pack(e,"blob",t,r)}static toArrayBuffer(e,t,r=[]){return jo.pack(e,"arraybuffer",t,r)}static toStream(e,t,r=[]){const i=new sP.Stream;return this.compiler.compile(e,PE(t),r).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then(o=>{i.emit("data",o),i.emit("end")}),i}};Ce(c5,"compiler",new yP);let il=c5;function Wn(n){return 240*n}function Jr(n){return 2*n}function fn(n){return 20*n}const vP={paragraphStyles:[{id:"Normal",name:"Normal",run:{font:"Aptos",size:Jr(11)},paragraph:{spacing:{before:0,after:fn(10),line:Wn(1.15)}}},{id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0,run:{font:"Aptos",size:Jr(11)},paragraph:{spacing:{before:0,after:fn(2),line:Wn(1)}}},{id:"Heading1",name:"Heading 1",basedOn:"Normal",next:"Normal",quickFormat:!0,run:{font:"Aptos Light",size:Jr(16),bold:!0,color:"2E74B5"},paragraph:{spacing:{before:fn(12),after:fn(6),line:Wn(1.15)}}},{id:"Heading2",name:"Heading 2",basedOn:"Normal",next:"Normal",quickFormat:!0,run:{font:"Aptos Light",size:Jr(14),bold:!0,color:"2E74B5"},paragraph:{spacing:{before:fn(12),after:fn(6),line:Wn(1.15)}}},{id:"Heading3",name:"Heading 3",basedOn:"Normal",next:"Normal",quickFormat:!0,run:{font:"Aptos",size:Jr(13),bold:!0,color:"2E74B5"},paragraph:{spacing:{before:fn(12),after:fn(6),line:Wn(1.15)}}},{id:"Heading4",name:"Heading 4",basedOn:"Normal",next:"Normal",quickFormat:!0,run:{font:"Aptos",size:Jr(12),bold:!0,color:"2E74B5"},paragraph:{spacing:{before:fn(12),after:fn(6),line:Wn(1.15)}}},{id:"Heading5",name:"Heading 5",basedOn:"Normal",next:"Normal",quickFormat:!0,run:{font:"Aptos",size:Jr(11),bold:!0,color:"2E74B5"},paragraph:{spacing:{before:fn(12),after:fn(6),line:Wn(1.15)}}},{id:"Title",name:"Title",basedOn:"Normal",next:"Normal",quickFormat:!0,run:{font:"Aptos Light",size:Jr(22),bold:!0,color:"000000"},paragraph:{alignment:St.CENTER,spacing:{before:0,after:0,line:Wn(1.15)}}},{id:"Subtitle",name:"Subtitle",basedOn:"Normal",next:"Normal",quickFormat:!0,run:{font:"Aptos Light",size:Jr(16),italics:!0,color:"666666"},paragraph:{alignment:St.CENTER,spacing:{before:0,after:0,line:Wn(1.15)}}},{id:"Quote",name:"Quote",basedOn:"Normal",quickFormat:!0,run:{font:"Aptos",italics:!0},paragraph:{alignment:St.CENTER,spacing:{before:fn(10),after:fn(10),line:Wn(1.15)}}},{id:"IntenseQuote",name:"Intense Quote",basedOn:"Normal",quickFormat:!0,run:{font:"Aptos",italics:!0,color:"444444"},paragraph:{alignment:St.CENTER,spacing:{before:fn(10),after:fn(10),line:Wn(1.15)}}},{id:"NoSpacing",name:"No Spacing",basedOn:"Normal",quickFormat:!0,paragraph:{spacing:{before:0,after:0,line:Wn(1)}}},{id:"Hyperlink",name:"Hyperlink",basedOn:"Normal",run:{color:"0563C1",underline:{type:"single"}}}]},bP={width:800,height:400};function xP(n){return .75*n*2}function ff(n){const e={};let t=!1;const r={};n.marks&&n.marks.forEach(s=>{var o,l,c;switch(s.type){case"bold":e.bold=!0;break;case"italic":e.italics=!0;break;case"underline":e.underline={type:Py.SINGLE};break;case"strike":e.strike=!0;break;case"code":e.font="Courier New",e.shading={type:"solid",fill:"5805ff"},e.style="Code";break;case"textStyle":s.attrs&&(s.attrs.color&&s.attrs.color!==""&&(s.attrs.color.startsWith("#")?e.color=s.attrs.color:s.attrs.color.startsWith("rgb")?e.color=function(f){const h=f.match(/\d+/g);if(!h||h.length<3)throw new Error("Invalid RGB input");return h.slice(0,3).map(p=>parseInt(p,10).toString(16).padStart(2,"0")).join("").toUpperCase()}(s.attrs.color):e.color=s.attrs.color),s.attrs.fontFamily&&(e.font=function(f){const h=f.replace(/"/g,"").split(",").find(p=>p.trim().length>0);return h?h.trim():f}(s.attrs.fontFamily)),s.attrs.fontSize&&(e.size=xP(parseInt(s.attrs.fontSize,10))));break;case"highlight":if(!(!((o=s.attrs)===null||o===void 0)&&o.color)){e.highlight="yellow";break}if(s.attrs.color.startsWith("#")){const f=s.attrs.color.slice(1).toUpperCase();e.shading={type:qO.SOLID,fill:f};break}if(c=s.attrs.color,Object.values(oI).includes(c)){e.highlight=s.attrs.color;break}e.highlight="yellow";break;case"link":t=!0,e.style="Hyperlink",r.href=(l=s.attrs)===null||l===void 0?void 0:l.href}});const i=new Sg({text:n.text||"",...e});return t&&r?new QS({link:r.href,children:[i]}):i}function EP(n){let e=St.LEFT;if(n.attrs&&n.attrs.textAlign)switch(n.attrs.textAlign){case"center":e=St.CENTER;break;case"right":e=St.RIGHT;break;default:e=St.LEFT}let t=_s.HEADING_1;if(n.attrs&&n.attrs.level)switch(n.attrs.level){case 1:default:t=_s.HEADING_1;break;case 2:t=_s.HEADING_2;break;case 3:t=_s.HEADING_3;break;case 4:t=_s.HEADING_4;break;case 5:t=_s.HEADING_5;break;case 6:t=_s.HEADING_6}const r=(n.content||[]).map(ff).filter(i=>i!==null);return new xn({children:r,alignment:e,heading:t})}const FE=["png","jpg","jpeg","gif","bmp","svg"];function BE(n){return .75*n}async function CP(n){try{return typeof window>"u"||global.$jsdom?await async function(e){try{const{imageSize:t}=await EN(()=>import("./index-XGE-lx_p.js"),[]),r=t(e);if(r.width&&r.height)return{width:r.width,height:r.height}}catch(t){console.warn("Error getting server-side image dimensions:",t)}return bP}(n):await async function(e){const t=new TextDecoder("utf-8").decode(e.subarray(0,100));let r="image/png";return t.includes("<svg")?r="image/svg+xml":t.startsWith("PNG")?r="image/png":t.startsWith("")&&(r="image/jpeg"),new Promise((i,s)=>{const o=new Blob([e],{type:r}),l=URL.createObjectURL(o),c=new Image;c.onload=()=>{URL.revokeObjectURL(l),i({width:c.naturalWidth,height:c.naturalHeight})},c.onerror=f=>{URL.revokeObjectURL(l),s(f)},c.src=l})}(n)}catch(e){return console.warn("Could not determine image dimensions, using defaults:",e),{width:800,height:400}}}async function f5(n){var e;const t=(e=n.attrs)===null||e===void 0?void 0:e.src;if(!t)throw new Error("Image node missing src attribute.");const r=await fetch(t);if(!r.ok)throw new Error(`Failed to fetch image from ${t}: ${r.statusText}`);const i=await r.arrayBuffer(),s=typeof Buffer<"u"&&typeof Buffer.from=="function"?Buffer.from(i):new Uint8Array(i),o=function(g,m){const w=m.get("content-type");if(w){if(w.includes("png"))return"png";if(w.includes("jpeg")||w.includes("jpg"))return"jpg";if(w.includes("gif"))return"gif";if(w.includes("bmp"))return"bmp";if(w.includes("svg"))return"svg"}if(w==="binary/octet-stream"){const v=new URL(g),E=v.pathname.substring(v.pathname.lastIndexOf("/")+1),b=E.substring(E.lastIndexOf(".")+1).toLowerCase();if(FE.includes(b))return b}throw new Error(`Unsupported image type [${w}]. Only ${FE.join(", ")} are supported.`)}(t,r.headers);let l={width:800,height:400};try{l=await CP(s)}catch(g){console.warn("Could not determine intrinsic dimensions, using defaults.",g)}const c=BE(l.width),f=BE(l.height);let h;h=o==="svg"?{data:s,transformation:{width:c,height:f},type:o,fallback:{type:"jpg",data:""}}:{data:s,transformation:{width:c,height:f},type:o};const p=new kM(h);return new xn({children:[p]})}async function vd(n,e){var t,r,i;if(e!=null&&e.style){const f=(n.content||[]).map(ff).filter(h=>h!==null);return new xn({children:f,style:e.style})}let s=St.LEFT;if(n.attrs&&n.attrs.textAlign)switch(n.attrs.textAlign){case"center":s=St.CENTER;break;case"right":s=St.RIGHT;break;default:s=St.LEFT}let o=1;const l=(r=(t=n.marks)===null||t===void 0?void 0:t.filter(f=>f.type==="textStyle"))!==null&&r!==void 0?r:[];l.length>0&&(!((i=l[0].attrs)===null||i===void 0)&&i.lineHeight)&&(o=l[0].attrs.lineHeight);const c=await(n.content||[]).reduce(async(f,h)=>{const p=await f;if(h.type==="image")p.currentTextRuns.length>0&&(p.paragraphs.push(new xn({children:[...p.currentTextRuns],alignment:s})),p.currentTextRuns=[]),p.paragraphs.push(await f5(h));else{const g=ff(h);g&&p.currentTextRuns.push(g)}return p},Promise.resolve({paragraphs:[],currentTextRuns:[]}));return c.currentTextRuns.length>0&&c.paragraphs.push(new xn({children:c.currentTextRuns,alignment:s,spacing:{line:Wn(o)}})),c.paragraphs.length===1?c.paragraphs[0]:c.paragraphs}async function d5(n,e=0){const t=n.content||[];return(await Promise.all(t.map(r=>jy(r,"ordered",e)))).flat().filter(r=>r!==null)}async function jy(n,e,t=0){if(!n.content)return[];const r=[],i=n.content;for(let s=0,o=i.length;s<o;s++){const l=i[s];if(l.type==="paragraph"){const c=[],f=l.content||[];for(let h=0,p=f.length;h<p;h++){const g=ff(f[h]);g!==null&&c.push(g)}e==="bullet"?r.push(new xn({children:c,bullet:{level:t}})):r.push(new xn({children:c,numbering:{reference:"ordered-list",level:t}}))}else if(l.type==="bulletList")r.push(...await h5(l,t+1));else if(l.type==="orderedList")r.push(...await d5(l,t+1));else{const c=await vd(l);Array.isArray(c)?r.push(...c):r.push(c)}}return r}async function h5(n,e=0){const t=n.content||[];return(await Promise.all(t.map(r=>jy(r,"bullet",e)))).flat().filter(r=>r!==null)}async function SP(n){return n.content?(await Promise.all(n.content.map(e=>vd(e,{style:"Quote"})))).flatMap(e=>Array.isArray(e)?e:[e]):[]}async function kP(n){const e=(n.content||[]).map(async r=>r.type==="paragraph"?vd(r):new xn({children:[]})),t={children:(await Promise.all(e)).flatMap(r=>r)};return n.attrs&&n.attrs.colspan&&Number(n.attrs.colspan)>1&&(t.columnSpan=Number(n.attrs.colspan)),new By(t)}async function TP(n){const e=await Promise.all((n.content||[]).map(async t=>{const r=await Promise.all((t.content||[]).map(async i=>kP(i)));return new LD({children:r})}));return new a5({rows:e,width:{size:100,type:cf.PERCENTAGE}})}async function AP({node:n,customNodes:e=[]}){switch(n.type){case"paragraph":return vd(n);case"bulletList":return h5(n);case"orderedList":return d5(n);case"listItem":return jy(n,"bullet");case"table":return TP(n);case"image":return[await f5(n)];case"heading":return EP(n);case"blockquote":return SP(n);case"horizontalRule":return new xn({children:[new ha({children:[(t=[new nt({name:"v:rect",attributes:{style:{key:"style",value:"width:0.0pt;height:.05pt;mso-width-percent:0;mso-height-percent:0;mso-width-percent:0;mso-height-percent:0"},hr:{key:"o:hr",value:"t"},hrstd:{key:"o:hrstd",value:"t"},hralign:{key:"o:hralign",value:"center"},fillcolor:{key:"fillcolor",value:"#A0A0A0"},stroked:{key:"stroked",value:"f"}}})],new nt({name:"w:pict",children:t}))]})],style:"horizontalRule"});default:if(e){const r=e.find(i=>i.type===n.type);return r?r.render(n):(console.error(`Custom node "${n.type}" not found`),[])}return[]}var t}function Rg(n,e){return typeof n!="object"||n===null?e:(typeof e!="object"||e===null||Object.keys(e).forEach(t=>{const r=e[t],i=n[t];if(Array.isArray(r)&&Array.isArray(i)){const s=[...i];r.forEach(o=>{if(o&&typeof o=="object"&&o.id){const l=s.findIndex(c=>c.id===o.id);l!==-1?s[l]=Rg(s[l],o):s.push(o)}else s.push(o)}),n[t]=s}else n[t]=typeof r=="object"?Rg(typeof i=="object"&&i!==null?i:{},r):r}),n)}async function RP({node:n,customNodes:e=[],styleOverrides:t}){const r=Rg(vP,t),i=(n.content||[]).map(o=>AP({node:o,customNodes:e,styleOverrides:r})),s=(await Promise.all(i)).flatMap(o=>Array.isArray(o)?o:o instanceof xn||o instanceof a5?[o]:[]);return new iP({numbering:{config:[{reference:"ordered-list",levels:[{level:0,format:Kt.DECIMAL,text:"%1.",alignment:"left",style:{paragraph:{indent:{left:720,hanging:360}}}},{level:1,format:Kt.DECIMAL,text:"%2.",alignment:"left",style:{paragraph:{indent:{left:1140,hanging:360}}}},{level:2,format:Kt.DECIMAL,text:"%3.",alignment:"left",style:{paragraph:{indent:{left:1440,hanging:360}}}},{level:3,format:Kt.DECIMAL,text:"%4.",alignment:"left",style:{paragraph:{indent:{left:1740,hanging:360}}}},{level:4,format:Kt.DECIMAL,text:"%5.",alignment:"left",style:{paragraph:{indent:{left:2040,hanging:360}}}},{level:5,format:Kt.DECIMAL,text:"%6.",alignment:"left",style:{paragraph:{indent:{left:2340,hanging:360}}}},{level:6,format:Kt.DECIMAL,text:"%7.",alignment:"left",style:{paragraph:{indent:{left:2640,hanging:360}}}},{level:7,format:Kt.DECIMAL,text:"%8.",alignment:"left",style:{paragraph:{indent:{left:2940,hanging:360}}}},{level:8,format:Kt.DECIMAL,text:"%9.",alignment:"left",style:{paragraph:{indent:{left:3240,hanging:360}}}}]}]},sections:[{children:s}],styles:r})}const _P=async({document:n,exportType:e,customNodes:t,styleOverrides:r})=>{const i=await RP({node:n,styleOverrides:r,customNodes:t});if(!i)throw new Error("Failed to convert document");let s;try{switch(e){case"buffer":s=await il.toBuffer(i);break;case"string":s=await il.toString(i);break;case"base64":s=await il.toBase64String(i);break;case"blob":s=await il.toBlob(i);break;case"stream":s=il.toStream(i);break;default:throw new Error("Invalid export type")}}catch(o){throw new Error(`Failed to export document: ${o.message}`)}return s},NP=bt.create({name:"export-docx",addOptions:()=>({styleOverrides:{},customNodes:[],exportType:"blob",onCompleteExport:()=>{throw new Error("The [exportDocx] extension requires an [onCompleteExport] callback function to handle the exported DOCX file")}}),addCommands(){return{exportDocx:n=>async({editor:e})=>{var t,r,i;const s=e.getJSON(),o=await _P({document:s,styleOverrides:(t=n==null?void 0:n.styleOverrides)!==null&&t!==void 0?t:this.options.styleOverrides,customNodes:(r=n==null?void 0:n.customNodes)!==null&&r!==void 0?r:this.options.customNodes,exportType:(i=n==null?void 0:n.exportType)!==null&&i!==void 0?i:this.options.exportType});return n!=null&&n.onCompleteExport?n.onCompleteExport(o):this.options.onCompleteExport(o),!0}}}}),OP="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",IP="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",la=(n,e)=>{for(const t in e)n[t]=e[t];return n},_g="numeric",Ng="ascii",Og="alpha",gl="asciinumeric",ul="alphanumeric",Ig="domain",p5="emoji",MP="scheme",DP="slashscheme",D1="whitespace";function LP(n,e){return n in e||(e[n]=[]),e[n]}function Us(n,e,t){e[_g]&&(e[gl]=!0,e[ul]=!0),e[Ng]&&(e[gl]=!0,e[Og]=!0),e[gl]&&(e[ul]=!0),e[Og]&&(e[ul]=!0),e[ul]&&(e[Ig]=!0),e[p5]&&(e[Ig]=!0);for(const r in e){const i=LP(r,t);i.indexOf(n)<0&&i.push(n)}}function PP(n,e){const t={};for(const r in e)e[r].indexOf(n)>=0&&(t[r]=!0);return t}function Dn(n=null){this.j={},this.jr=[],this.jd=null,this.t=n}Dn.groups={};Dn.prototype={accepts(){return!!this.t},go(n){const e=this,t=e.j[n];if(t)return t;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],s=e.jr[r][1];if(s&&i.test(n))return s}return e.jd},has(n,e=!1){return e?n in this.j:!!this.go(n)},ta(n,e,t,r){for(let i=0;i<n.length;i++)this.tt(n[i],e,t,r)},tr(n,e,t,r){r=r||Dn.groups;let i;return e&&e.j?i=e:(i=new Dn(e),t&&r&&Us(e,t,r)),this.jr.push([n,i]),i},ts(n,e,t,r){let i=this;const s=n.length;if(!s)return i;for(let o=0;o<s-1;o++)i=i.tt(n[o]);return i.tt(n[s-1],e,t,r)},tt(n,e,t,r){r=r||Dn.groups;const i=this;if(e&&e.j)return i.j[n]=e,e;const s=e;let o,l=i.go(n);if(l?(o=new Dn,la(o.j,l.j),o.jr.push.apply(o.jr,l.jr),o.jd=l.jd,o.t=l.t):o=new Dn,s){if(r)if(o.t&&typeof o.t=="string"){const c=la(PP(o.t,r),t);Us(s,c,r)}else t&&Us(s,t,r);o.t=s}return i.j[n]=o,o}};const Ze=(n,e,t,r,i)=>n.ta(e,t,r,i),Ct=(n,e,t,r,i)=>n.tr(e,t,r,i),jE=(n,e,t,r,i)=>n.ts(e,t,r,i),Oe=(n,e,t,r,i)=>n.tt(e,t,r,i),ti="WORD",Mg="UWORD",m5="ASCIINUMERICAL",g5="ALPHANUMERICAL",Ml="LOCALHOST",Dg="TLD",Lg="UTLD",Vc="SCHEME",zo="SLASH_SCHEME",zy="NUM",Pg="WS",Hy="NL",yl="OPENBRACE",wl="CLOSEBRACE",df="OPENBRACKET",hf="CLOSEBRACKET",pf="OPENPAREN",mf="CLOSEPAREN",gf="OPENANGLEBRACKET",yf="CLOSEANGLEBRACKET",wf="FULLWIDTHLEFTPAREN",vf="FULLWIDTHRIGHTPAREN",bf="LEFTCORNERBRACKET",xf="RIGHTCORNERBRACKET",Ef="LEFTWHITECORNERBRACKET",Cf="RIGHTWHITECORNERBRACKET",Sf="FULLWIDTHLESSTHAN",kf="FULLWIDTHGREATERTHAN",Tf="AMPERSAND",Uy="APOSTROPHE",Af="ASTERISK",zi="AT",Rf="BACKSLASH",_f="BACKTICK",Nf="CARET",Vi="COLON",Vy="COMMA",Of="DOLLAR",_r="DOT",If="EQUALS",Wy="EXCLAMATION",ir="HYPHEN",vl="PERCENT",Mf="PIPE",Df="PLUS",Lf="POUND",bl="QUERY",$y="QUOTE",y5="FULLWIDTHMIDDLEDOT",Ky="SEMI",Nr="SLASH",xl="TILDE",Pf="UNDERSCORE",w5="EMOJI",Ff="SYM";var v5=Object.freeze({__proto__:null,WORD:ti,UWORD:Mg,ASCIINUMERICAL:m5,ALPHANUMERICAL:g5,LOCALHOST:Ml,TLD:Dg,UTLD:Lg,SCHEME:Vc,SLASH_SCHEME:zo,NUM:zy,WS:Pg,NL:Hy,OPENBRACE:yl,CLOSEBRACE:wl,OPENBRACKET:df,CLOSEBRACKET:hf,OPENPAREN:pf,CLOSEPAREN:mf,OPENANGLEBRACKET:gf,CLOSEANGLEBRACKET:yf,FULLWIDTHLEFTPAREN:wf,FULLWIDTHRIGHTPAREN:vf,LEFTCORNERBRACKET:bf,RIGHTCORNERBRACKET:xf,LEFTWHITECORNERBRACKET:Ef,RIGHTWHITECORNERBRACKET:Cf,FULLWIDTHLESSTHAN:Sf,FULLWIDTHGREATERTHAN:kf,AMPERSAND:Tf,APOSTROPHE:Uy,ASTERISK:Af,AT:zi,BACKSLASH:Rf,BACKTICK:_f,CARET:Nf,COLON:Vi,COMMA:Vy,DOLLAR:Of,DOT:_r,EQUALS:If,EXCLAMATION:Wy,HYPHEN:ir,PERCENT:vl,PIPE:Mf,PLUS:Df,POUND:Lf,QUERY:bl,QUOTE:$y,FULLWIDTHMIDDLEDOT:y5,SEMI:Ky,SLASH:Nr,TILDE:xl,UNDERSCORE:Pf,EMOJI:w5,SYM:Ff});const Yr=/[a-z]/,sl=new RegExp("\\p{L}","u"),L1=new RegExp("\\p{Emoji}","u"),Qr=/\d/,P1=/\s/,zE="\r",F1=`
`,FP="",BP="",B1="";let _c=null,Nc=null;function jP(n=[]){const e={};Dn.groups=e;const t=new Dn;_c==null&&(_c=HE(OP)),Nc==null&&(Nc=HE(IP)),Oe(t,"'",Uy),Oe(t,"{",yl),Oe(t,"}",wl),Oe(t,"[",df),Oe(t,"]",hf),Oe(t,"(",pf),Oe(t,")",mf),Oe(t,"<",gf),Oe(t,">",yf),Oe(t,"",wf),Oe(t,"",vf),Oe(t,"",bf),Oe(t,"",xf),Oe(t,"",Ef),Oe(t,"",Cf),Oe(t,"",Sf),Oe(t,"",kf),Oe(t,"&",Tf),Oe(t,"*",Af),Oe(t,"@",zi),Oe(t,"`",_f),Oe(t,"^",Nf),Oe(t,":",Vi),Oe(t,",",Vy),Oe(t,"$",Of),Oe(t,".",_r),Oe(t,"=",If),Oe(t,"!",Wy),Oe(t,"-",ir),Oe(t,"%",vl),Oe(t,"|",Mf),Oe(t,"+",Df),Oe(t,"#",Lf),Oe(t,"?",bl),Oe(t,'"',$y),Oe(t,"/",Nr),Oe(t,";",Ky),Oe(t,"~",xl),Oe(t,"_",Pf),Oe(t,"\\",Rf),Oe(t,"",y5);const r=Ct(t,Qr,zy,{[_g]:!0});Ct(r,Qr,r);const i=Ct(r,Yr,m5,{[gl]:!0}),s=Ct(r,sl,g5,{[ul]:!0}),o=Ct(t,Yr,ti,{[Ng]:!0});Ct(o,Qr,i),Ct(o,Yr,o),Ct(i,Qr,i),Ct(i,Yr,i);const l=Ct(t,sl,Mg,{[Og]:!0});Ct(l,Yr),Ct(l,Qr,s),Ct(l,sl,l),Ct(s,Qr,s),Ct(s,Yr),Ct(s,sl,s);const c=Oe(t,F1,Hy,{[D1]:!0}),f=Oe(t,zE,Pg,{[D1]:!0}),h=Ct(t,P1,Pg,{[D1]:!0});Oe(t,B1,h),Oe(f,F1,c),Oe(f,B1,h),Ct(f,P1,h),Oe(h,zE),Oe(h,F1),Ct(h,P1,h),Oe(h,B1,h);const p=Ct(t,L1,w5,{[p5]:!0});Oe(p,"#"),Ct(p,L1,p),Oe(p,FP,p);const g=Oe(p,BP);Oe(g,"#"),Ct(g,L1,p);const m=[[Yr,o],[Qr,i]],w=[[Yr,null],[sl,l],[Qr,s]];for(let v=0;v<_c.length;v++)Pi(t,_c[v],Dg,ti,m);for(let v=0;v<Nc.length;v++)Pi(t,Nc[v],Lg,Mg,w);Us(Dg,{tld:!0,ascii:!0},e),Us(Lg,{utld:!0,alpha:!0},e),Pi(t,"file",Vc,ti,m),Pi(t,"mailto",Vc,ti,m),Pi(t,"http",zo,ti,m),Pi(t,"https",zo,ti,m),Pi(t,"ftp",zo,ti,m),Pi(t,"ftps",zo,ti,m),Us(Vc,{scheme:!0,ascii:!0},e),Us(zo,{slashscheme:!0,ascii:!0},e),n=n.sort((v,E)=>v[0]>E[0]?1:-1);for(let v=0;v<n.length;v++){const E=n[v][0],T=n[v][1]?{[MP]:!0}:{[DP]:!0};E.indexOf("-")>=0?T[Ig]=!0:Yr.test(E)?Qr.test(E)?T[gl]=!0:T[Ng]=!0:T[_g]=!0,jE(t,E,E,T)}return jE(t,"localhost",Ml,{ascii:!0}),t.jd=new Dn(Ff),{start:t,tokens:la({groups:e},v5)}}function b5(n,e){const t=zP(e.replace(/[A-Z]/g,l=>l.toLowerCase())),r=t.length,i=[];let s=0,o=0;for(;o<r;){let l=n,c=null,f=0,h=null,p=-1,g=-1;for(;o<r&&(c=l.go(t[o]));)l=c,l.accepts()?(p=0,g=0,h=l):p>=0&&(p+=t[o].length,g++),f+=t[o].length,s+=t[o].length,o++;s-=p,o-=g,f-=p,i.push({t:h.t,v:e.slice(s-f,s),s:s-f,e:s})}return i}function zP(n){const e=[],t=n.length;let r=0;for(;r<t;){let i=n.charCodeAt(r),s,o=i<55296||i>56319||r+1===t||(s=n.charCodeAt(r+1))<56320||s>57343?n[r]:n.slice(r,r+2);e.push(o),r+=o.length}return e}function Pi(n,e,t,r,i){let s;const o=e.length;for(let l=0;l<o-1;l++){const c=e[l];n.j[c]?s=n.j[c]:(s=new Dn(r),s.jr=i.slice(),n.j[c]=s),n=s}return s=new Dn(t),s.jr=i.slice(),n.j[e[o-1]]=s,s}function HE(n){const e=[],t=[];let r=0,i="0123456789";for(;r<n.length;){let s=0;for(;i.indexOf(n[r+s])>=0;)s++;if(s>0){e.push(t.join(""));for(let o=parseInt(n.substring(r,r+s),10);o>0;o--)t.pop();r+=s}else t.push(n[r]),r++}return e}const Dl={defaultProtocol:"http",events:null,format:UE,formatHref:UE,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function qy(n,e=null){let t=la({},Dl);n&&(t=la(t,n instanceof qy?n.o:n));const r=t.ignoreTags,i=[];for(let s=0;s<r.length;s++)i.push(r[s].toUpperCase());this.o=t,e&&(this.defaultRender=e),this.ignoreTags=i}qy.prototype={o:Dl,ignoreTags:[],defaultRender(n){return n},check(n){return this.get("validate",n.toString(),n)},get(n,e,t){const r=e!=null;let i=this.o[n];return i&&(typeof i=="object"?(i=t.t in i?i[t.t]:Dl[n],typeof i=="function"&&r&&(i=i(e,t))):typeof i=="function"&&r&&(i=i(e,t.t,t)),i)},getObj(n,e,t){let r=this.o[n];return typeof r=="function"&&e!=null&&(r=r(e,t.t,t)),r},render(n){const e=n.render(this);return(this.get("render",null,n)||this.defaultRender)(e,n.t,n)}};function UE(n){return n}function x5(n,e){this.t="token",this.v=n,this.tk=e}x5.prototype={isLink:!1,toString(){return this.v},toHref(n){return this.toString()},toFormattedString(n){const e=this.toString(),t=n.get("truncate",e,this),r=n.get("format",e,this);return t&&r.length>t?r.substring(0,t)+"":r},toFormattedHref(n){return n.get("formatHref",this.toHref(n.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(n=Dl.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(n),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(n){return{type:this.t,value:this.toFormattedString(n),isLink:this.isLink,href:this.toFormattedHref(n),start:this.startIndex(),end:this.endIndex()}},validate(n){return n.get("validate",this.toString(),this)},render(n){const e=this,t=this.toHref(n.get("defaultProtocol")),r=n.get("formatHref",t,this),i=n.get("tagName",t,e),s=this.toFormattedString(n),o={},l=n.get("className",t,e),c=n.get("target",t,e),f=n.get("rel",t,e),h=n.getObj("attributes",t,e),p=n.getObj("events",t,e);return o.href=r,l&&(o.class=l),c&&(o.target=c),f&&(o.rel=f),h&&la(o,h),{tagName:i,attributes:o,content:s,eventListeners:p}}};function bd(n,e){class t extends x5{constructor(i,s){super(i,s),this.t=n}}for(const r in e)t.prototype[r]=e[r];return t.t=n,t}const VE=bd("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),WE=bd("text"),HP=bd("nl"),Oc=bd("url",{isLink:!0,toHref(n=Dl.defaultProtocol){return this.hasProtocol()?this.v:`${n}://${this.v}`},hasProtocol(){const n=this.tk;return n.length>=2&&n[0].t!==Ml&&n[1].t===Vi}}),rr=n=>new Dn(n);function UP({groups:n}){const e=n.domain.concat([Tf,Af,zi,Rf,_f,Nf,Of,If,ir,zy,vl,Mf,Df,Lf,Nr,Ff,xl,Pf]),t=[Vi,Vy,_r,Wy,vl,bl,$y,Ky,gf,yf,yl,wl,hf,df,pf,mf,wf,vf,bf,xf,Ef,Cf,Sf,kf],r=[Tf,Uy,Af,Rf,_f,Nf,Of,If,ir,yl,wl,vl,Mf,Df,Lf,bl,Nr,Ff,xl,Pf],i=rr(),s=Oe(i,xl);Ze(s,r,s),Ze(s,n.domain,s);const o=rr(),l=rr(),c=rr();Ze(i,n.domain,o),Ze(i,n.scheme,l),Ze(i,n.slashscheme,c),Ze(o,r,s),Ze(o,n.domain,o);const f=Oe(o,zi);Oe(s,zi,f),Oe(l,zi,f),Oe(c,zi,f);const h=Oe(s,_r);Ze(h,r,s),Ze(h,n.domain,s);const p=rr();Ze(f,n.domain,p),Ze(p,n.domain,p);const g=Oe(p,_r);Ze(g,n.domain,p);const m=rr(VE);Ze(g,n.tld,m),Ze(g,n.utld,m),Oe(f,Ml,m);const w=Oe(p,ir);Oe(w,ir,w),Ze(w,n.domain,p),Ze(m,n.domain,p),Oe(m,_r,g),Oe(m,ir,w);const v=Oe(m,Vi);Ze(v,n.numeric,VE);const E=Oe(o,ir),b=Oe(o,_r);Oe(E,ir,E),Ze(E,n.domain,o),Ze(b,r,s),Ze(b,n.domain,o);const T=rr(Oc);Ze(b,n.tld,T),Ze(b,n.utld,T),Ze(T,n.domain,o),Ze(T,r,s),Oe(T,_r,b),Oe(T,ir,E),Oe(T,zi,f);const A=Oe(T,Vi),k=rr(Oc);Ze(A,n.numeric,k);const I=rr(Oc),j=rr();Ze(I,e,I),Ze(I,t,j),Ze(j,e,I),Ze(j,t,j),Oe(T,Nr,I),Oe(k,Nr,I);const W=Oe(l,Vi),ee=Oe(c,Vi),F=Oe(ee,Nr),se=Oe(F,Nr);Ze(l,n.domain,o),Oe(l,_r,b),Oe(l,ir,E),Ze(c,n.domain,o),Oe(c,_r,b),Oe(c,ir,E),Ze(W,n.domain,I),Oe(W,Nr,I),Oe(W,bl,I),Ze(se,n.domain,I),Ze(se,e,I),Oe(se,Nr,I);const be=[[yl,wl],[df,hf],[pf,mf],[gf,yf],[wf,vf],[bf,xf],[Ef,Cf],[Sf,kf]];for(let B=0;B<be.length;B++){const[Y,N]=be[B],G=Oe(I,Y);Oe(j,Y,G),Oe(G,N,I);const ue=rr(Oc);Ze(G,e,ue);const q=rr();Ze(G,t),Ze(ue,e,ue),Ze(ue,t,q),Ze(q,e,ue),Ze(q,t,q),Oe(ue,N,I),Oe(q,N,I)}return Oe(i,Ml,T),Oe(i,Hy,HP),{start:i,tokens:v5}}function VP(n,e,t){let r=t.length,i=0,s=[],o=[];for(;i<r;){let l=n,c=null,f=null,h=0,p=null,g=-1;for(;i<r&&!(c=l.go(t[i].t));)o.push(t[i++]);for(;i<r&&(f=c||l.go(t[i].t));)c=null,l=f,l.accepts()?(g=0,p=l):g>=0&&g++,i++,h++;if(g<0)i-=h,i<r&&(o.push(t[i]),i++);else{o.length>0&&(s.push(j1(WE,e,o)),o=[]),i-=g,h-=g;const m=p.t,w=t.slice(i-h,i);s.push(j1(m,e,w))}}return o.length>0&&s.push(j1(WE,e,o)),s}function j1(n,e,t){const r=t[0].s,i=t[t.length-1].e,s=e.slice(r,i);return new n(s,t)}const WP=typeof console<"u"&&console&&console.warn||(()=>{}),$P="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",mt={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function KP(){return Dn.groups={},mt.scanner=null,mt.parser=null,mt.tokenQueue=[],mt.pluginQueue=[],mt.customSchemes=[],mt.initialized=!1,mt}function $E(n,e=!1){if(mt.initialized&&WP(`linkifyjs: already initialized - will not register custom scheme "${n}" ${$P}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(n))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);mt.customSchemes.push([n,e])}function qP(){mt.scanner=jP(mt.customSchemes);for(let n=0;n<mt.tokenQueue.length;n++)mt.tokenQueue[n][1]({scanner:mt.scanner});mt.parser=UP(mt.scanner.tokens);for(let n=0;n<mt.pluginQueue.length;n++)mt.pluginQueue[n][1]({scanner:mt.scanner,parser:mt.parser});return mt.initialized=!0,mt}function Gy(n){return mt.initialized||qP(),VP(mt.parser.start,n,b5(mt.scanner.start,n))}Gy.scan=b5;function E5(n,e=null,t=null){if(e&&typeof e=="object"){if(t)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);t=e,e=null}const r=new qy(t),i=Gy(n),s=[];for(let o=0;o<i.length;o++){const l=i[o];l.isLink&&(!e||l.t===e)&&r.check(l)&&s.push(l.toFormattedObject(r))}return s}function GP(n){return n.length===1?n[0].isLink:n.length===3&&n[1].isLink?["()","[]"].includes(n[0].value+n[2].value):!1}function ZP(n){return new jt({key:new kn("autolink"),appendTransaction:(e,t,r)=>{const i=e.some(f=>f.docChanged)&&!t.doc.eq(r.doc),s=e.some(f=>f.getMeta("preventAutolink"));if(!i||s)return;const{tr:o}=r,l=k9(t.doc,[...e]);if(M9(l).forEach(({newRange:f})=>{const h=A9(r.doc,f,m=>m.isTextblock);let p,g;if(h.length>1?(p=h[0],g=r.doc.textBetween(p.pos,p.pos+p.node.nodeSize,void 0," ")):h.length&&r.doc.textBetween(f.from,f.to," "," ").endsWith(" ")&&(p=h[0],g=r.doc.textBetween(p.pos,f.to,void 0," ")),p&&g){const m=g.split(" ").filter(b=>b!=="");if(m.length<=0)return!1;const w=m[m.length-1],v=p.pos+g.lastIndexOf(w);if(!w)return!1;const E=Gy(w).map(b=>b.toObject(n.defaultProtocol));if(!GP(E))return!1;E.filter(b=>b.isLink).map(b=>({...b,from:v+b.start+1,to:v+b.end+1})).filter(b=>r.schema.marks.code?!r.doc.rangeHasMark(b.from,b.to,r.schema.marks.code):!0).filter(b=>n.validate(b.value)).filter(b=>n.shouldAutoLink(b.value)).forEach(b=>{gy(b.from,b.to,r.doc).some(T=>T.mark.type===n.type)||o.addMark(b.from,b.to,n.type.create({href:b.href}))})}}),!!o.steps.length)return o}})}function XP(n){return new jt({key:new kn("handleClickLink"),props:{handleClick:(e,t,r)=>{var i,s;if(r.button!==0||!e.editable)return!1;let o=r.target;const l=[];for(;o.nodeName!=="DIV";)l.push(o),o=o.parentNode;if(!l.find(g=>g.nodeName==="A"))return!1;const c=tS(e.state,n.type.name),f=r.target,h=(i=f==null?void 0:f.href)!==null&&i!==void 0?i:c.href,p=(s=f==null?void 0:f.target)!==null&&s!==void 0?s:c.target;return f&&h?(window.open(h,p),!0):!1}}})}function JP(n){return new jt({key:new kn("handlePasteLink"),props:{handlePaste:(e,t,r)=>{const{state:i}=e,{selection:s}=i,{empty:o}=s;if(o)return!1;let l="";r.content.forEach(f=>{l+=f.textContent});const c=E5(l,{defaultProtocol:n.defaultProtocol}).find(f=>f.isLink&&f.value===l);return!l||!c?!1:n.editor.commands.setMark(n.type,{href:c.href})}}})}const YP=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function Os(n,e){const t=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&t.push(i)}),!n||n.replace(YP,"").match(new RegExp(`^(?:(?:${t.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}const QP=jn.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(n=>{if(typeof n=="string"){$E(n);return}$E(n.scheme,n.optionalSlashes)})},onDestroy(){KP()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(n,e)=>!!Os(n,e.protocols),validate:n=>!!n,shouldAutoLink:n=>!!n}},addAttributes(){return{href:{default:null,parseHTML(n){return n.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:n=>{const e=n.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:t=>!!Os(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:n}){return this.options.isAllowedUri(n.href,{defaultValidate:e=>!!Os(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",dt(this.options.HTMLAttributes,n),0]:["a",dt(this.options.HTMLAttributes,{...n,href:""}),0]},addCommands(){return{setLink:n=>({chain:e})=>{const{href:t}=n;return this.options.isAllowedUri(t,{defaultValidate:r=>!!Os(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,n).setMeta("preventAutolink",!0).run():!1},toggleLink:n=>({chain:e})=>{const{href:t}=n;return this.options.isAllowedUri(t,{defaultValidate:r=>!!Os(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().toggleMark(this.name,n,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run():!1},unsetLink:()=>({chain:n})=>n().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[ns({find:n=>{const e=[];if(n){const{protocols:t,defaultProtocol:r}=this.options,i=E5(n).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:o=>!!Os(o,t),protocols:t,defaultProtocol:r}));i.length&&i.forEach(s=>e.push({text:s.value,data:{href:s.href},index:s.start}))}return e},type:this.type,getAttributes:n=>{var e;return{href:(e=n.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const n=[],{protocols:e,defaultProtocol:t}=this.options;return this.options.autolink&&n.push(ZP({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!Os(i,e),protocols:e,defaultProtocol:t}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&n.push(XP({type:this.type})),this.options.linkOnPaste&&n.push(JP({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),n}}),eF=QP.extend({inclusive:!1,parseHTML(){return[{tag:'a[href]:not([data-type="button"]):not([href *= "javascript:" i])'}]},addProseMirrorPlugins(){var e;const{editor:n}=this;return[...((e=this.parent)==null?void 0:e.call(this))||[],new jt({props:{handleKeyDown:(t,r)=>{const{selection:i}=n.state;return r.key==="Escape"&&i.empty!==!0&&n.commands.focus(i.to,{scrollIntoView:!1}),!1},handleClick(t,r){const{schema:i,doc:s,tr:o}=t.state;let l;if(i.marks.link&&(l=od(s.resolve(r),i.marks.link)),!l)return;const{from:c,to:f}=l,h=Math.min(c,f),p=Math.max(c,f);if(r<h||r>p)return;const g=s.resolve(h),m=s.resolve(p),w=o.setSelection(new qe(g,m));t.dispatch(w)}}})]}}),tF=bt.create({name:"selection",addProseMirrorPlugins(){const{editor:n}=this;return[new jt({key:new kn("selection"),props:{decorations(e){return e.selection.empty||n.isFocused===!0||!n.isEditable||br(e.selection)?null:Lt.create(e.doc,[Kn.inline(e.selection.from,e.selection.to,{class:"selection"})])}}})]}});function KE({types:n,node:e}){return e?Array.isArray(n)?n.includes(e.type):e.type===n:!1}const nF=bt.create({name:"trailingNode",addOptions(){return{node:"paragraph",notAfter:["paragraph"]}},addProseMirrorPlugins(){const n=new kn(this.name),e=Object.entries(this.editor.schema.nodes).map(([,t])=>t).filter(t=>this.options.notAfter.includes(t.name));return[new jt({key:n,appendTransaction:(t,r,i)=>{const{doc:s,tr:o,schema:l}=i,c=n.getState(i),f=s.content.size,h=l.nodes[this.options.node];return c&&h?o.insert(f,h.create()):null},state:{init:(t,r)=>{const i=r.tr.doc.lastChild;return!KE({node:i,types:e})},apply:(t,r)=>{if(!t.docChanged)return r;const i=t.doc.lastChild;return!KE({node:i,types:e})}}})]}}),rF=n=>{if(!n.children.length)return;const e=n.querySelectorAll("span");e&&e.forEach(t=>{var r,i;const s=t.getAttribute("style"),o=(i=(r=t.parentElement)===null||r===void 0?void 0:r.closest("span"))===null||i===void 0?void 0:i.getAttribute("style");t.setAttribute("style",`${o};${s}`)})},iF=jn.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!1}},parseHTML(){return[{tag:"span",getAttrs:n=>n.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&rF(n),{}):!1}]},renderHTML({HTMLAttributes:n}){return["span",dt(this.options.HTMLAttributes,n),0]},addCommands(){return{removeEmptyTextStyle:()=>({tr:n})=>{const{selection:e}=n;return n.doc.nodesBetween(e.from,e.to,(t,r)=>{if(t.isTextblock)return!0;t.marks.filter(i=>i.type===this.type).some(i=>Object.values(i.attrs).some(s=>!!s))||n.removeMark(r,r+t.nodeSize,this.type)}),!0}}}}),sF=bt.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:["paragraph"],attributes:{class:{}}},{types:this.options.types,attributes:{fontSize:{parseHTML:n=>n.style.fontSize.replace(/['"]+/g,""),renderHTML:n=>n.fontSize?{style:`font-size: ${n.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:n=>({chain:e})=>e().setMark("textStyle",{fontSize:n}).run(),unsetFontSize:()=>({chain:n})=>n().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),oF=bt.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:n=>n.style.fontFamily,renderHTML:n=>n.fontFamily?{style:`font-family: ${n.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:n=>({chain:e})=>e().setMark("textStyle",{fontFamily:n}).run(),unsetFontFamily:()=>({chain:n})=>n().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}});function xd(){return typeof window<"u"}function cs(n){return C5(n)?(n.nodeName||"").toLowerCase():"#document"}function Bn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function zr(n){var e;return(e=(C5(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function C5(n){return xd()?n instanceof Node||n instanceof Bn(n).Node:!1}function ft(n){return xd()?n instanceof Element||n instanceof Bn(n).Element:!1}function Nt(n){return xd()?n instanceof HTMLElement||n instanceof Bn(n).HTMLElement:!1}function Fg(n){return!xd()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Bn(n).ShadowRoot}function $l(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=ur(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function aF(n){return["table","td","th"].includes(cs(n))}function Ed(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function Zy(n){const e=Cd(),t=ft(n)?ur(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function lF(n){let e=ui(n);for(;Nt(e)&&!ai(e);){if(Zy(e))return e;if(Ed(e))return null;e=ui(e)}return null}function Cd(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ai(n){return["html","body","#document"].includes(cs(n))}function ur(n){return Bn(n).getComputedStyle(n)}function Sd(n){return ft(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function ui(n){if(cs(n)==="html")return n;const e=n.assignedSlot||n.parentNode||Fg(n)&&n.host||zr(n);return Fg(e)?e.host:e}function S5(n){const e=ui(n);return ai(e)?n.ownerDocument?n.ownerDocument.body:n.body:Nt(e)&&$l(e)?e:S5(e)}function es(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=S5(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),o=Bn(i);if(s){const l=Bg(o);return e.concat(o,o.visualViewport||[],$l(i)?i:[],l&&t?es(l):[])}return e.concat(i,es(i,[],t))}function Bg(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}const Bf=Math.min,Xs=Math.max,jf=Math.round,Vo=Math.floor,Pr=n=>({x:n,y:n}),uF={left:"right",right:"left",bottom:"top",top:"bottom"},cF={start:"end",end:"start"};function qE(n,e,t){return Xs(n,Bf(e,t))}function ua(n,e){return typeof n=="function"?n(e):n}function rs(n){return n.split("-")[0]}function kd(n){return n.split("-")[1]}function Xy(n){return n==="x"?"y":"x"}function k5(n){return n==="y"?"height":"width"}function to(n){return["top","bottom"].includes(rs(n))?"y":"x"}function T5(n){return Xy(to(n))}function fF(n,e,t){t===void 0&&(t=!1);const r=kd(n),i=T5(n),s=k5(i);let o=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=zf(o)),[o,zf(o)]}function dF(n){const e=zf(n);return[jg(n),e,jg(e)]}function jg(n){return n.replace(/start|end/g,e=>cF[e])}function hF(n,e,t){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(n){case"top":case"bottom":return t?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function pF(n,e,t,r){const i=kd(n);let s=hF(rs(n),t==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(jg)))),s}function zf(n){return n.replace(/left|right|bottom|top/g,e=>uF[e])}function mF(n){return{top:0,right:0,bottom:0,left:0,...n}}function gF(n){return typeof n!="number"?mF(n):{top:n,right:n,bottom:n,left:n}}function Hf(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var yF=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Uf=yF.join(","),A5=typeof Element>"u",ca=A5?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Vf=!A5&&Element.prototype.getRootNode?function(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}:function(n){return n==null?void 0:n.ownerDocument},Wf=function n(e,t){var r;t===void 0&&(t=!0);var i=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),s=i===""||i==="true",o=s||t&&e&&n(e.parentNode);return o},wF=function(e){var t,r=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return r===""||r==="true"},R5=function(e,t,r){if(Wf(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(Uf));return t&&ca.call(e,Uf)&&i.unshift(e),i=i.filter(r),i},_5=function n(e,t,r){for(var i=[],s=Array.from(e);s.length;){var o=s.shift();if(!Wf(o,!1))if(o.tagName==="SLOT"){var l=o.assignedElements(),c=l.length?l:o.children,f=n(c,!0,r);r.flatten?i.push.apply(i,f):i.push({scopeParent:o,candidates:f})}else{var h=ca.call(o,Uf);h&&r.filter(o)&&(t||!e.includes(o))&&i.push(o);var p=o.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(o),g=!Wf(p,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(o));if(p&&g){var m=n(p===!0?o.children:p.children,!0,r);r.flatten?i.push.apply(i,m):i.push({scopeParent:o,candidates:m})}else s.unshift.apply(s,o.children)}}return i},N5=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},O5=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||wF(e))&&!N5(e)?0:e.tabIndex},vF=function(e,t){var r=O5(e);return r<0&&t&&!N5(e)?0:r},bF=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},I5=function(e){return e.tagName==="INPUT"},xF=function(e){return I5(e)&&e.type==="hidden"},EF=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return t},CF=function(e,t){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===t)return e[r]},SF=function(e){if(!e.name)return!0;var t=e.form||Vf(e),r=function(l){return t.querySelectorAll('input[type="radio"][name="'+l+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(e.name));else try{i=r(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var s=CF(i,e.form);return!s||s===e},kF=function(e){return I5(e)&&e.type==="radio"},TF=function(e){return kF(e)&&!SF(e)},AF=function(e){var t,r=e&&Vf(e),i=(t=r)===null||t===void 0?void 0:t.host,s=!1;if(r&&r!==e){var o,l,c;for(s=!!((o=i)!==null&&o!==void 0&&(l=o.ownerDocument)!==null&&l!==void 0&&l.contains(i)||e!=null&&(c=e.ownerDocument)!==null&&c!==void 0&&c.contains(e));!s&&i;){var f,h,p;r=Vf(i),i=(f=r)===null||f===void 0?void 0:f.host,s=!!((h=i)!==null&&h!==void 0&&(p=h.ownerDocument)!==null&&p!==void 0&&p.contains(i))}}return s},GE=function(e){var t=e.getBoundingClientRect(),r=t.width,i=t.height;return r===0&&i===0},RF=function(e,t){var r=t.displayCheck,i=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var s=ca.call(e,"details>summary:first-of-type"),o=s?e.parentElement:e;if(ca.call(o,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof i=="function"){for(var l=e;e;){var c=e.parentElement,f=Vf(e);if(c&&!c.shadowRoot&&i(c)===!0)return GE(e);e.assignedSlot?e=e.assignedSlot:!c&&f!==e.ownerDocument?e=f.host:e=c}e=l}if(AF(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return GE(e);return!1},_F=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var r=0;r<t.children.length;r++){var i=t.children.item(r);if(i.tagName==="LEGEND")return ca.call(t,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}t=t.parentElement}return!1},zg=function(e,t){return!(t.disabled||Wf(t)||xF(t)||RF(t,e)||EF(t)||_F(t))},Hg=function(e,t){return!(TF(t)||O5(t)<0||!zg(e,t))},NF=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},OF=function n(e){var t=[],r=[];return e.forEach(function(i,s){var o=!!i.scopeParent,l=o?i.scopeParent:i,c=vF(l,o),f=o?n(i.candidates):l;c===0?o?t.push.apply(t,f):t.push(l):r.push({documentOrder:s,tabIndex:c,item:i,isScope:o,content:f})}),r.sort(bF).reduce(function(i,s){return s.isScope?i.push.apply(i,s.content):i.push(s.content),i},[]).concat(t)},Td=function(e,t){t=t||{};var r;return t.getShadowRoot?r=_5([e],t.includeContainer,{filter:Hg.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:NF}):r=R5(e,t.includeContainer,Hg.bind(null,t)),OF(r)},IF=function(e,t){t=t||{};var r;return t.getShadowRoot?r=_5([e],t.includeContainer,{filter:zg.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):r=R5(e,t.includeContainer,zg.bind(null,t)),r},M5=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return ca.call(e,Uf)===!1?!1:Hg(t,e)};function D5(){const n=navigator.userAgentData;return n!=null&&n.platform?n.platform:navigator.platform}function L5(){const n=navigator.userAgentData;return n&&Array.isArray(n.brands)?n.brands.map(e=>{let{brand:t,version:r}=e;return t+"/"+r}).join(" "):navigator.userAgent}function P5(){return/apple/i.test(navigator.vendor)}function Ug(){const n=/android/i;return n.test(D5())||n.test(L5())}function MF(){return D5().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function F5(){return L5().includes("jsdom/")}const ZE="data-floating-ui-focusable",DF="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])",z1="ArrowLeft",H1="ArrowRight",LF="ArrowUp",PF="ArrowDown";function Mr(n){let e=n.activeElement;for(;((t=e)==null||(t=t.shadowRoot)==null?void 0:t.activeElement)!=null;){var t;e=e.shadowRoot.activeElement}return e}function en(n,e){if(!n||!e)return!1;const t=e.getRootNode==null?void 0:e.getRootNode();if(n.contains(e))return!0;if(t&&Fg(t)){let r=e;for(;r;){if(n===r)return!0;r=r.parentNode||r.host}}return!1}function Wi(n){return"composedPath"in n?n.composedPath()[0]:n.target}function U1(n,e){if(e==null)return!1;if("composedPath"in n)return n.composedPath().includes(e);const t=n;return t.target!=null&&e.contains(t.target)}function FF(n){return n.matches("html,body")}function sn(n){return(n==null?void 0:n.ownerDocument)||document}function Jy(n){return Nt(n)&&n.matches(DF)}function Vg(n){return n?n.getAttribute("role")==="combobox"&&Jy(n):!1}function BF(n){if(!n||F5())return!0;try{return n.matches(":focus-visible")}catch{return!0}}function $f(n){return n?n.hasAttribute(ZE)?n:n.querySelector("["+ZE+"]")||n:null}function Zo(n,e,t){t===void 0&&(t=!0);let r=n.filter(s=>{var o;return s.parentId===e&&((o=s.context)==null?void 0:o.open)}),i=r;for(;i.length;)i=t?n.filter(s=>{var o;return(o=i)==null?void 0:o.some(l=>{var c;return s.parentId===l.id&&((c=s.context)==null?void 0:c.open)})}):n,r=r.concat(i);return r}function jF(n,e){let t,r=-1;function i(s,o){o>r&&(t=s,r=o),Zo(n,s).forEach(c=>{i(c.id,o+1)})}return i(e,0),n.find(s=>s.id===t)}function XE(n,e){var t;let r=[],i=(t=n.find(s=>s.id===e))==null?void 0:t.parentId;for(;i;){const s=n.find(o=>o.id===i);i=s==null?void 0:s.parentId,s&&(r=r.concat(s))}return r}function tn(n){n.preventDefault(),n.stopPropagation()}function zF(n){return"nativeEvent"in n}function B5(n){return n.mozInputSource===0&&n.isTrusted?!0:Ug()&&n.pointerType?n.type==="click"&&n.buttons===1:n.detail===0&&!n.pointerType}function j5(n){return F5()?!1:!Ug()&&n.width===0&&n.height===0||Ug()&&n.width===1&&n.height===1&&n.pressure===0&&n.detail===0&&n.pointerType==="mouse"||n.width<1&&n.height<1&&n.pressure===0&&n.detail===0&&n.pointerType==="touch"}function Ll(n,e){const t=["mouse","pen"];return e||t.push("",void 0),t.includes(n)}var ct=typeof document<"u"?z.useLayoutEffect:z.useEffect;const HF={...CC};function Pn(n){const e=z.useRef(n);return ct(()=>{e.current=n}),e}const UF=HF.useInsertionEffect,VF=UF||(n=>n());function Ft(n){const e=z.useRef(()=>{});return VF(()=>{e.current=n}),z.useCallback(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function Ic(n,e,t){return Math.floor(n/e)!==t}function El(n,e){return e<0||e>=n.current.length}function V1(n,e){return hn(n,{disabledIndices:e})}function JE(n,e){return hn(n,{decrement:!0,startingIndex:n.current.length,disabledIndices:e})}function hn(n,e){let{startingIndex:t=-1,decrement:r=!1,disabledIndices:i,amount:s=1}=e===void 0?{}:e,o=t;do o+=r?-s:s;while(o>=0&&o<=n.current.length-1&&Wc(n,o,i));return o}function WF(n,e){let{event:t,orientation:r,loop:i,rtl:s,cols:o,disabledIndices:l,minIndex:c,maxIndex:f,prevIndex:h,stopEvent:p=!1}=e,g=h;if(t.key===LF){if(p&&tn(t),h===-1)g=f;else if(g=hn(n,{startingIndex:g,amount:o,decrement:!0,disabledIndices:l}),i&&(h-o<c||g<0)){const m=h%o,w=f%o,v=f-(w-m);w===m?g=f:g=w>m?v:v-o}El(n,g)&&(g=h)}if(t.key===PF&&(p&&tn(t),h===-1?g=c:(g=hn(n,{startingIndex:h,amount:o,disabledIndices:l}),i&&h+o>f&&(g=hn(n,{startingIndex:h%o-o,amount:o,disabledIndices:l}))),El(n,g)&&(g=h)),r==="both"){const m=Vo(h/o);t.key===(s?z1:H1)&&(p&&tn(t),h%o!==o-1?(g=hn(n,{startingIndex:h,disabledIndices:l}),i&&Ic(g,o,m)&&(g=hn(n,{startingIndex:h-h%o-1,disabledIndices:l}))):i&&(g=hn(n,{startingIndex:h-h%o-1,disabledIndices:l})),Ic(g,o,m)&&(g=h)),t.key===(s?H1:z1)&&(p&&tn(t),h%o!==0?(g=hn(n,{startingIndex:h,decrement:!0,disabledIndices:l}),i&&Ic(g,o,m)&&(g=hn(n,{startingIndex:h+(o-h%o),decrement:!0,disabledIndices:l}))):i&&(g=hn(n,{startingIndex:h+(o-h%o),decrement:!0,disabledIndices:l})),Ic(g,o,m)&&(g=h));const w=Vo(f/o)===m;El(n,g)&&(i&&w?g=t.key===(s?H1:z1)?f:hn(n,{startingIndex:h-h%o-1,disabledIndices:l}):g=h)}return g}function $F(n,e,t){const r=[];let i=0;return n.forEach((s,o)=>{let{width:l,height:c}=s,f=!1;for(t&&(i=0);!f;){const h=[];for(let p=0;p<l;p++)for(let g=0;g<c;g++)h.push(i+p+g*e);i%e+l<=e&&h.every(p=>r[p]==null)?(h.forEach(p=>{r[p]=o}),f=!0):i++}}),[...r]}function KF(n,e,t,r,i){if(n===-1)return-1;const s=t.indexOf(n),o=e[n];switch(i){case"tl":return s;case"tr":return o?s+o.width-1:s;case"bl":return o?s+(o.height-1)*r:s;case"br":return t.lastIndexOf(n)}}function qF(n,e){return e.flatMap((t,r)=>n.includes(t)?[r]:[])}function Wc(n,e,t){if(t)return t.includes(e);const r=n.current[e];return r==null||r.hasAttribute("disabled")||r.getAttribute("aria-disabled")==="true"}const Kl=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function z5(n,e){const t=Td(n,Kl()),r=t.length;if(r===0)return;const i=Mr(sn(n)),s=t.indexOf(i),o=s===-1?e===1?0:r-1:s+e;return t[o]}function H5(n){return z5(sn(n).body,1)||n}function U5(n){return z5(sn(n).body,-1)||n}function Cl(n,e){const t=e||n.currentTarget,r=n.relatedTarget;return!r||!en(t,r)}function GF(n){Td(n,Kl()).forEach(t=>{t.dataset.tabindex=t.getAttribute("tabindex")||"",t.setAttribute("tabindex","-1")})}function YE(n){n.querySelectorAll("[data-tabindex]").forEach(t=>{const r=t.dataset.tabindex;delete t.dataset.tabindex,r?t.setAttribute("tabindex",r):t.removeAttribute("tabindex")})}function QE(n,e,t){let{reference:r,floating:i}=n;const s=to(e),o=T5(e),l=k5(o),c=rs(e),f=s==="y",h=r.x+r.width/2-i.width/2,p=r.y+r.height/2-i.height/2,g=r[l]/2-i[l]/2;let m;switch(c){case"top":m={x:h,y:r.y-i.height};break;case"bottom":m={x:h,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:p};break;case"left":m={x:r.x-i.width,y:p};break;default:m={x:r.x,y:r.y}}switch(kd(e)){case"start":m[o]-=g*(t&&f?-1:1);break;case"end":m[o]+=g*(t&&f?-1:1);break}return m}const ZF=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=t,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let f=await o.getElementRects({reference:n,floating:e,strategy:i}),{x:h,y:p}=QE(f,r,c),g=r,m={},w=0;for(let v=0;v<l.length;v++){const{name:E,fn:b}=l[v],{x:T,y:A,data:k,reset:I}=await b({x:h,y:p,initialPlacement:r,placement:g,strategy:i,middlewareData:m,rects:f,platform:o,elements:{reference:n,floating:e}});h=T??h,p=A??p,m={...m,[E]:{...m[E],...k}},I&&w<=50&&(w++,typeof I=="object"&&(I.placement&&(g=I.placement),I.rects&&(f=I.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:i}):I.rects),{x:h,y:p}=QE(f,g,c)),v=-1)}return{x:h,y:p,placement:g,strategy:i,middlewareData:m}};async function V5(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:l,strategy:c}=n,{boundary:f="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:g=!1,padding:m=0}=ua(e,n),w=gF(m),E=l[g?p==="floating"?"reference":"floating":p],b=Hf(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(E)))==null||t?E:E.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:f,rootBoundary:h,strategy:c})),T=p==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,A=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),k=await(s.isElement==null?void 0:s.isElement(A))?await(s.getScale==null?void 0:s.getScale(A))||{x:1,y:1}:{x:1,y:1},I=Hf(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:T,offsetParent:A,strategy:c}):T);return{top:(b.top-I.top+w.top)/k.y,bottom:(I.bottom-b.bottom+w.bottom)/k.y,left:(b.left-I.left+w.left)/k.x,right:(I.right-b.right+w.right)/k.x}}const XF=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:f}=e,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:g,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:v=!0,...E}=ua(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const b=rs(i),T=to(l),A=rs(l)===l,k=await(c.isRTL==null?void 0:c.isRTL(f.floating)),I=g||(A||!v?[zf(l)]:dF(l)),j=w!=="none";!g&&j&&I.push(...pF(l,v,w,k));const W=[l,...I],ee=await V5(e,E),F=[];let se=((r=s.flip)==null?void 0:r.overflows)||[];if(h&&F.push(ee[b]),p){const N=fF(i,o,k);F.push(ee[N[0]],ee[N[1]])}if(se=[...se,{placement:i,overflows:F}],!F.every(N=>N<=0)){var be,B;const N=(((be=s.flip)==null?void 0:be.index)||0)+1,G=W[N];if(G)return{data:{index:N,overflows:se},reset:{placement:G}};let ue=(B=se.filter(q=>q.overflows[0]<=0).sort((q,X)=>q.overflows[1]-X.overflows[1])[0])==null?void 0:B.placement;if(!ue)switch(m){case"bestFit":{var Y;const q=(Y=se.filter(X=>{if(j){const te=to(X.placement);return te===T||te==="y"}return!0}).map(X=>[X.placement,X.overflows.filter(te=>te>0).reduce((te,de)=>te+de,0)]).sort((X,te)=>X[1]-te[1])[0])==null?void 0:Y[0];q&&(ue=q);break}case"initialPlacement":ue=l;break}if(i!==ue)return{reset:{placement:ue}}}return{}}}};async function JF(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=rs(t),l=kd(t),c=to(t)==="y",f=["left","top"].includes(o)?-1:1,h=s&&c?-1:1,p=ua(e,n);let{mainAxis:g,crossAxis:m,alignmentAxis:w}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return l&&typeof w=="number"&&(m=l==="end"?w*-1:w),c?{x:m*h,y:g*f}:{x:g*f,y:m*h}}const YF=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:s,placement:o,middlewareData:l}=e,c=await JF(e,n);return o===((t=l.offset)==null?void 0:t.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}},QF=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:E=>{let{x:b,y:T}=E;return{x:b,y:T}}},...c}=ua(n,e),f={x:t,y:r},h=await V5(e,c),p=to(rs(i)),g=Xy(p);let m=f[g],w=f[p];if(s){const E=g==="y"?"top":"left",b=g==="y"?"bottom":"right",T=m+h[E],A=m-h[b];m=qE(T,m,A)}if(o){const E=p==="y"?"top":"left",b=p==="y"?"bottom":"right",T=w+h[E],A=w-h[b];w=qE(T,w,A)}const v=l.fn({...e,[g]:m,[p]:w});return{...v,data:{x:v.x-t,y:v.y-r,enabled:{[g]:s,[p]:o}}}}}},eB=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:f=!0}=ua(n,e),h={x:t,y:r},p=to(i),g=Xy(p);let m=h[g],w=h[p];const v=ua(l,e),E=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const A=g==="y"?"height":"width",k=s.reference[g]-s.floating[A]+E.mainAxis,I=s.reference[g]+s.reference[A]-E.mainAxis;m<k?m=k:m>I&&(m=I)}if(f){var b,T;const A=g==="y"?"width":"height",k=["top","left"].includes(rs(i)),I=s.reference[p]-s.floating[A]+(k&&((b=o.offset)==null?void 0:b[p])||0)+(k?0:E.crossAxis),j=s.reference[p]+s.reference[A]+(k?0:((T=o.offset)==null?void 0:T[p])||0)-(k?E.crossAxis:0);w<I?w=I:w>j&&(w=j)}return{[g]:m,[p]:w}}}};function W5(n){const e=ur(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Nt(n),s=i?n.offsetWidth:t,o=i?n.offsetHeight:r,l=jf(t)!==s||jf(r)!==o;return l&&(t=s,r=o),{width:t,height:r,$:l}}function Yy(n){return ft(n)?n:n.contextElement}function Xo(n){const e=Yy(n);if(!Nt(e))return Pr(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=W5(e);let o=(s?jf(t.width):t.width)/r,l=(s?jf(t.height):t.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const tB=Pr(0);function $5(n){const e=Bn(n);return!Cd()||!e.visualViewport?tB:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function nB(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Bn(n)?!1:e}function no(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=Yy(n);let o=Pr(1);e&&(r?ft(r)&&(o=Xo(r)):o=Xo(n));const l=nB(s,t,r)?$5(s):Pr(0);let c=(i.left+l.x)/o.x,f=(i.top+l.y)/o.y,h=i.width/o.x,p=i.height/o.y;if(s){const g=Bn(s),m=r&&ft(r)?Bn(r):r;let w=g,v=Bg(w);for(;v&&r&&m!==w;){const E=Xo(v),b=v.getBoundingClientRect(),T=ur(v),A=b.left+(v.clientLeft+parseFloat(T.paddingLeft))*E.x,k=b.top+(v.clientTop+parseFloat(T.paddingTop))*E.y;c*=E.x,f*=E.y,h*=E.x,p*=E.y,c+=A,f+=k,w=Bn(v),v=Bg(w)}}return Hf({width:h,height:p,x:c,y:f})}function Qy(n,e){const t=Sd(n).scrollLeft;return e?e.left+t:no(zr(n)).left+t}function K5(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),i=r.left+e.scrollLeft-(t?0:Qy(n,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function rB(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const s=i==="fixed",o=zr(r),l=e?Ed(e.floating):!1;if(r===o||l&&s)return t;let c={scrollLeft:0,scrollTop:0},f=Pr(1);const h=Pr(0),p=Nt(r);if((p||!p&&!s)&&((cs(r)!=="body"||$l(o))&&(c=Sd(r)),Nt(r))){const m=no(r);f=Xo(r),h.x=m.x+r.clientLeft,h.y=m.y+r.clientTop}const g=o&&!p&&!s?K5(o,c,!0):Pr(0);return{width:t.width*f.x,height:t.height*f.y,x:t.x*f.x-c.scrollLeft*f.x+h.x+g.x,y:t.y*f.y-c.scrollTop*f.y+h.y+g.y}}function iB(n){return Array.from(n.getClientRects())}function sB(n){const e=zr(n),t=Sd(n),r=n.ownerDocument.body,i=Xs(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Xs(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+Qy(n);const l=-t.scrollTop;return ur(r).direction==="rtl"&&(o+=Xs(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:l}}function oB(n,e){const t=Bn(n),r=zr(n),i=t.visualViewport;let s=r.clientWidth,o=r.clientHeight,l=0,c=0;if(i){s=i.width,o=i.height;const f=Cd();(!f||f&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:l,y:c}}function aB(n,e){const t=no(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=Nt(n)?Xo(n):Pr(1),o=n.clientWidth*s.x,l=n.clientHeight*s.y,c=i*s.x,f=r*s.y;return{width:o,height:l,x:c,y:f}}function eC(n,e,t){let r;if(e==="viewport")r=oB(n,t);else if(e==="document")r=sB(zr(n));else if(ft(e))r=aB(e,t);else{const i=$5(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Hf(r)}function q5(n,e){const t=ui(n);return t===e||!ft(t)||ai(t)?!1:ur(t).position==="fixed"||q5(t,e)}function lB(n,e){const t=e.get(n);if(t)return t;let r=es(n,[],!1).filter(l=>ft(l)&&cs(l)!=="body"),i=null;const s=ur(n).position==="fixed";let o=s?ui(n):n;for(;ft(o)&&!ai(o);){const l=ur(o),c=Zy(o);!c&&l.position==="fixed"&&(i=null),(s?!c&&!i:!c&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||$l(o)&&!c&&q5(n,o))?r=r.filter(h=>h!==o):i=l,o=ui(o)}return e.set(n,r),r}function uB(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const o=[...t==="clippingAncestors"?Ed(e)?[]:lB(e,this._c):[].concat(t),r],l=o[0],c=o.reduce((f,h)=>{const p=eC(e,h,i);return f.top=Xs(p.top,f.top),f.right=Bf(p.right,f.right),f.bottom=Bf(p.bottom,f.bottom),f.left=Xs(p.left,f.left),f},eC(e,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function cB(n){const{width:e,height:t}=W5(n);return{width:e,height:t}}function fB(n,e,t){const r=Nt(e),i=zr(e),s=t==="fixed",o=no(n,!0,s,e);let l={scrollLeft:0,scrollTop:0};const c=Pr(0);if(r||!r&&!s)if((cs(e)!=="body"||$l(i))&&(l=Sd(e)),r){const g=no(e,!0,s,e);c.x=g.x+e.clientLeft,c.y=g.y+e.clientTop}else i&&(c.x=Qy(i));const f=i&&!r&&!s?K5(i,l):Pr(0),h=o.left+l.scrollLeft-c.x-f.x,p=o.top+l.scrollTop-c.y-f.y;return{x:h,y:p,width:o.width,height:o.height}}function W1(n){return ur(n).position==="static"}function tC(n,e){if(!Nt(n)||ur(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return zr(n)===t&&(t=t.ownerDocument.body),t}function G5(n,e){const t=Bn(n);if(Ed(n))return t;if(!Nt(n)){let i=ui(n);for(;i&&!ai(i);){if(ft(i)&&!W1(i))return i;i=ui(i)}return t}let r=tC(n,e);for(;r&&aF(r)&&W1(r);)r=tC(r,e);return r&&ai(r)&&W1(r)&&!Zy(r)?t:r||lF(n)||t}const dB=async function(n){const e=this.getOffsetParent||G5,t=this.getDimensions,r=await t(n.floating);return{reference:fB(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function hB(n){return ur(n).direction==="rtl"}const pB={convertOffsetParentRelativeRectToViewportRelativeRect:rB,getDocumentElement:zr,getClippingRect:uB,getOffsetParent:G5,getElementRects:dB,getClientRects:iB,getDimensions:cB,getScale:Xo,isElement:ft,isRTL:hB};function Z5(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function mB(n,e){let t=null,r;const i=zr(n);function s(){var l;clearTimeout(r),(l=t)==null||l.disconnect(),t=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const f=n.getBoundingClientRect(),{left:h,top:p,width:g,height:m}=f;if(l||e(),!g||!m)return;const w=Vo(p),v=Vo(i.clientWidth-(h+g)),E=Vo(i.clientHeight-(p+m)),b=Vo(h),A={rootMargin:-w+"px "+-v+"px "+-E+"px "+-b+"px",threshold:Xs(0,Bf(1,c))||1};let k=!0;function I(j){const W=j[0].intersectionRatio;if(W!==c){if(!k)return o();W?o(!1,W):r=setTimeout(()=>{o(!1,1e-7)},1e3)}W===1&&!Z5(f,n.getBoundingClientRect())&&o(),k=!1}try{t=new IntersectionObserver(I,{...A,root:i.ownerDocument})}catch{t=new IntersectionObserver(I,A)}t.observe(n)}return o(!0),s}function e0(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,f=Yy(n),h=i||s?[...f?es(f):[],...es(e)]:[];h.forEach(b=>{i&&b.addEventListener("scroll",t,{passive:!0}),s&&b.addEventListener("resize",t)});const p=f&&l?mB(f,t):null;let g=-1,m=null;o&&(m=new ResizeObserver(b=>{let[T]=b;T&&T.target===f&&m&&(m.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var A;(A=m)==null||A.observe(e)})),t()}),f&&!c&&m.observe(f),m.observe(e));let w,v=c?no(n):null;c&&E();function E(){const b=no(n);v&&!Z5(v,b)&&t(),v=b,w=requestAnimationFrame(E)}return t(),()=>{var b;h.forEach(T=>{i&&T.removeEventListener("scroll",t),s&&T.removeEventListener("resize",t)}),p==null||p(),(b=m)==null||b.disconnect(),m=null,c&&cancelAnimationFrame(w)}}const gB=YF,yB=QF,wB=XF,vB=eB,bB=(n,e,t)=>{const r=new Map,i={platform:pB,...t},s={...i.platform,_c:r};return ZF(n,e,{...i,platform:s})};var $c=typeof document<"u"?z.useLayoutEffect:z.useEffect;function Kf(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Kf(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const s=i[r];if(!(s==="_owner"&&n.$$typeof)&&!Kf(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function X5(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function nC(n,e){const t=X5(n);return Math.round(e*t)/t}function $1(n){const e=z.useRef(n);return $c(()=>{e.current=n}),e}function xB(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:f}=n,[h,p]=z.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[g,m]=z.useState(r);Kf(g,r)||m(r);const[w,v]=z.useState(null),[E,b]=z.useState(null),T=z.useCallback(X=>{X!==j.current&&(j.current=X,v(X))},[]),A=z.useCallback(X=>{X!==W.current&&(W.current=X,b(X))},[]),k=s||w,I=o||E,j=z.useRef(null),W=z.useRef(null),ee=z.useRef(h),F=c!=null,se=$1(c),be=$1(i),B=$1(f),Y=z.useCallback(()=>{if(!j.current||!W.current)return;const X={placement:e,strategy:t,middleware:g};be.current&&(X.platform=be.current),bB(j.current,W.current,X).then(te=>{const de={...te,isPositioned:B.current!==!1};N.current&&!Kf(ee.current,de)&&(ee.current=de,ud.flushSync(()=>{p(de)}))})},[g,e,t,be,B]);$c(()=>{f===!1&&ee.current.isPositioned&&(ee.current.isPositioned=!1,p(X=>({...X,isPositioned:!1})))},[f]);const N=z.useRef(!1);$c(()=>(N.current=!0,()=>{N.current=!1}),[]),$c(()=>{if(k&&(j.current=k),I&&(W.current=I),k&&I){if(se.current)return se.current(k,I,Y);Y()}},[k,I,Y,se,F]);const G=z.useMemo(()=>({reference:j,floating:W,setReference:T,setFloating:A}),[T,A]),ue=z.useMemo(()=>({reference:k,floating:I}),[k,I]),q=z.useMemo(()=>{const X={position:t,left:0,top:0};if(!ue.floating)return X;const te=nC(ue.floating,h.x),de=nC(ue.floating,h.y);return l?{...X,transform:"translate("+te+"px, "+de+"px)",...X5(ue.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:te,top:de}},[t,l,ue.floating,h.x,h.y]);return z.useMemo(()=>({...h,update:Y,refs:G,elements:ue,floatingStyles:q}),[h,Y,G,ue,q])}const t0=(n,e)=>({...gB(n),options:[n,e]}),n0=(n,e)=>({...yB(n),options:[n,e]}),EB=(n,e)=>({...vB(n),options:[n,e]}),r0=(n,e)=>({...wB(n),options:[n,e]});function ao(n){const e=z.useRef(void 0),t=z.useCallback(r=>{const i=n.map(s=>{if(s!=null){if(typeof s=="function"){const o=s,l=o(r);return typeof l=="function"?l:()=>{o(null)}}return s.current=r,()=>{s.current=null}}});return()=>{i.forEach(s=>s==null?void 0:s())}},n);return z.useMemo(()=>n.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=t(r))},n)}function CB(n,e){const t=n.compareDocumentPosition(e);return t&Node.DOCUMENT_POSITION_FOLLOWING||t&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:t&Node.DOCUMENT_POSITION_PRECEDING||t&Node.DOCUMENT_POSITION_CONTAINS?1:0}const J5=z.createContext({register:()=>{},unregister:()=>{},map:new Map,elementsRef:{current:[]}});function SB(n){const{children:e,elementsRef:t,labelsRef:r}=n,[i,s]=z.useState(()=>new Set),o=z.useCallback(f=>{s(h=>new Set(h).add(f))},[]),l=z.useCallback(f=>{s(h=>{const p=new Set(h);return p.delete(f),p})},[]),c=z.useMemo(()=>{const f=new Map;return Array.from(i.keys()).sort(CB).forEach((p,g)=>{f.set(p,g)}),f},[i]);return K.jsx(J5.Provider,{value:z.useMemo(()=>({register:o,unregister:l,map:c,elementsRef:t,labelsRef:r}),[o,l,c,t,r]),children:e})}function kB(n){n===void 0&&(n={});const{label:e}=n,{register:t,unregister:r,map:i,elementsRef:s,labelsRef:o}=z.useContext(J5),[l,c]=z.useState(null),f=z.useRef(null),h=z.useCallback(p=>{if(f.current=p,l!==null&&(s.current[l]=p,o)){var g;const m=e!==void 0;o.current[l]=m?e:(g=p==null?void 0:p.textContent)!=null?g:null}},[l,s,o,e]);return ct(()=>{const p=f.current;if(p)return t(p),()=>{r(p)}},[t,r]),ct(()=>{const p=f.current?i.get(f.current):null;p!=null&&c(p)},[i]),z.useMemo(()=>({ref:h,index:l??-1}),[l,h])}const TB="data-floating-ui-focusable",rC="active",iC="selected",ql="ArrowLeft",Gl="ArrowRight",Y5="ArrowUp",Ad="ArrowDown",AB={...CC};let sC=!1,RB=0;const oC=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+RB++;function _B(){const[n,e]=z.useState(()=>sC?oC():void 0);return ct(()=>{n==null&&e(oC())},[]),z.useEffect(()=>{sC=!0},[]),n}const NB=AB.useId,i0=NB||_B;function OB(){const n=new Map;return{emit(e,t){var r;(r=n.get(e))==null||r.forEach(i=>i(t))},on(e,t){n.has(e)||n.set(e,new Set),n.get(e).add(t)},off(e,t){var r;(r=n.get(e))==null||r.delete(t)}}}const IB=z.createContext(null),MB=z.createContext(null),Rd=()=>{var n;return((n=z.useContext(IB))==null?void 0:n.id)||null},Zl=()=>z.useContext(MB);function ro(n){return"data-floating-ui-"+n}function Mn(n){n.current!==-1&&(clearTimeout(n.current),n.current=-1)}const aC=ro("safe-polygon");function K1(n,e,t){if(t&&!Ll(t))return 0;if(typeof n=="number")return n;if(typeof n=="function"){const r=n();return typeof r=="number"?r:r==null?void 0:r[e]}return n==null?void 0:n[e]}function q1(n){return typeof n=="function"?n():n}function DB(n,e){e===void 0&&(e={});const{open:t,onOpenChange:r,dataRef:i,events:s,elements:o}=n,{enabled:l=!0,delay:c=0,handleClose:f=null,mouseOnly:h=!1,restMs:p=0,move:g=!0}=e,m=Zl(),w=Rd(),v=Pn(f),E=Pn(c),b=Pn(t),T=Pn(p),A=z.useRef(),k=z.useRef(-1),I=z.useRef(),j=z.useRef(-1),W=z.useRef(!0),ee=z.useRef(!1),F=z.useRef(()=>{}),se=z.useRef(!1),be=z.useCallback(()=>{var q;const X=(q=i.current.openEvent)==null?void 0:q.type;return(X==null?void 0:X.includes("mouse"))&&X!=="mousedown"},[i]);z.useEffect(()=>{if(!l)return;function q(X){let{open:te}=X;te||(Mn(k),Mn(j),W.current=!0,se.current=!1)}return s.on("openchange",q),()=>{s.off("openchange",q)}},[l,s]),z.useEffect(()=>{if(!l||!v.current||!t)return;function q(te){be()&&r(!1,te,"hover")}const X=sn(o.floating).documentElement;return X.addEventListener("mouseleave",q),()=>{X.removeEventListener("mouseleave",q)}},[o.floating,t,r,l,v,be]);const B=z.useCallback(function(q,X,te){X===void 0&&(X=!0),te===void 0&&(te="hover");const de=K1(E.current,"close",A.current);de&&!I.current?(Mn(k),k.current=window.setTimeout(()=>r(!1,q,te),de)):X&&(Mn(k),r(!1,q,te))},[E,r]),Y=Ft(()=>{F.current(),I.current=void 0}),N=Ft(()=>{if(ee.current){const q=sn(o.floating).body;q.style.pointerEvents="",q.removeAttribute(aC),ee.current=!1}}),G=Ft(()=>i.current.openEvent?["click","mousedown"].includes(i.current.openEvent.type):!1);z.useEffect(()=>{if(!l)return;function q(L){if(Mn(k),W.current=!1,h&&!Ll(A.current)||q1(T.current)>0&&!K1(E.current,"open"))return;const re=K1(E.current,"open",A.current);re?k.current=window.setTimeout(()=>{b.current||r(!0,L,"hover")},re):t||r(!0,L,"hover")}function X(L){if(G()){N();return}F.current();const re=sn(o.floating);if(Mn(j),se.current=!1,v.current&&i.current.floatingContext){t||Mn(k),I.current=v.current({...i.current.floatingContext,tree:m,x:L.clientX,y:L.clientY,onClose(){N(),Y(),G()||B(L,!0,"safe-polygon")}});const me=I.current;re.addEventListener("mousemove",me),F.current=()=>{re.removeEventListener("mousemove",me)};return}(A.current==="touch"?!en(o.floating,L.relatedTarget):!0)&&B(L)}function te(L){G()||i.current.floatingContext&&(v.current==null||v.current({...i.current.floatingContext,tree:m,x:L.clientX,y:L.clientY,onClose(){N(),Y(),G()||B(L)}})(L))}function de(){Mn(k)}function H(L){G()||B(L,!1)}if(ft(o.domReference)){const L=o.domReference,re=o.floating;return t&&L.addEventListener("mouseleave",te),g&&L.addEventListener("mousemove",q,{once:!0}),L.addEventListener("mouseenter",q),L.addEventListener("mouseleave",X),re&&(re.addEventListener("mouseleave",te),re.addEventListener("mouseenter",de),re.addEventListener("mouseleave",H)),()=>{t&&L.removeEventListener("mouseleave",te),g&&L.removeEventListener("mousemove",q),L.removeEventListener("mouseenter",q),L.removeEventListener("mouseleave",X),re&&(re.removeEventListener("mouseleave",te),re.removeEventListener("mouseenter",de),re.removeEventListener("mouseleave",H))}}},[o,l,n,h,g,B,Y,N,r,t,b,m,E,v,i,G,T]),ct(()=>{var q;if(l&&t&&(q=v.current)!=null&&q.__options.blockPointerEvents&&be()){ee.current=!0;const te=o.floating;if(ft(o.domReference)&&te){var X;const de=sn(o.floating).body;de.setAttribute(aC,"");const H=o.domReference,L=m==null||(X=m.nodesRef.current.find(re=>re.id===w))==null||(X=X.context)==null?void 0:X.elements.floating;return L&&(L.style.pointerEvents=""),de.style.pointerEvents="none",H.style.pointerEvents="auto",te.style.pointerEvents="auto",()=>{de.style.pointerEvents="",H.style.pointerEvents="",te.style.pointerEvents=""}}}},[l,t,w,o,m,v,be]),ct(()=>{t||(A.current=void 0,se.current=!1,Y(),N())},[t,Y,N]),z.useEffect(()=>()=>{Y(),Mn(k),Mn(j),N()},[l,o.domReference,Y,N]);const ue=z.useMemo(()=>{function q(X){A.current=X.pointerType}return{onPointerDown:q,onPointerEnter:q,onMouseMove(X){const{nativeEvent:te}=X;function de(){!W.current&&!b.current&&r(!0,te,"hover")}h&&!Ll(A.current)||t||q1(T.current)===0||se.current&&X.movementX**2+X.movementY**2<2||(Mn(j),A.current==="touch"?de():(se.current=!0,j.current=window.setTimeout(de,q1(T.current))))}}},[h,r,t,b,T]);return z.useMemo(()=>l?{reference:ue}:{},[l,ue])}const lC=()=>{},LB=z.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:lC,setState:lC,isInstantPhase:!1});function PB(n){const{children:e,delay:t,timeoutMs:r=0}=n,[i,s]=z.useReducer((c,f)=>({...c,...f}),{delay:t,timeoutMs:r,initialDelay:t,currentId:null,isInstantPhase:!1}),o=z.useRef(null),l=z.useCallback(c=>{s({currentId:c})},[]);return ct(()=>{i.currentId?o.current===null?o.current=i.currentId:i.isInstantPhase||s({isInstantPhase:!0}):(i.isInstantPhase&&s({isInstantPhase:!1}),o.current=null)},[i.currentId,i.isInstantPhase]),K.jsx(LB.Provider,{value:z.useMemo(()=>({...i,setState:s,setCurrentId:l}),[i,l]),children:e})}let uC=0;function Is(n,e){e===void 0&&(e={});const{preventScroll:t=!1,cancelPrevious:r=!0,sync:i=!1}=e;r&&cancelAnimationFrame(uC);const s=()=>n==null?void 0:n.focus({preventScroll:t});i?s():uC=requestAnimationFrame(s)}function FB(n){return(n==null?void 0:n.ownerDocument)||document}let Po=new WeakMap,Mc=new WeakSet,Dc={},G1=0;const BB=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,Q5=n=>n&&(n.host||Q5(n.parentNode)),jB=(n,e)=>e.map(t=>{if(n.contains(t))return t;const r=Q5(t);return n.contains(r)?r:null}).filter(t=>t!=null);function zB(n,e,t,r){const i="data-floating-ui-inert",s=r?"inert":t?"aria-hidden":null,o=jB(e,n),l=new Set,c=new Set(o),f=[];Dc[i]||(Dc[i]=new WeakMap);const h=Dc[i];o.forEach(p),g(e),l.clear();function p(m){!m||l.has(m)||(l.add(m),m.parentNode&&p(m.parentNode))}function g(m){!m||c.has(m)||[].forEach.call(m.children,w=>{if(cs(w)!=="script")if(l.has(w))g(w);else{const v=s?w.getAttribute(s):null,E=v!==null&&v!=="false",b=Po.get(w)||0,T=s?b+1:b,A=(h.get(w)||0)+1;Po.set(w,T),h.set(w,A),f.push(w),T===1&&E&&Mc.add(w),A===1&&w.setAttribute(i,""),!E&&s&&w.setAttribute(s,s==="inert"?"":"true")}})}return G1++,()=>{f.forEach(m=>{const w=Po.get(m)||0,v=s?w-1:w,E=(h.get(m)||0)-1;Po.set(m,v),h.set(m,E),v||(!Mc.has(m)&&s&&m.removeAttribute(s),Mc.delete(m)),E||m.removeAttribute(i)}),G1--,G1||(Po=new WeakMap,Po=new WeakMap,Mc=new WeakSet,Dc={})}}function cC(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);const r=FB(n[0]).body;return zB(n.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,e,t)}const _d={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0},qf=z.forwardRef(function(e,t){const[r,i]=z.useState();ct(()=>{P5()&&i("button")},[]);const s={ref:t,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[ro("focus-guard")]:"",style:_d};return K.jsx("span",{...e,...s})}),e3=z.createContext(null),fC=ro("portal");function HB(n){n===void 0&&(n={});const{id:e,root:t}=n,r=i0(),i=t3(),[s,o]=z.useState(null),l=z.useRef(null);return ct(()=>()=>{s==null||s.remove(),queueMicrotask(()=>{l.current=null})},[s]),ct(()=>{if(!r||l.current)return;const c=e?document.getElementById(e):null;if(!c)return;const f=document.createElement("div");f.id=r,f.setAttribute(fC,""),c.appendChild(f),l.current=f,o(f)},[e,r]),ct(()=>{if(t===null||!r||l.current)return;let c=t||(i==null?void 0:i.portalNode);c&&!ft(c)&&(c=c.current),c=c||document.body;let f=null;e&&(f=document.createElement("div"),f.id=e,c.appendChild(f));const h=document.createElement("div");h.id=r,h.setAttribute(fC,""),c=f||c,c.appendChild(h),l.current=h,o(h)},[e,t,r,i]),s}function s0(n){const{children:e,id:t,root:r,preserveTabOrder:i=!0}=n,s=HB({id:t,root:r}),[o,l]=z.useState(null),c=z.useRef(null),f=z.useRef(null),h=z.useRef(null),p=z.useRef(null),g=o==null?void 0:o.modal,m=o==null?void 0:o.open,w=!!o&&!o.modal&&o.open&&i&&!!(r||s);return z.useEffect(()=>{if(!s||!i||g)return;function v(E){s&&Cl(E)&&(E.type==="focusin"?YE:GF)(s)}return s.addEventListener("focusin",v,!0),s.addEventListener("focusout",v,!0),()=>{s.removeEventListener("focusin",v,!0),s.removeEventListener("focusout",v,!0)}},[s,i,g]),z.useEffect(()=>{s&&(m||YE(s))},[m,s]),K.jsxs(e3.Provider,{value:z.useMemo(()=>({preserveTabOrder:i,beforeOutsideRef:c,afterOutsideRef:f,beforeInsideRef:h,afterInsideRef:p,portalNode:s,setFocusManagerState:l}),[i,s]),children:[w&&s&&K.jsx(qf,{"data-type":"outside",ref:c,onFocus:v=>{if(Cl(v,s)){var E;(E=h.current)==null||E.focus()}else{const b=o?o.domReference:null,T=U5(b);T==null||T.focus()}}}),w&&s&&K.jsx("span",{"aria-owns":s.id,style:_d}),s&&ud.createPortal(e,s),w&&s&&K.jsx(qf,{"data-type":"outside",ref:f,onFocus:v=>{if(Cl(v,s)){var E;(E=p.current)==null||E.focus()}else{const b=o?o.domReference:null,T=H5(b);T==null||T.focus(),o!=null&&o.closeOnFocusOut&&(o==null||o.onOpenChange(!1,v.nativeEvent,"focus-out"))}}})]})}const t3=()=>z.useContext(e3);function dC(n){return z.useMemo(()=>e=>{n.forEach(t=>{t&&(t.current=e)})},n)}const UB=20;let Ms=[];function VB(n){Ms=Ms.filter(e=>e.isConnected),n&&cs(n)!=="body"&&(Ms.push(n),Ms.length>UB&&(Ms=Ms.slice(-20)))}function hC(){return Ms.slice().reverse().find(n=>n.isConnected)}function WB(n){const e=Kl();return M5(n,e)?n:Td(n,e)[0]||n}function pC(n,e){var t;if(!e.current.includes("floating")&&!((t=n.getAttribute("role"))!=null&&t.includes("dialog")))return;const r=Kl(),s=IF(n,r).filter(l=>{const c=l.getAttribute("data-tabindex")||"";return M5(l,r)||l.hasAttribute("data-tabindex")&&!c.startsWith("-")}),o=n.getAttribute("tabindex");e.current.includes("floating")||s.length===0?o!=="0"&&n.setAttribute("tabindex","0"):(o!=="-1"||n.hasAttribute("data-tabindex")&&n.getAttribute("data-tabindex")!=="-1")&&(n.setAttribute("tabindex","-1"),n.setAttribute("data-tabindex","-1"))}const $B=z.forwardRef(function(e,t){return K.jsx("button",{...e,type:"button",ref:t,tabIndex:-1,style:_d})});function n3(n){const{context:e,children:t,disabled:r=!1,order:i=["content"],guards:s=!0,initialFocus:o=0,returnFocus:l=!0,restoreFocus:c=!1,modal:f=!0,visuallyHiddenDismiss:h=!1,closeOnFocusOut:p=!0,outsideElementsInert:g=!1,getInsideElements:m=()=>[]}=n,{open:w,onOpenChange:v,events:E,dataRef:b,elements:{domReference:T,floating:A}}=e,k=Ft(()=>{var U;return(U=b.current.floatingContext)==null?void 0:U.nodeId}),I=Ft(m),j=typeof o=="number"&&o<0,W=Vg(T)&&j,ee=BB(),F=ee?s:!0,se=!F||ee&&g,be=Pn(i),B=Pn(o),Y=Pn(l),N=Zl(),G=t3(),ue=z.useRef(null),q=z.useRef(null),X=z.useRef(!1),te=z.useRef(!1),de=z.useRef(-1),H=G!=null,L=$f(A),re=Ft(function(U){return U===void 0&&(U=L),U?Td(U,Kl()):[]}),le=Ft(U=>{const $=re(U);return be.current.map(fe=>T&&fe==="reference"?T:L&&fe==="floating"?L:$).filter(Boolean).flat()});z.useEffect(()=>{if(r||!f)return;function U(fe){if(fe.key==="Tab"){en(L,Mr(sn(L)))&&re().length===0&&!W&&tn(fe);const _=le(),he=Wi(fe);be.current[0]==="reference"&&he===T&&(tn(fe),fe.shiftKey?Is(_[_.length-1]):Is(_[1])),be.current[1]==="floating"&&he===L&&fe.shiftKey&&(tn(fe),Is(_[0]))}}const $=sn(L);return $.addEventListener("keydown",U),()=>{$.removeEventListener("keydown",U)}},[r,T,L,f,be,W,re,le]),z.useEffect(()=>{if(r||!A)return;function U($){const fe=Wi($),he=re().indexOf(fe);he!==-1&&(de.current=he)}return A.addEventListener("focusin",U),()=>{A.removeEventListener("focusin",U)}},[r,A,re]),z.useEffect(()=>{if(r||!p)return;function U(){te.current=!0,setTimeout(()=>{te.current=!1})}function $(fe){const _=fe.relatedTarget,he=fe.currentTarget;queueMicrotask(()=>{const P=k(),x=!(en(T,_)||en(A,_)||en(_,A)||en(G==null?void 0:G.portalNode,_)||_!=null&&_.hasAttribute(ro("focus-guard"))||N&&(Zo(N.nodesRef.current,P).find(C=>{var O,Z;return en((O=C.context)==null?void 0:O.elements.floating,_)||en((Z=C.context)==null?void 0:Z.elements.domReference,_)})||XE(N.nodesRef.current,P).find(C=>{var O,Z,ae;return[(O=C.context)==null?void 0:O.elements.floating,$f((Z=C.context)==null?void 0:Z.elements.floating)].includes(_)||((ae=C.context)==null?void 0:ae.elements.domReference)===_})));if(he===T&&L&&pC(L,be),c&&x&&Mr(sn(L))===sn(L).body){Nt(L)&&L.focus();const C=de.current,O=re(),Z=O[C]||O[O.length-1]||L;Nt(Z)&&Z.focus()}(W||!f)&&_&&x&&!te.current&&_!==hC()&&(X.current=!0,v(!1,fe,"focus-out"))})}if(A&&Nt(T))return T.addEventListener("focusout",$),T.addEventListener("pointerdown",U),A.addEventListener("focusout",$),()=>{T.removeEventListener("focusout",$),T.removeEventListener("pointerdown",U),A.removeEventListener("focusout",$)}},[r,T,A,L,f,N,G,v,p,c,re,W,k,be]);const me=z.useRef(null),ie=z.useRef(null),D=dC([me,G==null?void 0:G.beforeInsideRef]),M=dC([ie,G==null?void 0:G.afterInsideRef]);z.useEffect(()=>{var U,$;if(r||!A)return;const fe=Array.from((G==null||(U=G.portalNode)==null?void 0:U.querySelectorAll("["+ro("portal")+"]"))||[]),_=N?XE(N.nodesRef.current,k()):[],he=N&&!f?_.map(O=>{var Z;return(Z=O.context)==null?void 0:Z.elements.floating}):[],P=($=_.find(O=>{var Z;return Vg(((Z=O.context)==null?void 0:Z.elements.domReference)||null)}))==null||($=$.context)==null?void 0:$.elements.domReference,x=[A,P,...fe,...he,...I(),ue.current,q.current,me.current,ie.current,G==null?void 0:G.beforeOutsideRef.current,G==null?void 0:G.afterOutsideRef.current,be.current.includes("reference")||W?T:null].filter(O=>O!=null),C=f||W?cC(x,!se,se):cC(x);return()=>{C()}},[r,T,A,f,be,G,W,F,se,N,k,I]),ct(()=>{if(r||!Nt(L))return;const U=sn(L),$=Mr(U);queueMicrotask(()=>{const fe=le(L),_=B.current,he=(typeof _=="number"?fe[_]:_.current)||L,P=en(L,$);!j&&!P&&w&&Is(he,{preventScroll:he===L})})},[r,w,L,j,le,B]),ct(()=>{if(r||!L)return;let U=!1;const $=sn(L),fe=Mr($);VB(fe);function _(x){let{reason:C,event:O,nested:Z}=x;if(["hover","safe-polygon"].includes(C)&&O.type==="mouseleave"&&(X.current=!0),C==="outside-press")if(Z)X.current=!1,U=!0;else if(B5(O)||j5(O))X.current=!1;else{let ae=!1;document.createElement("div").focus({get preventScroll(){return ae=!0,!1}}),ae?(X.current=!1,U=!0):X.current=!0}}E.on("openchange",_);const he=$.createElement("span");he.setAttribute("tabindex","-1"),he.setAttribute("aria-hidden","true"),Object.assign(he.style,_d),H&&T&&T.insertAdjacentElement("afterend",he);function P(){if(typeof Y.current=="boolean"){const x=T||hC();return x&&x.isConnected?x:he}return Y.current.current||he}return()=>{E.off("openchange",_);const x=Mr($),C=en(A,x)||N&&Zo(N.nodesRef.current,k()).some(Z=>{var ae;return en((ae=Z.context)==null?void 0:ae.elements.floating,x)}),O=P();queueMicrotask(()=>{const Z=WB(O);Y.current&&!X.current&&Nt(Z)&&(!(Z!==x&&x!==$.body)||C)&&Z.focus({preventScroll:U}),he.remove()})}},[r,A,L,Y,b,E,N,H,T,k]),z.useEffect(()=>{queueMicrotask(()=>{X.current=!1})},[r]),ct(()=>{if(!r&&G)return G.setFocusManagerState({modal:f,closeOnFocusOut:p,open:w,onOpenChange:v,domReference:T}),()=>{G.setFocusManagerState(null)}},[r,G,f,w,v,p,T]),ct(()=>{r||L&&pC(L,be)},[r,L,be]);function ne(U){return r||!h||!f?null:K.jsx($B,{ref:U==="start"?ue:q,onClick:$=>v(!1,$.nativeEvent),children:typeof h=="string"?h:"Dismiss"})}const Q=!r&&F&&(f?!W:!0)&&(H||f);return K.jsxs(K.Fragment,{children:[Q&&K.jsx(qf,{"data-type":"inside",ref:D,onFocus:U=>{if(f){const fe=le();Is(i[0]==="reference"?fe[0]:fe[fe.length-1])}else if(G!=null&&G.preserveTabOrder&&G.portalNode)if(X.current=!1,Cl(U,G.portalNode)){const fe=H5(T);fe==null||fe.focus()}else{var $;($=G.beforeOutsideRef.current)==null||$.focus()}}}),!W&&ne("start"),t,ne("end"),Q&&K.jsx(qf,{"data-type":"inside",ref:M,onFocus:U=>{if(f)Is(le()[0]);else if(G!=null&&G.preserveTabOrder&&G.portalNode)if(p&&(X.current=!0),Cl(U,G.portalNode)){const fe=U5(T);fe==null||fe.focus()}else{var $;($=G.afterOutsideRef.current)==null||$.focus()}}})]})}function mC(n){return Nt(n.target)&&n.target.tagName==="BUTTON"}function KB(n){return Nt(n.target)&&n.target.tagName==="A"}function gC(n){return Jy(n)}function r3(n,e){e===void 0&&(e={});const{open:t,onOpenChange:r,dataRef:i,elements:{domReference:s}}=n,{enabled:o=!0,event:l="click",toggle:c=!0,ignoreMouse:f=!1,keyboardHandlers:h=!0,stickIfOpen:p=!0}=e,g=z.useRef(),m=z.useRef(!1),w=z.useMemo(()=>({onPointerDown(v){g.current=v.pointerType},onMouseDown(v){const E=g.current;v.button===0&&l!=="click"&&(Ll(E,!0)&&f||(t&&c&&(!(i.current.openEvent&&p)||i.current.openEvent.type==="mousedown")?r(!1,v.nativeEvent,"click"):(v.preventDefault(),r(!0,v.nativeEvent,"click"))))},onClick(v){const E=g.current;if(l==="mousedown"&&g.current){g.current=void 0;return}Ll(E,!0)&&f||(t&&c&&(!(i.current.openEvent&&p)||i.current.openEvent.type==="click")?r(!1,v.nativeEvent,"click"):r(!0,v.nativeEvent,"click"))},onKeyDown(v){g.current=void 0,!(v.defaultPrevented||!h||mC(v))&&(v.key===" "&&!gC(s)&&(v.preventDefault(),m.current=!0),!KB(v)&&v.key==="Enter"&&r(!(t&&c),v.nativeEvent,"click"))},onKeyUp(v){v.defaultPrevented||!h||mC(v)||gC(s)||v.key===" "&&m.current&&(m.current=!1,r(!(t&&c),v.nativeEvent,"click"))}}),[i,s,l,f,h,r,t,p,c]);return z.useMemo(()=>o?{reference:w}:{},[o,w])}const qB={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},GB={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},yC=n=>{var e,t;return{escapeKey:typeof n=="boolean"?n:(e=n==null?void 0:n.escapeKey)!=null?e:!1,outsidePress:typeof n=="boolean"?n:(t=n==null?void 0:n.outsidePress)!=null?t:!0}};function o0(n,e){e===void 0&&(e={});const{open:t,onOpenChange:r,elements:i,dataRef:s}=n,{enabled:o=!0,escapeKey:l=!0,outsidePress:c=!0,outsidePressEvent:f="pointerdown",referencePress:h=!1,referencePressEvent:p="pointerdown",ancestorScroll:g=!1,bubbles:m,capture:w}=e,v=Zl(),E=Ft(typeof c=="function"?c:()=>!1),b=typeof c=="function"?E:c,T=z.useRef(!1),A=z.useRef(!1),{escapeKey:k,outsidePress:I}=yC(m),{escapeKey:j,outsidePress:W}=yC(w),ee=z.useRef(!1),F=Ft(G=>{var ue;if(!t||!o||!l||G.key!=="Escape"||ee.current)return;const q=(ue=s.current.floatingContext)==null?void 0:ue.nodeId,X=v?Zo(v.nodesRef.current,q):[];if(!k&&(G.stopPropagation(),X.length>0)){let te=!0;if(X.forEach(de=>{var H;if((H=de.context)!=null&&H.open&&!de.context.dataRef.current.__escapeKeyBubbles){te=!1;return}}),!te)return}r(!1,zF(G)?G.nativeEvent:G,"escape-key")}),se=Ft(G=>{var ue;const q=()=>{var X;F(G),(X=Wi(G))==null||X.removeEventListener("keydown",q)};(ue=Wi(G))==null||ue.addEventListener("keydown",q)}),be=Ft(G=>{var ue;const q=T.current;T.current=!1;const X=A.current;if(A.current=!1,f==="click"&&X||q||typeof b=="function"&&!b(G))return;const te=Wi(G),de="["+ro("inert")+"]",H=sn(i.floating).querySelectorAll(de);let L=ft(te)?te:null;for(;L&&!ai(L);){const ie=ui(L);if(ai(ie)||!ft(ie))break;L=ie}if(H.length&&ft(te)&&!FF(te)&&!en(te,i.floating)&&Array.from(H).every(ie=>!en(L,ie)))return;if(Nt(te)&&N){const ie=ai(te),D=ur(te),M=/auto|scroll/,ne=ie||M.test(D.overflowX),Q=ie||M.test(D.overflowY),U=ne&&te.clientWidth>0&&te.scrollWidth>te.clientWidth,$=Q&&te.clientHeight>0&&te.scrollHeight>te.clientHeight,fe=D.direction==="rtl",_=$&&(fe?G.offsetX<=te.offsetWidth-te.clientWidth:G.offsetX>te.clientWidth),he=U&&G.offsetY>te.clientHeight;if(_||he)return}const re=(ue=s.current.floatingContext)==null?void 0:ue.nodeId,le=v&&Zo(v.nodesRef.current,re).some(ie=>{var D;return U1(G,(D=ie.context)==null?void 0:D.elements.floating)});if(U1(G,i.floating)||U1(G,i.domReference)||le)return;const me=v?Zo(v.nodesRef.current,re):[];if(me.length>0){let ie=!0;if(me.forEach(D=>{var M;if((M=D.context)!=null&&M.open&&!D.context.dataRef.current.__outsidePressBubbles){ie=!1;return}}),!ie)return}r(!1,G,"outside-press")}),B=Ft(G=>{var ue;const q=()=>{var X;be(G),(X=Wi(G))==null||X.removeEventListener(f,q)};(ue=Wi(G))==null||ue.addEventListener(f,q)});z.useEffect(()=>{if(!t||!o)return;s.current.__escapeKeyBubbles=k,s.current.__outsidePressBubbles=I;let G=-1;function ue(H){r(!1,H,"ancestor-scroll")}function q(){window.clearTimeout(G),ee.current=!0}function X(){G=window.setTimeout(()=>{ee.current=!1},Cd()?5:0)}const te=sn(i.floating);l&&(te.addEventListener("keydown",j?se:F,j),te.addEventListener("compositionstart",q),te.addEventListener("compositionend",X)),b&&te.addEventListener(f,W?B:be,W);let de=[];return g&&(ft(i.domReference)&&(de=es(i.domReference)),ft(i.floating)&&(de=de.concat(es(i.floating))),!ft(i.reference)&&i.reference&&i.reference.contextElement&&(de=de.concat(es(i.reference.contextElement)))),de=de.filter(H=>{var L;return H!==((L=te.defaultView)==null?void 0:L.visualViewport)}),de.forEach(H=>{H.addEventListener("scroll",ue,{passive:!0})}),()=>{l&&(te.removeEventListener("keydown",j?se:F,j),te.removeEventListener("compositionstart",q),te.removeEventListener("compositionend",X)),b&&te.removeEventListener(f,W?B:be,W),de.forEach(H=>{H.removeEventListener("scroll",ue)}),window.clearTimeout(G)}},[s,i,l,b,f,t,r,g,o,k,I,F,j,se,be,W,B]),z.useEffect(()=>{T.current=!1},[b,f]);const Y=z.useMemo(()=>({onKeyDown:F,...h&&{[qB[p]]:G=>{r(!1,G.nativeEvent,"reference-press")},...p!=="click"&&{onClick(G){r(!1,G.nativeEvent,"reference-press")}}}}),[F,r,h,p]),N=z.useMemo(()=>({onKeyDown:F,onMouseDown(){A.current=!0},onMouseUp(){A.current=!0},[GB[f]]:()=>{T.current=!0}}),[F,f]);return z.useMemo(()=>o?{reference:Y,floating:N}:{},[o,Y,N])}function ZB(n){const{open:e=!1,onOpenChange:t,elements:r}=n,i=i0(),s=z.useRef({}),[o]=z.useState(()=>OB()),l=Rd()!=null,[c,f]=z.useState(r.reference),h=Ft((m,w,v)=>{s.current.openEvent=m?w:void 0,o.emit("openchange",{open:m,event:w,reason:v,nested:l}),t==null||t(m,w,v)}),p=z.useMemo(()=>({setPositionReference:f}),[]),g=z.useMemo(()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference}),[c,r.reference,r.floating]);return z.useMemo(()=>({dataRef:s,open:e,onOpenChange:h,elements:g,events:o,floatingId:i,refs:p}),[e,h,g,o,i,p])}function a0(n){n===void 0&&(n={});const{nodeId:e}=n,t=ZB({...n,elements:{reference:null,floating:null,...n.elements}}),r=n.rootContext||t,i=r.elements,[s,o]=z.useState(null),[l,c]=z.useState(null),h=(i==null?void 0:i.domReference)||s,p=z.useRef(null),g=Zl();ct(()=>{h&&(p.current=h)},[h]);const m=xB({...n,elements:{...i,...l&&{reference:l}}}),w=z.useCallback(A=>{const k=ft(A)?{getBoundingClientRect:()=>A.getBoundingClientRect(),getClientRects:()=>A.getClientRects(),contextElement:A}:A;c(k),m.refs.setReference(k)},[m.refs]),v=z.useCallback(A=>{(ft(A)||A===null)&&(p.current=A,o(A)),(ft(m.refs.reference.current)||m.refs.reference.current===null||A!==null&&!ft(A))&&m.refs.setReference(A)},[m.refs]),E=z.useMemo(()=>({...m.refs,setReference:v,setPositionReference:w,domReference:p}),[m.refs,v,w]),b=z.useMemo(()=>({...m.elements,domReference:h}),[m.elements,h]),T=z.useMemo(()=>({...m,...r,refs:E,elements:b,nodeId:e}),[m,E,b,e,r]);return ct(()=>{r.dataRef.current.floatingContext=T;const A=g==null?void 0:g.nodesRef.current.find(k=>k.id===e);A&&(A.context=T)}),z.useMemo(()=>({...m,context:T,refs:E,elements:b}),[m,E,b,T])}function Z1(){return MF()&&P5()}function XB(n,e){e===void 0&&(e={});const{open:t,onOpenChange:r,events:i,dataRef:s,elements:o}=n,{enabled:l=!0,visibleOnly:c=!0}=e,f=z.useRef(!1),h=z.useRef(-1),p=z.useRef(!0);z.useEffect(()=>{if(!l)return;const m=Bn(o.domReference);function w(){!t&&Nt(o.domReference)&&o.domReference===Mr(sn(o.domReference))&&(f.current=!0)}function v(){p.current=!0}function E(){p.current=!1}return m.addEventListener("blur",w),Z1()&&(m.addEventListener("keydown",v,!0),m.addEventListener("pointerdown",E,!0)),()=>{m.removeEventListener("blur",w),Z1()&&(m.removeEventListener("keydown",v,!0),m.removeEventListener("pointerdown",E,!0))}},[o.domReference,t,l]),z.useEffect(()=>{if(!l)return;function m(w){let{reason:v}=w;(v==="reference-press"||v==="escape-key")&&(f.current=!0)}return i.on("openchange",m),()=>{i.off("openchange",m)}},[i,l]),z.useEffect(()=>()=>{Mn(h)},[]);const g=z.useMemo(()=>({onMouseLeave(){f.current=!1},onFocus(m){if(f.current)return;const w=Wi(m.nativeEvent);if(c&&ft(w)){if(Z1()&&!m.relatedTarget){if(!p.current&&!Jy(w))return}else if(!BF(w))return}r(!0,m.nativeEvent,"focus")},onBlur(m){f.current=!1;const w=m.relatedTarget,v=m.nativeEvent,E=ft(w)&&w.hasAttribute(ro("focus-guard"))&&w.getAttribute("data-type")==="outside";h.current=window.setTimeout(()=>{var b;const T=Mr(o.domReference?o.domReference.ownerDocument:document);!w&&T===o.domReference||en((b=s.current.floatingContext)==null?void 0:b.refs.floating.current,T)||en(o.domReference,T)||E||r(!1,v,"focus")})}}),[s,o.domReference,r,c]);return z.useMemo(()=>l?{reference:g}:{},[l,g])}function X1(n,e,t){const r=new Map,i=t==="item";let s=n;if(i&&n){const{[rC]:o,[iC]:l,...c}=n;s=c}return{...t==="floating"&&{tabIndex:-1,[TB]:""},...s,...e.map(o=>{const l=o?o[t]:null;return typeof l=="function"?n?l(n):null:l}).concat(n).reduce((o,l)=>(l&&Object.entries(l).forEach(c=>{let[f,h]=c;if(!(i&&[rC,iC].includes(f)))if(f.indexOf("on")===0){if(r.has(f)||r.set(f,[]),typeof h=="function"){var p;(p=r.get(f))==null||p.push(h),o[f]=function(){for(var g,m=arguments.length,w=new Array(m),v=0;v<m;v++)w[v]=arguments[v];return(g=r.get(f))==null?void 0:g.map(E=>E(...w)).find(E=>E!==void 0)}}}else o[f]=h}),o),{})}}function l0(n){n===void 0&&(n=[]);const e=n.map(l=>l==null?void 0:l.reference),t=n.map(l=>l==null?void 0:l.floating),r=n.map(l=>l==null?void 0:l.item),i=z.useCallback(l=>X1(l,n,"reference"),e),s=z.useCallback(l=>X1(l,n,"floating"),t),o=z.useCallback(l=>X1(l,n,"item"),r);return z.useMemo(()=>({getReferenceProps:i,getFloatingProps:s,getItemProps:o}),[i,s,o])}const JB="Escape";function Nd(n,e,t){switch(n){case"vertical":return e;case"horizontal":return t;default:return e||t}}function Lc(n,e){return Nd(e,n===Y5||n===Ad,n===ql||n===Gl)}function J1(n,e,t){return Nd(e,n===Ad,t?n===ql:n===Gl)||n==="Enter"||n===" "||n===""}function wC(n,e,t){return Nd(e,t?n===ql:n===Gl,n===Ad)}function vC(n,e,t,r){const i=t?n===Gl:n===ql,s=n===Y5;return e==="both"||e==="horizontal"&&r&&r>1?n===JB:Nd(e,i,s)}function YB(n,e){const{open:t,onOpenChange:r,elements:i,floatingId:s}=n,{listRef:o,activeIndex:l,onNavigate:c=()=>{},enabled:f=!0,selectedIndex:h=null,allowEscape:p=!1,loop:g=!1,nested:m=!1,rtl:w=!1,virtual:v=!1,focusItemOnOpen:E="auto",focusItemOnHover:b=!0,openOnArrowKeyDown:T=!0,disabledIndices:A=void 0,orientation:k="vertical",parentOrientation:I,cols:j=1,scrollItemIntoView:W=!0,virtualItemRef:ee,itemSizes:F,dense:se=!1}=e,be=$f(i.floating),B=Pn(be),Y=Rd(),N=Zl();ct(()=>{n.dataRef.current.orientation=k},[n,k]);const G=Ft(()=>{c(X.current===-1?null:X.current)}),ue=Vg(i.domReference),q=z.useRef(E),X=z.useRef(h??-1),te=z.useRef(null),de=z.useRef(!0),H=z.useRef(G),L=z.useRef(!!i.floating),re=z.useRef(t),le=z.useRef(!1),me=z.useRef(!1),ie=Pn(A),D=Pn(t),M=Pn(W),ne=Pn(h),[Q,U]=z.useState(),[$,fe]=z.useState(),_=Ft(()=>{function J(ke){if(v){var Me;(Me=ke.id)!=null&&Me.endsWith("-fui-option")&&(ke.id=s+"-"+Math.random().toString(16).slice(2,10)),U(ke.id),N==null||N.events.emit("virtualfocus",ke),ee&&(ee.current=ke)}else Is(ke,{sync:le.current,preventScroll:!0})}const ge=o.current[X.current],we=me.current;ge&&J(ge),(le.current?ke=>ke():requestAnimationFrame)(()=>{const ke=o.current[X.current]||ge;if(!ke)return;ge||J(ke);const Me=M.current;Me&&P&&(we||!de.current)&&(ke.scrollIntoView==null||ke.scrollIntoView(typeof Me=="boolean"?{block:"nearest",inline:"nearest"}:Me))})});ct(()=>{f&&(t&&i.floating?q.current&&h!=null&&(me.current=!0,X.current=h,G()):L.current&&(X.current=-1,H.current()))},[f,t,i.floating,h,G]),ct(()=>{if(f&&t&&i.floating)if(l==null){if(le.current=!1,ne.current!=null)return;if(L.current&&(X.current=-1,_()),(!re.current||!L.current)&&q.current&&(te.current!=null||q.current===!0&&te.current==null)){let J=0;const ge=()=>{o.current[0]==null?(J<2&&(J?requestAnimationFrame:queueMicrotask)(ge),J++):(X.current=te.current==null||J1(te.current,k,w)||m?V1(o,ie.current):JE(o,ie.current),te.current=null,G())};ge()}}else El(o,l)||(X.current=l,_(),me.current=!1)},[f,t,i.floating,l,ne,m,o,k,w,G,_,ie]),ct(()=>{var J;if(!f||i.floating||!N||v||!L.current)return;const ge=N.nodesRef.current,we=(J=ge.find(Me=>Me.id===Y))==null||(J=J.context)==null?void 0:J.elements.floating,Ee=Mr(sn(i.floating)),ke=ge.some(Me=>Me.context&&en(Me.context.elements.floating,Ee));we&&!ke&&de.current&&we.focus({preventScroll:!0})},[f,i.floating,N,Y,v]),ct(()=>{if(!f||!N||!v||Y)return;function J(ge){fe(ge.id),ee&&(ee.current=ge)}return N.events.on("virtualfocus",J),()=>{N.events.off("virtualfocus",J)}},[f,N,v,Y,ee]),ct(()=>{H.current=G,re.current=t,L.current=!!i.floating}),ct(()=>{t||(te.current=null)},[t]);const he=l!=null,P=z.useMemo(()=>{function J(we){if(!t)return;const Ee=o.current.indexOf(we);Ee!==-1&&X.current!==Ee&&(X.current=Ee,G())}return{onFocus(we){let{currentTarget:Ee}=we;le.current=!0,J(Ee)},onClick:we=>{let{currentTarget:Ee}=we;return Ee.focus({preventScroll:!0})},...b&&{onMouseMove(we){let{currentTarget:Ee}=we;le.current=!0,me.current=!1,J(Ee)},onPointerLeave(we){let{pointerType:Ee}=we;if(!(!de.current||Ee==="touch")&&(le.current=!0,X.current=-1,G(),!v)){var ke;(ke=B.current)==null||ke.focus({preventScroll:!0})}}}}},[t,B,b,o,G,v]),x=z.useCallback(()=>{var J;return I??(N==null||(J=N.nodesRef.current.find(ge=>ge.id===Y))==null||(J=J.context)==null||(J=J.dataRef)==null?void 0:J.current.orientation)},[Y,N,I]),C=Ft(J=>{if(de.current=!1,le.current=!0,J.which===229||!D.current&&J.currentTarget===B.current)return;if(m&&vC(J.key,k,w,j)){Lc(J.key,x())||tn(J),r(!1,J.nativeEvent,"list-navigation"),Nt(i.domReference)&&(v?N==null||N.events.emit("virtualfocus",i.domReference):i.domReference.focus());return}const ge=X.current,we=V1(o,A),Ee=JE(o,A);if(ue||(J.key==="Home"&&(tn(J),X.current=we,G()),J.key==="End"&&(tn(J),X.current=Ee,G())),j>1){const ke=F||Array.from({length:o.current.length},()=>({width:1,height:1})),Me=$F(ke,j,se),Ue=Me.findIndex(rt=>rt!=null&&!Wc(o,rt,A)),yt=Me.reduce((rt,yn,it)=>yn!=null&&!Wc(o,yn,A)?it:rt,-1),Mt=Me[WF({current:Me.map(rt=>rt!=null?o.current[rt]:null)},{event:J,orientation:k,loop:g,rtl:w,cols:j,disabledIndices:qF([...A||o.current.map((rt,yn)=>Wc(o,yn)?yn:void 0),void 0],Me),minIndex:Ue,maxIndex:yt,prevIndex:KF(X.current>Ee?we:X.current,ke,Me,j,J.key===Ad?"bl":J.key===(w?ql:Gl)?"tr":"tl"),stopEvent:!0})];if(Mt!=null&&(X.current=Mt,G()),k==="both")return}if(Lc(J.key,k)){if(tn(J),t&&!v&&Mr(J.currentTarget.ownerDocument)===J.currentTarget){X.current=J1(J.key,k,w)?we:Ee,G();return}J1(J.key,k,w)?g?X.current=ge>=Ee?p&&ge!==o.current.length?-1:we:hn(o,{startingIndex:ge,disabledIndices:A}):X.current=Math.min(Ee,hn(o,{startingIndex:ge,disabledIndices:A})):g?X.current=ge<=we?p&&ge!==-1?o.current.length:Ee:hn(o,{startingIndex:ge,decrement:!0,disabledIndices:A}):X.current=Math.max(we,hn(o,{startingIndex:ge,decrement:!0,disabledIndices:A})),El(o,X.current)&&(X.current=-1),G()}}),O=z.useMemo(()=>v&&t&&he&&{"aria-activedescendant":$||Q},[v,t,he,$,Q]),Z=z.useMemo(()=>({"aria-orientation":k==="both"?void 0:k,...ue?{}:O,onKeyDown:C,onPointerMove(){de.current=!0}}),[O,C,k,ue]),ae=z.useMemo(()=>{function J(we){E==="auto"&&B5(we.nativeEvent)&&(q.current=!0)}function ge(we){q.current=E,E==="auto"&&j5(we.nativeEvent)&&(q.current=!0)}return{...O,onKeyDown(we){de.current=!1;const Ee=we.key.startsWith("Arrow"),ke=["Home","End"].includes(we.key),Me=Ee||ke,Ue=wC(we.key,k,w),yt=vC(we.key,k,w,j),Mt=wC(we.key,x(),w),rt=Lc(we.key,k),yn=(m?Mt:rt)||we.key==="Enter"||we.key.trim()==="";if(v&&t){const Ut=N==null?void 0:N.nodesRef.current.find(Er=>Er.parentId==null),wn=N&&Ut?jF(N.nodesRef.current,Ut.id):null;if(Me&&wn&&ee){const Er=new KeyboardEvent("keydown",{key:we.key,bubbles:!0});if(Ue||yt){var it,xr;const ds=((it=wn.context)==null?void 0:it.elements.domReference)===we.currentTarget,mi=yt&&!ds?(xr=wn.context)==null?void 0:xr.elements.domReference:Ue?o.current.find(Gn=>(Gn==null?void 0:Gn.id)===Q):null;mi&&(tn(we),mi.dispatchEvent(Er),fe(void 0))}if((rt||ke)&&wn.context&&wn.context.open&&wn.parentId&&we.currentTarget!==wn.context.elements.domReference){var pi;tn(we),(pi=wn.context.elements.domReference)==null||pi.dispatchEvent(Er);return}}return C(we)}if(!(!t&&!T&&Ee)){if(yn){const Ut=Lc(we.key,x());te.current=m&&Ut?null:we.key}if(m){Mt&&(tn(we),t?(X.current=V1(o,ie.current),G()):r(!0,we.nativeEvent,"list-navigation"));return}rt&&(h!=null&&(X.current=h),tn(we),!t&&T?r(!0,we.nativeEvent,"list-navigation"):C(we),t&&G())}},onFocus(){t&&!v&&(X.current=-1,G())},onPointerDown:ge,onPointerEnter:ge,onMouseDown:J,onClick:J}},[Q,O,j,C,ie,E,o,m,G,r,t,T,k,x,w,h,N,v,ee]);return z.useMemo(()=>f?{reference:ae,floating:Z,item:P}:{},[f,ae,Z,P])}const QB=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function u0(n,e){var t,r;e===void 0&&(e={});const{open:i,elements:s,floatingId:o}=n,{enabled:l=!0,role:c="dialog"}=e,f=i0(),h=((t=s.domReference)==null?void 0:t.id)||f,p=z.useMemo(()=>{var T;return((T=$f(s.floating))==null?void 0:T.id)||o},[s.floating,o]),g=(r=QB.get(c))!=null?r:c,w=Rd()!=null,v=z.useMemo(()=>g==="tooltip"||c==="label"?{["aria-"+(c==="label"?"labelledby":"describedby")]:i?p:void 0}:{"aria-expanded":i?"true":"false","aria-haspopup":g==="alertdialog"?"dialog":g,"aria-controls":i?p:void 0,...g==="listbox"&&{role:"combobox"},...g==="menu"&&{id:h},...g==="menu"&&w&&{role:"menuitem"},...c==="select"&&{"aria-autocomplete":"none"},...c==="combobox"&&{"aria-autocomplete":"list"}},[g,p,w,i,h,c]),E=z.useMemo(()=>{const T={id:p,...g&&{role:g}};return g==="tooltip"||c==="label"?T:{...T,...g==="menu"&&{"aria-labelledby":h}}},[g,p,h,c]),b=z.useCallback(T=>{let{active:A,selected:k}=T;const I={role:"option",...A&&{id:p+"-fui-option"}};switch(c){case"select":return{...I,"aria-selected":A&&k};case"combobox":return{...I,"aria-selected":k}}return{}},[p,c]);return z.useMemo(()=>l?{reference:v,floating:E,item:b}:{},[l,v,E,b])}function ej(n,e){var t;const{open:r,dataRef:i}=n,{listRef:s,activeIndex:o,onMatch:l,onTypingChange:c,enabled:f=!0,findMatch:h=null,resetMs:p=750,ignoreKeys:g=[],selectedIndex:m=null}=e,w=z.useRef(-1),v=z.useRef(""),E=z.useRef((t=m??o)!=null?t:-1),b=z.useRef(null),T=Ft(l),A=Ft(c),k=Pn(h),I=Pn(g);ct(()=>{r&&(Mn(w),b.current=null,v.current="")},[r]),ct(()=>{if(r&&v.current===""){var se;E.current=(se=m??o)!=null?se:-1}},[r,m,o]);const j=Ft(se=>{se?i.current.typing||(i.current.typing=se,A(se)):i.current.typing&&(i.current.typing=se,A(se))}),W=Ft(se=>{function be(ue,q,X){const te=k.current?k.current(q,X):q.find(de=>(de==null?void 0:de.toLocaleLowerCase().indexOf(X.toLocaleLowerCase()))===0);return te?ue.indexOf(te):-1}const B=s.current;if(v.current.length>0&&v.current[0]!==" "&&(be(B,B,v.current)===-1?j(!1):se.key===" "&&tn(se)),B==null||I.current.includes(se.key)||se.key.length!==1||se.ctrlKey||se.metaKey||se.altKey)return;r&&se.key!==" "&&(tn(se),j(!0)),B.every(ue=>{var q,X;return ue?((q=ue[0])==null?void 0:q.toLocaleLowerCase())!==((X=ue[1])==null?void 0:X.toLocaleLowerCase()):!0})&&v.current===se.key&&(v.current="",E.current=b.current),v.current+=se.key,Mn(w),w.current=window.setTimeout(()=>{v.current="",E.current=b.current,j(!1)},p);const N=E.current,G=be(B,[...B.slice((N||0)+1),...B.slice(0,(N||0)+1)],v.current);G!==-1?(T(G),b.current=G):se.key!==" "&&(v.current="",j(!1))}),ee=z.useMemo(()=>({onKeyDown:W}),[W]),F=z.useMemo(()=>({onKeyDown:W,onKeyUp(se){se.key===" "&&j(!1)}}),[W,j]);return z.useMemo(()=>f?{reference:ee,floating:F}:{},[f,ee,F])}function tj({initialOpen:n=!1,placement:e="top",open:t,onOpenChange:r,delay:i=600,closeDelay:s=0}={}){const[o,l]=z.useState(n),c=t??o,f=r??l,h=a0({placement:e,open:c,onOpenChange:f,whileElementsMounted:e0,middleware:[t0(4),r0({crossAxis:e.includes("-"),fallbackAxisSideDirection:"start",padding:4}),n0({padding:4})]}),p=h.context,g=DB(p,{mouseOnly:!0,move:!1,restMs:i,enabled:t==null,delay:{close:s}}),m=XB(p,{enabled:t==null}),w=o0(p),v=u0(p,{role:"tooltip"}),E=l0([g,m,w,v]);return z.useMemo(()=>({open:c,setOpen:f,...E,...h}),[c,f,E,h])}const Wg=z.createContext(null);function i3(){const n=z.useContext(Wg);if(n==null)throw new Error("Tooltip components must be wrapped in <TooltipProvider />");return n}function s3({children:n,...e}){const t=tj(e);return e.useDelayGroup?K.jsx(PB,{delay:{open:e.delay??0,close:e.closeDelay??0},timeoutMs:e.timeout,children:K.jsx(Wg.Provider,{value:t,children:n})}):K.jsx(Wg.Provider,{value:t,children:n})}const o3=z.forwardRef(function({children:e,asChild:t=!1,...r},i){const s=i3(),o=z.isValidElement(e)?parseInt(z.version,10)>=19?e.props.ref:e.ref:void 0,l=ao([s.refs.setReference,i,o]);if(t&&z.isValidElement(e)){const c={"data-tooltip-state":s.open?"open":"closed"};return z.cloneElement(e,s.getReferenceProps({ref:l,...r,...typeof e.props=="object"?e.props:{},...c}))}return K.jsx("button",{ref:l,"data-tooltip-state":s.open?"open":"closed",...s.getReferenceProps(r),children:e})}),a3=z.forwardRef(function({style:e,children:t,portal:r=!0,portalProps:i={},...s},o){const l=i3(),c=ao([l.refs.setFloating,o]);if(!l.open)return null;const f=K.jsx("div",{ref:c,style:{...l.floatingStyles,...e},...l.getFloatingProps(s),className:"tiptap-tooltip",children:t});return r?K.jsx(s0,{...i,children:f}):f});s3.displayName="Tooltip";o3.displayName="TooltipTrigger";a3.displayName="TooltipContent";const nj={ctrl:"",alt:"",shift:""},rj=(n,e)=>{if(e){const t=n.toLowerCase();return nj[t]||n.toUpperCase()}return n.charAt(0).toUpperCase()+n.slice(1)},ij=(n,e)=>n?n.split("-").map(t=>t.trim()).map(t=>rj(t,e)):[],sj=({shortcuts:n})=>n.length===0?null:K.jsx("div",{children:n.map((e,t)=>K.jsxs(z.Fragment,{children:[t>0&&K.jsx("kbd",{children:"+"}),K.jsx("kbd",{children:e})]},t))}),Ot=z.forwardRef(({className:n="",children:e,tooltip:t,showTooltip:r=!0,shortcutKeys:i,"aria-label":s,...o},l)=>{const c=z.useMemo(()=>typeof navigator<"u"&&navigator.platform.toLowerCase().includes("mac"),[]),f=z.useMemo(()=>ij(i,c),[i,c]);return!t||!r?K.jsx("button",{className:`tiptap-button ${n}`.trim(),ref:l,"aria-label":s,...o,children:e}):K.jsxs(s3,{delay:200,children:[K.jsx(o3,{className:`tiptap-button ${n}`.trim(),ref:l,"aria-label":s,...o,children:e}),K.jsxs(a3,{children:[t,K.jsx(sj,{shortcuts:f})]})]})});Ot.displayName="Button";const $g=z.forwardRef(({orientation:n="horizontal",size:e,className:t="",style:r={},...i},s)=>{const o={...r,...n==="horizontal"&&!e&&{flex:1},...e&&{width:n==="vertical"?"1px":e,height:n==="horizontal"?"1px":e}};return K.jsx("div",{ref:s,...i,className:t,style:o})});$g.displayName="Spacer";const pa=z.forwardRef(({decorative:n,orientation:e="vertical",className:t="",...r},i)=>{const o=n?{role:"none"}:{"aria-orientation":e==="vertical"?e:void 0,role:"separator"};return K.jsx("div",{className:`tiptap-separator ${t}`.trim(),"data-orientation":e,...o,...r,ref:i})});pa.displayName="Separator";const c0=n=>e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})},f0=(n,e)=>{z.useEffect(()=>{const t=n.current;if(!t)return;let r=!0;r&&requestAnimationFrame(e);const i=new MutationObserver(()=>{r&&requestAnimationFrame(e)});return i.observe(t,{childList:!0,subtree:!0,attributes:!0}),()=>{r=!1,i.disconnect()}},[n,e])},oj=n=>{z.useEffect(()=>{const e=n.current;if(!e)return;const t=()=>Array.from(e.querySelectorAll('button:not([disabled]), [role="button"]:not([disabled]), [tabindex="0"]:not([disabled])')),r=(c,f,h)=>{var g;c.preventDefault();let p=f;p>=h.length?p=0:p<0&&(p=h.length-1),(g=h[p])==null||g.focus()},i=c=>{const f=t();if(!f.length)return;const h=document.activeElement,p=f.indexOf(h);if(!e.contains(h))return;const m={ArrowRight:()=>r(c,p+1,f),ArrowDown:()=>r(c,p+1,f),ArrowLeft:()=>r(c,p-1,f),ArrowUp:()=>r(c,p-1,f),Home:()=>r(c,0,f),End:()=>r(c,f.length-1,f)}[c.key];m&&m()},s=c=>{const f=c.target;e.contains(f)&&f.setAttribute("data-focus-visible","true")},o=c=>{const f=c.target;e.contains(f)&&f.removeAttribute("data-focus-visible")};return e.addEventListener("keydown",i),e.addEventListener("focus",s,!0),e.addEventListener("blur",o,!0),t().forEach(c=>{c.addEventListener("focus",s),c.addEventListener("blur",o)}),()=>{e.removeEventListener("keydown",i),e.removeEventListener("focus",s,!0),e.removeEventListener("blur",o,!0),t().forEach(f=>{f.removeEventListener("focus",s),f.removeEventListener("blur",o)})}},[n])},aj=n=>{const[e,t]=z.useState(!0),r=z.useRef(!1);z.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]);const i=z.useCallback(()=>{if(!r.current)return;const s=n.current;if(!s)return;const o=Array.from(s.children).some(l=>l instanceof HTMLElement&&l.getAttribute("role")==="group"?l.children.length>0:!1);t(o)},[n]);return f0(n,i),e},lj=n=>{const[e,t]=z.useState(!0),r=z.useRef(!1);z.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]);const i=z.useCallback(()=>{if(!r.current)return;const s=n.current;if(!s)return;const o=Array.from(s.children).some(l=>l instanceof HTMLElement);t(o)},[n]);return f0(n,i),e},uj=n=>{const[e,t]=z.useState(!0),r=z.useRef(!1);z.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]);const i=z.useCallback(()=>{if(!r.current)return;const s=n.current;if(!s)return;const o=s.previousElementSibling,l=s.nextElementSibling;if(!o||!l){t(!1);return}const c=o.getAttribute("role")==="group"&&l.getAttribute("role")==="group",f=o.children.length>0&&l.children.length>0;t(c&&f)},[n]);return f0(n,i),e},l3=z.forwardRef(({children:n,className:e,variant:t="fixed",...r},i)=>{const s=z.useRef(null),o=aj(s);return oj(s),o?K.jsx("div",{ref:c0([s,i]),role:"toolbar","aria-label":"toolbar","data-variant":t,className:`tiptap-toolbar ${e||""}`,...r,children:n}):null});l3.displayName="Toolbar";const Hi=z.forwardRef(({children:n,className:e,...t},r)=>{const i=z.useRef(null);return lj(i)?K.jsx("div",{ref:c0([i,r]),role:"group",className:`tiptap-toolbar-group ${e||""}`,...t,children:n}):null});Hi.displayName="ToolbarGroup";const Ps=z.forwardRef(({...n},e)=>{const t=z.useRef(null);return uj(t)?K.jsx(pa,{ref:c0([t,e]),orientation:"vertical",decorative:!0,...n}):null});Ps.displayName="ToolbarSeparator";const u3=z.memo(({className:n,...e})=>K.jsx("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:K.jsx("path",{d:"M18.7071 6.70711C19.0976 6.31658 19.0976 5.68342 18.7071 5.29289C18.3166 4.90237 17.6834 4.90237 17.2929 5.29289L12 10.5858L6.70711 5.29289C6.31658 4.90237 5.68342 4.90237 5.29289 5.29289C4.90237 5.68342 4.90237 6.31658 5.29289 6.70711L10.5858 12L5.29289 17.2929C4.90237 17.6834 4.90237 18.3166 5.29289 18.7071C5.68342 19.0976 6.31658 19.0976 6.70711 18.7071L12 13.4142L17.2929 18.7071C17.6834 19.0976 18.3166 19.0976 18.7071 18.7071C19.0976 18.3166 19.0976 17.6834 18.7071 17.2929L13.4142 12L18.7071 6.70711Z",fill:"currentColor"})}));u3.displayName="CloseIcon";function cj(n){const[e,t]=z.useState(null),r=async o=>{var f,h,p;if(o.size>n.maxSize){const g=new Error(`File size exceeds maximum allowed (${n.maxSize/1024/1024}MB)`);return(f=n.onError)==null||f.call(n,g),null}const l=new AbortController,c={id:crypto.randomUUID(),file:o,progress:0,status:"uploading",abortController:l};t(c);try{if(!n.upload)throw new Error("Upload function is not defined");const g=await n.upload(o,m=>{t(w=>w?{...w,progress:m.progress}:null)},l.signal);if(!g)throw new Error("Upload failed: No URL returned");return l.signal.aborted?null:(t(m=>m?{...m,status:"success",url:g,progress:100}:null),(h=n.onSuccess)==null||h.call(n,g),g)}catch(g){return l.signal.aborted||(t(m=>m?{...m,status:"error",progress:0}:null),(p=n.onError)==null||p.call(n,g instanceof Error?g:new Error("Upload failed"))),null}};return{fileItem:e,uploadFiles:async o=>{var c,f,h;if(!o||o.length===0)return(c=n.onError)==null||c.call(n,new Error("No files to upload")),null;if(n.limit&&o.length>n.limit)return(f=n.onError)==null||f.call(n,new Error(`Maximum ${n.limit} file${n.limit===1?"":"s"} allowed`)),null;const l=o[0];return l?r(l):((h=n.onError)==null||h.call(n,new Error("File is undefined")),null)},clearFileItem:()=>{e&&(e.abortController&&e.abortController.abort(),e.url&&URL.revokeObjectURL(e.url),t(null))}}}const c3=()=>K.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",className:"tiptap-image-upload-icon",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[K.jsx("path",{d:"M11.1953 4.41771C10.3478 4.08499 9.43578 3.94949 8.5282 4.02147C7.62062 4.09345 6.74133 4.37102 5.95691 4.83316C5.1725 5.2953 4.50354 5.92989 4.00071 6.68886C3.49788 7.44783 3.17436 8.31128 3.05465 9.2138C2.93495 10.1163 3.0222 11.0343 3.3098 11.8981C3.5974 12.7619 4.07781 13.5489 4.71463 14.1995C5.10094 14.5942 5.09414 15.2274 4.69945 15.6137C4.30476 16 3.67163 15.9932 3.28532 15.5985C2.43622 14.731 1.79568 13.6816 1.41221 12.5299C1.02875 11.3781 0.91241 10.1542 1.07201 8.95084C1.23162 7.74748 1.66298 6.59621 2.33343 5.58425C3.00387 4.57229 3.89581 3.72617 4.9417 3.10998C5.98758 2.4938 7.15998 2.1237 8.37008 2.02773C9.58018 1.93176 10.7963 2.11243 11.9262 2.55605C13.0561 2.99968 14.0703 3.69462 14.8919 4.58825C15.5423 5.29573 16.0585 6.11304 16.4177 7.00002H17.4999C18.6799 6.99991 19.8288 7.37933 20.7766 8.08222C21.7245 8.78515 22.4212 9.7743 22.7637 10.9036C23.1062 12.0328 23.0765 13.2423 22.6788 14.3534C22.2812 15.4644 21.5367 16.4181 20.5554 17.0736C20.0962 17.3803 19.4752 17.2567 19.1684 16.7975C18.8617 16.3382 18.9853 15.7172 19.4445 15.4105C20.069 14.9934 20.5427 14.3865 20.7958 13.6794C21.0488 12.9724 21.0678 12.2027 20.8498 11.4841C20.6318 10.7655 20.1885 10.136 19.5853 9.6887C18.9821 9.24138 18.251 8.99993 17.5001 9.00002H15.71C15.2679 9.00002 14.8783 8.70973 14.7518 8.28611C14.4913 7.41374 14.0357 6.61208 13.4195 5.94186C12.8034 5.27164 12.0427 4.75043 11.1953 4.41771Z",fill:"currentColor"}),K.jsx("path",{d:"M11 14.4142V21C11 21.5523 11.4477 22 12 22C12.5523 22 13 21.5523 13 21V14.4142L15.2929 16.7071C15.6834 17.0976 16.3166 17.0976 16.7071 16.7071C17.0976 16.3166 17.0976 15.6834 16.7071 15.2929L12.7078 11.2936C12.7054 11.2912 12.703 11.2888 12.7005 11.2864C12.5208 11.1099 12.2746 11.0008 12.003 11L12 11L11.997 11C11.8625 11.0004 11.7343 11.0273 11.6172 11.0759C11.502 11.1236 11.3938 11.1937 11.2995 11.2864C11.297 11.2888 11.2946 11.2912 11.2922 11.2936L7.29289 15.2929C6.90237 15.6834 6.90237 16.3166 7.29289 16.7071C7.68342 17.0976 8.31658 17.0976 8.70711 16.7071L11 14.4142Z",fill:"currentColor"})]}),fj=()=>K.jsx("svg",{width:"43",height:"57",viewBox:"0 0 43 57",fill:"currentColor",className:"tiptap-image-upload-dropzone-rect-primary",xmlns:"http://www.w3.org/2000/svg",children:K.jsx("path",{d:"M0.75 10.75C0.75 5.64137 4.89137 1.5 10 1.5H32.3431C33.2051 1.5 34.0317 1.84241 34.6412 2.4519L40.2981 8.10876C40.9076 8.71825 41.25 9.5449 41.25 10.4069V46.75C41.25 51.8586 37.1086 56 32 56H10C4.89137 56 0.75 51.8586 0.75 46.75V10.75Z",fill:"currentColor",fillOpacity:"0.11",stroke:"currentColor",strokeWidth:"1.5"})}),dj=()=>K.jsx("svg",{width:"10",height:"10",className:"tiptap-image-upload-dropzone-rect-secondary",viewBox:"0 0 10 10",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:K.jsx("path",{d:"M0 0.75H0.343146C1.40401 0.75 2.42143 1.17143 3.17157 1.92157L8.82843 7.57843C9.57857 8.32857 10 9.34599 10 10.4069V10.75H4C1.79086 10.75 0 8.95914 0 6.75V0.75Z",fill:"currentColor"})}),hj=({onFile:n,children:e})=>{const[t,r]=z.useState(!1),i=l=>{r(!1),l.preventDefault(),l.stopPropagation();const c=Array.from(l.dataTransfer.files);n(c)},s=l=>{l.preventDefault(),r(!0)},o=l=>{l.preventDefault(),r(!1)};return K.jsx("div",{className:`tiptap-image-upload-dragger ${t?"tiptap-image-upload-dragger-active":""}`,onDrop:i,onDragOver:s,onDragLeave:o,children:e})},pj=({file:n,progress:e,status:t,onRemove:r})=>{const i=s=>{if(s===0)return"0 Bytes";const o=1024,l=["Bytes","KB","MB","GB"],c=Math.floor(Math.log(s)/Math.log(o));return`${parseFloat((s/Math.pow(o,c)).toFixed(2))} ${l[c]}`};return K.jsxs("div",{className:"tiptap-image-upload-preview",children:[t==="uploading"&&K.jsx("div",{className:"tiptap-image-upload-progress",style:{width:`${e}%`}}),K.jsxs("div",{className:"tiptap-image-upload-preview-content",children:[K.jsxs("div",{className:"tiptap-image-upload-file-info",children:[K.jsx("div",{className:"tiptap-image-upload-file-icon",children:K.jsx(c3,{})}),K.jsxs("div",{className:"tiptap-image-upload-details",children:[K.jsx("span",{className:"tiptap-image-upload-text",children:n.name}),K.jsx("span",{className:"tiptap-image-upload-subtext",children:i(n.size)})]})]}),K.jsxs("div",{className:"tiptap-image-upload-actions",children:[t==="uploading"&&K.jsxs("span",{className:"tiptap-image-upload-progress-text",children:[e,"%"]}),K.jsx("button",{className:"tiptap-image-upload-close-btn",onClick:s=>{s.stopPropagation(),r()},children:K.jsx(u3,{})})]})]})]})},mj=({maxSize:n})=>K.jsxs(K.Fragment,{children:[K.jsxs("div",{className:"tiptap-image-upload-dropzone",children:[K.jsx(fj,{}),K.jsx(dj,{}),K.jsx("div",{className:"tiptap-image-upload-icon-container",children:K.jsx(c3,{})})]}),K.jsxs("div",{className:"tiptap-image-upload-content",children:[K.jsxs("span",{className:"tiptap-image-upload-text",children:[K.jsx("em",{children:"Click to upload"})," or drag and drop"]}),K.jsxs("span",{className:"tiptap-image-upload-subtext",children:["Maximum file size ",n/1024/1024,"MB."]})]})]}),gj=n=>{const{accept:e,limit:t,maxSize:r}=n.node.attrs,i=z.useRef(null),s=n.extension,o={maxSize:r,limit:t,accept:e,upload:s.options.upload,onSuccess:s.options.onSuccess,onError:s.options.onError},{fileItem:l,uploadFiles:c,clearFileItem:f}=cj(o),h=m=>{var v,E;const w=m.target.files;if(!w||w.length===0){(E=(v=s.options).onError)==null||E.call(v,new Error("No file selected"));return}p(Array.from(w))},p=async m=>{var v;const w=await c(m);if(w){const E=n.getPos(),b=((v=m[0])==null?void 0:v.name.replace(/\.[^/.]+$/,""))||"unknown";n.editor.chain().focus().deleteRange({from:E,to:E+1}).insertContentAt(E,[{type:"image",attrs:{src:w,alt:b,title:b}}]).run()}},g=()=>{i.current&&!l&&(i.current.value="",i.current.click())};return K.jsxs(MR,{className:"tiptap-image-upload",tabIndex:0,onClick:g,children:[!l&&K.jsx(hj,{onFile:p,children:K.jsx(mj,{maxSize:r})}),l&&K.jsx(pj,{file:l.file,progress:l.progress,status:l.status,onRemove:f}),K.jsx("input",{ref:i,name:"file",accept:e,type:"file",onChange:h,onClick:m=>m.stopPropagation()})]})},yj=Tn.create({name:"imageUpload",group:"block",draggable:!0,selectable:!0,atom:!0,addOptions(){return{accept:"image/*",limit:1,maxSize:0,upload:void 0,onError:void 0,onSuccess:void 0}},addAttributes(){return{accept:{default:this.options.accept},limit:{default:this.options.limit},maxSize:{default:this.options.maxSize}}},parseHTML(){return[{tag:'div[data-type="image-upload"]'}]},renderHTML({HTMLAttributes:n}){return["div",dt({"data-type":"image-upload"},n)]},addNodeView(){return BR(gj)},addCommands(){return{setImageUploadNode:(n={})=>({commands:e})=>e.insertContent({type:this.name,attrs:n})}},addKeyboardShortcuts(){return{Enter:({editor:n})=>{const{selection:e}=n.state,{nodeAfter:t}=e.$from;if(t&&t.type.name==="imageUpload"&&n.isActive("imageUpload")){const r=n.view.nodeDOM(e.$from.pos);if(r&&r instanceof HTMLElement){const i=r.firstChild;if(i&&i instanceof HTMLElement)return i.click(),!0}}return!1}}}});function qn(n){const{editor:e}=cd();return z.useMemo(()=>n||e,[n,e])}const Xl=z.memo(({className:n,...e})=>K.jsx("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:K.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.29289 8.29289C5.68342 7.90237 6.31658 7.90237 6.70711 8.29289L12 13.5858L17.2929 8.29289C17.6834 7.90237 18.3166 7.90237 18.7071 8.29289C19.0976 8.68342 19.0976 9.31658 18.7071 9.70711L12.7071 15.7071C12.3166 16.0976 11.6834 16.0976 11.2929 15.7071L5.29289 9.70711C4.90237 9.31658 4.90237 8.68342 5.29289 8.29289Z",fill:"currentColor"})}));Xl.displayName="ChevronDownIcon";const Kg=z.memo(({className:n,...e})=>K.jsx("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:K.jsx("path",{d:"M6 3C6.55228 3 7 3.44772 7 4V11H17V4C17 3.44772 17.4477 3 18 3C18.5523 3 19 3.44772 19 4V20C19 20.5523 18.5523 21 18 21C17.4477 21 17 20.5523 17 20V13H7V20C7 20.5523 6.55228 21 6 21C5.44772 21 5 20.5523 5 20V4C5 3.44772 5.44772 3 6 3Z",fill:"currentColor"})}));Kg.displayName="HeadingIcon";const qg=5*1024*1024,Od=(n,e)=>e!=null&&e.schema?e.schema.spec.marks.get(n)!==void 0:!1,Jl=(n,e)=>e!=null&&e.schema?e.schema.spec.nodes.get(n)!==void 0:!1;function wj(n){return!!n&&n.content.size===0}function vj(n){var c;const{editor:e,node:t,nodePos:r}=n;if(!e||!((c=e.state)!=null&&c.doc))return null;const i=t!=null,s=r!=null;if(!i&&!s)return null;if(s)try{const f=e.state.doc.nodeAt(r);if(f)return{pos:r,node:f}}catch(f){return console.error("Error checking node at position:",f),null}let o=-1,l=null;return e.state.doc.descendants((f,h)=>f===t?(o=h,l=f,!1):!0),o!==-1&&l!==null?{pos:o,node:l}:null}const bj=async(n,e,t)=>{if(!n)throw new Error("No file provided");if(n.size>qg)throw new Error(`File size exceeds maximum allowed (${qg/(1024*1024)}MB)`);for(let r=0;r<=100;r+=10){if(t!=null&&t.aborted)throw new Error("Upload cancelled");await new Promise(i=>setTimeout(i,500)),e==null||e({progress:r})}return"/images/placeholder-image.png"},f3=z.memo(({className:n,...e})=>K.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[K.jsx("path",{d:"M5 6C5 5.44772 4.55228 5 4 5C3.44772 5 3 5.44772 3 6V18C3 18.5523 3.44772 19 4 19C4.55228 19 5 18.5523 5 18V13H11V18C11 18.5523 11.4477 19 12 19C12.5523 19 13 18.5523 13 18V6C13 5.44772 12.5523 5 12 5C11.4477 5 11 5.44772 11 6V11H5V6Z",fill:"currentColor"}),K.jsx("path",{d:"M21.0001 10C21.0001 9.63121 20.7971 9.29235 20.472 9.11833C20.1468 8.94431 19.7523 8.96338 19.4454 9.16795L16.4454 11.168C15.9859 11.4743 15.8617 12.0952 16.1681 12.5547C16.4744 13.0142 17.0953 13.1384 17.5548 12.8321L19.0001 11.8685V18C19.0001 18.5523 19.4478 19 20.0001 19C20.5524 19 21.0001 18.5523 21.0001 18V10Z",fill:"currentColor"})]}));f3.displayName="HeadingOneIcon";const d3=z.memo(({className:n,...e})=>K.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[K.jsx("path",{d:"M5 6C5 5.44772 4.55228 5 4 5C3.44772 5 3 5.44772 3 6V18C3 18.5523 3.44772 19 4 19C4.55228 19 5 18.5523 5 18V13H11V18C11 18.5523 11.4477 19 12 19C12.5523 19 13 18.5523 13 18V6C13 5.44772 12.5523 5 12 5C11.4477 5 11 5.44772 11 6V11H5V6Z",fill:"currentColor"}),K.jsx("path",{d:"M22.0001 12C22.0001 10.7611 21.1663 9.79297 20.0663 9.42632C18.9547 9.05578 17.6171 9.28724 16.4001 10.2C15.9582 10.5314 15.8687 11.1582 16.2001 11.6C16.5314 12.0418 17.1582 12.1314 17.6001 11.8C18.383 11.2128 19.0455 11.1942 19.4338 11.3237C19.8339 11.457 20.0001 11.7389 20.0001 12C20.0001 12.4839 19.8554 12.7379 19.6537 12.9481C19.4275 13.1837 19.1378 13.363 18.7055 13.6307C18.6313 13.6767 18.553 13.7252 18.4701 13.777C17.9572 14.0975 17.3128 14.5261 16.8163 15.2087C16.3007 15.9177 16.0001 16.8183 16.0001 18C16.0001 18.5523 16.4478 19 17.0001 19H21.0001C21.5523 19 22.0001 18.5523 22.0001 18C22.0001 17.4477 21.5523 17 21.0001 17H18.131C18.21 16.742 18.3176 16.5448 18.4338 16.385C18.6873 16.0364 19.0429 15.7775 19.5301 15.473C19.5898 15.4357 19.6536 15.3966 19.7205 15.3556C20.139 15.0992 20.6783 14.7687 21.0964 14.3332C21.6447 13.7621 22.0001 13.0161 22.0001 12Z",fill:"currentColor"})]}));d3.displayName="HeadingTwoIcon";const h3=z.memo(({className:n,...e})=>K.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[K.jsx("path",{d:"M4 5C4.55228 5 5 5.44772 5 6V11H11V6C11 5.44772 11.4477 5 12 5C12.5523 5 13 5.44772 13 6V18C13 18.5523 12.5523 19 12 19C11.4477 19 11 18.5523 11 18V13H5V18C5 18.5523 4.55228 19 4 19C3.44772 19 3 18.5523 3 18V6C3 5.44772 3.44772 5 4 5Z",fill:"currentColor"}),K.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.4608 11.2169C19.1135 11.0531 18.5876 11.0204 18.0069 11.3619C17.5309 11.642 16.918 11.4831 16.638 11.007C16.358 10.531 16.5169 9.91809 16.9929 9.63807C18.1123 8.97962 19.3364 8.94691 20.314 9.40808C21.2839 9.86558 21.9999 10.818 21.9999 12C21.9999 12.7957 21.6838 13.5587 21.1212 14.1213C20.5586 14.6839 19.7956 15 18.9999 15C18.4476 15 17.9999 14.5523 17.9999 14C17.9999 13.4477 18.4476 13 18.9999 13C19.2651 13 19.5195 12.8947 19.707 12.7071C19.8946 12.5196 19.9999 12.2652 19.9999 12C19.9999 11.6821 19.8159 11.3844 19.4608 11.2169Z",fill:"currentColor"}),K.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.0001 14C18.0001 13.4477 18.4478 13 19.0001 13C19.7957 13 20.5588 13.3161 21.1214 13.8787C21.684 14.4413 22.0001 15.2043 22.0001 16C22.0001 17.2853 21.2767 18.3971 20.1604 18.8994C19.0257 19.41 17.642 19.2315 16.4001 18.3C15.9582 17.9686 15.8687 17.3418 16.2001 16.9C16.5314 16.4582 17.1582 16.3686 17.6001 16.7C18.3581 17.2685 18.9744 17.24 19.3397 17.0756C19.7234 16.9029 20.0001 16.5147 20.0001 16C20.0001 15.7348 19.8947 15.4804 19.7072 15.2929C19.5196 15.1054 19.2653 15 19.0001 15C18.4478 15 18.0001 14.5523 18.0001 14Z",fill:"currentColor"})]}));h3.displayName="HeadingThreeIcon";const p3=z.memo(({className:n,...e})=>K.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[K.jsx("path",{d:"M4 5C4.55228 5 5 5.44772 5 6V11H11V6C11 5.44772 11.4477 5 12 5C12.5523 5 13 5.44772 13 6V18C13 18.5523 12.5523 19 12 19C11.4477 19 11 18.5523 11 18V13H5V18C5 18.5523 4.55228 19 4 19C3.44772 19 3 18.5523 3 18V6C3 5.44772 3.44772 5 4 5Z",fill:"currentColor"}),K.jsx("path",{d:"M17 9C17.5523 9 18 9.44772 18 10V13H20V10C20 9.44772 20.4477 9 21 9C21.5523 9 22 9.44772 22 10V18C22 18.5523 21.5523 19 21 19C20.4477 19 20 18.5523 20 18V15H17C16.4477 15 16 14.5523 16 14V10C16 9.44772 16.4477 9 17 9Z",fill:"currentColor"})]}));p3.displayName="HeadingFourIcon";const m3=z.memo(({className:n,...e})=>K.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[K.jsx("path",{d:"M5 6C5 5.44772 4.55228 5 4 5C3.44772 5 3 5.44772 3 6V18C3 18.5523 3.44772 19 4 19C4.55228 19 5 18.5523 5 18V13H11V18C11 18.5523 11.4477 19 12 19C12.5523 19 13 18.5523 13 18V6C13 5.44772 12.5523 5 12 5C11.4477 5 11 5.44772 11 6V11H5V6Z",fill:"currentColor"}),K.jsx("path",{d:"M16 10C16 9.44772 16.4477 9 17 9H21C21.5523 9 22 9.44772 22 10C22 10.5523 21.5523 11 21 11H18V12H18.3C20.2754 12 22 13.4739 22 15.5C22 17.5261 20.2754 19 18.3 19C17.6457 19 17.0925 18.8643 16.5528 18.5944C16.0588 18.3474 15.8586 17.7468 16.1055 17.2528C16.3525 16.7588 16.9532 16.5586 17.4472 16.8056C17.7074 16.9357 17.9542 17 18.3 17C19.3246 17 20 16.2739 20 15.5C20 14.7261 19.3246 14 18.3 14H17C16.4477 14 16 13.5523 16 13L16 12.9928V10Z",fill:"currentColor"})]}));m3.displayName="HeadingFiveIcon";const g3=z.memo(({className:n,...e})=>K.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[K.jsx("path",{d:"M5 6C5 5.44772 4.55228 5 4 5C3.44772 5 3 5.44772 3 6V18C3 18.5523 3.44772 19 4 19C4.55228 19 5 18.5523 5 18V13H11V18C11 18.5523 11.4477 19 12 19C12.5523 19 13 18.5523 13 18V6C13 5.44772 12.5523 5 12 5C11.4477 5 11 5.44772 11 6V11H5V6Z",fill:"currentColor"}),K.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.7071 9.29289C21.0976 9.68342 21.0976 10.3166 20.7071 10.7071C19.8392 11.575 19.2179 12.2949 18.7889 13.0073C18.8587 13.0025 18.929 13 19 13C20.6569 13 22 14.3431 22 16C22 17.6569 20.6569 19 19 19C17.3431 19 16 17.6569 16 16C16 14.6007 16.2837 13.4368 16.8676 12.3419C17.4384 11.2717 18.2728 10.3129 19.2929 9.29289C19.6834 8.90237 20.3166 8.90237 20.7071 9.29289ZM19 17C18.4477 17 18 16.5523 18 16C18 15.4477 18.4477 15 19 15C19.5523 15 20 15.4477 20 16C20 16.5523 19.5523 17 19 17Z",fill:"currentColor"})]}));g3.displayName="HeadingSixIcon";const y3={1:f3,2:d3,3:h3,4:p3,5:m3,6:g3},xj={1:"Ctrl-Alt-1",2:"Ctrl-Alt-2",3:"Ctrl-Alt-3",4:"Ctrl-Alt-4",5:"Ctrl-Alt-5",6:"Ctrl-Alt-6"};function Ej(n,e){if(!n)return!1;try{return n.can().toggleNode("heading","paragraph",{level:e})}catch{return!1}}function Cj(n,e){return n?n.isActive("heading",{level:e}):!1}function Sj(n,e){n&&(n.isActive("heading",{level:e})?n.chain().focus().setNode("paragraph").run():n.chain().focus().toggleNode("heading","paragraph",{level:e}).run())}function kj(n,e,t=!1){return!!(!n||t||!Ej(n,e))}function Tj(n){const{editor:e,hideWhenUnavailable:t,headingInSchema:r}=n;return!(!r||!e||t&&br(e.state.selection))}function w3(n){return`Ttulo ${n}`}function Aj(n,e,t=!1){const r=Jl("heading",n),i=kj(n,e,t),s=Cj(n,e),o=y3[e],l=xj[e],c=w3(e);return{headingInSchema:r,isDisabled:i,isActive:s,Icon:o,shortcutKey:l,formattedName:c}}const v3=z.forwardRef(({editor:n,level:e,text:t,hideWhenUnavailable:r=!1,className:i="",disabled:s,onClick:o,children:l,...c},f)=>{const h=qn(n),{headingInSchema:p,isDisabled:g,isActive:m,Icon:w,shortcutKey:v,formattedName:E}=Aj(h,e,s),b=z.useCallback(A=>{o==null||o(A),!A.defaultPrevented&&!g&&h&&Sj(h,e)},[o,g,h,e]);return!z.useMemo(()=>Tj({editor:h,level:e,hideWhenUnavailable:r,headingInSchema:p}),[h,e,r,p])||!h||!h.isEditable?null:K.jsx(Ot,{type:"button",className:i.trim(),disabled:g,"data-style":"ghost","data-active-state":m?"on":"off","data-disabled":g,role:"button",tabIndex:-1,"aria-label":E,"aria-pressed":m,tooltip:E,shortcutKeys:v,onClick:b,...c,ref:f,children:l||K.jsxs(K.Fragment,{children:[K.jsx(w,{className:"tiptap-button-icon"}),t&&K.jsx("span",{className:"tiptap-button-text",children:t})]})})});v3.displayName="HeadingButton";const b3=z.createContext(null);function d0(){const n=z.useContext(b3);if(!n)throw new Error("DropdownMenu components must be wrapped in <DropdownMenu />");return n}function Rj({initialOpen:n=!1,open:e,onOpenChange:t,side:r="bottom",align:i="start"}){const[s,o]=z.useState(n),[l,c]=z.useState(`${r}-${i}`),[f,h]=z.useState(null),p=e??s,g=t??o,m=z.useRef([]),w=z.useRef([]),v=a0({open:p,onOpenChange:g,placement:l,middleware:[t0({mainAxis:4}),r0(),n0({padding:4})],whileElementsMounted:e0}),{context:E}=v,b=l0([r3(E,{event:"mousedown",toggle:!0,ignoreMouse:!1}),u0(E,{role:"menu"}),o0(E,{outsidePress:!0,outsidePressEvent:"mousedown"}),YB(E,{listRef:m,activeIndex:f,onNavigate:h,loop:!0}),ej(E,{listRef:w,onMatch:p?h:void 0,activeIndex:f})]),T=z.useCallback((A,k)=>{c(`${A}-${k}`)},[]);return z.useMemo(()=>({open:p,setOpen:g,activeIndex:f,setActiveIndex:h,elementsRef:m,labelsRef:w,updatePosition:T,...b,...v}),[p,g,f,b,v,T])}function Id({children:n,...e}){const t=Rj(e);return K.jsx(b3.Provider,{value:t,children:K.jsx(SB,{elementsRef:t.elementsRef,labelsRef:t.labelsRef,children:n})})}const Yl=z.forwardRef(({children:n,asChild:e=!1,...t},r)=>{const i=d0(),s=z.isValidElement(n)?parseInt(z.version,10)>=19?n.props.ref:n.ref:void 0,o=ao([i.refs.setReference,r,s]);if(e&&z.isValidElement(n)){const l={"data-state":i.open?"open":"closed"};return z.cloneElement(n,i.getReferenceProps({ref:o,...t,...typeof n.props=="object"?n.props:{},"aria-expanded":i.open,"aria-haspopup":"menu",...l}))}return K.jsx("button",{ref:o,"aria-expanded":i.open,"aria-haspopup":"menu","data-state":i.open?"open":"closed",...i.getReferenceProps(t),children:n})});Yl.displayName="DropdownMenuTrigger";const Ql=z.forwardRef(({style:n,className:e,orientation:t="vertical",side:r="bottom",align:i="start",portal:s=!0,portalProps:o={},...l},c)=>{const f=d0(),h=ao([f.refs.setFloating,c]);if(z.useEffect(()=>{f.updatePosition(r,i)},[f,r,i]),!f.open)return null;const p=K.jsx(n3,{context:f.context,modal:!1,initialFocus:0,returnFocus:!0,children:K.jsx("div",{ref:h,className:`tiptap-dropdown-menu ${e||""}`,style:{position:f.strategy,top:f.y??0,left:f.x??0,outline:"none",...n},"aria-orientation":t,"data-orientation":t,"data-state":f.open?"open":"closed","data-side":r,"data-align":i,...f.getFloatingProps(l),children:l.children})});return s?K.jsx(s0,{...o,children:p}):p});Ql.displayName="DropdownMenuContent";const eu=z.forwardRef(({children:n,disabled:e,asChild:t=!1,onSelect:r,className:i,...s},o)=>{const l=d0(),c=kB({label:e?null:n==null?void 0:n.toString()}),f=l.activeIndex===c.index,h=z.useCallback(g=>{var m;e||(r==null||r(),(m=s.onClick)==null||m.call(s,g),l.setOpen(!1))},[l,e,r,s]),p={ref:ao([c.ref,o]),role:"menuitem",className:i,tabIndex:f?0:-1,"data-highlighted":f,"aria-disabled":e,...l.getItemProps({...s,onClick:h})};if(t&&z.isValidElement(n)){const g=n.props,m={...p,...typeof n.props=="object"?n.props:{}},w={onClick:v=>{var E;h(v),(E=g.onClick)==null||E.call(g,v)}};return z.cloneElement(n,{...m,...w})}return K.jsx("div",{...p,children:n})});eu.displayName="DropdownMenuItem";const h0=z.forwardRef(({children:n,label:e,className:t,...r},i)=>K.jsx("div",{...r,ref:i,role:"group","aria-label":e,className:`tiptap-button-group ${t||""}`,children:n}));h0.displayName="DropdownMenuGroup";const _j=z.forwardRef(({className:n,...e},t)=>K.jsx(pa,{ref:t,className:`tiptap-dropdown-menu-separator ${n||""}`,...e}));_j.displayName=pa.displayName;function Nj({editor:n,levels:e=[1,2,3,4,5,6],hideWhenUnavailable:t=!1,onOpenChange:r,...i}){const[s,o]=z.useState(!1),l=qn(n),c=Jl("heading",l),f=z.useCallback(v=>{o(v),r==null||r(v)},[r]),h=z.useCallback(()=>{if(!l)return K.jsx(Kg,{className:"tiptap-button-icon"});const v=e.find(b=>l.isActive("heading",{level:b}));if(!v)return K.jsx(Kg,{className:"tiptap-button-icon"});const E=y3[v];return K.jsx(E,{className:"tiptap-button-icon"})},[l,e]),p=z.useCallback(()=>l?e.some(v=>l.can().toggleNode("heading","paragraph",{level:v})):!1,[l,e]),g=!p(),m=(l==null?void 0:l.isActive("heading"))??!1;return!z.useMemo(()=>!(!c||!l||t&&(br(l.state.selection)||!p())),[c,l,t,p])||!l||!l.isEditable?null:K.jsxs(Id,{open:s,onOpenChange:f,children:[K.jsx(Yl,{asChild:!0,children:K.jsxs(Ot,{type:"button",disabled:g,"data-style":"ghost","data-active-state":m?"on":"off","data-disabled":g,role:"button",tabIndex:-1,"aria-label":"Format text as heading","aria-pressed":m,tooltip:"Heading",...i,children:[h(),K.jsx(Xl,{className:"tiptap-button-dropdown-small"})]})}),K.jsx(Ql,{children:K.jsx(h0,{children:e.map(v=>K.jsx(eu,{asChild:!0,children:K.jsx(v3,{editor:l,level:v,text:w3(v),tooltip:""})},`heading-${v}`))})})]})}const Md=z.memo(({className:n,...e})=>K.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[K.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 6C7 5.44772 7.44772 5 8 5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H8C7.44772 7 7 6.55228 7 6Z",fill:"currentColor"}),K.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 12C7 11.4477 7.44772 11 8 11H21C21.5523 11 22 11.4477 22 12C22 12.5523 21.5523 13 21 13H8C7.44772 13 7 12.5523 7 12Z",fill:"currentColor"}),K.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 18C7 17.4477 7.44772 17 8 17H21C21.5523 17 22 17.4477 22 18C22 18.5523 21.5523 19 21 19H8C7.44772 19 7 18.5523 7 18Z",fill:"currentColor"}),K.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6C2 5.44772 2.44772 5 3 5H3.01C3.56228 5 4.01 5.44772 4.01 6C4.01 6.55228 3.56228 7 3.01 7H3C2.44772 7 2 6.55228 2 6Z",fill:"currentColor"}),K.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 12C2 11.4477 2.44772 11 3 11H3.01C3.56228 11 4.01 11.4477 4.01 12C4.01 12.5523 3.56228 13 3.01 13H3C2.44772 13 2 12.5523 2 12Z",fill:"currentColor"}),K.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 18C2 17.4477 2.44772 17 3 17H3.01C3.56228 17 4.01 17.4477 4.01 18C4.01 18.5523 3.56228 19 3.01 19H3C2.44772 19 2 18.5523 2 18Z",fill:"currentColor"})]}));Md.displayName="ListIcon";const x3=z.memo(({className:n,...e})=>K.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[K.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 6C9 5.44772 9.44772 5 10 5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H10C9.44772 7 9 6.55228 9 6Z",fill:"currentColor"}),K.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 12C9 11.4477 9.44772 11 10 11H21C21.5523 11 22 11.4477 22 12C22 12.5523 21.5523 13 21 13H10C9.44772 13 9 12.5523 9 12Z",fill:"currentColor"}),K.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 18C9 17.4477 9.44772 17 10 17H21C21.5523 17 22 17.4477 22 18C22 18.5523 21.5523 19 21 19H10C9.44772 19 9 18.5523 9 18Z",fill:"currentColor"}),K.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 6C3 5.44772 3.44772 5 4 5H5C5.55228 5 6 5.44772 6 6V10C6 10.5523 5.55228 11 5 11C4.44772 11 4 10.5523 4 10V7C3.44772 7 3 6.55228 3 6Z",fill:"currentColor"}),K.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 10C3 9.44772 3.44772 9 4 9H6C6.55228 9 7 9.44772 7 10C7 10.5523 6.55228 11 6 11H4C3.44772 11 3 10.5523 3 10Z",fill:"currentColor"}),K.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.82219 13.0431C6.54543 13.4047 6.99997 14.1319 6.99997 15C6.99997 15.5763 6.71806 16.0426 6.48747 16.35C6.31395 16.5814 6.1052 16.8044 5.91309 17H5.99997C6.55226 17 6.99997 17.4477 6.99997 18C6.99997 18.5523 6.55226 19 5.99997 19H3.99997C3.44769 19 2.99997 18.5523 2.99997 18C2.99997 17.4237 3.28189 16.9575 3.51247 16.65C3.74323 16.3424 4.03626 16.0494 4.26965 15.8161C4.27745 15.8083 4.2852 15.8006 4.29287 15.7929C4.55594 15.5298 4.75095 15.3321 4.88748 15.15C4.96287 15.0495 4.99021 14.9922 4.99911 14.9714C4.99535 14.9112 4.9803 14.882 4.9739 14.8715C4.96613 14.8588 4.95382 14.845 4.92776 14.8319C4.87723 14.8067 4.71156 14.7623 4.44719 14.8944C3.95321 15.1414 3.35254 14.9412 3.10555 14.4472C2.85856 13.9533 3.05878 13.3526 3.55276 13.1056C4.28839 12.7378 5.12272 12.6934 5.82219 13.0431Z",fill:"currentColor"})]}));x3.displayName="ListOrderedIcon";const E3=z.memo(({className:n,...e})=>K.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[K.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6C2 4.89543 2.89543 4 4 4H8C9.10457 4 10 4.89543 10 6V10C10 11.1046 9.10457 12 8 12H4C2.89543 12 2 11.1046 2 10V6ZM8 6H4V10H8V6Z",fill:"currentColor"}),K.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.70711 14.2929C10.0976 14.6834 10.0976 15.3166 9.70711 15.7071L5.70711 19.7071C5.31658 20.0976 4.68342 20.0976 4.29289 19.7071L2.29289 17.7071C1.90237 17.3166 1.90237 16.6834 2.29289 16.2929C2.68342 15.9024 3.31658 15.9024 3.70711 16.2929L5 17.5858L8.29289 14.2929C8.68342 13.9024 9.31658 13.9024 9.70711 14.2929Z",fill:"currentColor"}),K.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 6C12 5.44772 12.4477 5 13 5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H13C12.4477 7 12 6.55228 12 6Z",fill:"currentColor"}),K.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 12C12 11.4477 12.4477 11 13 11H21C21.5523 11 22 11.4477 22 12C22 12.5523 21.5523 13 21 13H13C12.4477 13 12 12.5523 12 12Z",fill:"currentColor"}),K.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 18C12 17.4477 12.4477 17 13 17H21C21.5523 17 22 17.4477 22 18C22 18.5523 21.5523 19 21 19H13C12.4477 19 12 18.5523 12 18Z",fill:"currentColor"})]}));E3.displayName="ListTodoIcon";const C3=[{label:"Marcadores",type:"bulletList",icon:Md},{label:"Nmeros",type:"orderedList",icon:x3},{label:"Tarefas",type:"taskList",icon:E3}],Oj={bulletList:"Ctrl-Shift-8",orderedList:"Ctrl-Shift-7",taskList:"Ctrl-Shift-9"};function S3(n,e){if(!n)return!1;switch(e){case"bulletList":return n.can().toggleBulletList();case"orderedList":return n.can().toggleOrderedList();case"taskList":return n.can().toggleList("taskList","taskItem");default:return!1}}function p0(n,e){if(!n)return!1;switch(e){case"bulletList":return n.isActive("bulletList");case"orderedList":return n.isActive("orderedList");case"taskList":return n.isActive("taskList");default:return!1}}function Ij(n,e){if(n)switch(e){case"bulletList":n.chain().focus().toggleBulletList().run();break;case"orderedList":n.chain().focus().toggleOrderedList().run();break;case"taskList":n.chain().focus().toggleList("taskList","taskItem").run();break}}function Mj(n){return C3.find(e=>e.type===n)}function Dj(n){const{editor:e,type:t,hideWhenUnavailable:r,listInSchema:i}=n;return!(!i||!e||r&&(br(e.state.selection)||!S3(e,t)))}function Lj(n,e){const t=Jl(e,n),r=Mj(e),i=p0(n,e),s=Oj[e];return{listInSchema:t,listOption:r,isActive:i,shortcutKey:s}}const k3=z.forwardRef(({editor:n,type:e,hideWhenUnavailable:t=!1,className:r="",onClick:i,text:s,children:o,...l},c)=>{const f=qn(n),{listInSchema:h,listOption:p,isActive:g,shortcutKey:m}=Lj(f,e),w=(p==null?void 0:p.icon)||Md,v=z.useCallback(b=>{i==null||i(b),!b.defaultPrevented&&f&&Ij(f,e)},[i,f,e]);return!z.useMemo(()=>Dj({editor:f,type:e,hideWhenUnavailable:t,listInSchema:h}),[f,e,t,h])||!f||!f.isEditable?null:K.jsx(Ot,{type:"button",className:r.trim(),"data-style":"ghost","data-active-state":g?"on":"off",role:"button",tabIndex:-1,"aria-label":(p==null?void 0:p.label)||e,"aria-pressed":g,tooltip:(p==null?void 0:p.label)||e,shortcutKeys:m,onClick:v,...l,ref:c,children:o||K.jsxs(K.Fragment,{children:[K.jsx(w,{className:"tiptap-button-icon"}),s&&K.jsx("span",{className:"tiptap-button-text",children:s})]})})});k3.displayName="ListButton";function Pj(n,e){return n?e.some(t=>S3(n,t)):!1}function Fj(n,e){return n?e.some(t=>p0(n,t)):!1}function Bj(n){return C3.filter(e=>!e.type||n.includes(e.type))}function jj(n){const{editor:e,hideWhenUnavailable:t,listInSchema:r,canToggleAny:i}=n;return!(!r||!e||t&&(br(e.state.selection)||!i))}function zj(n,e){const[t,r]=z.useState(!1),i=e.some(f=>Jl(f,n)),s=z.useMemo(()=>Bj(e),[e]),o=Pj(n,e),l=Fj(n,e),c=z.useCallback((f,h)=>{r(f),h==null||h(f)},[]);return{isOpen:t,setIsOpen:r,listInSchema:i,filteredLists:s,canToggleAny:o,isAnyActive:l,handleOpenChange:c}}function Hj(n,e){return z.useCallback(()=>{const t=e.find(r=>p0(n,r.type));return t?K.jsx(t.icon,{className:"tiptap-button-icon"}):K.jsx(Md,{className:"tiptap-button-icon"})},[n,e])}function Uj({editor:n,types:e=["bulletList","orderedList","taskList"],hideWhenUnavailable:t=!1,onOpenChange:r,...i}){const s=qn(n),{isOpen:o,listInSchema:l,filteredLists:c,canToggleAny:f,isAnyActive:h,handleOpenChange:p}=zj(s,e),g=Hj(s,c),m=z.useMemo(()=>jj({editor:s,listTypes:e,hideWhenUnavailable:t,listInSchema:l,canToggleAny:f}),[s,e,t,l,f]),w=z.useCallback(v=>p(v,r),[p,r]);return!m||!s||!s.isEditable?null:K.jsxs(Id,{open:o,onOpenChange:w,children:[K.jsx(Yl,{asChild:!0,children:K.jsxs(Ot,{type:"button","data-style":"ghost","data-active-state":h?"on":"off",role:"button",tabIndex:-1,"aria-label":"List options",tooltip:"List",...i,children:[g(),K.jsx(Xl,{className:"tiptap-button-dropdown-small"})]})}),K.jsx(Ql,{children:K.jsx(h0,{children:c.map(v=>K.jsx(eu,{asChild:!0,children:K.jsx(k3,{editor:s,type:v.type,text:v.label,hideWhenUnavailable:t,tooltip:""})},v.type))})})]})}const T3=z.memo(({className:n,...e})=>K.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[K.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 6C8 5.44772 8.44772 5 9 5H16C16.5523 5 17 5.44772 17 6C17 6.55228 16.5523 7 16 7H9C8.44772 7 8 6.55228 8 6Z",fill:"currentColor"}),K.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 3C4.55228 3 5 3.44772 5 4L5 20C5 20.5523 4.55229 21 4 21C3.44772 21 3 20.5523 3 20L3 4C3 3.44772 3.44772 3 4 3Z",fill:"currentColor"}),K.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 12C8 11.4477 8.44772 11 9 11H20C20.5523 11 21 11.4477 21 12C21 12.5523 20.5523 13 20 13H9C8.44772 13 8 12.5523 8 12Z",fill:"currentColor"}),K.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 18C8 17.4477 8.44772 17 9 17H16C16.5523 17 17 17.4477 17 18C17 18.5523 16.5523 19 16 19H9C8.44772 19 8 18.5523 8 18Z",fill:"currentColor"})]}));T3.displayName="BlockQuoteIcon";function Vj(n){if(!n)return!1;try{return n.can().toggleWrap("blockquote")}catch{return!1}}function Wj(n){return n?n.isActive("blockquote"):!1}function $j(n){return n?n.chain().focus().toggleWrap("blockquote").run():!1}function Kj(n,e,t=!1){return!!(!n||t||!e)}function qj(n){const{editor:e,hideWhenUnavailable:t,nodeInSchema:r,canToggle:i}=n;return!r||!e||t&&(br(e.state.selection)||!i)?!1:!!(e!=null&&e.isEditable)}function Gj(n,e=!1,t=!1){const r=Jl("blockquote",n),i=Vj(n),s=Kj(n,i,e),o=Wj(n),l=z.useMemo(()=>qj({editor:n,hideWhenUnavailable:t,nodeInSchema:r,canToggle:i}),[n,t,r,i]),c=z.useCallback(()=>!s&&n?$j(n):!1,[n,s]);return{nodeInSchema:r,canToggle:i,isDisabled:s,isActive:o,shouldShow:l,handleToggle:c,shortcutKey:"Ctrl-Shift-b",label:"Citao"}}const A3=z.forwardRef(({editor:n,text:e,hideWhenUnavailable:t=!1,className:r="",disabled:i,onClick:s,children:o,...l},c)=>{const f=qn(n),{isDisabled:h,isActive:p,shouldShow:g,handleToggle:m,shortcutKey:w,label:v}=Gj(f,i,t),E=z.useCallback(b=>{s==null||s(b),!b.defaultPrevented&&!h&&m()},[s,h,m]);return!g||!f||!f.isEditable?null:K.jsx(Ot,{type:"button",className:r.trim(),disabled:h,"data-style":"ghost","data-active-state":p?"on":"off","data-disabled":h,role:"button",tabIndex:-1,"aria-label":"blockquote","aria-pressed":p,tooltip:v,shortcutKeys:w,onClick:E,...l,ref:c,children:o||K.jsxs(K.Fragment,{children:[K.jsx(T3,{className:"tiptap-button-icon"}),e&&K.jsx("span",{className:"tiptap-button-text",children:e})]})})});A3.displayName="BlockQuoteButton";function Zj({editor:n,containerRef:e,query:t,items:r,onSelect:i,onClose:s,orientation:o="vertical",autoSelectFirstItem:l=!0}){const[c,f]=z.useState(l?0:-1);return z.useEffect(()=>{const h=g=>{if(!r.length)return!1;const m=()=>f(v=>v===-1?0:(v+1)%r.length),w=()=>f(v=>v===-1?r.length-1:(v-1+r.length)%r.length);switch(g.key){case"ArrowUp":return o==="horizontal"?!1:(g.preventDefault(),w(),!0);case"ArrowDown":return o==="horizontal"?!1:(g.preventDefault(),m(),!0);case"ArrowLeft":return o==="vertical"?!1:(g.preventDefault(),w(),!0);case"ArrowRight":return o==="vertical"?!1:(g.preventDefault(),m(),!0);case"Tab":return g.preventDefault(),g.shiftKey?w():m(),!0;case"Home":return g.preventDefault(),f(0),!0;case"End":return g.preventDefault(),f(r.length-1),!0;case"Enter":return g.isComposing?!1:(g.preventDefault(),c!==-1&&r[c]&&(i==null||i(r[c])),!0);case"Escape":return g.preventDefault(),s==null||s(),!0;default:return!1}};let p=null;if(n?p=n.view.dom:e!=null&&e.current&&(p=e.current),p)return p.addEventListener("keydown",h,!0),()=>{p==null||p.removeEventListener("keydown",h,!0)}},[n,e,r,c,i,s,o]),z.useEffect(()=>{t&&f(l?0:-1)},[t,l]),{selectedIndex:r.length?c:void 0,setSelectedIndex:f}}const R3=z.memo(({className:n,...e})=>K.jsx("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:K.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.43471 4.01458C4.34773 4.06032 4.26607 4.11977 4.19292 4.19292C4.11977 4.26607 4.06032 4.34773 4.01458 4.43471C2.14611 6.40628 1 9.0693 1 12C1 18.0751 5.92487 23 12 23C14.9306 23 17.5936 21.854 19.5651 19.9856C19.6522 19.9398 19.7339 19.8803 19.8071 19.8071C19.8803 19.7339 19.9398 19.6522 19.9856 19.5651C21.854 17.5936 23 14.9306 23 12C23 5.92487 18.0751 1 12 1C9.0693 1 6.40628 2.14611 4.43471 4.01458ZM6.38231 4.9681C7.92199 3.73647 9.87499 3 12 3C16.9706 3 21 7.02944 21 12C21 14.125 20.2635 16.078 19.0319 17.6177L6.38231 4.9681ZM17.6177 19.0319C16.078 20.2635 14.125 21 12 21C7.02944 21 3 16.9706 3 12C3 9.87499 3.73647 7.92199 4.9681 6.38231L17.6177 19.0319Z",fill:"currentColor"})}));R3.displayName="BanIcon";const m0=z.memo(({className:n,...e})=>K.jsx("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:K.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.7072 4.70711C15.0977 4.31658 15.0977 3.68342 14.7072 3.29289C14.3167 2.90237 13.6835 2.90237 13.293 3.29289L8.69294 7.89286L8.68594 7.9C8.13626 8.46079 7.82837 9.21474 7.82837 10C7.82837 10.2306 7.85491 10.4584 7.90631 10.6795L2.29289 16.2929C2.10536 16.4804 2 16.7348 2 17V20C2 20.5523 2.44772 21 3 21H12C12.2652 21 12.5196 20.8946 12.7071 20.7071L15.3205 18.0937C15.5416 18.1452 15.7695 18.1717 16.0001 18.1717C16.7853 18.1717 17.5393 17.8639 18.1001 17.3142L22.7072 12.7071C23.0977 12.3166 23.0977 11.6834 22.7072 11.2929C22.3167 10.9024 21.6835 10.9024 21.293 11.2929L16.6971 15.8887C16.5105 16.0702 16.2605 16.1717 16.0001 16.1717C15.7397 16.1717 15.4897 16.0702 15.303 15.8887L10.1113 10.697C9.92992 10.5104 9.82837 10.2604 9.82837 10C9.82837 9.73963 9.92992 9.48958 10.1113 9.30297L14.7072 4.70711ZM13.5858 17L9.00004 12.4142L4 17.4142V19H11.5858L13.5858 17Z",fill:"currentColor"})}));m0.displayName="HighlighterIcon";const _3=z.createContext(null);function N3(){const n=z.useContext(_3);if(!n)throw new Error("Popover components must be wrapped in <Popover />");return n}function Xj({initialOpen:n=!1,modal:e,open:t,onOpenChange:r,side:i="bottom",align:s="center",sideOffset:o=4,alignOffset:l=0}={}){const[c,f]=z.useState(n),[h,p]=z.useState(),[g,m]=z.useState(),[w,v]=z.useState(`${i}-${s}`),[E,b]=z.useState({sideOffset:o,alignOffset:l}),T=t??c,A=r??f,k=z.useMemo(()=>[t0({mainAxis:E.sideOffset,crossAxis:E.alignOffset}),r0({fallbackAxisSideDirection:"end",crossAxis:!1}),n0({limiter:EB({offset:E.sideOffset})})],[E.sideOffset,E.alignOffset]),I=a0({placement:w,open:T,onOpenChange:A,whileElementsMounted:e0,middleware:k}),j=l0([r3(I.context),o0(I.context),u0(I.context)]),W=z.useCallback((ee,F,se,be)=>{v(`${ee}-${F}`),(se!==void 0||be!==void 0)&&b({sideOffset:se??E.sideOffset,alignOffset:be??E.alignOffset})},[E.sideOffset,E.alignOffset]);return z.useMemo(()=>({open:T,setOpen:A,...j,...I,modal:e,labelId:h,descriptionId:g,setLabelId:p,setDescriptionId:m,updatePosition:W}),[T,A,j,I,e,h,g,W])}function O3({children:n,modal:e=!1,...t}){const r=Xj({modal:e,...t});return K.jsx(_3.Provider,{value:r,children:n})}const g0=z.forwardRef(function({children:e,asChild:t=!1,...r},i){const s=N3(),o=z.isValidElement(e)?parseInt(z.version,10)>=19?e.props.ref:e.ref:void 0,l=ao([s.refs.setReference,i,o]);return t&&z.isValidElement(e)?z.cloneElement(e,s.getReferenceProps({ref:l,...r,...e.props,"data-state":s.open?"open":"closed"})):K.jsx("button",{ref:l,"data-state":s.open?"open":"closed",...s.getReferenceProps(r),children:e})}),y0=z.forwardRef(function({className:e,side:t="bottom",align:r="center",sideOffset:i,alignOffset:s,style:o,portal:l=!0,portalProps:c={},asChild:f=!1,children:h,...p},g){const m=N3(),w=z.isValidElement(h)?parseInt(z.version,10)>=19?h.props.ref:h.ref:void 0,v=ao([m.refs.setFloating,g,w]);if(z.useEffect(()=>{m.updatePosition(t,r,i,s)},[m,t,r,i,s]),!m.context.open)return null;const E={ref:v,style:{position:m.strategy,top:m.y??0,left:m.x??0,...o},"aria-labelledby":m.labelId,"aria-describedby":m.descriptionId,className:`tiptap-popover ${e||""}`,"data-side":t,"data-align":r,"data-state":m.context.open?"open":"closed",...m.getFloatingProps(p)},b=f&&z.isValidElement(h)?z.cloneElement(h,{...E,...h.props}):K.jsx("div",{...E,children:h}),T=K.jsx(n3,{context:m.context,modal:m.modal,children:b});return l?K.jsx(s0,{...c,children:T}):T});g0.displayName="PopoverTrigger";y0.displayName="PopoverContent";function w0(n){if(!n)return!1;try{return n.can().setMark("highlight")}catch{return!1}}function Jj(n,e){return n?n.isActive("highlight",{color:e}):!1}function Yj(n,e,t,r){if(n)try{const i=n.chain().focus();if(wj(t))i.toggleMark("highlight",{color:e}).run();else if(r!=null&&r!==-1)i.setNodeSelection(r).toggleMark("highlight",{color:e}).run();else if(t){const s=vj({editor:n,node:t});s?i.setNodeSelection(s.pos).toggleMark("highlight",{color:e}).run():i.toggleMark("highlight",{color:e}).run()}else i.toggleMark("highlight",{color:e}).run();n.chain().setMeta("hideDragHandle",!0).run()}catch(i){console.error("Failed to apply highlight:",i)}}function Qj(n,e=!1){return!n||e?!0:n.isActive("code")||n.isActive("codeBlock")||n.isActive("imageUpload")||!w0(n)}function ez(n,e,t){return!(!t||!n||e&&(br(n.state.selection)||!w0(n)))}function tz(n,e,t=!1,r=!1){const i=Od("highlight",n),s=Qj(n,t),o=Jj(n,e),l=z.useMemo(()=>ez(n,r,i),[n,r,i]);return{highlightInSchema:i,isDisabled:s,isActive:o,shouldShow:l}}const I3=z.forwardRef(({editor:n,node:e,nodePos:t,color:r,text:i,hideWhenUnavailable:s=!1,className:o="",disabled:l,onClick:c,onApplied:f,children:h,style:p,...g},m)=>{const w=qn(n),{isDisabled:v,isActive:E,shouldShow:b}=tz(w,r,l,s),T=z.useCallback(k=>{c==null||c(k),!k.defaultPrevented&&!v&&w&&(Yj(w,r,e,t),f==null||f(r))},[r,w,v,e,t,c,f]),A=z.useMemo(()=>({...p,"--highlight-color":r}),[r,p]);return!b||!w||!w.isEditable?null:K.jsx(Ot,{type:"button",className:o.trim(),disabled:v,"data-style":"ghost","data-active-state":E?"on":"off","data-disabled":v,role:"button",tabIndex:-1,"aria-label":`${r} highlight color`,"aria-pressed":E,onClick:T,style:A,...g,ref:m,children:h||K.jsxs(K.Fragment,{children:[K.jsx("span",{className:"tiptap-button-highlight",style:{"--highlight-color":r}}),i&&K.jsx("span",{className:"tiptap-button-text",children:i})]})})});I3.displayName="ColorHighlightButton";const M3=[{label:"Green",value:"var(--tt-color-highlight-green)",border:"var(--tt-color-highlight-green-contrast)"},{label:"Blue",value:"var(--tt-color-highlight-blue)",border:"var(--tt-color-highlight-blue-contrast)"},{label:"Red",value:"var(--tt-color-highlight-red)",border:"var(--tt-color-highlight-red-contrast)"},{label:"Purple",value:"var(--tt-color-highlight-purple)",border:"var(--tt-color-highlight-purple-contrast)"},{label:"Yellow",value:"var(--tt-color-highlight-yellow)",border:"var(--tt-color-highlight-yellow-contrast)"}],v0=z.forwardRef(({className:n,children:e,...t},r)=>K.jsx(Ot,{type:"button",className:n,"data-style":"ghost","data-appearance":"default",role:"button",tabIndex:-1,"aria-label":"Highlight text",tooltip:"Highlight",ref:r,...t,children:e||K.jsx(m0,{className:"tiptap-button-icon"})}));v0.displayName="ColorHighlightPopoverButton";function D3({editor:n,colors:e=M3,onClose:t}){const r=qn(n),i=z.useRef(null),s=z.useCallback(()=>{r&&(r.chain().focus().unsetMark("highlight").run(),t==null||t())},[r,t]),o=z.useMemo(()=>[...e,{label:"Remove highlight",value:"none"}],[e]),{selectedIndex:l}=Zj({containerRef:i,items:o,orientation:"both",onSelect:c=>{c.value==="none"&&s(),t==null||t()},onClose:t,autoSelectFirstItem:!1});return K.jsxs("div",{ref:i,className:"tiptap-color-highlight-content",tabIndex:0,children:[K.jsx("div",{className:"tiptap-button-group","data-orientation":"horizontal",children:e.map((c,f)=>K.jsx(I3,{editor:r,color:c.value,"aria-label":`${c.label} highlight color`,tabIndex:f===l?0:-1,"data-highlighted":l===f,onClick:t},c.value))}),K.jsx(pa,{}),K.jsx("div",{className:"tiptap-button-group",children:K.jsx(Ot,{onClick:s,"aria-label":"Remove highlight",tabIndex:l===e.length?0:-1,type:"button",role:"menuitem","data-style":"ghost","data-highlighted":l===e.length,children:K.jsx(R3,{className:"tiptap-button-icon"})})})]})}function nz({editor:n,colors:e=M3,hideWhenUnavailable:t=!1,...r}){const i=qn(n),[s,o]=z.useState(!1),[l,c]=z.useState(!1),f=Od("highlight",i);z.useEffect(()=>{if(!i)return;const g=()=>{let m=!1;(!f||!i)&&(m=!0),(i.isActive("code")||i.isActive("codeBlock")||i.isActive("imageUpload"))&&(m=!0),c(m)};return i.on("selectionUpdate",g),i.on("update",g),()=>{i.off("selectionUpdate",g),i.off("update",g)}},[i,f]);const h=(i==null?void 0:i.isActive("highlight"))??!1;return!z.useMemo(()=>!t||!i?!0:!(br(i.state.selection)||!w0(i)),[t,i])||!i||!i.isEditable?null:K.jsxs(O3,{open:s,onOpenChange:o,children:[K.jsx(g0,{asChild:!0,children:K.jsx(v0,{disabled:l,"data-active-state":h?"on":"off","data-disabled":l,"aria-pressed":h,...r})}),K.jsx(y0,{"aria-label":"Highlight colors",children:K.jsx(D3,{editor:i,colors:e,onClose:()=>o(!1)})})]})}const L3=z.memo(({className:n,...e})=>K.jsx("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:K.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 4C21 3.44772 20.5523 3 20 3C19.4477 3 19 3.44772 19 4V11C19 11.7956 18.6839 12.5587 18.1213 13.1213C17.5587 13.6839 16.7956 14 16 14H6.41421L9.70711 10.7071C10.0976 10.3166 10.0976 9.68342 9.70711 9.29289C9.31658 8.90237 8.68342 8.90237 8.29289 9.29289L3.29289 14.2929C2.90237 14.6834 2.90237 15.3166 3.29289 15.7071L8.29289 20.7071C8.68342 21.0976 9.31658 21.0976 9.70711 20.7071C10.0976 20.3166 10.0976 19.6834 9.70711 19.2929L6.41421 16H16C17.3261 16 18.5979 15.4732 19.5355 14.5355C20.4732 13.5979 21 12.3261 21 11V4Z",fill:"currentColor"})}));L3.displayName="CornerDownLeftIcon";const P3=z.memo(({className:n,...e})=>K.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[K.jsx("path",{d:"M14 3C14 2.44772 14.4477 2 15 2H21C21.5523 2 22 2.44772 22 3V9C22 9.55228 21.5523 10 21 10C20.4477 10 20 9.55228 20 9V5.41421L10.7071 14.7071C10.3166 15.0976 9.68342 15.0976 9.29289 14.7071C8.90237 14.3166 8.90237 13.6834 9.29289 13.2929L18.5858 4H15C14.4477 4 14 3.55228 14 3Z",fill:"currentColor"}),K.jsx("path",{d:"M4.29289 7.29289C4.48043 7.10536 4.73478 7 5 7H11C11.5523 7 12 6.55228 12 6C12 5.44772 11.5523 5 11 5H5C4.20435 5 3.44129 5.31607 2.87868 5.87868C2.31607 6.44129 2 7.20435 2 8V19C2 19.7957 2.31607 20.5587 2.87868 21.1213C3.44129 21.6839 4.20435 22 5 22H16C16.7957 22 17.5587 21.6839 18.1213 21.1213C18.6839 20.5587 19 19.7957 19 19V13C19 12.4477 18.5523 12 18 12C17.4477 12 17 12.4477 17 13V19C17 19.2652 16.8946 19.5196 16.7071 19.7071C16.5196 19.8946 16.2652 20 16 20H5C4.73478 20 4.48043 19.8946 4.29289 19.7071C4.10536 19.5196 4 19.2652 4 19V8C4 7.73478 4.10536 7.48043 4.29289 7.29289Z",fill:"currentColor"})]}));P3.displayName="ExternalLinkIcon";const b0=z.memo(({className:n,...e})=>K.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[K.jsx("path",{d:"M16.9958 1.06669C15.4226 1.05302 13.907 1.65779 12.7753 2.75074L12.765 2.76086L11.045 4.47086C10.6534 4.86024 10.6515 5.49341 11.0409 5.88507C11.4303 6.27673 12.0634 6.27858 12.4551 5.88919L14.1697 4.18456C14.9236 3.45893 15.9319 3.05752 16.9784 3.06662C18.0272 3.07573 19.0304 3.49641 19.772 4.23804C20.5137 4.97967 20.9344 5.98292 20.9435 7.03171C20.9526 8.07776 20.5515 9.08563 19.8265 9.83941L16.833 12.8329C16.4274 13.2386 15.9393 13.5524 15.4019 13.7529C14.8645 13.9533 14.2903 14.0359 13.7181 13.9949C13.146 13.9539 12.5894 13.7904 12.0861 13.5154C11.5827 13.2404 11.1444 12.8604 10.8008 12.401C10.47 11.9588 9.84333 11.8685 9.40108 12.1993C8.95883 12.5301 8.86849 13.1568 9.1993 13.599C9.71464 14.288 10.3721 14.858 11.1272 15.2705C11.8822 15.683 12.7171 15.9283 13.5753 15.9898C14.4334 16.0513 15.2948 15.9274 16.1009 15.6267C16.907 15.326 17.639 14.8555 18.2473 14.247L21.2472 11.2471L21.2593 11.2347C22.3523 10.1031 22.9571 8.58751 22.9434 7.01433C22.9297 5.44115 22.2987 3.93628 21.1863 2.82383C20.0738 1.71138 18.5689 1.08036 16.9958 1.06669Z",fill:"currentColor"}),K.jsx("path",{d:"M10.4247 8.0102C9.56657 7.94874 8.70522 8.07256 7.89911 8.37326C7.09305 8.67395 6.36096 9.14458 5.75272 9.753L2.75285 12.7529L2.74067 12.7653C1.64772 13.8969 1.04295 15.4125 1.05662 16.9857C1.07029 18.5589 1.70131 20.0637 2.81376 21.1762C3.9262 22.2886 5.43108 22.9196 7.00426 22.9333C8.57744 22.947 10.0931 22.3422 11.2247 21.2493L11.2371 21.2371L12.9471 19.5271C13.3376 19.1366 13.3376 18.5034 12.9471 18.1129C12.5565 17.7223 11.9234 17.7223 11.5328 18.1129L9.82932 19.8164C9.07555 20.5414 8.06768 20.9425 7.02164 20.9334C5.97285 20.9243 4.9696 20.5036 4.22797 19.762C3.48634 19.0203 3.06566 18.0171 3.05655 16.9683C3.04746 15.9222 3.44851 14.9144 4.17355 14.1606L7.16719 11.167C7.5727 10.7613 8.06071 10.4476 8.59811 10.2471C9.13552 10.0467 9.70976 9.96412 10.2819 10.0051C10.854 10.0461 11.4106 10.2096 11.9139 10.4846C12.4173 10.7596 12.8556 11.1397 13.1992 11.599C13.53 12.0412 14.1567 12.1316 14.5989 11.8007C15.0412 11.4699 15.1315 10.8433 14.8007 10.401C14.2854 9.71205 13.6279 9.14198 12.8729 8.72948C12.1178 8.31697 11.2829 8.07166 10.4247 8.0102Z",fill:"currentColor"})]}));b0.displayName="LinkIcon";const F3=z.memo(({className:n,...e})=>K.jsx("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:K.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 5V4C7 3.17477 7.40255 2.43324 7.91789 1.91789C8.43324 1.40255 9.17477 1 10 1H14C14.8252 1 15.5668 1.40255 16.0821 1.91789C16.5975 2.43324 17 3.17477 17 4V5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H20V20C20 20.8252 19.5975 21.5668 19.0821 22.0821C18.5668 22.5975 17.8252 23 17 23H7C6.17477 23 5.43324 22.5975 4.91789 22.0821C4.40255 21.5668 4 20.8252 4 20V7H3C2.44772 7 2 6.55228 2 6C2 5.44772 2.44772 5 3 5H7ZM9 4C9 3.82523 9.09745 3.56676 9.33211 3.33211C9.56676 3.09745 9.82523 3 10 3H14C14.1748 3 14.4332 3.09745 14.6679 3.33211C14.9025 3.56676 15 3.82523 15 4V5H9V4ZM6 7V20C6 20.1748 6.09745 20.4332 6.33211 20.6679C6.56676 20.9025 6.82523 21 7 21H17C17.1748 21 17.4332 20.9025 17.6679 20.6679C17.9025 20.4332 18 20.1748 18 20V7H6Z",fill:"currentColor"})}));F3.displayName="TrashIcon";const B3=n=>{const{editor:e,onSetLink:t,onLinkActive:r}=n,[i,s]=z.useState("");z.useEffect(()=>{if(!e)return;const{href:c}=e.getAttributes("link");e.isActive("link")&&!i&&(s(c||""),r==null||r())},[e,r,i]),z.useEffect(()=>{if(!e)return;const c=()=>{const{href:f}=e.getAttributes("link");s(f||""),e.isActive("link")&&!i&&(r==null||r())};return e.on("selectionUpdate",c),()=>{e.off("selectionUpdate",c)}},[e,r,i]);const o=z.useCallback(()=>{if(!i||!e)return;const{from:c,to:f}=e.state.selection,h=e.state.doc.textBetween(c,f);e.chain().focus().extendMarkRange("link").insertContent({type:"text",text:h||i,marks:[{type:"link",attrs:{href:i}}]}).run(),t==null||t()},[e,t,i]),l=z.useCallback(()=>{e&&(e.chain().focus().unsetMark("link",{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),s(""))},[e]);return{url:i,setUrl:s,setLink:o,removeLink:l,isActive:(e==null?void 0:e.isActive("link"))||!1}},x0=z.forwardRef(({className:n,children:e,...t},r)=>K.jsx(Ot,{type:"button",className:n,"data-style":"ghost",role:"button",tabIndex:-1,"aria-label":"Link",tooltip:"Link",ref:r,...t,children:e||K.jsx(b0,{className:"tiptap-button-icon"})})),rz=({editor:n})=>{const e=qn(n),t=B3({editor:e});return K.jsx(j3,{...t})},j3=({url:n,setUrl:e,setLink:t,removeLink:r,isActive:i})=>{const s=o=>{o.key==="Enter"&&(o.preventDefault(),t())};return K.jsxs(K.Fragment,{children:[K.jsx("input",{type:"url",placeholder:"Paste a link...",value:n,onChange:o=>e(o.target.value),onKeyDown:s,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",className:"tiptap-input tiptap-input-clamp"}),K.jsx("div",{className:"tiptap-button-group","data-orientation":"horizontal",children:K.jsx(Ot,{type:"button",onClick:t,title:"Apply link",disabled:!n&&!i,"data-style":"ghost",children:K.jsx(L3,{className:"tiptap-button-icon"})})}),K.jsx(pa,{}),K.jsxs("div",{className:"tiptap-button-group","data-orientation":"horizontal",children:[K.jsx(Ot,{type:"button",onClick:()=>window.open(n,"_blank"),title:"Open in new window",disabled:!n&&!i,"data-style":"ghost",children:K.jsx(P3,{className:"tiptap-button-icon"})}),K.jsx(Ot,{type:"button",onClick:r,title:"Remove link",disabled:!n&&!i,"data-style":"ghost",children:K.jsx(F3,{className:"tiptap-button-icon"})})]})]})};function iz({editor:n,hideWhenUnavailable:e=!1,onOpenChange:t,autoOpenOnLinkActive:r=!0,...i}){const s=qn(n),o=Od("link",s),[l,c]=z.useState(!1),p=B3({editor:s,onSetLink:()=>{c(!1)},onLinkActive:()=>c(r)}),g=z.useMemo(()=>{var b,T;return!s||s.isActive("codeBlock")?!0:!((T=(b=s.can()).setLink)!=null&&T.call(b,{href:""}))},[s]),m=z.useMemo(()=>{if(!s)return!1;try{return s.can().setMark("link")}catch{return!1}},[s]),w=(s==null?void 0:s.isActive("link"))??!1,v=z.useCallback(b=>{c(b),t==null||t(b)},[t]);return!z.useMemo(()=>!(!o||!s||e&&(br(s.state.selection)||!m)),[o,e,s,m])||!s||!s.isEditable?null:K.jsxs(O3,{open:l,onOpenChange:v,children:[K.jsx(g0,{asChild:!0,children:K.jsx(x0,{disabled:g,"data-active-state":w?"on":"off","data-disabled":g,...i})}),K.jsx(y0,{children:K.jsx(j3,{...p})})]})}x0.displayName="LinkButton";const z3=z.memo(({className:n,...e})=>K.jsx("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:K.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 2.5C5.17157 2.5 4.5 3.17157 4.5 4V20C4.5 20.8284 5.17157 21.5 6 21.5H15C16.4587 21.5 17.8576 20.9205 18.8891 19.8891C19.9205 18.8576 20.5 17.4587 20.5 16C20.5 14.5413 19.9205 13.1424 18.8891 12.1109C18.6781 11.9 18.4518 11.7079 18.2128 11.5359C19.041 10.5492 19.5 9.29829 19.5 8C19.5 6.54131 18.9205 5.14236 17.8891 4.11091C16.8576 3.07946 15.4587 2.5 14 2.5H6ZM14 10.5C14.663 10.5 15.2989 10.2366 15.7678 9.76777C16.2366 9.29893 16.5 8.66304 16.5 8C16.5 7.33696 16.2366 6.70107 15.7678 6.23223C15.2989 5.76339 14.663 5.5 14 5.5H7.5V10.5H14ZM7.5 18.5V13.5H15C15.663 13.5 16.2989 13.7634 16.7678 14.2322C17.2366 14.7011 17.5 15.337 17.5 16C17.5 16.663 17.2366 17.2989 16.7678 17.7678C16.2989 18.2366 15.663 18.5 15 18.5H7.5Z",fill:"currentColor"})}));z3.displayName="BoldIcon";const H3=z.memo(({className:n,...e})=>K.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[K.jsx("path",{d:"M15.4545 4.2983C15.6192 3.77115 15.3254 3.21028 14.7983 3.04554C14.2712 2.88081 13.7103 3.1746 13.5455 3.70175L8.54554 19.7017C8.38081 20.2289 8.6746 20.7898 9.20175 20.9545C9.72889 21.1192 10.2898 20.8254 10.4545 20.2983L15.4545 4.2983Z",fill:"currentColor"}),K.jsx("path",{d:"M6.70711 7.29289C7.09763 7.68342 7.09763 8.31658 6.70711 8.70711L3.41421 12L6.70711 15.2929C7.09763 15.6834 7.09763 16.3166 6.70711 16.7071C6.31658 17.0976 5.68342 17.0976 5.29289 16.7071L1.29289 12.7071C0.902369 12.3166 0.902369 11.6834 1.29289 11.2929L5.29289 7.29289C5.68342 6.90237 6.31658 6.90237 6.70711 7.29289Z",fill:"currentColor"}),K.jsx("path",{d:"M17.2929 7.29289C17.6834 6.90237 18.3166 6.90237 18.7071 7.29289L22.7071 11.2929C23.0976 11.6834 23.0976 12.3166 22.7071 12.7071L18.7071 16.7071C18.3166 17.0976 17.6834 17.0976 17.2929 16.7071C16.9024 16.3166 16.9024 15.6834 17.2929 15.2929L20.5858 12L17.2929 8.70711C16.9024 8.31658 16.9024 7.68342 17.2929 7.29289Z",fill:"currentColor"})]}));H3.displayName="Code2Icon";const U3=z.memo(({className:n,...e})=>K.jsx("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:K.jsx("path",{d:"M15.0222 3H19C19.5523 3 20 3.44772 20 4C20 4.55228 19.5523 5 19 5H15.693L10.443 19H14C14.5523 19 15 19.4477 15 20C15 20.5523 14.5523 21 14 21H9.02418C9.00802 21.0004 8.99181 21.0004 8.97557 21H5C4.44772 21 4 20.5523 4 20C4 19.4477 4.44772 19 5 19H8.30704L13.557 5H10C9.44772 5 9 4.55228 9 4C9 3.44772 9.44772 3 10 3H14.9782C14.9928 2.99968 15.0075 2.99967 15.0222 3Z",fill:"currentColor"})}));U3.displayName="ItalicIcon";const V3=z.memo(({className:n,...e})=>K.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[K.jsx("path",{d:"M9.00039 3H16.0001C16.5524 3 17.0001 3.44772 17.0001 4C17.0001 4.55229 16.5524 5 16.0001 5H9.00011C8.68006 4.99983 8.36412 5.07648 8.07983 5.22349C7.79555 5.37051 7.55069 5.5836 7.36585 5.84487C7.181 6.10614 7.06155 6.40796 7.01754 6.72497C6.97352 7.04198 7.00623 7.36492 7.11292 7.66667C7.29701 8.18737 7.02414 8.75872 6.50344 8.94281C5.98274 9.1269 5.4114 8.85403 5.2273 8.33333C5.01393 7.72984 4.94851 7.08396 5.03654 6.44994C5.12456 5.81592 5.36346 5.21229 5.73316 4.68974C6.10285 4.1672 6.59256 3.74101 7.16113 3.44698C7.72955 3.15303 8.36047 2.99975 9.00039 3Z",fill:"currentColor"}),K.jsx("path",{d:"M18 13H20C20.5523 13 21 12.5523 21 12C21 11.4477 20.5523 11 20 11H4C3.44772 11 3 11.4477 3 12C3 12.5523 3.44772 13 4 13H14C14.7956 13 15.5587 13.3161 16.1213 13.8787C16.6839 14.4413 17 15.2044 17 16C17 16.7956 16.6839 17.5587 16.1213 18.1213C15.5587 18.6839 14.7956 19 14 19H6C5.44772 19 5 19.4477 5 20C5 20.5523 5.44772 21 6 21H14C15.3261 21 16.5979 20.4732 17.5355 19.5355C18.4732 18.5979 19 17.3261 19 16C19 14.9119 18.6453 13.8604 18 13Z",fill:"currentColor"})]}));V3.displayName="StrikeIcon";const W3=z.memo(({className:n,...e})=>K.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[K.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.29289 7.29289C3.68342 6.90237 4.31658 6.90237 4.70711 7.29289L12.7071 15.2929C13.0976 15.6834 13.0976 16.3166 12.7071 16.7071C12.3166 17.0976 11.6834 17.0976 11.2929 16.7071L3.29289 8.70711C2.90237 8.31658 2.90237 7.68342 3.29289 7.29289Z",fill:"currentColor"}),K.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.7071 7.29289C13.0976 7.68342 13.0976 8.31658 12.7071 8.70711L4.70711 16.7071C4.31658 17.0976 3.68342 17.0976 3.29289 16.7071C2.90237 16.3166 2.90237 15.6834 3.29289 15.2929L11.2929 7.29289C11.6834 6.90237 12.3166 6.90237 12.7071 7.29289Z",fill:"currentColor"}),K.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.4079 14.3995C18.0284 14.0487 18.7506 13.9217 19.4536 14.0397C20.1566 14.1578 20.7977 14.5138 21.2696 15.0481L21.2779 15.0574L21.2778 15.0575C21.7439 15.5988 22 16.2903 22 17C22 18.0823 21.3962 18.8401 20.7744 19.3404C20.194 19.8073 19.4858 20.141 18.9828 20.378C18.9638 20.387 18.9451 20.3958 18.9266 20.4045C18.4473 20.6306 18.2804 20.7817 18.1922 20.918C18.1773 20.9412 18.1619 20.9681 18.1467 21H21C21.5523 21 22 21.4477 22 22C22 22.5523 21.5523 23 21 23H17C16.4477 23 16 22.5523 16 22C16 21.1708 16.1176 20.4431 16.5128 19.832C16.9096 19.2184 17.4928 18.8695 18.0734 18.5956C18.6279 18.334 19.138 18.0901 19.5207 17.7821C19.8838 17.49 20 17.2477 20 17C20 16.7718 19.9176 16.5452 19.7663 16.3672C19.5983 16.1792 19.3712 16.0539 19.1224 16.0121C18.8722 15.9701 18.6152 16.015 18.3942 16.1394C18.1794 16.2628 18.0205 16.4549 17.9422 16.675C17.7572 17.1954 17.1854 17.4673 16.665 17.2822C16.1446 17.0972 15.8728 16.5254 16.0578 16.005C16.2993 15.3259 16.7797 14.7584 17.4039 14.4018L17.4079 14.3995L17.4079 14.3995Z",fill:"currentColor"})]}));W3.displayName="SubscriptIcon";const $3=z.memo(({className:n,...e})=>K.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[K.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.7071 7.29289C13.0976 7.68342 13.0976 8.31658 12.7071 8.70711L4.70711 16.7071C4.31658 17.0976 3.68342 17.0976 3.29289 16.7071C2.90237 16.3166 2.90237 15.6834 3.29289 15.2929L11.2929 7.29289C11.6834 6.90237 12.3166 6.90237 12.7071 7.29289Z",fill:"currentColor"}),K.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.29289 7.29289C3.68342 6.90237 4.31658 6.90237 4.70711 7.29289L12.7071 15.2929C13.0976 15.6834 13.0976 16.3166 12.7071 16.7071C12.3166 17.0976 11.6834 17.0976 11.2929 16.7071L3.29289 8.70711C2.90237 8.31658 2.90237 7.68342 3.29289 7.29289Z",fill:"currentColor"}),K.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.405 1.40657C18.0246 1.05456 18.7463 0.92634 19.4492 1.04344C20.1521 1.16054 20.7933 1.51583 21.2652 2.0497L21.2697 2.05469L21.2696 2.05471C21.7431 2.5975 22 3.28922 22 4.00203C22 5.08579 21.3952 5.84326 20.7727 6.34289C20.1966 6.80531 19.4941 7.13675 18.9941 7.37261C18.9714 7.38332 18.9491 7.39383 18.9273 7.40415C18.4487 7.63034 18.2814 7.78152 18.1927 7.91844C18.1778 7.94155 18.1625 7.96834 18.1473 8.00003H21C21.5523 8.00003 22 8.44774 22 9.00003C22 9.55231 21.5523 10 21 10H17C16.4477 10 16 9.55231 16 9.00003C16 8.17007 16.1183 7.44255 16.5138 6.83161C16.9107 6.21854 17.4934 5.86971 18.0728 5.59591C18.6281 5.33347 19.1376 5.09075 19.5208 4.78316C19.8838 4.49179 20 4.25026 20 4.00203C20 3.77192 19.9178 3.54865 19.7646 3.37182C19.5968 3.18324 19.3696 3.05774 19.1205 3.01625C18.8705 2.97459 18.6137 3.02017 18.3933 3.14533C18.1762 3.26898 18.0191 3.45826 17.9406 3.67557C17.7531 4.19504 17.18 4.46414 16.6605 4.27662C16.141 4.0891 15.8719 3.51596 16.0594 2.99649C16.303 2.3219 16.7817 1.76125 17.4045 1.40689L17.405 1.40657Z",fill:"currentColor"})]}));$3.displayName="SuperscriptIcon";const K3=z.memo(({className:n,...e})=>K.jsx("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:K.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 4C7 3.44772 6.55228 3 6 3C5.44772 3 5 3.44772 5 4V10C5 11.8565 5.7375 13.637 7.05025 14.9497C8.36301 16.2625 10.1435 17 12 17C13.8565 17 15.637 16.2625 16.9497 14.9497C18.2625 13.637 19 11.8565 19 10V4C19 3.44772 18.5523 3 18 3C17.4477 3 17 3.44772 17 4V10C17 11.3261 16.4732 12.5979 15.5355 13.5355C14.5979 14.4732 13.3261 15 12 15C10.6739 15 9.40215 14.4732 8.46447 13.5355C7.52678 12.5979 7 11.3261 7 10V4ZM4 19C3.44772 19 3 19.4477 3 20C3 20.5523 3.44772 21 4 21H20C20.5523 21 21 20.5523 21 20C21 19.4477 20.5523 19 20 19H4Z",fill:"currentColor"})}));K3.displayName="UnderlineIcon";const sz={bold:z3,italic:U3,underline:K3,strike:V3,code:H3,superscript:$3,subscript:W3},oz={bold:"Ctrl-b",italic:"Ctrl-i",underline:"Ctrl-u",strike:"Ctrl-Shift-s",code:"Ctrl-e",superscript:"Ctrl-.",subscript:"Ctrl-,"};function q3(n,e){if(!n)return!1;try{return n.can().toggleMark(e)}catch{return!1}}function az(n,e){return n?n.isActive(e):!1}function lz(n,e){n&&n.chain().focus().toggleMark(e).run()}function uz(n,e,t=!1){return!!(!n||t||n.isActive("codeBlock")||!q3(n,e))}function cz(n){const{editor:e,type:t,hideWhenUnavailable:r,markInSchema:i}=n;return!(!i||!e||r&&(br(e.state.selection)||!q3(e,t)))}function fz(n){return n.charAt(0).toUpperCase()+n.slice(1)}function dz(n,e,t=!1){const r=Od(e,n),i=uz(n,e,t),s=az(n,e),o=sz[e],l=oz[e],c=fz(e);return{markInSchema:r,isDisabled:i,isActive:s,Icon:o,shortcutKey:l,formattedName:c}}const cl=z.forwardRef(({editor:n,type:e,text:t,hideWhenUnavailable:r=!1,className:i="",disabled:s,onClick:o,children:l,...c},f)=>{const h=qn(n),{markInSchema:p,isDisabled:g,isActive:m,Icon:w,shortcutKey:v,formattedName:E}=dz(h,e,s),b=z.useCallback(A=>{o==null||o(A),!A.defaultPrevented&&!g&&h&&lz(h,e)},[o,g,h,e]);return!z.useMemo(()=>cz({editor:h,type:e,hideWhenUnavailable:r,markInSchema:p}),[h,e,r,p])||!h||!h.isEditable?null:K.jsx(Ot,{type:"button",className:i.trim(),disabled:g,"data-style":"ghost","data-active-state":m?"on":"off","data-disabled":g,role:"button",tabIndex:-1,"aria-label":e,"aria-pressed":m,tooltip:E,shortcutKeys:v,onClick:b,...c,ref:f,children:l||K.jsxs(K.Fragment,{children:[K.jsx(w,{className:"tiptap-button-icon"}),t&&K.jsx("span",{className:"tiptap-button-text",children:t})]})})});cl.displayName="MarkButton";const G3=z.memo(({className:n,...e})=>K.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[K.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6C2 5.44772 2.44772 5 3 5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H3C2.44772 7 2 6.55228 2 6Z",fill:"currentColor"}),K.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 12C6 11.4477 6.44772 11 7 11H17C17.5523 11 18 11.4477 18 12C18 12.5523 17.5523 13 17 13H7C6.44772 13 6 12.5523 6 12Z",fill:"currentColor"}),K.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 18C4 17.4477 4.44772 17 5 17H19C19.5523 17 20 17.4477 20 18C20 18.5523 19.5523 19 19 19H5C4.44772 19 4 18.5523 4 18Z",fill:"currentColor"})]}));G3.displayName="AlignCenterIcon";const Z3=z.memo(({className:n,...e})=>K.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[K.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6C2 5.44772 2.44772 5 3 5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H3C2.44772 7 2 6.55228 2 6Z",fill:"currentColor"}),K.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 12C2 11.4477 2.44772 11 3 11H21C21.5523 11 22 11.4477 22 12C22 12.5523 21.5523 13 21 13H3C2.44772 13 2 12.5523 2 12Z",fill:"currentColor"}),K.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 18C2 17.4477 2.44772 17 3 17H21C21.5523 17 22 17.4477 22 18C22 18.5523 21.5523 19 21 19H3C2.44772 19 2 18.5523 2 18Z",fill:"currentColor"})]}));Z3.displayName="AlignJustifyIcon";const X3=z.memo(({className:n,...e})=>K.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[K.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6C2 5.44772 2.44772 5 3 5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H3C2.44772 7 2 6.55228 2 6Z",fill:"currentColor"}),K.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 12C2 11.4477 2.44772 11 3 11H15C15.5523 11 16 11.4477 16 12C16 12.5523 15.5523 13 15 13H3C2.44772 13 2 12.5523 2 12Z",fill:"currentColor"}),K.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 18C2 17.4477 2.44772 17 3 17H17C17.5523 17 18 17.4477 18 18C18 18.5523 17.5523 19 17 19H3C2.44772 19 2 18.5523 2 18Z",fill:"currentColor"})]}));X3.displayName="AlignLeftIcon";const J3=z.memo(({className:n,...e})=>K.jsxs("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[K.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6C2 5.44772 2.44772 5 3 5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H3C2.44772 7 2 6.55228 2 6Z",fill:"currentColor"}),K.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 12C8 11.4477 8.44772 11 9 11H21C21.5523 11 22 11.4477 22 12C22 12.5523 21.5523 13 21 13H9C8.44772 13 8 12.5523 8 12Z",fill:"currentColor"}),K.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 18C6 17.4477 6.44772 17 7 17H21C21.5523 17 22 17.4477 22 18C22 18.5523 21.5523 19 21 19H7C6.44772 19 6 18.5523 6 18Z",fill:"currentColor"})]}));J3.displayName="AlignRightIcon";const hz={left:X3,center:G3,right:J3,justify:Z3},pz={left:"Ctrl-Shift-l",center:"Ctrl-Shift-e",right:"Ctrl-Shift-r",justify:"Ctrl-Shift-j"},mz={left:"Alinhar  esquerda",center:"Centralizar",right:"Alinhar  direita",justify:"Justificar"};function gz(n){return"setTextAlign"in n}function yz(n){if(!n)return!1;const e=n.extensionManager.extensions.some(t=>t.name==="textAlign");return e||console.warn("TextAlign extension is not available. Make sure it is included in your editor configuration."),e}function wz(n,e,t){if(!n||!t)return!1;try{return n.can().setTextAlign(e)}catch{return!1}}function vz(n,e){return n?n.isActive({textAlign:e}):!1}function bz(n,e){if(!n)return!1;const t=n.chain().focus();return gz(t)?t.setTextAlign(e).run():!1}function xz(n,e,t,r=!1){return!!(!n||!e||r||!t)}function Ez(n,e,t){return!(!(n!=null&&n.isEditable)||t&&!e)}function Cz(n,e,t=!1,r=!1){const i=z.useMemo(()=>yz(n),[n]),s=z.useMemo(()=>wz(n,e,i),[n,e,i]),o=xz(n,i,s,t),l=vz(n,e),c=z.useCallback(()=>!i||!n||o?!1:bz(n,e),[i,n,o,e]),f=z.useMemo(()=>Ez(n,s,r),[n,s,r]),h=hz[e],p=pz[e],g=mz[e];return{alignAvailable:i,canAlign:s,isDisabled:o,isActive:l,handleAlignment:c,shouldShow:f,Icon:h,shortcutKey:p,label:g}}const fl=z.forwardRef(({editor:n,align:e,text:t,hideWhenUnavailable:r=!1,className:i="",disabled:s,onClick:o,children:l,...c},f)=>{const h=qn(n),{isDisabled:p,isActive:g,handleAlignment:m,shouldShow:w,Icon:v,shortcutKey:E,label:b}=Cz(h,e,s,r),T=z.useCallback(A=>{o==null||o(A),!A.defaultPrevented&&!s&&m()},[o,s,m]);return!w||!h||!h.isEditable?null:K.jsx(Ot,{type:"button",className:i.trim(),disabled:p,"data-style":"ghost","data-active-state":g?"on":"off","data-disabled":p,role:"button",tabIndex:-1,"aria-label":b,"aria-pressed":g,tooltip:b,shortcutKeys:E,onClick:T,...c,ref:f,children:l||K.jsxs(K.Fragment,{children:[K.jsx(v,{className:"tiptap-button-icon"}),t&&K.jsx("span",{className:"tiptap-button-text",children:t})]})})});fl.displayName="TextAlignButton";const Y3=z.memo(({className:n,...e})=>K.jsx("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:K.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.7071 2.29289C15.3166 1.90237 14.6834 1.90237 14.2929 2.29289C13.9024 2.68342 13.9024 3.31658 14.2929 3.70711L17.5858 7H9.5C7.77609 7 6.12279 7.68482 4.90381 8.90381C3.68482 10.1228 3 11.7761 3 13.5C3 14.3536 3.16813 15.1988 3.49478 15.9874C3.82144 16.7761 4.30023 17.4926 4.90381 18.0962C6.12279 19.3152 7.77609 20 9.5 20H13C13.5523 20 14 19.5523 14 19C14 18.4477 13.5523 18 13 18H9.5C8.30653 18 7.16193 17.5259 6.31802 16.682C5.90016 16.2641 5.56869 15.768 5.34254 15.2221C5.1164 14.6761 5 14.0909 5 13.5C5 12.3065 5.47411 11.1619 6.31802 10.318C7.16193 9.47411 8.30653 9 9.5 9H17.5858L14.2929 12.2929C13.9024 12.6834 13.9024 13.3166 14.2929 13.7071C14.6834 14.0976 15.3166 14.0976 15.7071 13.7071L20.7071 8.70711C21.0976 8.31658 21.0976 7.68342 20.7071 7.29289L15.7071 2.29289Z",fill:"currentColor"})}));Y3.displayName="Redo2Icon";const Q3=z.memo(({className:n,...e})=>K.jsx("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:K.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.70711 3.70711C10.0976 3.31658 10.0976 2.68342 9.70711 2.29289C9.31658 1.90237 8.68342 1.90237 8.29289 2.29289L3.29289 7.29289C2.90237 7.68342 2.90237 8.31658 3.29289 8.70711L8.29289 13.7071C8.68342 14.0976 9.31658 14.0976 9.70711 13.7071C10.0976 13.3166 10.0976 12.6834 9.70711 12.2929L6.41421 9H14.5C15.0909 9 15.6761 9.1164 16.2221 9.34254C16.768 9.56869 17.2641 9.90016 17.682 10.318C18.0998 10.7359 18.4313 11.232 18.6575 11.7779C18.8836 12.3239 19 12.9091 19 13.5C19 14.0909 18.8836 14.6761 18.6575 15.2221C18.4313 15.768 18.0998 16.2641 17.682 16.682C17.2641 17.0998 16.768 17.4313 16.2221 17.6575C15.6761 17.8836 15.0909 18 14.5 18H11C10.4477 18 10 18.4477 10 19C10 19.5523 10.4477 20 11 20H14.5C15.3536 20 16.1988 19.8319 16.9874 19.5052C17.7761 19.1786 18.4926 18.6998 19.0962 18.0962C19.6998 17.4926 20.1786 16.7761 20.5052 15.9874C20.8319 15.1988 21 14.3536 21 13.5C21 12.6464 20.8319 11.8012 20.5052 11.0126C20.1786 10.2239 19.6998 9.50739 19.0962 8.90381C18.4926 8.30022 17.7761 7.82144 16.9874 7.49478C16.1988 7.16813 15.3536 7 14.5 7H6.41421L9.70711 3.70711Z",fill:"currentColor"})}));Q3.displayName="Undo2Icon";const Sz={undo:Q3,redo:Y3},kz={undo:"Ctrl-z",redo:"Ctrl-Shift-z"},Tz={undo:"Desfazer",redo:"Refazer"};function ek(n,e){return n?e==="undo"?n.can().undo():n.can().redo():!1}function Az(n,e){if(!n)return!1;const t=n.chain().focus();return e==="undo"?t.undo().run():t.redo().run()}function Rz(n,e,t=!1){return t?!0:!ek(n,e)}function _z(n,e,t=!1){const r=z.useMemo(()=>ek(n,e),[n,e]),i=Rz(n,e,t),s=z.useCallback(()=>{!n||i||Az(n,e)},[n,e,i]),o=Sz[e],l=Tz[e],c=kz[e];return{canExecute:r,isDisabled:i,handleAction:s,Icon:o,actionLabel:l,shortcutKey:c}}const Gg=z.forwardRef(({editor:n,action:e,text:t,className:r="",disabled:i,onClick:s,children:o,...l},c)=>{const f=qn(n),{isDisabled:h,handleAction:p,Icon:g,actionLabel:m,shortcutKey:w}=_z(f,e,i),v=z.useCallback(E=>{s==null||s(E),!E.defaultPrevented&&!i&&p()},[s,i,p]);return!f||!f.isEditable?null:K.jsx(Ot,{ref:c,type:"button",className:r.trim(),disabled:h,"data-style":"ghost","data-disabled":h,role:"button",tabIndex:-1,"aria-label":m,tooltip:m,shortcutKeys:w,onClick:v,...l,children:o||K.jsxs(K.Fragment,{children:[K.jsx(g,{className:"tiptap-button-icon"}),t&&K.jsx("span",{className:"tiptap-button-text",children:t})]})})});Gg.displayName="UndoRedoButton";const tk=z.memo(({className:n,...e})=>K.jsx("svg",{width:"24",height:"24",className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:K.jsx("path",{d:"M12.7071 5.70711C13.0976 5.31658 13.0976 4.68342 12.7071 4.29289C12.3166 3.90237 11.6834 3.90237 11.2929 4.29289L4.29289 11.2929C3.90237 11.6834 3.90237 12.3166 4.29289 12.7071L11.2929 19.7071C11.6834 20.0976 12.3166 20.0976 12.7071 19.7071C13.0976 19.3166 13.0976 18.6834 12.7071 18.2929L7.41421 13L19 13C19.5523 13 20 12.5523 20 12C20 11.4477 19.5523 11 19 11L7.41421 11L12.7071 5.70711Z",fill:"currentColor"})}));tk.displayName="ArrowLeftIcon";const Y1=768;function Nz(){const[n,e]=z.useState(void 0);return z.useEffect(()=>{const t=window.matchMedia(`(max-width: ${Y1-1}px)`),r=()=>{e(window.innerWidth<Y1)};return t.addEventListener("change",r),e(window.innerWidth<Y1),()=>t.removeEventListener("change",r)},[]),!!n}function nk(){const[n,e]=z.useState({width:0,height:0,offsetTop:0});return z.useEffect(()=>{t();function t(){if(typeof window>"u")return;const i=window.visualViewport;if(!i)return;const{width:s=0,height:o=0,offsetTop:l=0}=i;e(c=>s===c.width&&o===c.height&&l===c.offsetTop?c:{width:s,height:o,offsetTop:l})}const r=window.visualViewport;return r&&(r.addEventListener("resize",t),r.addEventListener("scroll",t)),()=>{r&&(r.removeEventListener("resize",t),r.removeEventListener("scroll",t))}},[]),n}function Oz({editor:n,overlayHeight:e=0,elementRef:t=null}){const{height:r}=nk(),[i,s]=z.useState({x:0,y:0,width:0,height:0}),o=z.useCallback(()=>{const l=(t==null?void 0:t.current)??document.body,{x:c,y:f,width:h,height:p}=l.getBoundingClientRect();s({x:c,y:f,width:h,height:p})},[t]);return z.useEffect(()=>{const l=(t==null?void 0:t.current)??document.body;o();const c=new ResizeObserver(()=>{window.requestAnimationFrame(o)});return c.observe(l),window.addEventListener("scroll",o,{passive:!0}),()=>{c.disconnect(),window.removeEventListener("scroll",o)}},[t,o]),z.useEffect(()=>{(()=>{if(!n)return;const{state:c,view:f}=n;if(!f.hasFocus())return;const{from:h}=c.selection,p=f.coordsAtPos(h);if(r<i.height&&p&&!(r-p.top-e>0)){const m=p.top-r/2;window.scrollTo({top:m,behavior:"smooth"})}})()},[n,e,r,i.height]),i}const Iz=bt.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:n=>{var e;return(e=n.style.color)===null||e===void 0?void 0:e.replace(/['"]+/g,"")},renderHTML:n=>n.color?{style:`color: ${n.color}`}:{}}}}]},addCommands(){return{setColor:n=>({chain:e})=>e().setMark("textStyle",{color:n}).run(),unsetColor:()=>({chain:n})=>n().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}});function rk(n,e,t=void 0){return()=>n.chain().focus()[e](t).run()}function Mz(){const n=["Arial","Times New Roman","Georgia","Garamond","Calibri","Cambria"],[e,t]=z.useState(!1),[r,i]=z.useState("Arial"),{editor:s}=cd(),o=s==null?void 0:s.getAttributes("textStyle");if(z.useEffect(()=>{i((o==null?void 0:o.fontFamily)??"Arial")},[s,n]),z.useEffect(()=>{s==null||s.chain().focus().setFontFamily("Arial").run()},[]),!!s)return K.jsxs(Id,{open:e,onOpenChange:t,children:[K.jsx(Yl,{asChild:!0,children:K.jsxs(Ot,{type:"button","data-style":"ghost",children:[r?n.find(l=>l===r):"Fontes",K.jsx(Xl,{className:"tiptap-button-dropdown-small"})]})}),K.jsx(Ql,{children:n.map(l=>K.jsx(eu,{asChild:!0,children:K.jsx(Ot,{onClick:()=>{rk(s,"setFontFamily",l)(),i(l),t(!1)},"data-style":"ghost",role:"menuitem","data-active-state":r===l?"on":"off",children:l})},l))})]})}function Dz(){const[n,e]=z.useState("16px"),{editor:t}=cd(),r=t==null?void 0:t.getAttributes("textStyle"),i=[12,16,20,24,30,36,48];function s(o){const l=t.getAttributes("heading").level;l&&t.chain().focus().toggleHeading({level:l}).run(),e(o),rk(t,"setFontSize",o)()}if(z.useEffect(()=>{const o=r==null?void 0:r.fontSize;e(o??"16px")},[t,r]),!!t)return K.jsxs(Id,{children:[K.jsx(Yl,{onClick:o=>{o.stopPropagation()},children:K.jsxs(Ot,{type:"button","data-style":"ghost",children:[n,K.jsx(Xl,{className:"tiptap-button-dropdown-small"})]})}),K.jsx(Ql,{children:i.map(o=>K.jsx(eu,{asChild:!0,children:K.jsx(Ot,{onClick:()=>s(`${o}px`),"data-style":"ghost",role:"menuitem","data-active-state":n===`${o}px`?"on":"off",children:`${o}px`})},o))})]})}function Lz(){const{editor:n}=cd();function e(t){console.log("pedirDownloadDocumento FOI CHAMADO "),n==null||n.chain().exportDocx({onCompleteExport:r=>{const i=(t==null?void 0:t.param1)??"arquivo-documento",s=new Blob([r],{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}),o=URL.createObjectURL(s),l=document.createElement("a");l.href=o,l.download=`${i??"arquivo-documento"}.docx`,l.click(),URL.revokeObjectURL(o)}}).run()}return window.pedirDownloadDocumento=e,K.jsx(K.Fragment,{})}const Pz=({onHighlighterClick:n,onLinkClick:e,isMobile:t})=>K.jsxs(K.Fragment,{children:[K.jsx($g,{}),K.jsxs(Hi,{children:[K.jsx(Gg,{action:"undo"}),K.jsx(Gg,{action:"redo"})]}),K.jsx(Ps,{}),K.jsxs(Hi,{children:[K.jsx(Mz,{}),K.jsx(Dz,{})]}),K.jsx(Ps,{}),K.jsxs(Hi,{children:[K.jsx(Nj,{levels:[1,2,3,4]}),K.jsx(Uj,{types:["bulletList","orderedList"]}),K.jsx(A3,{})]}),K.jsx(Ps,{}),K.jsxs(Hi,{children:[K.jsx(cl,{type:"bold"}),K.jsx(cl,{type:"italic"}),K.jsx(cl,{type:"strike"}),K.jsx(cl,{type:"underline"}),t?K.jsx(v0,{onClick:n}):K.jsx(nz,{}),t?K.jsx(x0,{onClick:e}):K.jsx(iz,{})]}),K.jsx(Ps,{}),K.jsxs(Hi,{children:[K.jsx(fl,{align:"left"}),K.jsx(fl,{align:"center"}),K.jsx(fl,{align:"right"}),K.jsx(fl,{align:"justify"})]}),K.jsx(Lz,{})," ",K.jsx($g,{}),t&&K.jsx(Ps,{}),K.jsx(Hi,{})]}),Fz=({type:n,onBack:e})=>K.jsxs(K.Fragment,{children:[K.jsx(Hi,{children:K.jsxs(Ot,{"data-style":"ghost",onClick:e,children:[K.jsx(tk,{className:"tiptap-button-icon"}),n==="highlighter"?K.jsx(m0,{className:"tiptap-button-icon"}):K.jsx(b0,{className:"tiptap-button-icon"})]})}),K.jsx(Ps,{}),n==="highlighter"?K.jsx(D3,{}):K.jsx(rz,{})]});function Bz(){var h;const n=Nz(),e=nk(),[t,r]=z.useState("main"),i=z.useRef(null),s=OR({immediatelyRender:!1,editorProps:{attributes:{autocomplete:"off",autocorrect:"off",autocapitalize:"off","aria-label":"Main content area, start typing to enter text."}},extensions:[B_,W_.configure({types:["heading","paragraph"]}),vN,V_,U_.configure({nested:!0}),gN.configure({multicolor:!0}),z_,hN,wN,yN,sF,oF,iF,Iz,tF,yj.configure({accept:"image/*",maxSize:qg,limit:3,upload:bj,onError:p=>console.error("Upload failed:",p)}),nF,eF.configure({openOnClick:!0}),NP.configure({onCompleteExport:p=>{const g="arquivo-documento",m=new Blob([p],{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}),w=URL.createObjectURL(m),v=document.createElement("a");v.href=w,v.download=`${g}.docx`,v.click(),URL.revokeObjectURL(w)}})],content:"<p><span style='font-family: Arial; font-size: 16px;'>Carregando...</span></p>"}),o=Oz({editor:s,overlayHeight:((h=i.current)==null?void 0:h.getBoundingClientRect().height)??0});z.useEffect(()=>{!n&&t!=="main"&&r("main")},[n,t]);function l(p){console.log("NOVA BUILD DE 18:11"),console.log("a funo inicializarEditor foi chamada!!!"),s.commands.setContent(p.param1)}function c(p){const g=s.getHTML();console.log("PEDIR TEXTO ATUALIZADO FOI CHAMADO "),console.log("properties.param2: ",p.param2),bubble_fn_enviarTextoAtualizado({output1:g,output2:p.param2})}async function f(){console.log("PEDIR COPIAR TEXTO FOI CHAMADO");const p=s.getHTML(),g=new Blob([p],{type:"text/html"}),m=[new ClipboardItem({"text/html":g})];await navigator.clipboard.write(m)}return window.inicializarEditor=l,window.pedirTextoAtualizado=c,window.pedirCopiarTexto=f,K.jsxs(by.Provider,{value:{editor:s},children:[K.jsx(l3,{ref:i,style:n?{bottom:`calc(100% - ${e.height-o.y}px)`}:{},children:t==="main"?K.jsx(Pz,{onHighlighterClick:()=>r("highlighter"),onLinkClick:()=>r("link"),isMobile:n}):K.jsx(Fz,{type:t==="highlighter"?"highlighter":"link",onBack:()=>r("main")})}),K.jsx("div",{className:"content-wrapper",children:K.jsx(xR,{editor:s,role:"presentation",className:"simple-editor-content"})})]})}function jz(n){console.log("OPAAAA ESTE TEXTO TEM QUE APARECER HEIN"),alert("VALOR DO PARAMETRO: "+n+" Valor parmetro organizado: "+properties.param1)}window.testeBubbleForaDoApp=jz;function zz(){return K.jsx(K.Fragment,{children:K.jsx(Bz,{})})}let Hz={data:""},Uz=n=>typeof window=="object"?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||Hz,Vz=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Wz=/\/\*[^]*?\*\/|  +/g,bC=/\n+/g,$i=(n,e)=>{let t="",r="",i="";for(let s in n){let o=n[s];s[0]=="@"?s[1]=="i"?t=s+" "+o+";":r+=s[1]=="f"?$i(o,s):s+"{"+$i(o,s[1]=="k"?"":e)+"}":typeof o=="object"?r+=$i(o,e?e.replace(/([^,])+/g,l=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=$i.p?$i.p(s,o):s+":"+o+";")}return t+(e&&i?e+"{"+i+"}":i)+r},ei={},ik=n=>{if(typeof n=="object"){let e="";for(let t in n)e+=t+ik(n[t]);return e}return n},$z=(n,e,t,r,i)=>{let s=ik(n),o=ei[s]||(ei[s]=(c=>{let f=0,h=11;for(;f<c.length;)h=101*h+c.charCodeAt(f++)>>>0;return"go"+h})(s));if(!ei[o]){let c=s!==n?n:(f=>{let h,p,g=[{}];for(;h=Vz.exec(f.replace(Wz,""));)h[4]?g.shift():h[3]?(p=h[3].replace(bC," ").trim(),g.unshift(g[0][p]=g[0][p]||{})):g[0][h[1]]=h[2].replace(bC," ").trim();return g[0]})(n);ei[o]=$i(i?{["@keyframes "+o]:c}:c,t?"":"."+o)}let l=t&&ei.g?ei.g:null;return t&&(ei.g=ei[o]),((c,f,h,p)=>{p?f.data=f.data.replace(p,c):f.data.indexOf(c)===-1&&(f.data=h?c+f.data:f.data+c)})(ei[o],e,r,l),o},Kz=(n,e,t)=>n.reduce((r,i,s)=>{let o=e[s];if(o&&o.call){let l=o(t),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":$i(l,""):l===!1?"":l}return r+i+(o??"")},"");function Dd(n){let e=this||{},t=n.call?n(e.p):n;return $z(t.unshift?t.raw?Kz(t,[].slice.call(arguments,1),e.p):t.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):t,Uz(e.target),e.g,e.o,e.k)}let sk,Zg,Xg;Dd.bind({g:1});let ci=Dd.bind({k:1});function qz(n,e,t,r){$i.p=e,sk=n,Zg=t,Xg=r}function fs(n,e){let t=this||{};return function(){let r=arguments;function i(s,o){let l=Object.assign({},s),c=l.className||i.className;t.p=Object.assign({theme:Zg&&Zg()},l),t.o=/ *go\d+/.test(c),l.className=Dd.apply(t,r)+(c?" "+c:"");let f=n;return n[0]&&(f=l.as||n,delete l.as),Xg&&f[0]&&Xg(l),sk(f,l)}return i}}var Gz=n=>typeof n=="function",Gf=(n,e)=>Gz(n)?n(e):n,Zz=(()=>{let n=0;return()=>(++n).toString()})(),ok=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),Xz=20,ak=(n,e)=>{switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,Xz)};case 1:return{...n,toasts:n.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:t}=e;return ak(n,{type:n.toasts.find(s=>s.id===t.id)?1:0,toast:t});case 3:let{toastId:r}=e;return{...n,toasts:n.toasts.map(s=>s.id===r||r===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let i=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},Kc=[],Vs={toasts:[],pausedAt:void 0},lo=n=>{Vs=ak(Vs,n),Kc.forEach(e=>{e(Vs)})},Jz={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Yz=(n={})=>{let[e,t]=z.useState(Vs),r=z.useRef(Vs);z.useEffect(()=>(r.current!==Vs&&t(Vs),Kc.push(t),()=>{let s=Kc.indexOf(t);s>-1&&Kc.splice(s,1)}),[]);let i=e.toasts.map(s=>{var o,l,c;return{...n,...n[s.type],...s,removeDelay:s.removeDelay||((o=n[s.type])==null?void 0:o.removeDelay)||(n==null?void 0:n.removeDelay),duration:s.duration||((l=n[s.type])==null?void 0:l.duration)||(n==null?void 0:n.duration)||Jz[s.type],style:{...n.style,...(c=n[s.type])==null?void 0:c.style,...s.style}}});return{...e,toasts:i}},Qz=(n,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...t,id:(t==null?void 0:t.id)||Zz()}),tu=n=>(e,t)=>{let r=Qz(e,n,t);return lo({type:2,toast:r}),r.id},Ln=(n,e)=>tu("blank")(n,e);Ln.error=tu("error");Ln.success=tu("success");Ln.loading=tu("loading");Ln.custom=tu("custom");Ln.dismiss=n=>{lo({type:3,toastId:n})};Ln.remove=n=>lo({type:4,toastId:n});Ln.promise=(n,e,t)=>{let r=Ln.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof n=="function"&&(n=n()),n.then(i=>{let s=e.success?Gf(e.success,i):void 0;return s?Ln.success(s,{id:r,...t,...t==null?void 0:t.success}):Ln.dismiss(r),i}).catch(i=>{let s=e.error?Gf(e.error,i):void 0;s?Ln.error(s,{id:r,...t,...t==null?void 0:t.error}):Ln.dismiss(r)}),n};var eH=(n,e)=>{lo({type:1,toast:{id:n,height:e}})},tH=()=>{lo({type:5,time:Date.now()})},Sl=new Map,nH=1e3,rH=(n,e=nH)=>{if(Sl.has(n))return;let t=setTimeout(()=>{Sl.delete(n),lo({type:4,toastId:n})},e);Sl.set(n,t)},iH=n=>{let{toasts:e,pausedAt:t}=Yz(n);z.useEffect(()=>{if(t)return;let s=Date.now(),o=e.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(s-l.createdAt);if(c<0){l.visible&&Ln.dismiss(l.id);return}return setTimeout(()=>Ln.dismiss(l.id),c)});return()=>{o.forEach(l=>l&&clearTimeout(l))}},[e,t]);let r=z.useCallback(()=>{t&&lo({type:6,time:Date.now()})},[t]),i=z.useCallback((s,o)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:f}=o||{},h=e.filter(m=>(m.position||f)===(s.position||f)&&m.height),p=h.findIndex(m=>m.id===s.id),g=h.filter((m,w)=>w<p&&m.visible).length;return h.filter(m=>m.visible).slice(...l?[g+1]:[0,g]).reduce((m,w)=>m+(w.height||0)+c,0)},[e]);return z.useEffect(()=>{e.forEach(s=>{if(s.dismissed)rH(s.id,s.removeDelay);else{let o=Sl.get(s.id);o&&(clearTimeout(o),Sl.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:eH,startPause:tH,endPause:r,calculateOffset:i}}},sH=ci`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,oH=ci`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,aH=ci`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,lH=fs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${sH} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${oH} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${aH} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,uH=ci`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,cH=fs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${uH} 1s linear infinite;
`,fH=ci`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,dH=ci`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,hH=fs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${fH} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${dH} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,pH=fs("div")`
  position: absolute;
`,mH=fs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,gH=ci`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,yH=fs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${gH} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,wH=({toast:n})=>{let{icon:e,type:t,iconTheme:r}=n;return e!==void 0?typeof e=="string"?z.createElement(yH,null,e):e:t==="blank"?null:z.createElement(mH,null,z.createElement(cH,{...r}),t!=="loading"&&z.createElement(pH,null,t==="error"?z.createElement(lH,{...r}):z.createElement(hH,{...r})))},vH=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,bH=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,xH="0%{opacity:0;} 100%{opacity:1;}",EH="0%{opacity:1;} 100%{opacity:0;}",CH=fs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,SH=fs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,kH=(n,e)=>{let t=n.includes("top")?1:-1,[r,i]=ok()?[xH,EH]:[vH(t),bH(t)];return{animation:e?`${ci(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ci(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},TH=z.memo(({toast:n,position:e,style:t,children:r})=>{let i=n.height?kH(n.position||e||"top-center",n.visible):{opacity:0},s=z.createElement(wH,{toast:n}),o=z.createElement(SH,{...n.ariaProps},Gf(n.message,n));return z.createElement(CH,{className:n.className,style:{...i,...t,...n.style}},typeof r=="function"?r({icon:s,message:o}):z.createElement(z.Fragment,null,s,o))});qz(z.createElement);var AH=({id:n,className:e,style:t,onHeightUpdate:r,children:i})=>{let s=z.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;r(n,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[n,r]);return z.createElement("div",{ref:s,className:e,style:t},i)},RH=(n,e)=>{let t=n.includes("top"),r=t?{top:0}:{bottom:0},i=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:ok()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...r,...i}},_H=Dd`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Pc=16,NH=({reverseOrder:n,position:e="top-center",toastOptions:t,gutter:r,children:i,containerStyle:s,containerClassName:o})=>{let{toasts:l,handlers:c}=iH(t);return z.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Pc,left:Pc,right:Pc,bottom:Pc,pointerEvents:"none",...s},className:o,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(f=>{let h=f.position||e,p=c.calculateOffset(f,{reverseOrder:n,gutter:r,defaultPosition:e}),g=RH(h,p);return z.createElement(AH,{id:f.id,key:f.id,onHeightUpdate:c.updateHeight,className:f.visible?_H:"",style:g},f.type==="custom"?Gf(f.message,f):i?i(f):z.createElement(TH,{toast:f,position:h}))}))};u7.createRoot(document.getElementById("root")).render(K.jsxs(f7,{children:[K.jsx(NH,{}),K.jsx(zz,{})]}));
